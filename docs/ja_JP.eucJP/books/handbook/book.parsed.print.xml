<?xml version="1.0" encoding="euc-jp"?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="ja">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブック</title>

    <author xmlns:xlink="http://www.w3.org/1999/xlink">
      <orgname xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ドキュメンテーションプロジェクト</orgname>
    </author>

    <pubdate xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</pubdate>

    <releaseinfo xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD$</releaseinfo>

    <copyright xmlns:xlink="http://www.w3.org/1999/xlink">
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1995</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1996</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1997</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1998</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">1999</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2000</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2001</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2002</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2003</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2004</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2005</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2006</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2007</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2008</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2009</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2010</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2011</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2012</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2013</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2014</year>
      <year xmlns:xlink="http://www.w3.org/1999/xlink">2015</year>
      <holder xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Documentation Project</holder>
    </copyright>

    
<legalnotice xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="legalnotice">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">Copyright</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistribution and use in source (XML DocBook) and 'compiled'
    forms (XML, HTML, PDF, PostScript, RTF and so forth) with or without
    modification, are permitted provided that the following conditions are
    met:</para>

  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions of source code (XML DocBook) must retain the
        above copyright notice, this list of conditions and the following
        disclaimer as the first lines of this file unmodified.</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Redistributions in compiled form (transformed to other DTDs,
        converted to PDF, PostScript, RTF and other formats) must
        reproduce the above copyright notice, this list of conditions and
        the following disclaimer in the documentation and/or other
        materials provided with the distribution.</para>
    </listitem>
  </orderedlist>

  <important xmlns:xlink="http://www.w3.org/1999/xlink">
    <para xmlns:xlink="http://www.w3.org/1999/xlink">THIS DOCUMENTATION IS PROVIDED BY THE FREEBSD DOCUMENTATION
      PROJECT "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
      BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
      FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL
      THE FREEBSD DOCUMENTATION PROJECT BE LIABLE FOR ANY DIRECT, INDIRECT,
      INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
      BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS
      OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
      ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
      TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE
      USE OF THIS DOCUMENTATION, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
      DAMAGE.</para>
  </important>
</legalnotice>


    <legalnotice xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="trademarks" role="trademarks">
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は
  The FreeBSD Foundation の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">3Com および HomeConnect は
  3Com Corporation の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">3ware は 3ware Inc. の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">ARM は ARM Limited の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Adaptec は Adaptec, Inc. の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Adobe, Acrobat, Acrobat Reader, Flash および
  PostScript は アメリカ合衆国および/またはその他の国の
  Adobe Systems Incorporated の登録商標または商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Apple, AirPort, FireWire,
  iMac, iPhone, iPad,
  Mac, Macintosh, Mac OS,
  Quicktime および TrueType は Apple Inc. の商標で、
  アメリカ合衆国およびその他の国で登録されています。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Android
  は Google Inc. の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Heidelberg, Helvetica,
  Palatino, および Times Roman はアメリカ合衆国およびその他の国における
  Heidelberger Druckmaschinen AG の登録商標または商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">IBM, AIX, OS/2,
  PowerPC, PS/2, S/390 および ThinkPad は
  アメリカ合衆国、その他の国、または両方における
  International Business Machines Corporation の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">IEEE, POSIX および 802 は
  アメリカ合衆国における
  Institute of Electrical and Electronics Engineers, Inc.
  の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Intel, Celeron, Centrino, Core, EtherExpress, i386,
  i486, Itanium, Pentium および Xeon はアメリカ合衆国およびその他の国における
  Intel Corporation またはその関連会社の商標または登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Intuit および Quicken は
  アメリカ合衆国およびその他の国における  Intuit Inc. またはその関連会社の
  商標および/または登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Linux は
  Linus Torvalds の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">LSI Logic, AcceleRAID, eXtremeRAID,
  MegaRAID および Mylex は LSI Logic Corp. の商標または登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft, IntelliMouse, MS-DOS,
  Outlook, Windows, Windows Media および Windows NT は
  アメリカ合衆国および/またはその他の国における
  Microsoft Corporation の登録商標または商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Motif, OSF/1 および UNIX は
  アメリカ合衆国およびその他の国における The Open Group の登録商標で、
  IT DialTone および The Open Group は同じく商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Oracle は
  Oracle Corporation の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">RealNetworks, RealPlayer および
  RealAudio は RealNetworks, Inc. の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Red Hat, RPM は
  アメリカ合衆国およびその他の国における
  Red Hat, Inc. の商標または登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Sun, Sun Microsystems, Java, Java
  Virtual Machine, JDK, JRE, JSP, JVM, Netra, OpenJDK,
  Solaris, StarOffice, SunOS
  および VirtualBox は
  アメリカ合衆国およびその他の国における Sun Microsystems, Inc. の
  商標または登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">MATLAB は
  The MathWorks, Inc. の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">SpeedTouch は Thomson の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">VMware は VMware, Inc. の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica は
  Wolfram Research, Inc. の登録商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">XFree86 は
  The XFree86 Project, Inc. の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Ogg Vorbis および Xiph.Org は
  Xiph.Org の商標です。</para>
      <para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">製造者および販売者が製品を区別するのに
  用いている表示の多くは、商標とされています。
  この文書に登場する表示のうち FreeBSD Project
  がその商標を確認しているものには、その表示に続いて
  <quote xmlns:xlink="http://www.w3.org/1999/xlink">™</quote> または
  <quote xmlns:xlink="http://www.w3.org/1999/xlink">®</quote> 記号がおかれています。</para>
    </legalnotice>

    <abstract xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD へようこそ!
	このハンドブックは
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.4-RELEASE</emphasis>,
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.3-RELEASE</emphasis>
	と <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 10.1-RELEASE</emphasis>
	のインストールおよび、日常での使い方について記述したものです。
	本ハンドブックは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">改編作業中</emphasis>であり、
	さまざまな人々が編集に携わっています。
	いま存在するセクションの中には情報が古くなってしまったため、
	更新作業の必要があるものも含まれています。
	もし、このハンドブックを編集するプロジェクトに協力したいとお考えなら、
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">FreeBSD documentation project メーリングリスト</link> まで電子メールを(英語で)送ってください。
	この文書の最新バージョンは、いつでも
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.jp.FreeBSD.org/">日本国内版の
	FreeBSD ウェブサイト</link> および
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/">FreeBSD ウェブサイト</link>
	から入手できます
	(この文書の以前のバージョンは <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://docs.FreeBSD.org/doc/">http://docs.FreeBSD.org/doc/</uri>
	から入手できます)。
	また、他のさまざまな文書形式、圧縮形式のものが <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">FreeBSD
	  FTP サーバ</link> や数多くの
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors">ミラーサイト</link>
	からダウンロードできます。
	このハンドブックの書籍版 (英語版) は、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com/">FreeBSD
	  Mall</link> から購入できます。また、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/search/index.html">ハンドブックの検索</link>
	を行なうこともできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブック日本語版の作成は FreeBSD
	日本語ドキュメンテーションプロジェクト (FreeBSD doc-jp) がおこなっています。
	ハンドブックの日本語訳に関することは FreeBSD 日本語ドキュメンテーションプロジェクト <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doc-jp@jp.FreeBSD.org</email>
	において日本語で議論されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">文書の日本語訳に関するお問い合わせや、
	文書の原文に関する問い合わせをしたいが英語が得意でないという方は
	FreeBSD 日本語ドキュメンテーションプロジェクト <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doc-jp@jp.FreeBSD.org</email> まで、日本語でコメントをお寄せください。</para>
    </abstract>
  </info>

  
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46055
     $FreeBSD$
-->
<preface xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="book-preface">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">前書き</title>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-audience" renderas="sect1">想定している読者</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">最初の部分は FreeBSD を使い始めた人向けで、FreeBSD
    のインストールの過程を手引きし、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
    の基礎となっている概念や慣習を丁寧に紹介します。
    この部分に取り組むために必要なのは、探究心と、
    紹介された新たな概念を理解する能力だけです。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">その次の、ハンドブックのはるかに大きな部分では、FreeBSD
    システム管理者が興味を抱くあらゆる種類の話題が分かりやすく言及されています。
    一部の章は、その章の前に読んでおくべきことが推奨されており、
    各章の始めの概要で述べられています。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">さらなる情報源の一覧は、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bibliography"/> をご覧ください。</para>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-changes-from3" renderas="sect1">第 3
    版からの変更</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">オンライン版のハンドブックは、FreeBSD
    ドキュメンテーションプロジェクトの献身的なメンバーによる
    10 年以上に渡る作業の頂点に立つものです。
    2004 年に出版された 2 巻組の第 3 版からの主な変更は、次のようなものです。</para>

  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">強力なパフォーマンス解析ツール
	<!-- <xref linkend="dtrace"/> --> DTrace
        に関する情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- <xref linkend="filesystems"/>, -->
	ファイルシステム対応の章が追加されました。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Sun</trademark> の ZFS のような FreeBSD
	ネイティブではないファイルシステムへの対応について説明しています。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- <xref linkend="audit"/>, -->
	セキュリティ監査の章が追加されました。
	FreeBSD における新しい監査のケイパビリティおよびその使用方法について説明しています。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- <xref linkend="virtualization"/>, -->
	仮想化の章が追加されました。os;
	を仮想化ソフトへインストールする方法などを取り上げています。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいインストールユーティリティの
	<application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> を用いた FreeBSD
	のインストール方法を説明する
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall"/> という章が追加されました。</para>
    </listitem>
  </itemizedlist>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-changes-from2" renderas="sect1">第 2 版 (2004)
    からの変更</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">第 3 版は、FreeBSD
    ドキュメンテーションプロジェクトの献身的なメンバーによる
    2 年以上に渡る作業の頂点に立つものです。
    サイズが大きくなったため、印刷版は、2 巻での出版となりました。
    この新たな版における主な変更は、次のようなものです。</para>

  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="config-tuning"/>
	に、ACPI 電源管理、<command xmlns:xlink="http://www.w3.org/1999/xlink">cron</command> システムユーティリティ、
	およびカーネルチューニングオプションに関するより多くの情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="security"/> に、
	Virtual Private Network (VPN)、
	ファイルシステムアクセスコントロールリスト (ACL)、
	およびセキュリティ勧告に関する情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- <xref linkend="mac"/> --> Mandatory Access Control (MAC)
	の章がこの版で追加されました。
	MAC がどのようなもので、
	このメカニズムがどのように FreeBSD
	システムを安全にするかについて説明しています。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks"/> に、
	USB ストレージデバイス、ファイルシステムスナップショット、
	ファイルシステムクォータ、
	ファイルおよびネットワークベースのファイルシステム、
	暗号化されたディスクパーティションに関する情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ppp-and-slip"/> に、
	トラブルシューティングの節が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail"/>, に、
	他のメール転送エージェント、SMTP 認証、UUCP,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">fetchmail</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">procmail</application>
	や他の高度な話題についての情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- <xref linkend="network-servers"/>, -->
	ネットワークサービスの章が、この版で新しく追加されました。
	この章では、<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache HTTP サーバ</application>、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">fptd</application> および
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Samba</application> を用いて
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
	クライアント用にサーバを設定する方法などを取り上げています。
	再構成によりいくつかの節が、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/> から移動してきました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/> に、
	FreeBSD での <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark> デバイスの使用、
	ワイヤレスネットワークの設定、
	Asynchronous Transfer Mode (ATM)
	ネットワークに関する情報が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">本書で使われている専門用語の定義をまとめた用語集が追加されました。</para>
    </listitem>

    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">本書を通じて表および図の表現において数多くの改良がおこなわれました。</para>
    </listitem>
  </itemizedlist>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-changes" renderas="sect1">第 1 版 (2001)
    からの変更</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">第 2 版は、FreeBSD
    ドキュメンテーションプロジェクトの献身的なメンバーによる
    2 年以上に渡る作業の頂点に立つものでした。
    この新たな版における主な変更は、次のようなものでした。</para>

<!-- Talk a little about justification and other stylesheet changes? -->

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">完備した索引が追加されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ASCII キャラクタによる図はすべて画像に置き換えられました
	  (訳注: 日本語版は作業中です)。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">各章に、章に記載されている内容と、
	  読者に期待される予備知識がすぐに分かるように、
	  一定の内容の概要が付け加えられました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">内容は、<quote xmlns:xlink="http://www.w3.org/1999/xlink">始めに</quote>、<quote xmlns:xlink="http://www.w3.org/1999/xlink">システム管理</quote>、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">付録</quote> の 3 つの論理的な部分に再構成されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install"/>
	  は新規ユーザーが文章の内容を理解しやすいように多くのスクリーンショットを入れて完全に書き直されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics"/> には、プロセス、デーモン、
	  シグナルに関する情報が追加されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>
	  には、バイナリパッケージの管理に関する情報が追加されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/> は、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">XFree86</trademark> 4.X 上で <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> や
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  のような近代的なデスクトップテクノロジーを利用することに力点をおいて、
	  完全に書き直されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot"/> が拡張されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks"/> は、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</quote> と <quote xmlns:xlink="http://www.w3.org/1999/xlink">バックアップ</quote> の
	  2 つの章に分かれていたものをまとめて書き直されました。私たちは、
	  この話題は 1 つの章にまとめて示した方が分かりやすいと感じています。
	  RAID (ハードウェアとソフトウェアの両方)
	  に関する節も追加されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="serialcomms"/>
	  は FreeBSD 4.X/5.X 向けに一から再構成されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ppp-and-slip"/>
	  は大幅に更新されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/>
	  に、多くの新しい節が追加されました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail"/>
	  に、<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  の設定についてより多くの情報が加えられました。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="linuxemu"/>
	  には、<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Oracle</trademark></application> や
	  <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mathematica</trademark></application>
	  のインストール情報が加えられました
	  (訳注: 日本語版は作業中です)。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">この第 2 版では、以下の新たな話題が扱われています。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="config-tuning"/></para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
           <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="multimedia"/></para>
	  </listitem>
	</itemizedlist>
      </listitem>
    </itemizedlist>

    <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-overview" renderas="sect1">この文書の構成</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書は 5 部構成になっています。
    第 1 部<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">導入</emphasis>では、
    FreeBSD のインストールと基本的な使い方を扱います。
    各章は順に読むことを想定していますが、
    馴染み深い話題を扱った章は飛ばしてもよいでしょう。
    第 2 部<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">日々の生活</emphasis>では、
    FreeBSD で良く使われる機能について説明します。
    この章とそれに続く章は、順不同に読むことができます。
    各章の始めにはその章が何を扱っていて、
    読者にどんな予備知識が期待されるかを簡潔に述べた概要がおかれています。
    第 3 部<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">システム管理</emphasis>は、
    システム管理に関する話題を扱っています。
    第 4 部<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク通信</emphasis>では、
    ネットワークおよびサーバに関する話題を扱っています。
    第 5 部は参考情報からなる<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">付録</emphasis>です。</para>

  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">

<!-- Part I - Introduction -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="introduction"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">新規ユーザに FreeBSD を紹介します。ここでは、FreeBSD
	  プロジェクトの歴史、目標と開発モデルについて述べています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> を用いた
	  FreeBSD 9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable>
	  以降のシステムのインストール過程を一通りユーザに案内しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> を用いた
	  FreeBSD 8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable> 以降のシステムの
	  インストール過程を一通りユーザに案内しています。
	  また、シリアルコンソール経由でのインストールのような高度な話題もいくらか扱っています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  オペレーティングシステムの基本的なコマンドや機能を扱っています。
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> やその他の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 風のものに馴染んでいたら、
	  この章を飛ばしても構わないでしょう。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の革新的な <quote xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection</quote>
	  および標準的なバイナリパッケージによるサードパーティアプリケーションのインストールについて説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X Window System 全般と、特に FreeBSD 上での
	  X11 の利用について述べています。
	  また、<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> や
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  のような一般的なデスクトップ環境にも触れています。</para>
      </listitem>
    </varlistentry>

<!-- Part II Common Tasks -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="desktop"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Web ブラウザや生産性向上ツールのような一般的なデスクトップアプリケーションをいくつか挙げ、
	  FreeBSD におけるインストール方法を説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="multimedia"/></emphasis></term>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムを音声やビデオ再生に対応させるためにどう設定するかを説明します。
	  また、音声やビデオアプリケーションも例示しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">どのような場合に新たにカーネルを構成する必要があるかを説明し、
	  カスタムカーネルのコンフィグレーション、構築、
	  インストールについて詳しく説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD におけるプリンタの取り扱いを説明しています。たとえば、
	  バナーページ、プリンターの課金、初期設定といったことです。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="linuxemu"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> バイナリ互換機能を説明しています。また、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Oracle</trademark></application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mathematica</trademark></application> といった人気の高い
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> アプリケーションのインストールを詳しく説明しています。</para>
      </listitem>
    </varlistentry>

<!-- Part III - System Administration -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="config-tuning"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システム管理者が FreeBSD
	  システムを調整して最適な性能を引き出すのに利用できるパラメータについて述べています。
	  また、FreeBSD
	  で利用されている様な設定ファイルとそのありかも解説しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の起動プロセスを解説し、
	  このプロセスを設定オプションで制御する方法を説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="security"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムを安全に保つために役立つ
	  Kerberos, IPsec および OpenSSH
	  といった利用可能なさまざまなツールについて説明しています。</para>
      </listitem>
    </varlistentry>

<!--    <varlistentry>
      <term><emphasis><xref linkend="jails"/></emphasis></term>

      <listitem>
	<para>jail フレームワーク、&os; の伝統的な chroot サポートに対する
	  jails の改良点について説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis><xref linkend="mac"/></emphasis></term>

      <listitem>
	<para>Mandatory Access Control (MAC) がどのようなもので、
	  このメカニズムがどのように &os;
	  システムを安全にするかについて説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis><xref linkend="audit"/></emphasis></term>

      <listitem>
	<para>&os; イベント検査が何であるか、
	  どのようにインストールおよび設定を行うか、
	  どのように監査証跡の検査やモニタリングが行われるかについて説明しています。</para>
      </listitem>
    </varlistentry> -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  でストレージメディアやファイルシステムをどう扱うかを説明しています。
	  対象は、物理ディスク、RAID アレイ、
  	  光学およびテープメディア、メモリベースのディスク、
  	  ネットワークファイルシステムなどです。</para>
      </listitem>
    </varlistentry>

<!--
    <varlistentry>
      <term><emphasis><xref linkend="geom"/></emphasis></term>

      <listitem>
	<para>&os; の GEOM フレームワークおよびサポートされている
	  RAID レベルの設定方法について説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis><xref linkend="filesystems"/></emphasis></term>

      <listitem>
	<para>&sun; の Z ファイルシステムのような、
	  ネイティブではないファイルシステムの &os;
	  における対応について検討します。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis><xref
	    linkend="virtualization"/></emphasis></term>

      <listitem>
	<para>仮想化が何を提供するか、&os;
	  でどのように使うことができるかについて説明しています。</para>
      </listitem>
    </varlistentry> -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="l10n"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を英語以外の言語で使う方法を説明しています。
	  システムとアプリケーション両方のレベルの地域化を扱っています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="updating-upgrading"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE, FreeBSD-CURRENT と FreeBSD
	  のリリースの違いを説明します。
	  どんなユーザにとって開発システムを追随するのが有用かを述べ、
	  その方法の概要をまとめています。
	  システムを最新のセキュリティリリースへアップデートする方法についても説明しています。</para>
      </listitem>
    </varlistentry>

<!--    <varlistentry>
      <term><emphasis><xref linkend="dtrace"/></emphasis></term>

      <listitem>
	<para>&sun; の &dtrace;
	  ツールをどのように設定して使うかを説明しています。
	  リアルタイムのシステム解析を行うことで、
	  ダイナミックトレーシングは、
	  パフォーマンスに関する問題の原因を突き止める助けとなります。</para>
      </listitem>
    </varlistentry> -->

<!-- Part IV - Network Communications -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="serialcomms"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムに端末やモデムを、
	  ダイヤルインまたはダイヤルアウト用に接続する方法を説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ppp-and-slip"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で、PPP
	  を使ってリモートシステムに接続する方法を説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">電子メールサーバの構成要素をそれぞれ説明し、
	  最もよく使われているメールサーバソフトウェアである
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> について、
	  単純な設定をとりあげています。</para>
      </listitem>
    </varlistentry>

<!--    <varlistentry>
      <term><emphasis><xref
	    linkend="network-servers"/></emphasis></term>

      <listitem>
	<para>&os; をネットワークファイルシステムサーバ、NIS サーバ、
	  時刻同期サーバに設定するための手順および設定ファイルの例を取り上げています。</para>
      </listitem>
    </varlistentry>

    <varlistentry>
      <term><emphasis><xref linkend="firewalls"/></emphasis></term>

      <listitem>
	<para>ソフトウェアベースのファイアウォールの背景にある哲学についての説明、
	  &os; で利用可能なさまざまなファイアウォールの詳細な設定方法を取り扱っています。</para>
      </listitem>
    </varlistentry> -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">LAN 上の他のコンピュータとインターネット接続の共有、
	  高度なルーティングに関するトピックス、ワイヤレスネットワーク、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark>, ATM, IPv6 等々、
	  ネットワークに関するさまざまな話題を取り扱っています。</para>
      </listitem>
    </varlistentry>

<!-- Part V - Appendices -->

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を収録した CDROM や DVD の様々な入手先や、FreeBSD
	  をダウンロードしてインストールできるインターネット上のサイトを挙げています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bibliography"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">この文書は、
	  もっと詳しい説明が欲しくなるかもしれないさまざまな題目について触れています。
	  参考図書には、このハンドブックで参照している、
	  多くの素晴らしい本が挙げられています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="eresources"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ユーザが FreeBSD について質問したり、
	  技術的な議論に参加できる、
	  多くの公開された場について説明しています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="pgpkeys"/></emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くの FreeBSD 開発者の PGP fingerprint を載せています。</para>
      </listitem>
    </varlistentry>
  </variablelist>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-conv" renderas="sect1">この文書で用いられている表記法</bridgehead>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">一貫して読みやすい文章を提供するために、
      この文書全体では以下の表記法が用いられています。</para>

    <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-conv-typographic" renderas="sect2">書体による表記</bridgehead>

  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">イタリック体</emphasis></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">イタリック体</emphasis> のフォントは、ファイル名、URL,
	  強調表現、技術用語の最初の使用を表すのに使われています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">等幅</literal></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">等幅</literal>フォントは、エラーメッセージ、
	  コマンド、環境変数、ports の名称、ホスト名、ユーザ名、
	  グループ名、デバイスの名称、変数、
	  コードの断片を表すのに使われています。</para>
      </listitem>
    </varlistentry>

    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <term xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">太字</application></term>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">太字</application>のフォントは、
	  アプリケーション、コマンド、キーを表すのに使われています。</para>
      </listitem>
    </varlistentry>
  </variablelist>

<!-- Var list -->
  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-conv-commands" renderas="sect2">ユーザー入力</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">文章の他の部分と区別するため、
    キーは<keycap xmlns:xlink="http://www.w3.org/1999/xlink">太字</keycap>で示されています。
    同時に押すことを意図したキーの組み合わせは、キーの間に
    `<literal xmlns:xlink="http://www.w3.org/1999/xlink">+</literal>' を入れて表されます。たとえば</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">
    <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Del</keycap></keycombo></para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">は、ユーザーが <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>,
    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap> それから <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Del</keycap>
    キーを同時に押すことを意図しています。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">順に押すことを意図したキーは、カンマで区切って表されます。
    たとえば</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">
    <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">X</keycap>
    </keycombo>,
    <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap></keycombo></para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">は、ユーザーが
    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap> キーと <keycap xmlns:xlink="http://www.w3.org/1999/xlink">X</keycap> キーを同時に押してから、
    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap> キーと <keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap>
    キーを同時に押すことを意図しています。</para>

<!-- How to type in key stokes, etc.. -->
  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-conv-examples" renderas="sect2">例</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">C:\&gt;</filename> で始まる例は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>
    コマンドを表しています。特に注釈がなければ、それらのコマンドは最近の
    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> の <quote xmlns:xlink="http://www.w3.org/1999/xlink">コマンドプロンプト</quote>
    環境でも実行できます。</para>

  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">E:\&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tools\fdimage floppies\kern.flp A:</userinput></screen>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> で始まる例は、FreeBSD
    上でスーパーユーザ権限で実行しなければならないコマンドを示しています。
    そのコマンドを入力するには、
    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> としてログインするか、
    通常のアカウントでログインして、スーパーユーザ権限を取得するために
    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使います。</para>

  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=kern.flp of=/dev/fd0</userinput></screen>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> で始まる例は、
    通常のユーザアカウントで実行するべきコマンドを示しています。
    特に断りのない限り、環境変数の設定やその他のシェルコマンドには
    C シェルの文法が使われています。</para>

  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">top</userinput></screen>

  <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface-acknowledgements" renderas="sect1">謝辞</bridgehead>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが手にしている文書は、
    世界中の何百人もの人々の努力の賜物です。
    誤字脱字の修正を送ったのか、文章を丸々投稿したのかによらず、
    すべての貢献が役に立ちました。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの会社が、
    著者らを雇用してフルタイムでこの文書に取り掛かれるようにしたり、
    出版費用を出したりして、この文書を作り上げるのを援助してくれました。
    特に、BSDi (その後
    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.windriver.com">Wind River
      Systems</link> に買収されました)
    は、フルタイムでこの文書の改善作業をするように
    FreeBSD ドキュメンテーションプロジェクトのメンバーを雇用し、それが
    2000 年 3 月の最初の出版 (ISBN 1-57176-241-8) につながりました。
    その後、Wind River Systems は、印刷出力の仕組みを整備し、
    章を追加するために著者を何名か追加で雇用してくれました。この作業は、
    2001 年 11 月の第 2 版の出版 (ISBN 1-57176-303-1) に結実しました。
    2003-2004 年には、ハンドブック第 3 版の出版準備のために <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com">FreeBSD Mall, Inc</link>
    が貢献者を雇用してくれました。</para>

</preface>


  <part xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="getting-started">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">導入</title>

    <partintro xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブックの第 1 部はユーザと
	FreeBSD が初めての管理者向けです。各章の内容は以下のとおりです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の紹介</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールの手順の解説</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の基礎</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で利用できる豊富なサードパーティ製のアプリケーションの
	    インストール方法</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> におけるウィンドウシステム X、
	    およびクリエイティブなデスクトップ環境の設定の詳細の紹介</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このハンドブックでは頻繁にページを飛すことなく前から後へと
	スムーズに読み進めるように、
	後方への参照を極力抑えるようにしています。</para>
    </partintro>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42851
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="introduction">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成、部分的な改訂: </contrib></author>
    </authorgroup>
  </info>

  

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="introduction-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD に興味を持っていただきありがとうございます!
      この章では FreeBSD の歴史、目標、開発モデルなど、
      FreeBSD プロジェクトに関するさまざまな事柄を扱います。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章に書かれている話題は、次のようなものです。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD とその他のオペレーティングシステムとの違い</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトの歴史</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトの目標</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD オープンソース開発モデルの基本的な考え方</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">そして、<quote xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</quote> という名前の由来について</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nutshell">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD へようこそ!</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">4.4BSD-Lite</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、4.4BSD-Lite
      から派生したオペレーティングシステムで、
      Intel (x86 および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Itanium</trademark>), AMD64,
      Sun <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UltraSPARC</trademark> コンピュータに対応しています。
      他のアーキテクチャに対する移植も進行中です。
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="history">FreeBSD の歴史</link>や、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="relnotes">現在のリリースについて</link>も読むことができます。
      プロジェクトへの何らかの貢献 (ソースコード、ハードウェア、
      資金の提供など) について興味があれば、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/contributing/index.html">FreeBSD
	への貢献</link>をご覧ください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="os-overview">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で何ができるの?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には多くの注目すべき機能があります。
	例を挙げれば以下のようになります:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">優先度を動的に調節する機能を備えることで
	    アプリケーションとユーザとの間で円滑かつ公平な
	    コンピュータ資源共有を実現し、
	    特に高い負荷にも耐えることができる堅牢さを備えた
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリエンプティブマルチタスキング</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリエンプティブマルチタスキング</primary>
	    </indexterm>。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの人々が 1 つの FreeBSD
	    システムをさまざまな目的で同時に使うことを可能にする
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">マルチユーザ機能</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">マルチユーザ機能</primary>
	    </indexterm>。
	    これは例えば、プリンタやテープデバイスといったシステムの周辺機器が、
	    そのシステムを利用する全てのユーザだけでなく
	    ネットワーク経由においても自然な形で共有され、
	    さらに重要なシステム資源の使い過ぎを防ぐために
	    個々の資源に対する制限がユーザ単位、
	    グループ単位で設定できる、というようなことを意味しています。
	  </para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">SCTP や DHCP, NFS, NIS, PPP, SLIP, IPsec, IPv6
	    といった業界標準規格のサポートを含んだ堅固な
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP ネットワーキング</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP ネットワーキング</primary>
	    </indexterm>。これによって、FreeBSD
	    マシンが商用サーバと同じように相互に運用でき、
	    NFS (リモートファイルアクセス) や、
	    電子メールサービスのような極めて重要な機能を提供します。
	    また、WWW や FTP, ルーティング、ファイアウォール (セキュリティ)
	    サービスを用いてインターネットと接続できます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション (あるいはユーザ) がお互いに干渉できない
	    ようにする<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">メモリ保護</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">メモリ保護</primary>
	    </indexterm>機能。
	    アプリケーションがクラッシュしても、
	    どのような場合でも他のアプリケーションには影響を与えません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">業界標準である <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">X Window
	    システム</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">X Window System</primary>
	    </indexterm> (X11R7) は、普通の
	    VGA カードやモニタでグラフィカルユーザインタフェース (GUI)
	    を提供し、すべてのソースコードも一緒に提供されます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</secondary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">SCO</secondary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">SVR4</secondary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">BSD/OS</secondary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">NetBSD</secondary>
	    </indexterm>
	    Linux や SCO, SVR4, BSDI, NetBSD
	    用に作られた多くのプログラムとの
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換性</emphasis>。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">何千もの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">すぐに実行可能な</emphasis>
	    アプリケーションが FreeBSD の <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ports</emphasis> や
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">packages</emphasis> コレクションで利用可能です。
	    ここに用意されているものはネットを探し回る必要がありません</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネット上で入手可能な、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">移植が容易な</emphasis>
	    何千ものアプリケーションを追加できます。FreeBSD
	    は最も評判のよい商用の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	    システムとソースコードレベルで互換性があります。
	    このため、ほとんどのアプリケーションは、
	    もしあったとしてもほんの少しの変更でコンパイルすることができます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デマンドページング<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">仮想メモリ</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">仮想メモリ</primary>
	    </indexterm> とそれに <quote xmlns:xlink="http://www.w3.org/1999/xlink">付随の VM/buffer キャッシュ</quote>
	    の設計は、
	    多くのメモリを要求するアプリケーションに対して
	    効率よくメモリを与えるようにする一方で、
	    他のユーザに対しても対話的な応答を維持します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">複数の CPU を搭載したマシンにおける
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">SMP</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">対称型マルチプロセッシング (SMP)</primary>
	    </indexterm>のサポート。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">コンパイラ</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">C</secondary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">コンパイラ</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">C++</secondary>
	    </indexterm>
	    完全な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">C</emphasis> や <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">C++</emphasis>
	    の開発ツール。進んだ研究や開発のための多くの他の言語も
	    ports や packages コレクションで提供されています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システム全体の<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ソースコード</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ソースコード</primary>
	    </indexterm>が提供されているので、
	    要求に合わせて環境を最大限に適合させることができます。
	    真のオープンシステムが利用できるのですから、
	    所有権のある解決方法に締めつけられ、
	    ベンダのなすがままになる必要はありません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">膨大な量の
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">オンラインドキュメント</emphasis>。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">もう書ききれません!</emphasis></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はカリフォルニア大学バークレイ校の Computer Systems
	Research Group (CSRG)<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Computer Systems Research Group (CSRG)</primary></indexterm>
	による 4.4BSD-Lite<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">4.4BSD-Lite</primary>
	</indexterm> リリースを基にしており、
	BSD システムの開発の優れた伝統を守り続けています。
	CSRG による素晴らしい活動に加えて、
	FreeBSD プロジェクトは何千時間もの時間を注ぎ込んで、
	実際の使用の場において最大の性能と信頼性を
	発揮するためにシステムのチューニングをおこなっています。
	多くの大企業が PC オペレーティングシステムの分野で
	実現しようと奮闘しているそのような機能や性能、信頼性を
	FreeBSD は<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">今すぐ</emphasis>提供できます!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの思いつく限りのアプリケーションは、何でも FreeBSD
	で実行できます。ソフトウェア開発からファクトリオートメーション、
	在庫制御から遠く離れた人工衛星のアンテナの方向調整まで;
	商用 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 製品でできることは、FreeBSD でも十分にできるのです!
	また、FreeBSD は世界中の研究センターや大学によって開発される
	文字通り何千もの高品質で、たいていはほとんど無料で利用できる
	アプリケーションによる恩恵を得ることができます。
	商用のアプリケーションも提供されており、
	日々増え続けています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のソースコードは広く提供されているので、
	システムも特別なアプリケーションやプロジェクトに合わせて、
	いくらでもカスタマイズすることができます。
	これは有名な商業ベンダから出ているほとんどのオペレーティング
	システムでは不可能なことです。以下に現在 FreeBSD を
	使っている人々のアプリケーションの例をいくつか上げます:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">インターネットサービス:</emphasis>
	    FreeBSD に組み込まれている 頑強な TCP/IP
	    ネットワーキング機能は次のようなさまざまな
	    インターネットサービスの理想的なプラットフォームになります:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP サーバ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">FTP サーバ</primary>
		</indexterm></para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">World Wide Web サーバ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">web サーバ</primary>
		</indexterm>
		(標準、もしくは安全な [SSL])</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 および IPv6 ルーティング</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</primary>
		</indexterm>と NAT<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">NAT</primary>
		</indexterm>
		(<quote xmlns:xlink="http://www.w3.org/1999/xlink">IP マスカレード</quote>) ゲートウェイ</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">電子メール</primary>
		</indexterm>
		<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary>
		</indexterm>
	      電子メールサーバ</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">USENET<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		  <primary xmlns:xlink="http://www.w3.org/1999/xlink">USENET</primary>
		</indexterm> ニュースおよび電子掲示板システム
	      </para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらにいろいろ…</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を利用すれば、小規模で安価な 386 クラスの
	    PC でも気軽に導入することができますし、
	    事業の成長に合わせてアップグレードした
	    4 つの Xeon プロセッサと
	    RAID ストレージデバイスを備えたシステムでも、
	    全くそのまま使うことができるのです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">教育:</emphasis>
	    あなたは、計算機科学または関連分野の工学を専攻する学生さんですか?
	    オペレーティングシステムやコンピュータアーキテクチャ、
	    ネットワークについて学習するなら、
	    実際に FreeBSD のソースコードを読んで、
	    それがどのように動作するのかを学ぶのが一番よい方法です。
	    また、無料で利用できる CAD や数学、
	    グラフィックデザインのパッケージがいくつもあるので、
	    コンピュータに関わる主要な目的が、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">他</emphasis>のことをすることにある方にも、
	    大いに役立ちます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">研究:</emphasis>
	    システム全体のソースコードが利用できるため、
	    FreeBSD はオペレーティングシステムの研究だけでなく、
	    計算機科学の他の部門においても優れたプラットフォームです。
	    自由に利用できる FreeBSD の特長は、オープンフォーラムで
	    議論される特別なライセンスの同意や制限について心配することなく、
	    離れたグループでもアイディアや開発の共有による共同研究を可能にします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーキング:</emphasis>
	    新しいルータ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ルータ</primary>
	    </indexterm>が必要? ネームサーバ (DNS)<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS サーバ</primary>
	    </indexterm> は?
	    内部のネットワークを人々から守るファイアウォールは?
	    FreeBSD はすみに眠っている使われていない 386 や 486 の PC を簡単に
	    洗練されたパケットフィルタリング機能を持つ高級なルータに
	    変えることができます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">X Window System</primary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">X Window System</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">Accelerated-X</secondary>
	    </indexterm>
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">X Window ワークステーション:</emphasis>
	    自由に利用できる X11 サーバを使うことによって、
	    安価な X 端末として FreeBSD を使うこともできます。
	    X 端末とは違って FreeBSD
	    は多くのアプリケーションをローカルに走らせることもでき、
	    中心のサーバの負荷を軽減することも可能です。
	    FreeBSD は<quote xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス</quote>でもブート可能であり、
	    個々のワークステーションを安価で、
	    容易に管理することさえ可能にします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア開発:</emphasis>
	    基本的な FreeBSD システムには、有名な GNU の
	    C/C++<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">GNU Compiler Collection</primary>
	    </indexterm>
	    コンパイラやデバッガを含んだ完全な開発ツールがついてきます。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、ソースとバイナリの両方とも、CD-ROM または
	anonymous FTP で入手可能です。
	詳しくは <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors"/> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="introduction-nutshell-users">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はどこに使われていますか?</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を利用している大規模サイト</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、以下に代表されるような世界最大クラスの
	IT 会社のデバイスおよび製品のプラットフォームとして利用されています。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.apple.com/">Apple</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Apple</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cisco.com/">Cisco</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Cisco</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.juniper.net/">Juniper</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.netapp.com/">NetApp</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">NetApp</primary></indexterm></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、以下のサイトに代表されるような、
	インターネット上で最大クラスのサイトでも利用されています。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.yahoo.com/">Yahoo!</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Yahoo!</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.yandex.ru/">Yandex</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Yandex</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.apache.org/">Apache</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Apache</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.rambler.ru/">Rambler</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Rambler</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sina.com/">Sina</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Sina</primary>
	    </indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pair.com/">Pair
	      Networks</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Pair Networks</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sony.co.jp/">Sony
	      Japan</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Sony Japan</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.netcraft.com/">Netcraft</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Netcraft</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://signup.netflix.com/openconnect">Netflix</link>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Netflix</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.163.com/">NetEase</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">NetEase</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.weathernews.com/">Weathernews</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Weathernews</primary></indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.telehouse.com/">TELEHOUSE
	      America</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">TELEHOUSE America</primary>
	    </indexterm></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.experts-exchange.com/">Experts
	      Exchange</link><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Experts Exchange</primary>
	    </indexterm></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、この他にもあります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="history">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトについて</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の節では簡単な歴史やプロジェクトの目標、
      開発モデルなど、普段は表にでない話題を提供しています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="intro-history">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 小史</title>

      <!-- <para><emphasis>訳: &a.jp.masaki;, &a.jp.hino;.
      19 December 1996.</emphasis></para> -->

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">386BSD Patchkit</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Hubbard, Jordan</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Williams, Nate</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Grimes, Rod</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクト</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">history</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトは 1993 年の始めに Unofficial
	386BSD Patchkit の最後の 3 人のまとめ役によって、部分的に
	patchkit から派生する形で開始されました。ここでの
	3 人のまとめ役というのは、Nate Williams, Rod Grimes と、
	Jordan Hubbard です。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">386BSD</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">このプロジェクトのもともとの目標は、patchkit
	という仕組みではもう十分に解決できなくなってしまった 386BSD
	の数多くの問題を修正するための、386BSD
	の暫定的なスナップショットを作成することでした。
	こういった経緯を経ているので、
	このプロジェクトの初期の頃の名前は 386BSD 0.5 や
	386BSD 暫定版 (Interim)	でした。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Jolitz, Bill</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">386BSD は、Bill Jolitz が (訳注: バークレイ Net/2
	テープを基に) 作成したオペレーティングシステムです。当時の
	386BSD は、ほぼ一年にわたって放っておかれていた (訳注:
	作者がバグの報告を受けても何もしなかった)
	というひどい状況に苦しんでいました。
	作者の代わりに問題を修正し続けていた  patchkit
	は日を追うごとに不快なまでに膨張してしまっていました。
	このような状況に対して、彼らは暫定的な
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">クリーンアップ</quote> スナップショットを作成することで
	Bill を手助けしようと決めました。しかし、
	この計画は唐突に終了してしまいました。Bill Jolitz が、
	このプロジェクトに対する受け入れ支持を取り下げることを突然決意し、
	なおかつこのプロジェクトの代わりに何をするのかを一切言明しなかったのです。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Greenman, David</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Walnut Creek CDROM</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえ Bill が支持してくれないとしても、
	彼ら 3 人の目標には依然としてやる価値があると考えていたため、
	David Greenman が考案した名称 <quote xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</quote>
	をプロジェクトの名前に採用し、新たなスタートを切りました。
	この時点でのプロジェクトの初期目標は、すでにこのシステム
	(訳注: 386BSD + Patchkit)
	を使っていた利用者たちと相談して決められました。
	プロジェクトが実現に向けて軌道に乗ってきたことが明確になった時点で、
	Jordan は Walnut Creek CDROM
	社に連絡してみました。CD-ROM を使って FreeBSD
	を配布することによって、
	インターネットに容易に接続できない多くの人々が FreeBSD
	を簡単に入手できるようになると考えたからです。Walnut Creek
	CDROM 社は FreeBSD を CD
	で配布するというアイデアを採用してくれたばかりか、
	作業するためのマシンと高速なインターネット回線をプロジェクトに提供してくれました。
	当時は海のものとも山のものともわからなかったこのプロジェクトに対して、Walnut
	Creek CDROM 社が信じられないほどの信頼を寄せてくれたおかげで、
	FreeBSD は短期間のうちにここまで大きく成長したのです。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">4.3BSD-Lite</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Net/2</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">U.C. Berkeley</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">386BSD</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Free Software
	Foundation</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">CD-ROM による最初の配布 (そしてネットでの、
	ベータ版ではない最初の一般向け配布) は FreeBSD 1.0 で、1993 年
	12 月に公開されました。これはカリフォルニア大学バークレイ校の
	4.3BSD-Lite (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Net/2</quote>) を基とし、386BSD や  Free
	Software Foundation からも多くの部分を取り入れたものです。
	これは初めて公開したものとしては十分に成功しました。続けて 1994 年
	5 月に FreeBSD 1.1 を公開し、
	非常に大きな成功を収めました。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Novell</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">U.C. Berkeley</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Net/2</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">AT&amp;T</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この時期、
	あまり予想していなかった嵐が遠くから接近してきていました。
	バークレイ Net/2 テープの法的な位置づけについて、Novell
	社とカリフォルニア大学バークレイ校との間の長期にわたる
	法廷論争において和解が成立したのです。和解の内容は、Net/2
	のかなりの部分が <quote xmlns:xlink="http://www.w3.org/1999/xlink">権利つき (encumbered)</quote>
	コードであり、それは Novell 社の所有物である、
	というバークレイ校側が譲歩したものでした。なお、Novell
	社はこれらの権利を裁判が始まる少し前に  AT&amp;T
	社から買収していました。
	和解における譲歩の見返りにバークレイ校が得たのは、
	4.4BSD-Lite が最終的に発表された時点で、
	4.4BSD-Lite は権利つきではないと公式に宣言されること、
	そしてすべての既存の Net/2 の利用者が 4.4BSD-Lite
	の利用へと移行することが強く奨励されること、という Novell
	社からの <quote xmlns:xlink="http://www.w3.org/1999/xlink">ありがたき天からの恵み</quote> でした (訳注:
	4.4BSD-Lite はその後 Novell
	社のチェックを受けてから公開された)。FreeBSD も Net/2
	を利用していましたから、1994 年の 7 月の終わりまでに Net/2 ベースの
	FreeBSD の出荷を停止するように言われました。ただし、
	このときの合意によって、
	私たちは締め切りまでに一回だけ最後の公開をすることを許されました。
	そしてそれは FreeBSD 1.1.5.1 となりました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それから FreeBSD プロジェクトは、まっさらでかなり不完全な
	4.4BSD-Lite を基に、文字どおり一から再度作り直すという、
	難しくて大変な作業の準備を始めました。<quote xmlns:xlink="http://www.w3.org/1999/xlink">Lite</quote>
	バージョンは、部分的には本当に軽くて、中身がなかったのです。
	起動し、
	動作できるシステムを実際に作り上げるために必要となるプログラムコードのかなりの部分がバークレイ校の
	CSRG (訳注: BSDを作っているグループ) によって
	(いろいろな法的要求のせいで)
	削除されてしまっていたということと、4.4BSD の Intel
	アーキテクチャ対応が元々かなり不完全であったということがその理由です。
	この移行作業は結局 1994 年の 11 月までかかりました。
	そしてその時点で FreeBSD 2.0 をネットと
	CD-ROM (12 月末ごろ) を通じて公開しました。これは、
	かなり粗削りなところが残っていたにもかかわらず、
	かなりの成功を収めました。そしてその後に、より信頼性が高く、
	そしてインストールが簡単になった FreeBSD 2.0.5 が 1995 年の
	6 月に公開されました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これ以降、FreeBSD の安定性、速さや機能は改善され、
	リリースが行われてきました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">長期的な開発プロジェクトは 10.X-CURRENT 開発ブランチ
	(トランク) で続けられ、
	10.X のスナップショットリリースは、開発の進行状況に応じて
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/snapshots">スナップショットサーバ</link>
	より継続して入手できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="goals">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトの目標</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jordan</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Hubbard</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>

      

      <!-- <para><emphasis>訳: &a.jp.kiroh;
      1996 年 9 月 24 日.</emphasis></para> -->

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクト</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">目標</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトの目的は、いかなる用途にも使用でき、
	何ら制限のないソフトウェアを供給することです。
	私たちの多くは、
	コード (そしてプロジェクト) に対してかなりの投資をしてきており、
	これからも多少の無駄はあっても投資を続けて行くつもりです。ただ、
	他の人達にも同じような負担をするように主張しているわけではありません。
	FreeBSD に興味を持っている一人の残らず全ての人々に、
	目的を限定しないでコードを提供すること。これが、
	私たちの最初のそして最大の <quote xmlns:xlink="http://www.w3.org/1999/xlink">任務</quote>
	であると信じています。そうすれば、コードは可能な限り広く使われ、
	最大の恩恵をもたらすことができるでしょう。これが、
	私たちが熱烈に支持しているフリーソフトウェアの最も基本的な目的であると、
	私は信じています。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">GNU General Public License (GPL)</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">GNU Lesser General Public License (LGPL)</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BSD Copyright</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">私たちのソースツリーに含まれるソースのうち、
	GNU 一般公有使用許諾 (GPL) または GNU ライブラリ一般公有使用許諾 (LGPL)
	に従っているものについては、多少制限が課せられています。ただし、
	ソースコードへのアクセスの保証という、
	一般の制限とはいわば逆の制限 (訳注1) です。
	GPL ソフトウェアの商利用には、そのライセンスにある
	複雑な側面が影響してくることがあります。
	ですから私たちは、そうすることが合理的であると判断されたときには、
	より制限の少ない、BSD
	著作権表示を採用しているソフトウェアを選択するようにしています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(訳注1) GPL では、「ソースコードを実際に受け取るか、
	あるいは、希望しさえすればそれを入手することが可能であること」
	を求めています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="development">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の開発モデル</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">浅見</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">賢</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>

      

      <!-- <para><emphasis>訳: &a.asami;.
      1996 年 10 月 31 日.</emphasis></para> -->

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクト</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">開発モデル</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の開発は非常に開かれた、柔軟性のあるプロセスです。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/contributors/article.html">貢献者リスト
	</link>を見ていただければわかるとおり、
	FreeBSD は文字通り世界中の何百という人々の努力によって開発されています。
	FreeBSD の開発環境は、
	この何百という開発者がインターネット経由で共同作業できるようになっているのです。
	新しい開発者はいつでも大歓迎ですので、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers">FreeBSD technical discussions メーリングリスト</link>
	にメールを送ってください。
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-announce">FreeBSD announcements メーリングリスト</link> もありますので、他の FreeBSD
	ユーザに自分のやっていることを宣伝したい時にはどうぞ使ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あと、FreeBSD プロジェクトとその開発プロセスについて、
	どなたにも知っていていただきたいのは以下のようなことです。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">SVN リポジトリ<anchor xml:id="development-cvs-repository"/></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">
	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">CVS</primary>
	      </indexterm>

	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">CVS リポジトリ</primary>
	      </indexterm>

	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">Concurrent Versions System</primary>
		<see xmlns:xlink="http://www.w3.org/1999/xlink">CVS</see>
	      </indexterm>

	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</primary>
	      </indexterm>

	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion リポジトリ</primary>
	      </indexterm>

	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">SVN</primary>
		<see xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</see>
	      </indexterm>
	      長年にわたり FreeBSD のソースツリーは
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.nongnu.org/cvs/">CVS</link>
	      (Concurrent Versions System) によってメンテナンスされてきました。
	      CVS はソースコード管理用のフリーソフトウェアで、
	      FreeBSD のリリースにも含まれています。
	      2008 年 6 月、プロジェクトはソースコード管理のシステムを <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://subversion.tigris.org">SVN</link>
	      (Subversion) に移行しました。
	      ソースツリーの急速な増加や、
	      これまでに蓄積された膨大な量の履歴によって、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">CVS</application>
	      の持つ技術的な限界が明かになってきたためです。
	      ドキュメンテーションプロジェクトと
	      Ports Collection リポジトリも、それぞれ
	      2012 年 5 月と 7 月に
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">CVS</application> から
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">SVN</application> へと移行しました。
	      FreeBSD <literal xmlns:xlink="http://www.w3.org/1999/xlink">src/</literal> リポジトリを取得するための情報は
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="synching">
		ソースツリーの同期</link> の章を、FreeBSD
	      Ports Collection を取得するための詳細については
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-using">Ports Collection の利用</link>
	      の章をご覧ください。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">ソースツリー管理者<anchor xml:id="development-committers"/></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><firstterm xmlns:xlink="http://www.w3.org/1999/xlink">コミッター (committers)</firstterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">コミッター</primary></indexterm> は
	      Subversion ツリーへの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">書き込み権限</emphasis>を持っている人、
	      FreeBSD のソースに変更を加えることができる人です
	      (リポジトリに変更を加えるには、ソースをコントロールする
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">commit</command> というコマンドを使うので、
	      これらの人々は英語では <quote xmlns:xlink="http://www.w3.org/1999/xlink">committers</quote>
	      と呼ばれます)。
	      開発者にコードを送って見てもらうのに一番いい方法は
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使うことです。
	      もし、何か問題があって <command xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</command>
	      が使えないなら FreeBSD committer's メーリングリスト
	      にメールを送っていただいても構いません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD コアチーム<anchor xml:id="development-core"/></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><firstterm xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD コアチーム</firstterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">コアチーム</primary>
	      </indexterm>は
	      FreeBSD プロジェクトが会社だとすると取締役会にあたるものです。
	      コアチームとして一番重要な役割は
	      FreeBSD プロジェクトが全体としてよい方向に向かっていることを確認することです。
	      責任感あふれる開発者を上記のソースツリー管理者として招くこと、
	      また仕事上の都合などでコアチームをやめた人たちの後任を見つけることもコアチームの役割です。
	      現在のコアチームは FreeBSD 開発者 (committer) の中から
	      2014 年 7 月に選挙によって選出されました。
	      コアチームを選出するための選挙は、2 年ごとに行なわれています。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">コアチームのうち何人かは特定の担当分野を持っており、
	      システムのうち一部に特に重点をおいて面倒を見ています。
	      FreeBSD 開発者と担当分野の完全なリストは<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/contributors/article.html">
		コントリビュータのリスト</link>をご覧ください。</para>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">忘れてほしくないのは、
		コアチームのほとんどは FreeBSD に対してボランティアの立場であり、
		FreeBSD プロジェクトからは何ら金銭的な支援を受けていない、
		ということです。ですから、
		ここでの<quote xmlns:xlink="http://www.w3.org/1999/xlink">責任</quote>は
		<quote xmlns:xlink="http://www.w3.org/1999/xlink">保証されたサポート</quote>ではありません。
		そういう意味で、上記の<quote xmlns:xlink="http://www.w3.org/1999/xlink">取締役会</quote>
		という例えはあまりよくないかもしれません。むしろ、FreeBSD
		のために人生を棒に振ってしまった人の集まりといった方が正しいかも…。</para>
	    </note>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">その他のコントリビュータ</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">最後になりますが、
	      もっとも重要で多数をしめる開発者はフィードバックやバグフィクスをどんどん送ってくれるユーザ自身です。
	      FreeBSD の開発に関わっていきたいという人は、
	      議論の場である <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers">FreeBSD technical discussions メーリングリスト</link> に参加するとよいでしょう。
	      FreeBSD 関連メーリングリストに関する詳細は、
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="eresources"/> をご覧ください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citetitle xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/contributors/article.html">
		FreeBSD への貢献者リスト</link></citetitle><indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">コントリビュータ</primary></indexterm>
	      は日に日に長くなっています。
	      あなたも今日、何か送ることからはじめてみませんか?</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もちろん FreeBSD に貢献するには、
	      コードを書くほかにもいろいろな方法があります。
	      助けが求められている分野については、
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/index.html">
		FreeBSD プロジェクトのウェブサイト</link>をご覧ください。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ひとことで言うと、FreeBSD
	の開発組織はゆるやかな同心円状になっています。
	ともすると中央集権的に見えがちなこの組織は、
	FreeBSD の<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ</emphasis>がきちんと管理されたコードベースを
	容易に追いかけられるようにデザインされているもので、
	貢献したいという人を締め出す意図は全くありません!
	私たちの目標は安定したオペレーティングシステムと
	簡単にインストールして使うことのできる
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">アプリケーション</link>を提供することです。
	この方法は、それを達成するために非常にうまくはたらきます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これから FreeBSD の開発にたずさわろうという人に、
	私たちが望むことはただ一つです。
	FreeBSD の成功を継続的なものにするために、
	現在の開発者と同じような情熱を持って接してください!</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="relnotes">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製プログラム</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では基本配布セットに加え、
	移植されたソフトウェア集として数千の人気の高いプログラムを提供しています。
	この文書を書いている時点で 24,000
	以上の ports (移植ソフトウェア) が存在します。
	ports には http サーバから、ゲーム、言語、
	エディタまでありとあらゆるものが含まれています。
	ports はオリジナルソースに対する
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">差分</quote>という形で表現されており、
	Ports Collection 全体でも 500 MB 程度にしかなりません。
	ports をコンパイルするには、
	インストールしたいと思っているプログラムのディレクトリに移動し、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command> とすると、
	あとはすべてシステムがやってくれます。
	どの ports もオリジナルの配布セットを動的に取ってくるので、
	ディスクは構築したいと思っている
	ports の分だけを準備しておけば十分です。
	ほとんどの ports は、すでにコンパイルされた状態で
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">package</quote> として提供されており、
	ソースコードからコンパイルしたくない場合、これを使うと
	(<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg install</command>
	というコマンドで) 簡単にインストールできます。
	package と ports に関する詳細は、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメント</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最近の FreeBSD では、システムの最初のセットアップ時に、
	インストーラ (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> または
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のどちらでも)
	上で、ドキュメントを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/freebsd</filename>
	以下にインストールすることを選択できます。
	システムのインストール後でも、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="doc-ports-install-package"/> に記述されている
	package を使うことで、いつでもドキュメントをインストールできます。
	これらのローカルにインストールされたドキュメントは、HTML
	ブラウザを使って以下の URL から参照できます。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブック (英文オリジナル)</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="file://localhost/usr/local/share/doc/freebsd/handbook/index.html"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/freebsd/handbook/index.html</filename></link></para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD に関する FAQ (英文オリジナル)</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="file://localhost/usr/local/share/doc/freebsd/faq/index.html"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/freebsd/faq/index.html</filename></link></para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/">http://www.FreeBSD.org/</uri>
	にはマスタ (かなり頻繁に更新されます) がありますので、
	こちらも参照してください。</para>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46774
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="bsdinstall">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストール (9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> 以降の場合)</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname>
	</personname>

	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成、部分的に書き直し: </contrib>
      </author>
    </authorgroup>
<!--
    <authorgroup>
      <author>
	<personname>
	  <firstname>Randy</firstname>
	  <surname>Pratt</surname>
	</personname>
	<contrib>sysinstall のウォークスルー、スクリーンショット、
	  およびその他原稿: </contrib>
      </author>
    </authorgroup>-->

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Gavin</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Atkinson</surname>
	</personname>

	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall に向けた改訂: </contrib>
      </author>

      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Warren</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Block</surname>
	</personname>
      </author>
    </authorgroup>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Allan</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Jude</surname>
	</personname>

	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">root-on-ZFS に向けた改訂: </contrib>
      </author>
    </authorgroup>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.0-RELEASE から、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> と呼ばれる、
      テキストベースの使いやすいインストールプログラムが
      FreeBSD に用意されました。
      この章では、<application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> の使い方について説明します。
      FreeBSD 8.x で用いられるインストーラ
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> の利用については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install"/> で説明しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章で記載されているインストールの手順は、
      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">i386</trademark> および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AMD64</acronym> アーキテクチャを対象にしています。
      必要に応じて、他のプラットフォーム特有の手順についても明記しています。
      インストーラとこの文書で記載している内容には、
      いくらかズレがあることがありますので、
      この章を正確で忠実な手順書としてではなく、
      一般的なガイドとしてご利用ください。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">グラフィカルなインストーラで
	FreeBSD をインストールしたいと考えているユーザは、
	PC-BSD プロジェクトのインストーラである
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pc-sysinstall</application>
	に興味を持たれるかもしれません。
	このインストーラは、グラフィカルなデスクトップ (PC-BSD)
	や、コマンドラインの FreeBSD のインストールに利用できます。
	詳細については、PC-BSD のユーザハンドブック <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.pcbsd.org/index.php/PC-BSD%C2%AE_Users_Handbook/10.1">http://wiki.pcbsd.org/index.php/PC-BSD%C2%AE_Users_Handbook/10.1</link>) をご覧ください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">最小ハードウェア要件、および FreeBSD
	  が対応しているアーキテクチャについて。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD インストールメディアの作り方。</para>
      </listitem>

<!-- WB: verify this, including GPT partition notation (ada0p2)
      <listitem>
	<para>&os; がハードディスクをどのように分割し、参照するか。</para>
      </listitem> -->

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application>
	  をどのように起動するか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application>
	  が聞いてくる質問がどのような意味であり、
	  またどのように答えれば良いか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールに失敗した時の問題の解決方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールを確定する前に、
	  FreeBSD の live 版へアクセスする方法。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを確認して下さい。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールしようとしているバージョンに付属しているサポートハードウェア一覧を読み、
	  システムのハードウェアがサポートされているかどうかを確認して下さい。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-hardware">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">最小ハードウェア要件</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールするシステムのハードウェア要件は、
      FreeBSD のバージョンやハードウェアのアーキテクチャによって異なります。
      FreeBSD
      の各リリースが対応しているハードウェアアーキテクチャやデバイスの一覧は、
      FreeBSD ウェブサイトのリリース情報のページ (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">http://www.FreeBSD.org/ja/releases/index.html</link>)
      にまとめられています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の最小のインストールでは、
      少なくとも 64 MB の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym>、
      および 1.5 GB のハードディスクの空き容量が必要です。
      しかしならが、これは <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">最小</emphasis> のインストールであり、
      自由に使える領域はほとんどありません。
      必要となる RAM は、使用目的によります。
      ある目的に特化された FreeBSD システムは、
      128MB の RAM で動作できる可能性がありますが、
      デスクトップ用途のシステムでは、少なくとも 4 GB の
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym> が必要となります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">各アーキテクチャごとに必要とされるプロセッサの要件は以下の通りです。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">amd64</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップおよびラップトップで最も一般的なプロセッサです。
	    このアーキテクチャを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">x86-64</acronym>
	    と呼ぶベンダもあります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">amd64 プロセッサのベンダは 2 つあります。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">Intel64</acronym> クラスのプロセッサを製造する <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark>
	    と <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AMD64</acronym> を製造する AMD です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">amd64 互換のプロセッサの例は、
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">AMD Athlon</trademark>64, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">AMD Opteron</trademark>, 
	    マルチコアの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Xeon</trademark> および 
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Core</trademark> 2 以降のプロセッサです。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
      	<term xmlns:xlink="http://www.w3.org/1999/xlink">i386</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">32 ビットの X86 アーキテクチャです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">浮動小数点演算ユニットを持つ
	    i386 互換のほとんどのプロセッサに対応しています。
	    486 以上のすべての <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> プロセッサに対応しています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、Physical Address Extensions (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PAE</acronym>)
	    に対応した <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> でこの機能を利用可能です。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PAE</acronym> 機能を有効にしたカーネルでは、
	    4 ギガバイト以上のメモリを認識し、システムが利用できます。
	    この機能は、FreeBSD
	    のデバイスドライバや他の機能に制限を課してしまいます。
	    詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pae</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を参照してください。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ia64</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">現在 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Itanium</trademark> および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Itanium</trademark> 2 プロセッサに対応しています。
	    対応しているチップセットは、HP zx1, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark>
	    460GX および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> E8870 です。
	    どちらのプロセッサもユニプロセッサ
	    (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">UP</acronym>) および対称マルチプロセッサ
	    (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym>) の設定に対応しています。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">pc98</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">i386 互換のプロセッサである 80486, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Pentium</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Pentium</trademark> Pro
	    および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Pentium</trademark> II を搭載しているほとんどすべての
	    NEC PC-9801/9821 シリーズに対応しています。
	    AMD, Cyrix, IBM および IDT によるすべての
	    i386 互換のプロセッサに対応しています。
	    NEC PC-9801 シリーズに互換の EPSON PC-386/486/586
	    シリーズに対応しています。
	    NEC FC-9801/9821 および NEC SV-98 シリーズに対応しています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ハイレゾリューションモードには対応していません。
	    NEC PC-98XA/XL/RL/XL^2 および NEC PC-H98 シリーズには、
	    ノーマル (PC-9801 互換) モードでのみ対応しています。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym> に関連した FreeBSD の機能には対応していません。
	    PC-H98, SV-H98 および FC-H98 シリーズで使われている
	    New Extend Standard Architecture (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NESA</acronym>)
	    バスには対応していません。 </para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">powerpc</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> 内蔵のすべての
	    New World <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ROM</acronym> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Apple</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac</trademark>
	    システムに対応しています。
	    複数の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> を持つコンピュータは
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym> に対応しています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">32-bit カーネルは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym> の最初の
	    2 GB だけを利用できます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">sparc64</term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/sparc64
	    が対応しているハードウェアの一覧については、
	    FreeBSD/sparc64 プロジェクト (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/platforms/sparc.html">http://www.freebsd.org/ja/platforms/sparc.html</link>)
	    をご覧ください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">複数のプロセッサを搭載するすべてのシステムにおいて、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym> に対応しています。現時点では、
	    他のオペレーティングシステムとディスクの共有ができないので、
	    FreeBSD/sparc64 専用のディスクが必要です。</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-pre">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール前に行う作業</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムが FreeBSD
      のインストールにおける最小ハードウェア要件を満たしていることを確認したら、
      インストールファイルをダウンロードして、
      インストール用のメディアを用意する必要があります。
      その前に、以下のチェックリストを確認して、
      システムをインストールする準備ができていることを確認してください。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">重要なデータのバックアップ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムをインストールする前に、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">常に</emphasis>
	  価値のあるすべてのデータを最初にバックアップしてください。
	  インストールしようとしているシステムにはバックをとらないでください。
	  そのかわり、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> ドライブ、
	  ネットワーク上の他のシステム、
	  もしくはオンラインのバックアップサービスといったリムーバルディスクにデータを保存してください。
	  インストールを始める前に、バックアップを調べて、
	  必要なすべてのファイルがバックアップに含まれていることを確認してください。
	  インストーラがシステムのディスクをフォーマットしてしまうと、
	  ディスクに保存されていたすべてのデータは失われます。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールする場所の決定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールするオペレーティングシステムが FreeBSD のみであれば、
	  このステップは飛ばすことができます。
	  しかし、ディスクに FreeBSD と
	  他のオペレーティングシステムを共存させる必要がある場合には、FreeBSD
	  が利用するディスクおよびパーティションを決める必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">i386 および amd64 アーキテクチャでは、
	  二つのパーティションスキームのどちらかを使って、
	  ハードディスクを複数の塊に分割することができます。
	  伝統的な <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">Master Boot Record</firstterm>
	  (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym>) では、
	  ディスク 1 台あたり最大 4 つの
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">プライマリパーティション</firstterm>
	  をパーティションテーブルに持つことができます
	  歴史的な理由により、FreeBSD では、これらのパーティションのことを
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">スライス</firstterm> と呼びます。
	  プライマリパーティションの 1 つに、
	  複数の <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">論理パーティション</firstterm> を含む
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">拡張パーティション</firstterm> を作成できます。
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">GUID Partition Table</firstterm>
	  (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym>) は、
	  ディスクをパーティションに分ける簡単で新しい方法です。
	  一般的な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> の実装では、
	  1 つのディスクに 128 個までのパーティションの作成が可能であり、
	  論理パーティションは必要ありません。</para>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> XP のような古いオペレーティングシステムは、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> パーティションと互換性がありません。
	    FreeBSD をこのようなオペレーティングシステムとディスク上で共存させる場合には、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym>
	    パーティションテーブルを使う必要があります。</para>
	</warning>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のブートローダは、プライマリまたは
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> パーティションのどちらかを必要とします。
	  ディスク上のプライマリ、もしくは
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> パーティションがすべて使われているのであれば、
	  そのひとつを FreeBSD のために開放してください。
	  ディスクにあるデータを消去せずにパーティションを作成するには、
	  パーティションサイズを変更するツールを使って今あるパーティションのサイズを小さくし、
	  空いたスペースに新しいパーティションを作成してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションサイズを変更するフリーや商用のツールは、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/List_of_disk_partitioning_software">http://en.wikipedia.org/wiki/List_of_disk_partitioning_software</link>
	  にまとめられています。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GParted Live</application> (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://gparted.sourceforge.net/livecd.php">http://gparted.sourceforge.net/livecd.php</link>)
	  は、<application xmlns:xlink="http://www.w3.org/1999/xlink">GParted</application>
	  パーティションエディタを含む完全なライブ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> です。
	  多くの Linux Live <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> ディストリビューションでも
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GParted</application> を利用できます。</para>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクパーティションを縮小するユーティリティは、
	    適切に用いるとパーティション用の空き容量を新しく安全に作成できます。
	    すでにあるパーティションを間違って選択してしまう可能性があるので、
	    ディスクのパーティションを変更する前に、
	    必ず重要なデータのバックアップをとり、
	    バックアップが正しくとれていることを検証してください。</para>
	</warning>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクパーティションごとに異なるオペレーティングシステムをインストールすることで、
	  一つのコンピュータに複数のオペレーティングシステムをインストールできます。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/virtualization.html">仮想化技術</link>
	  を用いると、ディスクパーティションを変更することなく、
	  複数のオペレーティングシステムを同時に起動できます。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク情報の収集</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストール方法によっては、ネットワークに接続し、
	  インストールファイルをダウンロードする必要があります。
	  インストールする方法に関わらず、インストール後に、
	  インストーラはシステムのネットワークインタフェースの設定をする機会を提供します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークに <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバがあると、
	  自動的にネットワークの設定情報を取得できます。
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> を利用できない環境では、
	  システムの以下のネットワーク情報について、
	  システム管理者かプロバイダにネットワーク情報を問い合わせる必要があります。</para>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-collect-network-information">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">必要となるネットワーク情報</title>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> アドレス</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">サブネットマスク</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトゲートウェイの
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> アドレス</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークのドメイン名</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym>
	      サーバの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> アドレス</para>
	  </listitem>
	</orderedlist>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Errata の確認</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトでは FreeBSD
	  の各リリースができる限り安定するよう努力していますが、
	  時々バグが発生してしまうことがあります。極まれに、
	  発生したバグがインストールプロセスに影響を与えることがあります。
	  これらの問題は発見され解決されると、
	  FreeBSD のウェブサイトの FreeBSD Errata (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/releases/10.1R/errata.html">http://www.freebsd.org/releases/10.1R/errata.html</link>)
	  に記載されます。
	  インストールに影響するような既知の問題が無いことを、
	  インストールする前に Errata で確認してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのリリースに関する情報や Errata は、FreeBSD のウェブサイトの
	  リリース情報の項 (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">http://www.freebsd.org/ja/releases/index.html</link>)
	  で確認できます。</para>
      </step>
    </procedure>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-installation-media">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールメディアの準備</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストーラは、
	他のオペレーティングシステムで実行できるようなプログラムではありません。
	そのかわり、FreeBSD インストールファイルをダウンロードしたら、
	ファイルタイプやサイズに合わせてメディア
	(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>,
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>)
	に焼いてください。そして、挿入したメディアからインストールするように、
	システムを起動してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストールファイルは <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/where.html#download">www.freebsd.org/ja/where.html#download</link>
	から入手できます。
	各インストールファイルの名前は、FreeBSD
	のリリースバージョンおよびアーキテクチャ、ファイルタイプからなります。
	たとえば、amd64 システムに <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> から
	FreeBSD 10.0 をインストールするには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-10.0-RELEASE-amd64-dvd1.iso</filename>
	をダウンロードして、ファイルを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
	に焼き、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
	を挿入してからシステムを起動してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまなファイル形式が用意されていますが、
	すべてのアーキテクチャに対して、
	すべての形式のファイルが用意されているわけではありません。
	利用可能な形式は以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-bootonly.iso</literal>:
	    インストーラのみを含む最小のインストールファイルです。
	    インストールを行う間、インストーラは
	    FreeBSD をインストールするために必要なファイルをダウンロードするため、
	    ネットワーク接続が必要です。
	    このファイルは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	    を焼くためのアプリケーションを用いて、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> に書き込む必要があります。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-disc1.iso</literal>: FreeBSD
	    のインストールに必要となる、ソースおよび Ports Collection
	    といったすべてのファイルが含まれています。
	    このファイルは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	    を焼くためのアプリケーションを用いて、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> に書き込む必要があります。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-dvd1.iso</literal>: FreeBSD
	    のインストールに必要となる、ソースおよび Ports Collection
	    といったすべてのファイルが含まれています。
	    インターネットに接続することなく、
	    メディアのみでシステムのインストールを完了できるように、
	    良く使われるウィンドウマネージャおよびアプリケーションをインストールするためのバイナリ package も含まれています。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> を焼くためのアプリケーションを使って、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> に書き込む必要があります。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-memstick.img</literal>: FreeBSD
	    のインストールに必要となる、ソースおよび Ports Collection
	    といったすべてのファイルが含まれています。
	    以下の手順に従って、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
	    スティックに書き込んでください。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、イメージファイルと同じディレクトリから
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">CHECKSUM.SHA256</filename> をダウンロードし、
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">チェックサム</firstterm>
	を計算してイメージファイルの完全性を確認してください。
	FreeBSD では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sha256</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を用いてチェックサムを計算できますが、
	他のオペレーティングシステムも同様のプログラムを持っています。
	計算したチェックサムと <filename xmlns:xlink="http://www.w3.org/1999/xlink">CHECKSUM.SHA256</filename>
	に示されている値を比較してください。
	チェックサムは完全に一致している必要があります。
	もしチェックサムが一致していなければ、
	ファイルは壊れているのでもう一度ダウンロードしてください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-usb">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">イメージファイルを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> に書き込む</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">*.img</filename> ファイルは、
	  完全なメモリスティックの内容の <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">イメージ</emphasis>
	  です。これは、
	  通常のファイルのように対象のデバイスにコピーすることは
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">できません</emphasis>。
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックへ <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.img</filename>
	  を書き込むためのアプリケーションは複数あります。
	  この節ではこのうちの二つのユーティリティについて説明します。</para>

	<important xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">先に進む前に、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
	    スティックに存在する重要なデータをバックアップしてください。
	    以下の手順を実行すると、
	    スティックに存在するデータは削除されます。</para>
	</important>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-usb-dd">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dd</command> を使ってイメージを書き込む</title>

	  <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、イメージの書き込み先のターゲットデバイスとして、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0</filename> が使われています。
	      ここで使われるコマンドは、
	      指定したターゲットデバイスに存在しているデータを破壊してしまうので、
	      正しいデバイスが指定されていることに
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">細心の注意を払ってください</emphasis>。</para>
	  </warning>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドユーティリティは、
	      BSD, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>, および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> システムで利用できます。
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">dd</command> を使ってイメージを焼くには、
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックを挿入して、
	      デバイス名を確定してください。
	      その後、ダウンロードしたインストールファイルおよび、
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックのデバイス名を指定してください。
	      この例では、amd64 インストールイメージを
	      FreeBSD システムの最初の
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> デバイスに書き込みます。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-10.0-RELEASE-amd64-memstick.img</replaceable> of=/dev/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">da0</replaceable> bs=64k</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし上記のコマンドに失敗するようでしたら、
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックがマウントされていないことや、
	      デバイス名がディスクに対してのものであり、
	      パーティションではないことを確認してください。
	      オペレーティングシステムによっては、このコマンドを
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sudo</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で実行することが求められる場合があります。
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> のようなシステムでは、書き込みをバッファします。
	      すべての書き込みを完了させるには、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sync</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用してください。</para>
	  </step>
	</procedure>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> を使ってイメージを書き込む</title>

	  <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">適切なドライブレターを出力先に設定していることを十分に確認してください。
	      さもなければ、現在あるデータは上書きされ、
	      破壊されてしまうでしょう。</para>
	  </warning>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Image Writer for <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark></application>
	      を入手する</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Image Writer for <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark></application> は、
	      イメージファイルをメモリスティックに正しく書き込むことのできるフリーのアプリケーションです。
	      <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://launchpad.net/win32-image-writer/">https://launchpad.net/win32-image-writer/</uri>
	      からダウンロードして、フォルダに展開してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">イメージライタを使ってイメージを書き込む</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Win32DiskImager</application>
	      アイコンをダブルクリックして、プログラムを起動してください。
	      <computeroutput xmlns:xlink="http://www.w3.org/1999/xlink">Device</computeroutput>
	      の下に表示されるデバイスレターが、
	      メモリスティックのドライブであることを確認してください。
	      フォルダのアイコンをクリックして、
	      メモリスティックに書き込むイメージファイルを選択します。
	      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Save ]</guibutton> をクリックして、
	      イメージファイルの名前を確定してください。
	      すべてが正しく行われたかどうか、また、
	      他のウィンドウでメモリスティックのフォルダが開かれていないことを確認してください。
	      準備ができたら、<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Write ]</guibutton>
	      をクリックして、
	      メモリスティックにイメージファイルを書き込んでください。</para>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これで FreeBSD をインストールする用意ができました。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-start">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールの開始</title>

    <important xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、次のメッセージが表示されるまで
	インストーラはディスクに何の変更も加えません。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Your changes will now be written to disk.  If you
have chosen to overwrite existing data, it will
be PERMANENTLY ERASED. Are you sure you want to
commit your changes?</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この警告の前であれば、いつでもインストールを中断できます。
	もし、何かを間違って設定してしまったことが心配ならば、
	最後の警告の前に単にコンピュータをオフにしてください。
	システムのハードディスクを変更せずに済みます。</para>
    </important>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-installation-media"/>
      で説明されている手順によって準備されたインストールメディアから、
      システムを起動する方法について説明します。
      起動可能な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックを使用する場合には、
      コンピュータを立ち上げる前に、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スティックを挿入してください。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> もしくは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
      から起動する場合には、
      コンピュータを立ち上げ、
      すぐにメディアを挿入してください。
      挿入したメディアからシステムを起動するように設定する方法は、
      アーキテクチャによって異なります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-starting-i386">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">i386</trademark> および amd64 での起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのアーキテクチャでは、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> メニューが用意されており、
	ブートデバイスを選択できます。
	利用するインストールメディアに合わせて、
	最初のブートデバイスに、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>/<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> または
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> を選択してください。
	ほとんどのシステムでは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym>
	に入らずとも、起動時に特定のキーを押すことで、
	起動するデバイスを選択できます。
	通常、このキーは、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">F10</keycap>, <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F11</keycap>,
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">F12</keycap> または <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Escape</keycap>
	のどれかです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、コンピュータが FreeBSD のインストーラではなく、
	すでに存在しているオペレーティングシステムで起動してしまったのであれば、
	以下の原因が考えられます。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールメディアが起動プロセスにおいて十分早いタイミングで挿入されていません。
	    メディアをそのままにしてコンピュータを再起動してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> の変更が適切に行われていなかったり、
	    変更が保存されていません。
	    最初のブートデバイスに正しいブートデバイスが設定されていることを確認してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムが古く、
	    希望しているメディアからの起動に対応していません。
	    この場合には、<application xmlns:xlink="http://www.w3.org/1999/xlink">Plop Boot
	      Manager</application> (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.plop.at/en/bootmanagers.html"/>)
	    を使うと、選択したメディアからシステムを起動できます。</para>
	</listitem>
      </orderedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PowerPC</trademark> での起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのコンピュータでは、
	起動中にキーボードの <keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap>
	を押しておくと、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> から起動します。
	別の方法では <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Command</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Option</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">O</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F</keycap>
	</keycombo>、
	または non-<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Apple</trademark> キーボードでは
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Windows</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">O</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F</keycap>
	</keycombo>
	を押してください。<prompt xmlns:xlink="http://www.w3.org/1999/xlink">0 &gt;</prompt> プロンプトで</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">boot cd:,\ppc\loader cd:0</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">と入力してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC64</trademark> での起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC64</trademark> システムは、
	ディスクから自動的に起動するように設定されています。
	FreeBSD を <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> からインストールするには、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PROM</acronym> に入る必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PROM</acronym> に入るにはシステムを再起動し、
	ブートメッセージが表示されるまで待ってください。
	モデルによりますが、以下のようなメッセージが表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしシステムがこの時点でディスクから起動するようでしたら、
	キーボードから <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">L1</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap></keycombo>
	または <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Stop</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap></keycombo>
	を押すか、シリアルコンソールから <command xmlns:xlink="http://www.w3.org/1999/xlink">BREAK</command>
	を送信してください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">tip</application> または <application xmlns:xlink="http://www.w3.org/1999/xlink">cu</application>
	を使用する場合には、<command xmlns:xlink="http://www.w3.org/1999/xlink">~#</command>
	によって BREAK を送ることができます。
	単一の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> を持つシステムでの
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PROM</acronym> プロンプトは、<prompt xmlns:xlink="http://www.w3.org/1999/xlink">ok</prompt> で、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym> システムのプロンプトは、
	<prompt xmlns:xlink="http://www.w3.org/1999/xlink">ok {0} </prompt> です。
	数字はアクティブな <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym>
	の数を表しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> をドライブに挿入し、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PROM</acronym> プロンプトで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">boot cdrom</command> と入力してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-view-probe">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ブートメニュー</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールメディアからシステムが起動すると、
	以下のようなメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-newboot-loader-menu">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ブートローダメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-newboot-loader-menu"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、メニューは、FreeBSD インストーラが起動するまで
	(FreeBSD がインストールされているシステムでは、FreeBSD が起動するまで)、
	ユーザからの入力を 10 秒間受け付けます。
	タイマーを停止してオプションを確認には、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap> を押してください。オプションを選択するには、
	ハイライトされている番号、文字、もしくはキーを押してください。
	以下のオプションが利用可能です。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Boot Multi User</literal>: FreeBSD
	    の起動プロセスを続けます。
	    ブートタイマが停止しているのであれば <keycap xmlns:xlink="http://www.w3.org/1999/xlink">1</keycap>、
	    大文字もしくは小文字の <keycap xmlns:xlink="http://www.w3.org/1999/xlink">B</keycap> または、
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Boot Single User</literal>: このモードは、
	    すでにインストールされている FreeBSD を修復するために利用できます。
	  　シングルユーザモードについては、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-singleuser"/> で説明されています。
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">2</keycap> もしくは、小文字もしくは、大文字の
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap> を押すとこのモードに入ることができます。 </para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Escape to loader prompt</literal>: 
	    制限された低レベルのコマンドのみが利用可能な修復用プロンプトでシステムを起動します。
	    このプロンプトについては、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-loader"/> で説明されています。
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">3</keycap> または <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap>
	    を押すとこのプロンプトで起動します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Reboot</literal>: システムを再起動します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Configure Boot Options</literal>: <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-boot-options-menu"/>
	    で示されるメニューを開きます。</para>
	</listitem>
      </itemizedlist>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-boot-options-menu">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ブートオプションメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-boot-options-menu"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この起動オプションメニューは、
	2 つのセクションから構成されています。
	最初のセクションは、メインのブートメニューに戻ったり、
	オプションをデフォルト値に戻すために利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のセクションでは、変更可能なオプションついて、
	選択されている番号や文字を、<literal xmlns:xlink="http://www.w3.org/1999/xlink">On</literal> や
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Off</literal> に変更できます。
	システムは、これらのオプションが変更されない限り、
	常に変更されたオプションで起動します。
	このメニューで変更可能なオプションは以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ACPI Support</literal>:
	    起動中にシステムが固まるようでしたら、このオプションを
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Off</literal> にしてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Safe Mode</literal>:
	    上記のオプションの対応を行ってもシステムが起動時に固まるようでしたら、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ACPI Support</literal> を <literal xmlns:xlink="http://www.w3.org/1999/xlink">Off</literal>
	    にし、このオプションを <literal xmlns:xlink="http://www.w3.org/1999/xlink">On</literal>
	    に設定してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Single User</literal>:
	    シングルユーザモードでインストールされている FreeBSD を修復には、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">On</literal> にしてください。
	    シングルユーザモードについては、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-singleuser"/> で説明されています。
	    問題が修正された後は、<literal xmlns:xlink="http://www.w3.org/1999/xlink">Off</literal>
	    に戻してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Verbose</literal>:
	    起動プロセスの表示をより詳細に表示したい場合には、
	    このオプションを <literal xmlns:xlink="http://www.w3.org/1999/xlink">On</literal> にしてください。
	    ハードウェアの問題を解決する際には有効です。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定が終わったら、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">1</keycap> または <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Backspace</keycap>
	を押してメインブートメニューに戻り、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して FreeBSD の起動を続けてください。
	FreeBSD がハードウェアの検出を行い、
	インストールプログラムをロードしている間、
	ブートメッセージが表示されます。
	起動後、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-choose-mode"/>
	に示されるウェルカムメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-choose-mode">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ウェルカムメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-choose-mode"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、デフォルトの
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Install ]</guibutton>
	を選択すると、インストール作業が始まります。
	この章の残りの部分では、このインストーラの使い方について説明します。
	そのほかには、左右の矢印キーまたは色が変わっている文字を使って、
	選択したいメニューの項目を選択してください。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Shell ]</guibutton> を使うと、
	インストールの前に、FreeBSD
	シェルからコマンドラインユーティリティでディスクを準備できます。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Live CD ]</guibutton> オプションを選択すると、
	インストール前に FreeBSD を試すことができます。
	live 版については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="using-live-cd"/>
	で説明されています。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアの検出などのブートメッセージを見るには
	  大文字または小文字の <keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap> を押してください。
	  その後、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	  シェルにアクセスしてください。
	  シェルプロンプトから、<command xmlns:xlink="http://www.w3.org/1999/xlink">more
	    /var/run/dmesg.boot</command> を入力してください。
	  メッセージのスクロールには、スペースバーを使ってってください。
	  終わったら、<command xmlns:xlink="http://www.w3.org/1999/xlink">exit</command> を押して、
	  ウェルカムメニューに戻ってください。</para>
      </tip>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-bsdinstall">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> の使用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> メニューの順番と、
      システムがインストールされる前に、
      尋ねられる情報の形式について紹介します。
      メニューオプションの選択には、矢印キーを使い、
      メニューの項目の選択や解除する場合には、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap>
      キーを使ってください。
      設定が終わったら、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
      を押して設定を保存し、次の画面へ移動してください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-keymap">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">キー配列メニューの選択</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使用しているシステムのコンソールにもよりますが、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-keymap-select-default"/>
	で表示されるメニューが最初に表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-keymap-select-default">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">キーマップの選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-keymap-select-default"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キーボードのレイアウトを設定するには、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ YES ]</guibutton> が選択されている状態で、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-config-keymap"/>
	で表示されているメニューが表示されます。
	デフォルトのレイアウトを使用する場合には、カーソルキーを使って、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ NO ]</guibutton> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	このメニュー画面をスキップしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-keymap">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">キーボードメニューの選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-config-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キーボードレイアウトを設定するには、
	システムのキーボードに最も近いキーマップをカーソルキーの上下キーので選択してください。
	選択を保存するには、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> を押すと、メニューを終了し、
	  デフォルトのキーボードマップを使うようになります。
	  どのキーボードマップを選べばよいかわからない場合には、
	  <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">United States of America ISO-8859-1</guimenuitem>
	  を選ぶとよいでしょう。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 10.0-RELEASE 以降では、このメニューが拡張されました。
	デフォルトの選択と共に、キーマップのすべて選択項目が表示されます。
	さらに、異なるキーマップを選択した時には、
	ダイアログが表示され、インストールを先に進む前に、
	ユーザがキーマップの試験を行い、適切かどうかを確認できます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-keymap-10">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">拡張キーマップメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-keymap-10"/>
	  </imageobject>
	</mediaobject>
      </figure>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-hostname">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> のメニューでは、
	新しくインストールするシステムに与えるホスト名を設定します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-hostname">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名の設定</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-config-hostname"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク上でユニークなホスト名を入力してください。
	入力するホスト名は、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">machine3.example.com</systemitem>
	のように完全修飾のホスト名で入力してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-components">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールするコンポーネントの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、 <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application>
	は、インストールするオプションのコンポーネントの選択に移ります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-components">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">インストールするコンポーネントの設定</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-config-components"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どのコンポーネントをインストールするかは、
	システムの用途と用意されているディスク容量に依存します。
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">base system</firstterm> として知られている
	FreeBSD カーネルとユーザランドは、
	常にインストールされます。
	アーキテクチャによっては、表示されないコンポーネントもあります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> - 追加の文書。
	    多くは歴史的な興味のもので、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/doc</filename>
	    にインストールされます。
	    FreeBSD ドキュメンテーションプロジェクトが提供している文書は、
	    後で、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="updating-upgrading-documentation"/>
	    に書かれている手順でインストールされます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">games</literal> - <application xmlns:xlink="http://www.w3.org/1999/xlink">fortune</application>,
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">rot13</application>
	    などの伝統的な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BSD</acronym>
	    ゲームをインストールします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lib32</literal> -
	    32-bit のアプリケーションを 64-bit 版の FreeBSD
	    で実行する際に必要となる互換ライブラリ。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> - FreeBSD 
	    Ports Collection は、
	    サードパーティ製ソフトウェアパッケージのダウンロード、
	    コンパイル、
	    インストールを自動化するように設計されたファイルの集まりです。
	    Ports Collection の使い方については、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> で説明します。</para>

	  <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールプログラムは、
	      システムのディスクに十分な空き容量があるかどうかを確認しないので、
	      ハードディスクに十分な容量があるときだけ、
	      このオプションを選択するしてください。
	      FreeBSD 9.0 では、Ports Collection が必要とする容量は、
	      約 500 MB です。</para>
	  </warning>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">src</literal> - FreeBSD
	    のカーネルおよびユーザランド両方の完全なソースコードです。
	    ほとんどのアプリケーションは必要としませんが、
	    デバイスドライバやカーネルモジュール、
	    Ports Collection
	    のアプリケーションによってはコンパイル時に必要となります。
	    このソースは、FreeBSD そのものの開発に使うこともできます。
	    すべてのソースツリーをインストールするには
	    1 GB のディスク容量を必要とします。
	    また、FreeBSD システム全体のコンパイルには、
	    さらに 5 GB の容量が必要です。</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-netinstall">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークからのインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-netinstall-notify"/> で示されているメニューは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">-bootonly.iso</filename> <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	からインストールする時のみ表示されます。この
	インストールメディアは、インストールファイルを含んでいません。
	ネットワーク経由でインストールファイルをダウンロードする必要があるため、
	このメニューは、ネットワークインタフェースを最初に設定する必要があることを示しています。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-netinstall-notify">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークからのインストール</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-netinstall-files"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク接続の設定を行うには、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-config-network-dev"/>
	に示されている手順に従ってください。
        ネットワーク接続の設定が終わったら、
	FreeBSD をインストールするコンピュータと同じ地域のミラーサイトを選んでください。
	ターゲットコンピュータの近くにミラーサイトがあると、
	ファイルのダウンロードは早く終わるので、
	インストールの時間は短くなります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-netinstall-mirror">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ミラーサイトの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-netinstall-mirrorselect"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルメディアにインストールファイルが用意されているように、
	インストールは先に進みます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-partitioning">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク領域の割り当て</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、ディスク領域を割り当てる方法を選択します。
      メニューで選択できるオプションは、インストールする FreeBSD
      のバージョンに依存します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-guided-manual">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.x におけるパーティションの分割の選択肢</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-guided-manual"/>
	  </imageobject>
	</mediaobject>
      </figure>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-partmenu">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 10.x 以降でのパーティション分割の選択</title>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="bsdinstall/bsdinstall-zfs-partmenu"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Guided</emphasis> によるパーティションの分割方法では、
      ディスクパーティションを自動的に設定します。
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Manual</emphasis> によるパーティションの分割方法は、
      高度な知識を持つユーザ向けで、
      メニューオプションからカスタマイズしたパーティションを作成できます。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Shell</literal> は、シェルプロンプトを起動し、
      高度な知識を持つユーザが、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gpart</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      のようなコマンドラインのプログラムを実行して、
      カスタマイズしたパーティションを作成できます。
      FreeBSD 10 以降で利用可能な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> オプションは、
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ブート環境に対応した</firstterm>
      root-on-ZFS システムを構築します。
      暗号化された root-on-ZFS システムを構築することもできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、
      ディスクパーティションをレイアウトする際の検討事項を説明します。
      その後、各パーティションの作成方法について説明します。</para>

   <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-initial">
     <title xmlns:xlink="http://www.w3.org/1999/xlink">パーティションレイアウトのデザイン</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">partition layout</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename></primary>
      </indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのレイアウトを行う際には、
	  ハードディスクの外周部は内周部よりもデータ転送が速いということを思い出してください。
	  これに従えば、
	  小さくて激しくアクセスされるファイルシステムを外周付近に、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	  のようなより大きなパーティションはディスクの内側に配置すべきでしょう。
	  そのため、パーティションを作成する際には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>、
	  スワップ、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	  のような順で作ってゆくのがよいでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> パーティションのサイズは、
	  あなたが計算機をどのように使おうとしているかを反映します。
	  このパーティションには主としてメールボックスやログファイル、
	  プリンタスプールが置かれます。
	  メールボックスとログファイルは、
	  システムのユーザ数やログの保持期間に依存して予期し得ぬサイズにまで成長する可能性があります。
	  概して、ほとんどのユーザは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
	  にギガバイト以上の空き容量を必要とはしないでしょう。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">時には、たくさんのディスク容量が
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp</filename> に必要になるときがあります。
	  新しいソフトウェアをインストールする際、
	  package のツールは、package の一時的なコピーを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp</filename> 以下に展開します。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp</filename>
	  以下に十分なディスク容量が用意されていないと、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">OpenOffice</application> や
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> のような、
	  大きなソフトウェア package のインストールが、
	  困難になることがあります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> パーティションには、
	FreeBSD Ports Collection およびシステムのソースコードを含む、
	システムをサポートするのに必要な多くのファイル群が置かれます。
	このパーティションには、少なくとも 2 ギガバイトを用意することをおすすめします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションのサイズを考える時、
	必要量を念頭に置いてください。
	別のパーティションには潤沢にスペースが余っているのに、
	あるパーティションでスペースが足らないままというのは、
	フラストレーションがたまるものです。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">swap sizing</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">swap partition</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">経験からスワップパーティションのサイズは物理メモリ
	(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym>) の 2 倍というのが一般的です。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym> の少ないシステムでは、
	もっとスワップを増した方が性能がよくなります。
	スワップが少なすぎる設定は、
	あなたが後にメモリを増設したときに問題を起すばかりではなく、
	VM ページスキャニングコードの能率を落します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">複数の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
	ディスクや異なるコントローラで操作される複数の
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IDE</acronym> ディスクを持つ大規模なシステムでは、
	それぞれのドライブ (4 台まで) にスワップを設定することを推奨します。
	各ドライブのスワップパーティションはほぼ同一サイズであるべきです。
	カーネルは任意のサイズを扱うことができますが、
	内部のデータ構造は最大のスワップパーティションの 4 倍に調節されます。
	スワップパーティションをほぼ同一のサイズにしておくことで、
	カーネルはスワップスペースを最適なかたちでディスクをまたいでストライプさせることができます。
	あなたが通常スワップをたくさん使わないとしても、
	多くのスワップサイズを用意しておくと良いでしょう。
	プログラムが暴走しても再起動させられる前に回復することが容易になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムを適切にパーティション化することで、
	  小さいが書き込みの激しいパーティションによって引き起こされるフラグメント化を、
	  読み出し専門のパーティションにまで波及させずにすみます。
	  また、書き込みの激しいパーティションをディスクの周辺部に配置することで、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym> パフォーマンスを増大させることができます。
	  大きなパーティション内の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym>
	  パフォーマンスもまた必要とされているでしょうが、
	  ディスク周辺部へ移動させたとしても、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
	  を周辺部に移動させることによって大きな効果が得られたのとは対照的に、
	  意味のあるパフォーマンスの増加は見込めないでしょう。</para>
    </sect2>  
    
    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-guided">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Guided によるパーティションの分割</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法を選択すると、
	メニューには利用可能なディスクが表示されます。
	複数のディスクが接続されている場合には、
	FreeBSD をインストールするディスクを選択してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-guided-disk">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">複数のディスクから選択する</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-guided-disk"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクを選択したら、次のメニューでは、
	ディスクのすべてにインストールを行うか、
	または空き容量にパーティションを作成してインストールを行うかを設定します。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Entire Disk ]</guibutton> を選択すると、
	一般的なパーティションレイアウトが自動的に作成されます。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Partition ]</guibutton> を選択すると、
	ディスクの使用していない領域にパーティションレイアウトを作成します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-entire-part">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Entire Disk または Partition の選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-entire-part"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションのレイアウトを作成したら、
	インストールの条件を満たしているかどうかを深く確認してください。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Revert ]</guibutton> を選択すると、
	パーティションをオリジナルの値にリセットします。
	また、<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Auto ]</guibutton> を選択すると、
	FreeBSD パーティションを自動的に作成します。
	パーティションを手動で作成、変更、削除することもできます。
	正しくパーティションを作成出来たら、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Finish ]</guibutton> を選択し、
	インストールを進めてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-review">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">作成されたパーティションの確認</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-review"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-manual">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Manual によるパーティションの分割</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法を選択すると、
	パーティションエディタが起動します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-manual-create">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Manual によるパーティションの分割</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-create"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストール先のドライブ
	(この例では <filename xmlns:xlink="http://www.w3.org/1999/xlink">ada0</filename>) を選び、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Create ]</guibutton> を選択すると、
	利用可能なパーティションスキームの一覧が表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-manual-partscheme">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">手動でパーティションを作成する</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-partscheme"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">amd64 コンピュータでは、通常 <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym>
	が最も適切な選択となります。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> に対応していないような古いコンピュータでは、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym> を使う必要があります。
	他のパーティションスキームは、使うことがまれであったり、
	古いコンピュータで用いられるものです。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" rowsep="1" pgwide="1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">パーティションスキーム</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2" align="left">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink" align="left">省略形</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink" align="left">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">APM</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PowerPC</trademark> で使われている Apple Partition Map</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">BSD</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym> を用いない
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BSD</acronym> ラベル。
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BSD</acronym>
	      以外のディスクユーティリティは認識しないため、しばしば
	      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">dangerously dedicated mode</firstterm>
	      と呼ばれます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GPT</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GUID Partition Table (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/GUID_Partition_Table">http://en.wikipedia.org/wiki/GUID_Partition_Table</link>)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">MBR</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Master Boot Record (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/Master_boot_record">http://en.wikipedia.org/wiki/Master_boot_record</link>)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">PC98</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NEC PC-98 コンピュータで使われている
	      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym> の亜種 (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://en.wikipedia.org/wiki/Pc9801">http://en.wikipedia.org/wiki/Pc9801</link>)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">VTOC8</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Volume Table Of Contents。
	      Sun SPARC64 および UltraSPARC コンピュータで使われます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションスキームを選択して作成した後で、
	もう一度 <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Create ]</guibutton> を選択すると、
	パーティションが作成されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-manual-addpart">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">手動でパーティションを作成する</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-part-manual-addpart"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">標準の FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> のインストールでは、
	少なくとも 3 つのパーティションが使われます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-boot</literal> - FreeBSD
	    ブートコードを含んでいます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-ufs</literal> - FreeBSD
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS</acronym> ファイルシステム。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-swap</literal> - FreeBSD
	    スワップ空間。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他のパーティション形式に <literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-zfs</literal>
	があります。
	これは FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym>
	ファイルシステム (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/filesystems-zfs.html">
	  The Z File System (ZFS)</link><!-- <xref
	  linkend="zfs"/>-->) を含めるためのものです。
	利用可能な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym>
	パーティションタイプについては、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gpart</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">複数のファイルシステムのパーティションを作成できます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename> そして <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	といった伝統的なパーティション分割のレイアウトを好む人もいます。
	レイアウトの例が <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-part-manual-splitfs"/> にあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Size</literal> には、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">K</emphasis> (キロバイト)、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">M</emphasis> (メガバイト)、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">G</emphasis> (ギガバイト)
	といった通常の省略形を使用出来ます。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">セクタを適切に配置することで、
	  最良のパフォーマンスを得ることができます。
	  また、パーティションサイズを 4K バイトの偶数倍にすると、
	  512 バイトまたは 4K バイトのセクタでドライブが配置しやすくなります。 一般的に、
	  4K の偶数倍の場所からパーティションが開始するように設定する簡単な方法は、
	  1M または 1G の偶数倍のパーティションサイズを用いることです。
	  ただし、例外があります。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-boot</emphasis> パーティションは、
	  ブートコードの制限により 512K 以下である必要があります。</para>
      </tip>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを持つパーティションでは、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Mountpoint</literal> が必要となります。
	1 つの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS</acronym> パーティションだけを作成したのであれば、
	マウントポイントは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Label</literal>
	は作成したパーティションを認識するための名前です。
	ドライブ名や番号は、
	ドライブが別のコントローラやポートに接続されると変わることがありますが、
	パーティションラベルは変わりません。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> のようなファイルの中で、
	ドライブ名やパーティション番号ではなく、ラベルを参照することにより、
	システムがハードウェアの変更に対して、より寛容になります。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> ラベルは、
	ディスクが接続されると <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/gpt/</filename>
	に現れます。他のパーティションスキームでは別のラベルとなり、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/</filename>
	以下の異なるディレクトリにラベルが現れます。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">名前の衝突を避けるため、
	  各パーティションには、一意的な名前使ってください。
	  コンピュータ名、使用、位置情報を表す単語をラベルに追加できます。
	  たとえば、<literal xmlns:xlink="http://www.w3.org/1999/xlink">lab</literal> という名前のコンピュータの
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS</acronym> の root パーティションには、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">labroot</literal> または
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rootfs-lab</literal> といった名前を使ってください。</para>
      </tip>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-manual-splitfs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">伝統的なファイルシステムのパーティションを作成する。</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">伝統的なパーティションレイアウト
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	  ディレクトリが各パーティションの別のファイルシステム)
	  を作成するには、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> パーティションスキームを作成し、
	  その後、示されているようにパーティションを作成してください。
	  示されているパーティションサイズは 20G のディスク用です。
	  ディスクにより多くの容量があれば、swap または
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
	  パーティションを大きく取ると良いでしょう。
	  ここで示されているラベルには、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">example</literal> を意味する
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ex</literal> が付けられていますが、
	  実際には上で説明したように、
	  これとは別のユニークなラベルをつけてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <filename xmlns:xlink="http://www.w3.org/1999/xlink">gptboot</filename> は、
	  デフォルトでは最初に見つかった
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS</acronym> パーティションが、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> パーティションであることを前提としています。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">パーティションタイプ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">サイズ</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">マウントポイント</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ラベル</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-boot</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">512K</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-ufs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2G</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">exrootfs</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-swap</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">4G</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">exswap</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-ufs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">2G</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">exvarfs</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-ufs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">1G</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">extmpfs</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-ufs</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルト (ディスクの残りのすべての容量)</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">exusrfs</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムパーティション を作成したら
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Finish ]</guibutton> を選択して、
	インストールを先に進んでください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-zfs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">root-on-ZFS パーティションの自動作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">root-on-ZFS のインストール時の自動作成は、
	FreeBSD 10.0-RELEASE から対応しました。
	このパーティションのモードは、
	ディスクのすべての領域に対して機能するので、
	ディスク上にあるすべての内容を消去してしまいます。
	インストーラは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> が 4k セクタを使うように、
	自動的に 4k の境界にアラインするようパーティションを作成します。
	512 バイトセクタのディスクでも利用できます。
	512 バイトのディスクで作成されたプールに、
	将来ストレージ空間を追加したり、壊れたディスクの置き換えにおいて、4k
	セクタのディスクを追加できるようにしておくことにはメリットがあります。
	インストーラはオプションとして、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GELI</acronym> ディスクの暗号化にも対応しています。
	<!-- <xref
	  linkend="disks-encrypting-geli"/> -->
	暗号化を有効にすると、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot</filename>
	ディレクトリを含む 2 GB
	の暗号化されていないブートプールが作成されます。
	ここには、カーネルとシステムを起動するのに必要なファイルが含まれます。
	ユーザがサイズを選択可能な swap パーティションも作成され、
	残りのスペースが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> プールとして使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストーラの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> 設定メニューには、
	プールの作成をコントロールする数多くのオプションが用意されています。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-menu">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> パーティションメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-menu"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">T</keycap> を選択して、<literal xmlns:xlink="http://www.w3.org/1999/xlink">Pool Type</literal>
	およびプールに対応するディスクを選択してください。
	現在のところ、自動の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> インストーラは、
	ストライプモードを除き、
	単一のトップレベルの仮想デバイスの作成のみに対応しています。
	より複雑なプールを作成するには、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-part-shell"/>
	で説明されている方法で作成してください。
	インストーラは、ストライプ (推奨されません。冗長性なし)、ミラー
	(ベストなパフォーマンス。使用できる容量は最小) および RAID-Z 1, 2
	および 3 (それぞれ 1, 2 および 3 ディスクの同時障害へ対応)、
	といったさまざまなタイプのプールの作成に対応しています。
	選択されているプールタイプに対しては、スクリーンの下に、
	必要なディスク数、RAID-Z の場合には、
	各設定に対して最適なディスクの数についてのアドバイスが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-vdev_type">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> プールタイプ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-vdev_type"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Pool Type</literal> を選択したら、
	利用可能なディスクの一覧が表示されます。
	その後、プールを構成するディスクを、1 つまたは複数選択してください。
	十分なディスクが選択されているかどうかについて検証が行われます。
	もし、問題があるようでしたら、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">&lt;Change Selection&gt;</guibutton>
	を選択して、ィスクの一覧に戻ってください。
	もしくは、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">&lt;Cancel&gt;</guibutton> を選択して、
	プールのタイプを変更してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-disk_select">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-disk_select"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-vdev_invalid">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">問題のある選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-vdev_invalid"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この一覧の中に抜けているディスクがある時や、
	インストーラが立ち上がった後にディスクを接続した場合に、
	最新の利用可能なディスクの一覧を見るには、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">- Rescan Devices</guibutton> を選択してください。
	間違ったディスクをアクシデントで破壊しないように、
	適切なディスクが選択されていることを確認するには、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">- Disk Info</guibutton> メニュー選択して、
	各ディスクのパーティションテーブル、および、
	デバイスモデル番号およびシリアル番号などのさまざまな情報を確認してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-disk_info">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの解析</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-disk_info"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メインの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> 設定メニューでは、
	pool 名の入力、4k セクタ制限の設定の無効化、
	暗号化の有効 / 無効の設定、パーティションテーブルタイプの
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GPT</acronym> (推奨)
	と <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MBR</acronym> の切り替え、
	そしてスワップ領域の容量を設定できます。
	すべてのオプションが適切な値に設定されたら、
	メニューのトップにある
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">&gt;&gt;&gt; Install</guibutton>
	オプションを選択してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">GELI</acronym> ディスク暗号化を有効にしていたら、
	ディスクを暗号化するために用いるパスフレーズを 2 度求められます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-geli_password">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク暗号化パスワード</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-geli_password"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストーラは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym>
	プールを作成するために選択されたドライブの中身を破棄することの最終確認を行います。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-zfs-warning">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">最終確認</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-zfs-warning"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その後のインストールの過程は、通常通りに進みます。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-part-shell">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シェルモードによるパーティションの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">高度なインストールを行うには、<application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application>
	が提供するパーティション分割のメニューは柔軟性にかけることがあります。
	高度な技術を持つユーザは、パーティションメニューで      
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">Shell</guibutton> オプションを選択することで、
	手動でドライブを分割して、ファイルシステムを作成し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/bsdinstall_etc/fstab</filename> を作成し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename>
	以下にファイルシステムをマウントできます。
	以上を実行したら、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">exit</command> を実行して
	<application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> に戻り、
	インストールを続けてください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-warning">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール操作の確定</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクを一度設定すると、次のメニューは、
      選択したハードドライブをフォーマットする前に、
      設定を変更する最後のチャンスです。
      もし変更が必要であれば、
      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Back ]</guibutton>
      を選択してメインのパーティションエディタまで戻ってください。
      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Revert &amp; Exit ]</guibutton>
      を選択すると、
      ハードドライブへの変更なしにインストールを終了します。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-confirmation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">最後の確認</title>
      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="bsdinstall/bsdinstall-final-confirmation"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">本当にインストールを開始するのであれば、
      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Commit ]</guibutton> を選択して、
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>
    
    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールにかかる時間は、どのディストリビューションを選んだか、
      どのインストールメディアを使ったか、
      そしてコンピュータの速度にも依存します。
      進行状況を表すメッセージが逐次表示されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず最初に、インストーラは選択されているディスクをフォーマットし、
      パーティションを初期化します。
      bootonly メディアを用いたインストールでは、
      選択されたコンポーネントがダウンロードされます。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-distfile-fetching">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配布ファイルのダウンロード</title>
      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-fetching"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、ダウンロードの際にエラーが含まれなかったか、
      インストールメディアからの読み取り中に読み間違いが起きなかったかどうか等、
      配布ファイルの完全性の検証が行われます。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-distfile-verify">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配布ファイルの検証</title>
      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-verifying"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、検証された配布ファイルがディスクへ取り出されます。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-distfile-extract">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">配布ファイルの取り出し</title>
      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="bsdinstall/bsdinstall-distfile-extracting"/>
	</imageobject>
      </mediaobject>
    </figure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">必要な配布ファイルがすべて取り出されたら、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> は、
      インストール後の設定画面を表示します。
      利用可能なインストール後のオプションについては次の章で説明します。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-post">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の作業</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストールが完了したら、
      新しくインストールしたシステムで起動する前に、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> は、
      さまざまなオプションの設定に移ります。
      この章では、これらのオプションについて説明します。</para>

    <tip xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">一度システムを起動した後は、
        <command xmlns:xlink="http://www.w3.org/1999/xlink">bsdconfig</command> を使って、メニュー形式により、
	ここで説明するオプションや追加のオプションでシステムを設定できます。</para>
    </tip>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-post-root">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> パスワードの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のパスワードを設定する必要があります。
	パスワードを入力している際には、
	入力している文字は画面に表示されません。
	パスワードの入力後、もう一度入力する必要があります。
	これは入力ミスを防ぐためです。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-post-set-root-passwd">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> パスワードの設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-post-root-passwd"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-network-dev">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークインタフェースの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	コンピュータが認識したすべてのネットワークインタフェースが表示されます。
	設定するネットワークインタフェースを選んでください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">bootonly</emphasis> によるインストールの一部として、
	  すでにネットワークの設定を終えているのであれば、
	  このネットワークの設定メニューは飛ばしてください。</para>
      </note>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-configure-net-interface">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットインタフェースの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットインタフェースを選択したのであれば、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-configure-net-ipv4"/>
	で表示されるメニューまで飛びます。
	ワイヤレスネットワークを選択したのであれば、
	システムはワイヤレスアクセスポイントをスキャンします。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-wireless-scan">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ワイヤレスアクセスポイントのスキャン</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-scan"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ワイヤレスネットワークは Service Set Identifier
	(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSID</acronym>) によって識別されます。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSID</acronym> は、それぞれのネットワークに与えられる、
	短く、一意的な名前です。
	スキャンで見つかった <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSID</acronym> の一覧は、
	そのネットワークで利用できる暗号化のタイプの説明とともに表示されます。
	もし、期待した <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSID</acronym>
	が一覧に表示されていなければ、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Rescan ]</guibutton>
	を選択してもう一度スキャンしてください。
	もし、期待したネットワークが表示されなければ、
	接続のためのアンテナを確認したり、
	コンピュータをアクセスポイントの近くに移動させてみてください。
	その後もう一度スキャンしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-wireless-accesspoints">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ワイヤレスネットワークの選択</title>
	
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-accesspoints"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	ワイヤレスネットワークに接続するための暗号情報を入力してください。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WEP</acronym> のような古い暗号の安全性は低いので、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WPA2</acronym> 暗号が強く推奨されます。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WPA2</acronym> を使用してるネットワークでは、
	Pre-Shared Key (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PSK</acronym>)
	と呼ばれるパスワードを入力してください。
	セキュリティ上の観点から、
	入力ボックスに入力した文字はアスタリスクで表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-wireless-wpa2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">WPA2 のセットアップ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-wireless-wpa2setup"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次は、イーサネットもしくはワイヤレスインタフェースに対して、
        <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> を設定するかどうかを選択します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-configure-net-ipv4">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> ネットワークの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> の設定方法は 2 通りあります。
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym></emphasis>
	はネットワークインタフェースを自動的に適切に設定する方法で、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバのあるネットワークでは使用すべきです。
	もし、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> を利用できない環境では、
	静的な設定として、
	ネットワークのアドレス情報を手動で入力する必要があります。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">適当なネットワーク情報を入力しても動かないので、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバが利用できなのであれば、
	  ネットワーク管理者またはサービスプロバイダから <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-collect-network-information"/>
	  に示されている情報を入手してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバを利用できるのであれば、
	次のメニューで <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択して、
	ネットワークインタフェースの設定を自動的に行ってください。
	インストーラは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバを検索し、
	システムに対するアドレス情報を入手するために、
	少しの間停止しているように表示されます。</para>
	
      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-ipv4-dhcp">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym>
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> 設定の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4-dhcp"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> サーバを利用できない環境では、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択し、
	このメニューにおいて以下のアドレス情報を入力してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-ipv4-static">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> の静的な設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv4-static"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">IP Address</literal> -
	    コンピュータに手動で与える <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> アドレスです。
	    このアドレスは一意的なものである必要があり、
	    すでにローカルネットワーク上の他のネットワーク機器で使われているものではいけません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Subnet Mask</literal> -
	    ネットワークのサブネットマスクです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Default Router</literal> -
	    このネットワークのデフォルトゲートウェイの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym>
	    アドレスです。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の画面では、インタフェースを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym>
	で設定すべきかを選択します。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> が利用でき、希望するのであれば、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-ipv6">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 ネットワークの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv6"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> の設定に関しても 2 つの方法があります。
	StateLess Address AutoConfiguration
	(<emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SLAAC</acronym></emphasis>)
	は、ローカルルータから適切なネットワーク設定情報を入手するように、
	自動的にリクエストします。
	詳細については <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tools.ietf.org/html/rfc4862">http://tools.ietf.org/html/rfc4862</link>
	を参照してください。静的な設定では、
	ネットワーク情報を手動で入力する必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> ルータを利用できるのであれば、
	次のメニューで <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し、
	ネットワークインタフェースの設定を自動的に行ってください。
	インストーラはルータを見つけ出し、
	システムに対するアドレス情報を入手するために、
	少しの間停止しているように表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-ipv6-slaac">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> SLAAC 設定の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-slaac"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> ルータが利用できない環境では、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択して、
	表示されるメニューで以下のアドレス情報を入力する必要があります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-ipv6-static">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 の静的な設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-interface-ipv6-static"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 Address</literal> -
	    このコンピュータに割り当てられた
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> アドレスです。
	    このアドレスは一意的なものである必要があり、
	    すでにローカルネットワーク上の他のネットワーク機器で使われているものではいけません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Default Router</literal> -
	    このネットワークのデフォルトゲートウェイの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym>
	    アドレスです。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後のネットワークメニューでは、
	Domain Name System (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym>)
	リゾルバを設定します。
	これは、ホスト名とネットワークアドレスを変換します。
	すでに <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym> または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SLAAC</acronym>
	を使って自動的にネットワークインタフェースを設定したのであれば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Resolver Configuration</literal>
	には値がすでに入っているでしょう。
	そうでなければ、<literal xmlns:xlink="http://www.w3.org/1999/xlink">Search</literal>
	フィールドにローカルネットワークのドメイン名を入力してください。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">DNS</literal> #1 および <literal xmlns:xlink="http://www.w3.org/1999/xlink">DNS</literal> #2 は、
	ローカル <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> サーバの
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> アドレスです。
	少なくとも、1 つの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> サーバは必要です。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-net-dns-config">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">DNS の設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-configure-network-ipv4-dns"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-timezone">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、システムのクロックが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UTC</acronym>
	を使うか、ローカルタイムを使うかを設定します。
	迷ったら、<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択して、
	良く使われているローカルタイムを選択してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-local-utc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ローカルまたは UTC クロックの選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-set-clock-local-utc"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、地域、国、タイムゾーンを指定します。
	使用しているシステムのタイムゾーンを設定することで、
	夏時間などの地域による時刻の違いが自動的に調整され、
	タイムゾーンに関連した機能が適切に取り扱われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでの例では、United States の
	Eastern タイムゾーンにあるコンピュータに対するものです。
	実際の地理的位置に対応するタイムゾーンを設定してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-timezone-region">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">地域の選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-region"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、適切な地域を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-timezone-country">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">国名の選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-country"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、適切に国名を選び、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-timezone-zone">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-zone"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って適切なタイムゾーンを選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-timezone-confirmation">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの確定</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-timezone-confirm"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの省略形が正しいかどうかを確認してください。
	問題がないようであれば <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-sysconf">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サービスを有効にする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、システムが起動した時に、
	起動するシステムサービスを設定します。
	これらのサービスはすべてオプションです。
	システムの機能として必要なサービスだけを起動するようにしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-serv">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">追加で有効にするサービスの選択</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-config-services"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このメニューで有効にできるサービスは以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sshd</literal> - セキュアシェル
	    (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym>) デーモンは、
	    暗号化された接続上でリモートアクセスするために使われます。
	    システムがリモートログインを必要とする場合のみ、
	    このサービスを有効にしてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">moused</literal> - システムのコンソールで、
	    マウスを利用する時に、このサービスを有効にしてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</literal> - 自動時刻同期のための
	    The Network Time Protocol
	    (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NTP</acronym>) デーモン。
	    ネットワーク上に、
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>, Kerberos または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">LDAP</acronym> 
	    サーバがあるときには、このサービスを有効にしてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">powerd</literal> -
	    電源の管理およびエネルギーを節約するための電源コントロールユーティリティ</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-crashdump">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">クラッシュダンプの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、
	クラッシュダンプを有効にするかどうかを設定します。
	システムのデバッグを行う上で、
	クラッシュダンプにより得られる情報は非常に有用です。
	可能であればクラッシュダンプを有効にすると良いでしょう。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-config-crashdump">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">クラッシュダンプの設定</title>
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-config-crashdump"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-addusers">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの追加</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、少なくとも一人のユーザを追加してください。
	システムには <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	ではなく、ユーザアカウントでログインすることが推奨されています。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限でログインすると、実行に対して制限がなく、また、保護されません。
	通常のユーザでログインすることにより、
	安全でセキュリティ的に危険が少なくなります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し、
	新しいユーザを追加してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-add-user1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザのアカウントの作成</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-adduser1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プロンプトに従い、
	ユーザアカウントの作成で必要となる情報を入力してください。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-add-user2"/> で示されている例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">asample</systemitem> ユーザアカウントを作成します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-add-user2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ情報の入力</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-adduser2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、入力情報のまとめです。</para>
      
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Username</literal> -
	    ログイン時のユーザ名を入力します。一般的な慣習では、
	    ファーストネームの最初の文字とラストネームを、
	    ユーザ名がシステムで一意的になる長さで組み合わせます。
	    ユーザ名は、大文字と小文字を区別し、
	    空白を含んではいけません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Full name</literal> - ユーザのフルネーム。
	    空白を含むことは可能です。
	    また、この情報はユーザアカウントの説明の記述に使われます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Uid</literal> - ユーザ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ID</acronym> 番号。
	    通常は、システムが自動的に割り当てるように、
	    空欄のままにします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Login group</literal> -
	    新しいユーザのログイングループ。
	    空欄のままにすると、デフォルトに割り当てられます</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Invite <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable> into
	    other groups?</literal> -
	    ユーザを別のグループのメンバーとして追加するかどうか。
	    ユーザが管理者としてのアクセス必要であれば、
	    ここで <literal xmlns:xlink="http://www.w3.org/1999/xlink">wheel</literal> を入力してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Login class</literal> -
	    空欄にするとデフォルトの設定になります。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Shell</literal> -
	    一覧の中から、ユーザのシェルを入力してください。
	    シェルに関する詳細については <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="shells"/>
	    をご覧ください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Home directory</literal> -
	    ユーザのホームディレクトリ。
	    通常は、デフォルトの場所が適切です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Home directory permissions</literal> -
	    ユーザのホームディレクトリの権限。
	    通常は、デフォルトが適切です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Use password-based authentication?</literal> -
	    通常は、ユーザがログイン時にパスワードの入力が要求されるように
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> と入力してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Use an empty password?</literal> -
	    通常は、パスワードがないと安全ではなくなるので、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Use a random password?</literal> -
	    通常は、次のプロンプトでユーザ自身のパスワードを入力できるように、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Enter password</literal> -
	    ユーザのパスワードです。
	    入力している文字は画面に表示されません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Enter password again</literal> -
	    確認のため、パスワードをもう一度入力します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Lock out the account after
	      creation?</literal>
	    - 通常は、ユーザがログインできるようにするため、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> です。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてを入力したら、サマリが表示され、
	正しいかどうかの確認を求められます。
	入力した情報に間違いがあれば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> を入力してもう一度作業を行なってください。
	すべてが正しく入力されていれば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> を入力して、
	新しいユーザを作成してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-add-user3">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザおよびグループの管理を終了する</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-adduser3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらにユーザを追加するのであれば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Add another user?</literal> の質問に対し、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> を入力してください。
      	<literal xmlns:xlink="http://www.w3.org/1999/xlink">no</literal> を入力すると、ユーザの追加が終わり、次に進みます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの追加や、ユーザ管理の詳細については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="users-synopsis"/> を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-conf">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">最後の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてをインストールし、設定が終わった後に、
	最後に設定を修正する機会が与えられます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-config">
	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-finalconfiguration"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールを完了する前に、
	このメニューを使って変更、または、追加の設定を行なってください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">最終の設定オプション</title>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Add User</literal> -
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-addusers"/> で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Root Password</literal> -
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-post-root"/> で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Hostname</literal> -
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-hostname"/> で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Network</literal> - <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-config-network-dev"/>
	    で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Services</literal> -
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-sysconf"/> で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Time Zone</literal> -
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-timezone"/> で説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Handbook</literal> -
	    FreeBSD ハンドブックのダウンロードとインストール。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後の設定が完了したら、<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guibutton>
	を選んでください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-modification-shell">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Manual Configuration</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-final-modification-shell"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいシステムを再起動する前に、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application>
	は追加の設定が必要かどうかを尋ねてきます。
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton>
	を選択して新しいシステムのシェルに入るか、または
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton>
	を選択して、インストールの最後のステップに進んでください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-final-main">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">インストールの終了</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="bsdinstall/bsdinstall-mainexit"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">追加の設定や、特別なセットアップが必要であれば、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Live CD ]</guibutton>
	を選んでインストールメディアを
	Live <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> で起動してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールが終わったら、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Reboot ]</guibutton> を選んで、
	コンピュータを再起動し、新しい FreeBSD システムで起動してください。
	再起動する前には、忘れずに FreeBSD インストールメディアを外してください。
	さもないと、もう一度インストールメディアから起動してしまいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の起動時には、多くのメッセージが画面に表示されます。
	システムの起動後には、ログインプロンプトが表示されます。
	<prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt> プロンプトで、
	インストール時に追加したユーザ名を入力してください。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	でのログインは避けてください。管理者の権限が必要となった時に、
	スーパユーザになる方法については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="users-superuser"/>
	を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時に表示されていたメッセージは、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll-Lock</keycap> を押し、
	scroll-back buffer で見ることができます。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">PgUp</keycap>, <keycap xmlns:xlink="http://www.w3.org/1999/xlink">PgDn</keycap>
	そして矢印キーでメッセージをスクロールバックできます。
	メッセージの確認が終わったら、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll-Lock</keycap>
	をもう一度押すと、ディスプレイのロックを外し、
	コンソールに戻ることができます。
	何度かシステムを起動した後で、これらのメッセージを見るには、
	コマンドプロンプトから
	<command xmlns:xlink="http://www.w3.org/1999/xlink">less /var/run/dmesg.boot</command>
	と入力してください。
	確認後に <keycap xmlns:xlink="http://www.w3.org/1999/xlink">q</keycap> を押すと、
	コマンドラインに戻ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-config-serv"/> にて、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sshd</application> を有効に設定した場合には、
	最初の起動時にシステムが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RSA</acronym> および
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DSA</acronym> キーを生成するため、
	少々時間がかかるかもしれません。
	その後の起動はより速くなるでしょう。
	鍵のフィンガープリントは、以下の例のように表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
10:a0:f5:af:93:ae:a3:1a:b2:bb:3c:35:d9:5a:b3:f3 root@machine3.example.com
The key's randomart image is:
+--[RSA1 1024]----+
|    o..          |
|   o . .         |
|  .   o          |
|       o         |
|    o   S        |
|   + + o         |
|o . + *          |
|o+ ..+ .         |
|==o..o+E         |
+-----------------+
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
7e:1c:ce:dc:8a:3a:18:13:5b:34:b5:cf:d9:d1:47:b2 root@machine3.example.com
The key's randomart image is:
+--[ DSA 1024]----+
|       ..     . .|
|      o  .   . + |
|     . ..   . E .|
|    . .  o o . . |
|     +  S = .    |
|    +  . = o     |
|     +  . * .    |
|    . .  o .     |
|      .o. .      |
+-----------------+
Starting sshd.</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フィンガープリントおよび <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym>
	についての詳細については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="openssh"/>
	をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はデフォルトでは、グラフィカルな環境をインストールしません。
	グラフィカルなウィンドウマネージャのインストール、
	および設定に関するより多くの情報については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/> をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">適切に FreeBSD をシャットダウンすることは、
	ハードウェアをダメージから守ったり、データの保護につながります。
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">システムを適切にシャットダウンする前に、
	電源を落すということはしないでください!</emphasis>
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
	グループのメンバとなっているユーザは、
	コマンドラインから <command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> と入力し、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のパスワードを入力してスーパユーザとなってください。
	その後、<command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown -p now</command>
	と入力すると、システムは正しくシャットダウンし、
	ハードウェアが対応していれば、電源が落ちます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdinstall-install-trouble">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、インストールの際の、
      これまで報告された共通の問題に対する解決のための情報が書いてあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールする FreeBSD のバージョンのハードウェアノート (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">http://www.freebsd.org/ja/releases/index.html</link>)
      を調べて、
      使用しているハードウェアに対応しているかどうかを確認してください。
      もしハードウェアがサポートされているにもかかわらず、
      動作しなかったり他の問題点がある時は、
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> で説明されている方法で
      カスタムカーネルを構築して、<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      カーネルに含まれていないデバイスへのサポートを追加してください。
      起動ディスクのカーネルでは、ほとんどのハードウェアデバイスの
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IRQ</acronym>, <acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym> アドレス、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DMA</acronym>
      チャネルが工場出荷時の状態であると設定されています。
      もしハードウェアの設定が変更されている場合には、
      カーネルコンフィグレーションファイルを編集することにより、
      FreeBSD に設定することが可能です。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのインストール上の問題は、さまざまなハードウェア装置、
	特にマザーボードのファームウェアのアップデートで回避または緩和することができます。
	マザーボードのファームウェアは、通常 <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym>
	と呼ばれます。
	多くのマザーボードまたはコンピュータ製造メーカーは、
	アップデートやアップグレード情報を載せているウェブサイトを用意しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、製造メーカーは、
	重要な更新のようなそれなりの理由がない限り、マザーボードの
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> のアップグレードは行わないよう推奨しています。
	アップデートの過程で失敗する<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">可能性があり</emphasis>、
	その場合 <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> が不完全な状態になり、
	コンピュータが動作しない原因となり得るからです。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムの起動時に、ハードウェアの検出中にシステムが固まったり、
      インストール中におかしな振る舞いをする場合には、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> が原因の可能性があります。
      i386, amd64 および ia64 プラットフォームにおいて、
      FreeBSD はシステムの設定を手助けするシステム
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> サービスを、
      起動時に検出された場合に広く使います。
      残念ながら、まだいくつかの不具合が、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> ドライバとシステムのマザーボードおよび
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> ファームウェア両方に存在しています。
      起動ステージ 3 において、ヒント情報
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hint.acpi.0.disabled</literal>
      を以下のように設定すると <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym>
      を無効にできます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">set hint.acpi.0.disabled="1"</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この設定はシステムが起動するたびにリセットされるので、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> ファイルに
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hint.acpi.0.disabled="1"</literal> を追加する必要があります。
      ブートローダのより詳しい情報については
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-synopsis"/> で説明します。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-live-cd">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Live <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> を使う</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall-choose-mode"/> で示されている
      <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</application> のウェルカムメニューは、
      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Live CD ]</guibutton>
      オプションを提供します。
      これは、
      オペレーティングシステムに FreeBSD を使うべきかどうか迷っていて、
      インストール前に機能を試して見たいと思っている方に有用です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Live CD ]</guibutton>
      を使う際は、以下のことに気をつけてください。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムにアクセスする際には、認証を求められます。
	  ユーザ名は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>、
	  パスワードは空欄としてください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムはインストールメディアから直接起動するので、
	  ハードディスクにインストールされたシステムに比べ、
	  パフォーマンスはかなり遅い可能性があります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションのユーザインタフェースは、
	  コマンドプロンプトのみです。
	  グラフィカルなユーザインタフェースではありません。</para>
      </listitem>
    </itemizedlist>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46272
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="install">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> のインストール</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成、
	  部分的に書き直し: </contrib></author>
    </authorgroup>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Randy</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Pratt</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall
	  について、ウォークスルー、スクリーンショット、及びその他原稿:
	  </contrib></author>
    </authorgroup>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、
      テキストベースの使いやすいインストールプログラムを用意しています。
      FreeBSD 9.0-RELEASE 以降では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      と呼ばれるインストールプログラムを使い、
      FreeBSD 8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> では
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使います。
      この章では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の使い方について説明します。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の利用については
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall"/> で説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読めば、次のことがわかるでしょう:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD インストールメディアの作り方。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がハードディスクをどのように参照するか、
	  またどのように分割するか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  をどのように起動するか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  が聞いてくる質問がどのような意味であり、
	  またどのように答えれば良いか。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを確認して下さい:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールしようとするバージョンの FreeBSD
	  に付属しているサポートハードウェア一覧を読んで、
	  システムのハードウェアがサポートされているかどうか確認して下さい。</para>
      </listitem>
    </itemizedlist>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この章で説明しているインストール手順は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">i386</trademark> および
	FreeBSD/amd64 アーキテクチャを対象にしています。
	他のプラットフォームに特有の説明についても、
	該当する場所に明記しています。
	インストーラとこの文書で記述している内容との間にはいくらかズレがあります。
	この章を正確なインストールマニュアルとしてではなく、
	一般的なガイドとしてご利用ください。</para>
    </note>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-hardware">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア要件</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-hardware-minimal">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">最小構成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールする最小構成は、
	FreeBSD のバージョンやハードウェアのアーキテクチャによって異なります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の節では、最小構成についての情報をまとめています。
	また、FreeBSD のインストール方法によって、フロッピードライブ、
	CDROM ドライブ、もしくはネットワークアダプタが必要となります。
	インストールメディアの準備方法については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/> で説明されています。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/i386 および FreeBSD/pc98</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/i386 と FreeBSD/pc98 の両方のアーキテクチャは、
	  486 以上のプロセッサと、
	  少なくとも 24 MB の RAM が必要です。
	  最小のインストールでは、
	  少なくとも 150  MB のハードディスクの空き容量が必要です。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、古いハードウェアでは、
	    速いプロセッサを入手するより、より多くの RAM
	    やより多くの容量のハードドライブを用意するほうが重要となります。</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/amd64</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/amd64 を実行可能なプロセッサには
	  2 つのクラスがあります。
	  1 つ目のクラスは、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">AMD Athlon</trademark>64, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">AMD Athlon</trademark>64-FX, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">AMD Opteron</trademark>
	  やそれより新しいプロセッサです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もう 1 つのクラスは、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> EM64T アーキテクチャを採用しているプロセッサです。
	  これらのプロセッサの例は、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Core</trademark> 2 Duo, Quad, Extreme プロセッサファミリおよび
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Xeon</trademark> 3000, 5000, および 7000 系のプロセッサです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">nVidia nForce3 Pro-150 ベースのコンピュータを使用するには、
	  BIOS のセットアップを使って、IO APIC を無効にする
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必要があります</emphasis>。
	  もし、このようなオプションがなければ、
	  かわりに ACPI を無効にしてください。
	  Pro-150 チップセットには回避策が見つかっていないバグがあるためです。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/sparc64</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/sparc64 をインストールするには、
	  サポートされているプラットフォームが必要です
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-hardware-supported"/> をご覧ください)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">現時点では、他のオペレーティングシステムとディスクの共有ができないので、
	  FreeBSD/sparc64 専用のディスクが必要です。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-hardware-supported">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サポートされているハードウェア</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サポートされるハードウェアのリストは FreeBSD のリリースと一緒に
	FreeBSD ハードウェアノートとして提供されます。
	このドキュメントは通常 CDROM や FTP 配布の一番上のディレクトリや
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のドキュメントメニューにある
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">HARDWARE.TXT</filename> という名のファイルで見ることができます。
	アーキテクチャごとに用意されるそのリストを見ることで、FreeBSD
	の各リリースでどのようなハードウェア装置がサポートされるかがわかります。
	リリースごと、およびアーキテクチャごとのハードウェアリストは、
	FreeBSD のウェブサイトの <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">リリース情報</link>
	のページにあります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-pre">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール前に行う作業</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-inventory">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータの部品一覧を作る</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールする前に、
	コンピュータで使用している部品の一覧を作っておくといいでしょう。
	FreeBSD のインストールルーチンでは、ハードディスク、ネットワークカード、
	CDROM ドライブなどの部品を、モデル番号、メーカー名とともに表示します。
	さらにこれらのデバイスについて、使用する IRQ, I/O
	ポートまで含めて正しい設定を認識しようと試みます。
	しかし、コンピュータのハードウェアによっては、
	この過程が完全に成功するとは限らず、
	手動で修正しなければならないこともあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">既に別のオペレーティングシステムがインストールされているのであれば、
	それらのオペレーティングシステムでのハードウェアの設定を参考にすると良いでしょう。
	拡張カードなどの設定がよく分からない場合は、
	カードそのものに印刷されていることもあります。
	よく使われる IRQ は 3, 5, 7 で、I/O ポートアドレスは通常
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">0x330</literal> のような
	16 進数で書かれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールする前に、
	これらの情報を印刷するか書き留めておくことを勧めます。
	例えば次のような表です:</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" pgwide="1" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">サンプルデバイス一覧</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="2*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="4*"/>
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デバイスの名前</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IRQ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">I/O ポート</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">メモ</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1 台目のハードディスク</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">40 GB, Seagate 製、プライマリ IDE マスタ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">プライマリ IDE スレーブ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">2 台目のハードディスク</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">20 GB, IBM 製、セカンダリ IDE マスタ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1 つ目の IDE コントローラ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">14</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">0x1f0</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークカード</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> 10/100</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">モデム</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">N/A</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">3Com</trademark> 56K ファックスモデム、COM1 に接続</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">…</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータで使用している部品の一覧を作成したら、
	インストールする FreeBSD
	のリリースのハードウェア要件を満たしているかどうかを確認してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">データのバックアップ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータに価値のあるデータが入っている場合には、
	FreeBSD をインストールする前に、データのバックアップをとり、
	さらに正しくバックアップがとれていることを確認して下さい。FreeBSD
	のインストーラは、ハードディスクに実際に書き込む前に確認を求めますが、
	一度実際に書き込む作業が始まってしまうと、
	もう元に戻すことはできません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-where">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールする場所の決定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ハードディスク全体に FreeBSD をインストールする場合には、
	この節は読み飛ばしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし FreeBSD
	を他のオペレーティングシステムと共存させる必要がある場合は、
	データがディスクにどのように配置されるかを大まかに理解する必要があります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-where-i386">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/i386 アーキテクチャでのディスクレイアウト</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">PC のディスクは、
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</firstterm> と呼ばれる、
	  個別の塊に分割することができます。
	  FreeBSD は内部にもパーティションを持つので、この名称は混乱をおこします。
	  そのため、FreeBSD ではこの塊をスライスと呼びます。
	  たとえば、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の FreeBSD 版は、
	  パーティションではなくスライスと呼びます。
	  PC では、ディスク 1 台あたり 4 つまでパーティションを作成できます。
	  これらのパーティションは<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">プライマリパーティション</firstterm>と呼ばれます。
	  この制限を回避し、
	  4 つ以上のパーティションを作成するために<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">拡張パーティション</firstterm>と呼ばれる新しいパーティション形式が作られました。
	  ディスク 1 台につき 1 つだけ拡張パーティションを作成できます。
	  論理パーティションと呼ばれる特別のパーティションは、
	  この拡張パーティションの内部に作成できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのパーティションは、
	  そのパーティションに含まれるデータの形式を示す数字である、
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">パーティション ID</firstterm> を持ちます。FreeBSD
	  パーティションのパーティション ID は
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">165</literal> です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">通常、各オペレーティングシステムは、
	  それぞれ独自の方法で個々のパーティションを識別します。
	  たとえば <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> は、
	  プライマリパーティションおよび論理パーティションそれぞれに
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> から始まる
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ドライブレター</firstterm>を割り当てます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  はプライマリパーティションにインストールしなければなりません。
	  複数のディスクがある場合は、そのうちのいくつか、もしくはすべてに、
	  FreeBSD パーティションを作成することもできます。
	  FreeBSD をインストールする時は
	  少なくとも 1 つのパーティションを使用可能にしておかなければなりません。
	  このパーティションは、空白のパーティション、
	  もしくは無くなっても構わないデータしか入っていない、
	  既存のパーティションでも構いません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのディスクのすべてのパーティションが使用されている場合は、
	  他のオペレーティングシステムで提供されているツール
	  (たとえば <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> の <command xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</command>) を使用して、
	  そのうちの 1 つを FreeBSD のために解放してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">予備のパーティションがある場合には、それを使ってください。
	  もし、利用できる容量が少なければ、
	  1 つまたは複数の既存のパーティションを縮小して、
	  利用できる容量を確保してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の最小のインストールには、100 MB
	  程度のディスク容量が必要です。
	  しかしこれは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">非常に</emphasis>小さなインストールであり、
	  自分のファイルを作成するスペースはほとんど残らないでしょう。
	  現実的には、グラフィカルな環境が必要ないのであれば 250 MB、
	  グラフィカルユーザインタフェースを使用するのであれば 350 MB
	  以上は必要でしょう。
	  その上、サードパーティ製ソフトウェアをインストールするならば、
	  さらに多くのスペースが必要になるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のためのスペースを用意する際、
	  パーティションサイズを変更するために、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GParted</application>
	  などのツールを使用できます。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GParted</application> は、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NTFS</acronym> を操作することができ、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sysresccd.org/">SystemRescueCD</link>
	  といった多くの Live CD Linux ディストリビューションで利用できます。</para>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションサイズを縮小するツールの使用方法を誤ると、
	    ディスク上のデータが消えてしまう可能性があります。
	    この種のツールを使う際には、
	    使用前に必ず最新のデータのバックアップをとって下さい。</para>
	</warning>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">既存のパーティションを変更せずに使用</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">既に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> がインストールされている
	    4 GB のハードディスクが
	    1 台接続されており、そのハードディスクは 2 つのドライブレター
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">D:</filename>
	    に分割されており、それぞれのサイズが 2 GB であるとします。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> には 1 GB,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">D:</filename> には 0.5 GB
	    のデータがあるとします。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクには、ドライブレター 1 つあたり 1 つのパーティション、
	    合計で 2 つのパーティションがあることを意味します。
	    この場合、<filename xmlns:xlink="http://www.w3.org/1999/xlink">D:</filename> にあるデータをすべて
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> にコピーすれば、
	    2 つ目のパーティションを解放し、FreeBSD
	    のために使うことができるでしょう。</para>
	</example>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">既存のパーティションを縮小する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">既に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> がインストールされている 4 GB
	    のハードディスクが
	    1 台接続された PC を使用しているとします。さらに <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
	    をインストールする際、1 つの大きなパーティションを作成し、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> ドライブとして 4 GB
	    を割り当てたとします。
	    現在 1.5 GB 使用しており、FreeBSD で
	    2 GB 使いたいとします。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールするためには、
	    以下のどちらかを行わなければなりません。</para>

	  <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> のデータをバックアップし、
		インストール時に 2 GB
		のパーティションを作成して <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
		を再インストールする。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">先に述べた <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
		パーティションを縮小するツールを使用する。</para>
	    </listitem>
	  </orderedlist>
	</example>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク設定の詳細をまとめる</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP サイトまたは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバからインストールする場合は、
	ネットワークの設定を知る必要があります。
	インストールを完了するためにネットワークに接続できるよう、
	これらの情報をインストーラのプロンプトに入力する必要があります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットもしくはケーブル / DSL モデムでの接続</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットネットワークに接続する場合や、
	  ケーブル / DSL モデム経由でイーサネットアダプタを利用してインターネットに接続する場合は、
	  次の情報が必要になります:</para>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">IP アドレス</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトゲートウェイの IP アドレス</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">DNS サーバの IP アドレス</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">サブネットマスク</para>
	  </listitem>
	</orderedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらの情報がわからなければ、
	  システム管理者かサービスプロバイダに問い合わせて下さい。
	  <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</firstterm>
	  を使用して、この情報を自動的に割り当てることもあります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">モデムを使用した接続</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">非常に長い時間がかかりますが、
	  ダイアルアップモデムを使って、
	  インターネット経由で FreeBSD をインストールできます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この場合、以下の内容をあらかじめ確認しておく必要があります:</para>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネットサービスプロバイダ
	      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ISP</acronym>) にダイアルする際の電話番号</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">接続に使用する COM: ポート</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ISP</acronym>
	      のアカウントのユーザ名及びパスワード</para>
	  </listitem>
	</orderedlist>
      </sect3>
    </sect2>
    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Errata の確認</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトでは FreeBSD
	の各リリースができる限り安定するよう努力していますが、
	時々バグが発生してしまうことがあります。極まれに、
	発生したバグによりインストールプロセスに影響を与えることがあります。
	これらの問題は発見され解決されるとともに、
	FreeBSD のウェブサイトの <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/releases/10.1R/errata.html">FreeBSD
	  Errata</link> に掲示されます。
	注意すべき既知の問題が無いことを確かめるために、インストールする前に
	Errata を確認してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Errata を含む、すべてのリリースに関する情報は、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/index.html">FreeBSD
	  のウェブサイト</link> の <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">リリース情報</link>
	の項で確認することができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD インストールファイルの入手</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストーラは、
	以下のいずれかの場所に置いてあるファイルから FreeBSD
	をインストールします。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ローカルメディア</title>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">CDROM または DVD</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">USB メモリスティック</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">同じコンピュータ上の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> パーティション</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスク (FreeBSD/pc98 のみ)</para>
	</listitem>
      </itemizedlist>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク</title>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール経由または HTTP プロキシを利用した
	    FTP サイト</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">NFS サーバ</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルまたはシリアル専用接続</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">購入した CD または DVD から FreeBSD をインストールするのであれば、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/> を読み飛ばしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストールファイルを入手するには、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-diff-media"/> まで読み飛ばしてください。
	インストールメディアをどのように準備すれば良いか説明しています。
	このセクションを読み終わった後、ここに戻ってきて、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/> を読んでください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-boot-media">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートメディアの準備</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストールプロセスは、FreeBSD
	インストーラでコンピュータを起動することから始まります。
	インストーラは、
	別のオペレーティングシステムで実行するプログラムではありません。
	通常、コンピュータはハードディスクにインストールされたオペレーティングシステムから起動しますが、
	CDROM や USB ディスクから起動するように設定することもできます。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">CDROM および DVD からの起動が可能な BIOS を持つコンピュータに
	  CDROM または DVD をインストールするのであれば、
	  この節を飛ばしてください。
	  FreeBSD の CDROM と DVD イメージは起動可能であり、
	  他の特別な準備をすることなく FreeBSD
	  のインストールで利用できます。</para>
      </tip>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">起動可能なメモリスティックを作成する場合には、
	以下の手順にしたがってください。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">メモリスティックのイメージの取得</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable>
	    のメモリスティックのイメージは、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>/ISO-IMAGES/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>/FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-memstick.img</literal> の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ISO-IMAGES/</filename>
	    ディレクトリからダウンロードできます。
	    ここで、 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable> と
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable> の部分を、
	    それぞれインストールするアーキテクチャとバージョン番号に置き換えてください。
	    たとえば、FreeBSD/i386 9.3-RELEASE
	    のメモリスティックのイメージは、<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/9.3/FreeBSD-9.3-RELEASE-i386-memstick.img">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/9.3/FreeBSD-9.3-RELEASE-i386-memstick.img</uri>
	    から入手できます。</para>

	  <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.0-RELEASE からは、
	      異なるディレクトリパスが使われています。
	      FreeBSD 9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable>
	      のダウンロードとインストールの詳細については、
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bsdinstall"/> で説明します。</para>
	  </tip>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">メモリスティックイメージには、<filename xmlns:xlink="http://www.w3.org/1999/xlink">.img</filename>
	    という拡張子がついています。<filename xmlns:xlink="http://www.w3.org/1999/xlink">ISO-IMAGES/</filename>
	    ディレクトリには複数の異なるイメージがあり、
	    用いるべきイメージは、
	    FreeBSD のバージョンやインストールするハードウェアが対応しているメディアに依存します。</para>

	  <important xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の作業によってデータが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">消去</emphasis>されるので、
	      先に進む前に、使用する USB
	      スティックにあるデータを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バックアップ</emphasis>してください。</para>
	  </important>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">イメージファイルをメモリスティックに書き込む</title>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を使ってイメージを書き込む</title>

	    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例では、起動するデバイスを
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0</filename> としています。
		適切なデバイスを出力先に設定していることを十分確認してくだい。
		さもなければ、現在あるデータを破壊してしまうでしょう。</para>
	    </warning>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <title xmlns:xlink="http://www.w3.org/1999/xlink">イメージを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使って書き込む</title>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.img</filename> ファイルは、
		単純にメモリスティックにコピーされるような、
		通常のファイルでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。
		ディスクの内容の完全なイメージです。
		したがって、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使用して、
		直接ディスクにイメージを書き込む必要があります。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=FreeBSD-9.3-RELEASE-i386-memstick.img of=/dev/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">da0</replaceable> bs=64k</userinput></screen>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		<computeroutput xmlns:xlink="http://www.w3.org/1999/xlink">Operation not permitted</computeroutput>
		エラーが表示されたら、ターゲットデバイスが他で利用されていないかどうか、
		マウントされていないかどうか、
		他のプログラムが自動的にマウントしていないかどうかを確認してください。
		その後、もう一度実行してください。</para>
	    </step>
	  </procedure>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> を使ってイメージを書き込む</title>

	    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドは、
		指定したデバイスに現在あるデータを上書きして破壊してしまうので、
		出力先に適切なドライブレターを設定していることを十分確認してくだい。</para>
	    </warning>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Image Writer for Windows</application>
		を入手する</title>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Image Writer for Windows</application> は、
		イメージファイルをメモリスティックに正しく書き込むことのできるフリーのアプリケーションです。<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://launchpad.net/win32-image-writer/">https://launchpad.net/win32-image-writer/</uri>
		からダウンロードして、フォルダに展開してください。</para>
	    </step>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <title xmlns:xlink="http://www.w3.org/1999/xlink">イメージライタを使ってイメージを書き込む</title>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Win32DiskImager</application>
		アイコンをダブルクリックして、プログラムを起動します。
		<computeroutput xmlns:xlink="http://www.w3.org/1999/xlink">Device</computeroutput>
		の下に表示されるデバイスレターが、
		メモリスティックのドライブであることを確認してください。
		フォルダのアイコンをクリックして、
		メモリスティックに書き込むイメージファイルを選択します。
	        <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">Save</guibutton> をクリックして、
		イメージファイルの名前をアクセプトしてください。
		すべてが正しく行われたかどうか、また、
		他のウィンドウでメモリスティックのフォルダが開かれていないことを確認してください。
		最後に、<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">Write</guibutton> を押して、ドライブにイメージファイルを書き込みます。</para>
	    </step>
	  </procedure>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/pc98
	のインストール用に起動フロッピーディスクを作成するためには、
	次のステップに従って下さい:</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">起動フロッピーイメージの取得</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/pc98 のブートディスクは、
	    floppies ディレクトリ、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/pc98/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE/floppies/</literal>.
	    から入手できます。
	    ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable> の部分を、
	    それぞれインストールするバージョン番号に置き換えてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーイメージは <filename xmlns:xlink="http://www.w3.org/1999/xlink">.flp</filename>
	    という拡張子がついています。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">floppies/</filename>
	    には複数の異なるイメージがあります。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename> とともに、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">kern.small*</filename> または
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">kern*</filename>
	    といったインストールの種類に関連づいた複数のファイルをダウンロードしてください。</para>

	  <important xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP プログラムを使用してこれらのディスクイメージをダウンロードする時は、
	      必ず<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バイナリモード</emphasis>にして下さい。
	      Web ブラウザによっては <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">テキスト</emphasis>
	      または <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">アスキー</emphasis>
	      モードでダウンロードするものがあり、
	      ディスクから起動できないときは大抵これが原因です。</para>
	  </important>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクの用意</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ダウンロードしたイメージファイル 1 つにつき
	    1 枚のフロッピーディスクを用意してください。
	    これらのディスクに欠陥があってはいけません。
	    これを確認する最も簡単な方法は、
	    自分自身でフォーマットしてみることです。
	    フォーマットする前のフロッピーを信用してはいけません。
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> のフォーマットユーティリティは、
	    不良ディスクがあっても教えてはくれないでしょう。
	    それらを <quote xmlns:xlink="http://www.w3.org/1999/xlink">bad</quote> とマークして、無視するだけです。
	    新品のフロッピーを使うことをお薦めします。</para>

	  <important xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストーラがクラッシュしたりフリーズしたり、
	      おかしな動作をした時、
	      まずはじめに疑うべきもののうちの 1 つはフロッピーです。
	      フロッピーイメージを新しいディスクに書き込んで、
	      もう一度試してみて下さい。</para>
	  </important>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクへイメージファイルを書き込む。</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.flp</filename> ファイルは、
	    ディスクにコピーできるような、
	    通常のファイルでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。
	    完全なディスクの内容のイメージです。
	    イメージを直接ディスクに書き込む特別なツールを使用する必要があります。</para>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DOS</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
	    が動作しているコンピュータでフロッピーを作成する
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">rawrite</command> と呼ばれるツールを提供しています。
	    このツールは FreeBSD の FTP サイト上の
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/pc98/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">
	      version</replaceable>-RELEASE/tools/</literal>
	    からダウンロードできます。
	    このツールをダウンロードしたら、フロッピーを挿入してください。
	    その後、ファイル名を指定してフロッピードライブに書き込んでください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">C:\&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rawrite boot.flp A:</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">毎回フロッピーディスクを入れ換え、
	    ファイルの名前を示すラベルを付けながら、
	    それぞれの <filename xmlns:xlink="http://www.w3.org/1999/xlink">.flp</filename>
	    ファイルに対してこのコマンドを繰り返します。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.flp</filename> ファイルを置いた場所に応じて、
	    コマンドラインを変更して下さい。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムのような、
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>-like システムでフロッピーへの書き込みを行う場合は、
	    イメージファイルを直接ディスクに書き込むために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	    を使ってください。FreeBSD 上では、
	    次のように実行してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=boot.flp of=/dev/fd0</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD においては、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fd0</filename> が
	    1 台目のフロッピーディスクドライブを表します。
	    他の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> システムでは、
	    フロッピーディスクデバイスには別の名前がついているかもしれないので、
	    必要に応じてそのシステムのドキュメントを確認して下さい。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで FreeBSD をインストールする用意ができました。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-start">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールの開始</title>

    <important xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、
	次のメッセージが表示されるまでインストーラはディスクに何の変更も加えません。</para>

      <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">Last Chance: Are you SURE you want continue the installation?

If you're running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</literallayout>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この最後の警告の前であれば、
	いつでもハードディスクの内容を変更することなくインストールを中断できます。
	もし、何かを間違って設定してしまったことが心配ならば、
	最後の警告の前に単にコンピュータをオフにしてください。
	被害を残さずに済みます。</para>
    </important>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-starting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">起動</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-starting-i386">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">i386</trademark> アーキテクチャでの起動</title>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータの電源をいれます。
	      起動が始まると、すぐにシステムまたは BIOS
	      のセットアップメニューに入るためのオプションが表示されるはずです。
	      一般的には <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F2</keycap>, <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F10</keycap>,
	      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Del</keycap> のようなキーまたは
	      <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
		<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
		<keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap>
	      </keycombo> のようなキーの組合せです。
	      画面上に示されるキーを使用してください。
	      コンピュータによっては、
	      起動する間に画像を表示するものもあります。
	      大抵の場合、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> キーを押すと、
	      画像が消えてブートメッセージが表示されます。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">どの装置からシステムが起動するかを制御する設定を探してください。
	      通常は <quote xmlns:xlink="http://www.w3.org/1999/xlink">Boot Order</quote> と呼ばれ、一般的には、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Floppy</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">First Hard
		Disk</literal> などの装置の一覧として表示されています。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">CD または DVD から起動する場合には CDROM
	      が選択されていることを、
	      USB ディスクから起動するなら
	      USB ディスクが選択されていることを確認してください。
	      自信が無い場合は、
	      コンピュータやマザーボード付属のマニュアルを参照してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">変更を保存して終了してください。
	      コンピュータが再起動するはずです。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/>
	      で説明されている <quote xmlns:xlink="http://www.w3.org/1999/xlink">起動</quote> USB
	      スティックを使用する場合には、
	      コンピュータを立ち上げる前に、
	      USB スティックを挿入してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">CD または DVD から起動する場合、コンピュータを立ち上げ、
	      すぐに CD または DVD を挿入する必要があります。</para>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/pc98 では、
		インストール用の起動フロッピーが用意されており、
		<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/>
		で説明されている方法で作成できます。
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename>
		が最初に挿入するフロッピーディスクです。
		インストーラを起動できるように、
		このフロッピーをフロッピードライブに挿入してください。</para>
	    </note>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、コンピュータがすでに存在している OS を読み込み、
	      通常通り起動してしまったのであれば、
	      以下の原因が考えられます。</para>

	    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">起動ディスクが起動プロセスにおいて十分早いタイミングで挿入されていません。
		  ディスクをそのままにしてコンピュータを再起動してください。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">BIOS の変更が適切に行われていません。
		  正しいオプションを設定してやり直してください。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">使用している BIOS は、
		  希望しているメディアからの起動に対応していません。</para>
	      </listitem>
	    </orderedlist>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は起動を開始します。CD または DVD から起動している場合、
	      次のような画面が表示されるでしょう。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">Booting from CD-Rom...
645MB medium detected
CD Loader 1.2

Building the boot loader arguments
Looking up /BOOT/LOADER... Found
Relocating the loader and the BTX
Starting the BTX loader

BTX loader 1.00 BTX version is 1.02
Consoles: internal video/keyboard
BIOS CD is cd0
BIOS drive C: is disk0
BIOS drive D: is disk1
BIOS 636kB/261056kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/boot/kernel/kernel text=0x64daa0 data=0xa4e80+0xa9e40 syms=[0x4+0x6cac0+0x4+0x88e9d]
\</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクから起動している場合、
	      次のような画面が現れるでしょう。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">Booting from Floppy...
Uncompressing ... done

BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/kernel text=0x277391 data=0x3268c+0x332a8 |

Insert disk labelled "Kernel floppy 1" and press any key...</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename> フロッピーを抜き、
	      次のフロッピーを挿入し、
	      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	      プロンプトが表示されたら、
	      要求される通りに他のディスクを挿入してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">起動プロセスは FreeBSD ブートローダメニューを表示します。</para>

	    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-loader-menu">
	      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ブートローダメニュー</title>

	      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
		<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
		  <imagedata fileref="install/boot-loader-menu"/>
		</imageobject>
	      </mediaobject>
	    </figure>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">10 秒間待つか、
	      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>
	  </step>
	</procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC64</trademark> アーキテクチャでの起動</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC64</trademark> システムは、
	  ディスクから自動的に起動するように設定されています。
	  FreeBSD をインストールするには、ネットワークまたは CD/DVD
	  から起動し、ブートメッセージが表示されるまで待ってください。
	  モデルによりますが、以下のようなメッセージが表示されます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">Sun Blade 100 (UltraSPARC-IIe), Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial #51090132.
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしシステムがディスクから起動するようでしたら、
	  キーボードから
	  <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">L1</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap></keycombo>
	  または <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Stop</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap></keycombo>
	  を押すか、シリアルコンソールから
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で <command xmlns:xlink="http://www.w3.org/1999/xlink">~#</command>
	  を使って <command xmlns:xlink="http://www.w3.org/1999/xlink">BREAK</command> を送信して、
	  PROM プロンプトを表示してください。
	  次のような表示です。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">ok     </prompt><co xml:id="prompt-single"/>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">ok {0} </prompt><co xml:id="prompt-smp"/></screen>

	<calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <callout arearefs="prompt-single">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">単一の CPU を持つシステムでのプロンプト</para>
	  </callout>

	  <callout arearefs="prompt-smp">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">SMP システムのプロンプト。数字はアクティブな CPU の数。</para>
	  </callout>
	</calloutlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、CD または DVD をドライブに挿入し、
	  PROM プロンプトで <command xmlns:xlink="http://www.w3.org/1999/xlink">boot cdrom</command>
	  と入力してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="view-probe">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイス検出結果を再表示する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画面に表示される数百行の文字列は (バッファに) 記憶されており、
	再表示することが出来ます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バッファを再表示するには、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll Lock</keycap> を押してください。
	これで、画面をスクロールできます。結果を見るためには、矢印キーもしくは
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">PageUp</keycap> か <keycap xmlns:xlink="http://www.w3.org/1999/xlink">PageDown</keycap> を使います。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll Lock</keycap> をもう一度押すと、スクロールを停止します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この作業を行って、カーネルがデバイス検出を実行している時に画面の外に流れた文字列を再表示してください。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-dev-probe"/> によく似た画面が現われるでしょうが、
	コンピュータに搭載されているデバイスによって、表示される文字列は異なります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-dev-probe">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">古典的なデバイス検出結果の例</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">avail memory = 253050880 (247120K bytes)
Preloaded elf kernel "kernel" at 0xc0817000.
Preloaded mfs_root "/mfsroot" at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; (vendor=0x1106, dev=0x3040) at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5” drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller (i8042)&gt; at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</screen>
      </figure>

     <para xmlns:xlink="http://www.w3.org/1999/xlink">丹念に検出結果をチェックして、すべてのデバイスを
	 FreeBSD が検出できた事を確認してください。デバイスが見つからなかった場合、
	検出結果へ表示されません。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">カスタムカーネル</link> を構築することで、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	カーネルに含まれていないデバイスに対応できるようになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイス検出後、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="config-country"/> に示されるメニューが表示されます。
	矢印キーを使って、国、地域またはグループを選択し、
	その後、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して決定してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="config-country">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">国の選択メニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/config-country"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">国に <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">United States</guimenuitem> を選択した場合には、
	標準のアメリカのキーボードマップが使われるようになります。
	他の国を選択すると以下のメニューが表示されます。
	矢印キーを使い、適切なキーボードマップを選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="config-keymap">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">キーボードメニューの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/config-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">国の設定が終わったら、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	のメインメニューが表示されます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-sysinstall">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の紹介</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> のインストーラである
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、
      コンソール上で動作し、
      いくつものメニューや画面から構成され、
      設定やインストールプロセスをコントロールできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">メニューはカーソルキー、
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>, <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap>,
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap> 等で操作します。
      これらのキーの詳しい解説とその意味については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-main3"/> に示されているように、
      <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Usage</guimenuitem> の項目が強調表示され、
      <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[Select]</guibutton> ボタンが選択されていることを確認してから、
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">メニューシステムの使い方が表示されます。読み終ったら、
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してメインメニューに戻りましょう。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-main3">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall のメインメニューから Usage を選択</title>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/main1"/>
	</imageobject>
      </mediaobject>
    </figure>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="select-doc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントメニューの選択</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メインメニューから、カーソルキーで
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Doc</guimenuitem> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="main-doc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントメニューの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/main-doc"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでドキュメントメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="docmenu1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall ドキュメントメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/docmenu1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">付属のドキュメントを読むことは重要です。
	ドキュメントを読むには、カーソルキーで選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。読み終えたら、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押すとドキュメントのメニューに戻ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メインのインストールメニューに戻るには、カーソルキーで
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guimenuitem> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="keymap">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">キー配列メニューの選択</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キーボード配列を変更するには、カーソルキーで
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Keymap</guimenuitem> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	使用しているキーボードが、標準ではなかったり、
	または US ではない場合に変更作業が必要となります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-keymap">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall メインメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/main-keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上下のカーソルキーでメニュー項目を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap> を押すと、異なるキーボード配列を選択できます。
	もう一度 <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap> を押すと、選択を解除します。
	完了したら、カーソルキーで <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリーン表示では、リストの一部しか表示されていません。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> を押して <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Cancel ]</guibutton> を選択すると、
	デフォルトのキーマップを使用して、
	メインインストールメニューに戻ります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-keymap-menu">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall キー配列メニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/keymap"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="viewsetoptions">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールオプション画面</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Options</guimenuitem> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-options">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall メインメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/main-options"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="options">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Sysinstall オプション</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/options"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのユーザーにはデフォルトの値でよく、変更する必要はありません。
	リリース名は、インストールするバージョンによって変わります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">選択された項目の説明が、画面の下部に青く強調表示されます。
	オプションの 1 つは <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Use Defaults</guimenuitem> という、
	すべての値を初期値に戻すものであることに気をつけてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap> を押すと、
	さまざまなオプションについての説明を読むことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Q</keycap> を押すと、
	メインインストールメニューに戻ります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="start-install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">標準インストールの開始</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> や FreeBSD が初めての人には
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Standard</guimenuitem> インストールがお奨めです。
	カーソルキーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Standard</guimenuitem> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してインストールを始めてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-standard">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">標準インストールの開始</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/main-std"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-steps">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク領域の割り当て</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最初の課題は、FreeBSD 用にディスク領域を割り当て、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      が使えるようにラベルを作成することです。
      そうするためには、FreeBSD
      がディスク上にどのような情報があることを前提としているかを知らなければなりません。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-drive-bios-numbering">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">BIOS ドライブの番号付け</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールして設定する前に、
	FreeBSD がどのように BIOS
	ドライブマッピングを取り扱うかを理解しておくことが重要です。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MS-DOS</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Microsoft Windows</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> のような
	に依存したオペレーティングシステムが動いている PC では、
	BIOS がディスクドライブの順序を構成でき、
	OS はその変化に追従します。これにより、"プライマリマスタ"
	以外のディスクから起動することができます。
	この仕組みを用いればシステムのバックアップを取る簡単な方法を構築できます。
	もう一つ同じディスクを買い、
	一つ目のディスクから二つめのディスクへのコピーを定期的に取ればいいのです。
	そして、一つ目のディスクに障害が起きたり、ウィルスに感染したり、
	オペレーティングシステムの不具合でめちゃくちゃにされてしまった時には、
	BIOS に対してドライブを論理的に交換するように指示することで簡単に復旧できるのです。
	この方法はドライブのケーブルを交換するのと同じようなことなのですが、
	ケースを開ける必要がありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">SCSI コントローラを備えたシステムでは、
	しばしば BIOS に拡張が施されており、同じように 7
	台までのドライブの順番を組み換えることができるようになっています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以上のような機能を便利に使っているユーザは、
	FreeBSD では同じような結果にならないことに驚くかもしれません。FreeBSD は
	BIOS を利用しないため、<quote xmlns:xlink="http://www.w3.org/1999/xlink">論理 BIOS ドライブマッピング</quote>
	については知らないのです。
	このため、特に同じ物理ジオメトリを持っているいくつかのドライブをデータのクローンとして使っている時に、
	ややこしい状況になり得ます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を使う時は、
	インストール前にドライブの番号付けが自然なものになるように、
	必ず BIOS の設定を戻しておきましょう。
	もしドライブの番号付けを変更する必要がある場合には、
	ケースを開けジャンパーやケーブルを移動してください。</para>

      <sidebar xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Bill と Fred のイケイケ冒険記より</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Bill は Fred のためにもう一つ FreeBSD 箱を作ろうと古い
	  Wintel 箱を潰しました。Bill は ユニット番号 0 の SCSI ドライ
	  ブを一つ追加し、そこに FreeBSD を入れました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Fred はこのシステムを使い始めましたが、数日後その古い
	  SCSI ドライブがたくさんのエラーを吐いていることに気付きました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その問題に対処するため、
	  Bill は同じ SCSI ドライブを取ってきました。
	  このドライブを SCSI ユニット番号 4 と
	  して取り付け、ドライブ 0 からドライブ 4 へのイメージコピーを行ないました。
	  新しいドライブがインストールされ、
	  しかもうまく動いているため、Bill
	  はそれを使い始めてもいいだろうと思いました。
	  そこで彼は SCSI BIOS の機能を使ってシステムがユニット 4
	  から起動するようにディスクドライブの順序を入れ換えました。
	  FreeBSD が起動し、調子良く動き始めました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Fred は作業を続けましたが、すぐに
	  新しいバージョンの FreeBSD
	  にアップグレードすることにしました。Bill は SCSI ユニット 0
	  のディスクは当てにならないので取りはずし、
	  別の新しい同じドライブと交換しました。
	  そして、Bill は新しいバージョンの
	  FreeBSD を、新しい SCSI ユニット 0 にインストールしました。
	  インストールはうまくいきました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Fred は新しいバージョンの FreeBSD を数日使ってみて、
	  技術部門でも使えるくらい十分に良いものだと確認しました。
	  古いバージョンからすべての作業をコピーする時が来たのです。
	  そこで Fred は、古い FreeBSD
	  で行なっていた作業の最新のものが置いてあるはずの SCSI ユニット 4 
	  をマウントしました。ところが、Fred は SCSI ユニット 4
	  には自分の作業がなにも残っていないことを発見して慌てふためきました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Bill がオリジナルの SCSI ユニット 0 のイメージをユニット
	  4 にコピーした時に、ユニット 4 が <quote xmlns:xlink="http://www.w3.org/1999/xlink">新クローン</quote>
	  になっていたのです。
	  Bill がユニット 4 から起動するように SCSI BIOS で順序の入れ換えを行なった後でも、
	  FreeBSD は依然として SCSI ユニット 0 上で動いていたのです。
	  BIOS にこのような変更を行なっても Boot と
	  Loader のコードの一部もしくは全部は選択された BIOS
	  ドライブから取得されます。しかしながら、処理が FreeBSD
	  のカーネルドライバに引き渡された時から BIOS ドライブの順序は無視され、
	  FreeBSD は、通常のドライブ番号順に移行するのです。
	  さきほどの例では、システムはオリジナルの SCSI ユニット 0 で動き続けており、
	  Fred のデータはすべて SCSI ユニット 4 ではなくそのディスクに残っていたのです。
	  システムが SCSI ユニット 4
	  で動いているように見えたのは単に人の期待からくる妄想だったのです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">幸運にも、古い SCSI ユニット 0 は見つけ出され、
	  Fred が行なった作業はすべて彼のもとへ返ってきたのです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この例では SCSI ドライブが用いられましたが、その概念は
	  IDE ドライブにも同じように当てはまります。</para>
      </sidebar>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="main-fdisk">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">fdisk でスライス作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で Standard インストールを選択すると、
	次のメッセージが表示されるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                                 Message
 In the next menu, you will need to set up a DOS-style ("fdisk")
 partitioning scheme for your hard disk. If you simply wish to devote
 all disk space to FreeBSD (overwriting anything else that might be on
 the disk(s) selected) then use the (A)ll command to select the default
 partitioning scheme followed by a (Q)uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked "unused" and use the
 (C)reate command.
                                [  OK  ]

                      [ Press enter or space ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押すと、
	カーネルがデバイス検出時に見付けた、
	すべてのハードドライブのリストが表示されます。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-fdisk-drive1"/> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename> と名付けられた
	2 つの IDE ディスクをもつシステムの例です。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-fdisk-drive1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">fdisk を実行するディスクの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/fdisk-drive1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この画面では、一覧に <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename>
	が表示されていないことに注目してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つ目はプライマリ IDE コントローラのマスタ、
	二つ目はセカンダリ IDE コントローラのマスタとして接続している
	2 つの IDE ハードディスクを考えてください。
	もし FreeBSD がこれらを <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename>
	のように番号つけても、すべては動作するでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、その後プライマリ IDE コントローラのスレーブとして
	3 つ目のディスクを追加したとしたら、
	それはたった今 <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename> となり、
	以前の <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename> となるでしょう。
	デバイス名はファイルシステムを見つけるのに使われるため、
	ファイルシステムのいくつかは突然正しく現れなくなるかもしれず、
	FreeBSD の設定を変更する必要があるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これを解決するために、ディスクが見つかった順番ではなく、
	どこに接続されているかということに基づいて
	IDE ディスクを名前づけするようにカーネルを設定できます。
	この機構によって、セカンダリ IDE コントローラのマスタディスクは、
	たとえ <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> または <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename>
	デバイスがないとしても<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いつでも</emphasis>
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename> になるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この設定は FreeBSD カーネルの標準設定です。
	これがこの例で画面に <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename> が表示される理由です。
	このスクリーンショットが得られたマシンには、
	IDE コントローラの両方のマスタチャネルにディスクがあり、
	スレーブチャネルにはありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールしたいディスクを選択して、
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を押してください。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-fdisk1"/> のような表示とともに
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Fdisk</application> が起動するでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Fdisk</application>
	の画面は三つのセクションに分かれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つ目のセクションは、これは表示の先頭二行にわたっているのですが、
	現在選択されているディスクの詳細を表示します。
	ディスクの詳細には FreeBSD でのデバイス名、ディスクのジオメトリ、
	そしてディスクの全容量が含まれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二つ目のセクションは現在ディスク上にあるスライスを表示します。
	スライスの開始セクタと終了セクタ、大きさ、FreeBSD 上での名前、
	種類とサブタイプが表示されます。
	この例では、PC 上のディスクレイアウト機能が生み出した、
	未使用の小さなスライスを二つ表示しています。
	また大きな <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FAT</acronym> スライスも一つ表示しています。
	これは、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> において <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> ドライブ、
	および拡張スライスとして現れます
	(この場合、他のドライブレターとなりえます)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">三つ目のセクションは <application xmlns:xlink="http://www.w3.org/1999/xlink">FDisk</application>
      において利用可能なコマンドを表示します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-fdisk1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">典型的な <application xmlns:xlink="http://www.w3.org/1999/xlink">FDisk</application> パーティション</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/fdisk-edit1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">今から行うことは、
	どのようにディスクを分割するかによります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をディスク全体にインストールするのであれば、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Use Entire Disk</guimenuitem> オプションを表す
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap> キーを押してください。
	この場合、このディスクのすべてのデータは削除されます。
	存在しているスライスは取り除かれ、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">unused</literal> の小さな領域と、
	FreeBSD のための大きなスライスへ置きかわるでしょう。
	次に方向キーを使って新しく作成された
	FreeBSD スライスを選択し、スライスに起動可能の印をつけるために
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">S</keycap> キーを押してください。
	そのとき、画面の見た目は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-fdisk2"/>
	とよく似たものとなるでしょう。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Flags</literal> 列の <literal xmlns:xlink="http://www.w3.org/1999/xlink">A</literal> に注意してください。
	これはこのスライスが <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">アクティブ</emphasis> で、
	ここから起動することを示します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のための空き領域を作成するために、
	存在しているスライスを削除しようとしているのなら、
	方向キーをつかってスライスを選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">D</keycap> キーを押してください。
	それから <keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap> キーを押すと、
	作成したいスライスの大きさの入力を促されます。
	適切な数字を入力して <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。
	この欄に表示されているデフォルト値は、
	スライスに対して割り当てることのできる最大の値です。
	この値は、割り当てられていない領域の連続したブロック、または、ハードディスクの全サイズです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のための空き領域を既に作成しているなら、
	そのときは <keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap>
	キーを押して新しいスライスを作成できます。
	再び、作成したいスライスの大きさの入力を促されるでしょう。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-fdisk2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク全体を使う FDisk 構成</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/fdisk-edit2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">終了したら <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Q</keycap> キーを押しください。
	あなたの変更は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	内に保存されるでしょう。
	しかし、まだディスクには書きこまれません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bootmgr">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャのインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューでは、
	ブートマネージャをインストールするかどうかを選択します。
	一般的に、次の場合は
	FreeBSD ブートマネージャをインストールするべきです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">二つ以上のドライブがあり、
	    一番目のドライブ以外に FreeBSD をインストールする場合</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を同じディスク内に他の OS と共存させてインストールしており、
	    コンピュータを起動する際に FreeBSD か他の OS かを選択したい場合</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、コンピュータに FreeBSD のみをインストールするのであれば、
	最初のハードディスクにインストールし、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Standard</guimenuitem> ブートマネージャを選択してください。
	もし、FreeBSD をブート可能なサードパーティ製のブートマネージャを使うのであれば、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">None</guimenuitem> を選択してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">選択をして <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-bootmgr">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall ブートマネージャメニュー</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/boot-mgr"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap> キーを押すと表示されるヘルプ画面では、
	ハードディスクを
	OS 間で共有する場合に起こり得る問題について議論しています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">他のドライブのスライスの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二つ以上ドライブがある場合、
	ブートマネージャを選択した後、ドライブ選択画面に戻ります。
	FreeBSD を二つ以上のディスクにインストールしたいのなら、
	他のディスクを選択し、<application xmlns:xlink="http://www.w3.org/1999/xlink">FDisk</application>
	を用いてスライス作成の作業を繰りかえしてください。</para>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">一番目以外のドライブに FreeBSD をインストールするのであれば、
	  両方のドライブに FreeBSD
	  のブートマネージャをインストールする必要があります。</para>
      </important>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-fdisk-drive2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ドライブ選択の終了</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/fdisk-drive2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> キーを押して、
	最後に選択したドライブと
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> および <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Cancel ]</guibutton> の間を切りかえてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> に移るために <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> キーを一度押し、
	それからインストールを続けるために
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsdlabeleditor">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</application> でパーティション作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、作成したばかりのスライス内にパーティションをいくつか作成してください。
	それぞれのパーティションには
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> から <literal xmlns:xlink="http://www.w3.org/1999/xlink">h</literal> までの文字がつけられ、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal> そして
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">d</literal>
	パーティションは守るべき慣習的な意味を持っています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">特定のアプリケーションは、特別のパーティション構成
	(特に二つ以上のディスクにわたってパーティションを構成している場合)
	から利益を得ることができます。
	しかしながら、はじめて FreeBSD をインストールする場合、
	ディスクをどのようにパーティションに区切るか、
	ということをあまり大げさに考えることはありません。
	FreeBSD をインストールして使い方を学びはじめることの方がより重要です。
	オペレーティングシステムにより詳しくなった後、
	いつでも FreeBSD を再インストールすることで、
	パーティション構成を変更できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は四つのパーティション : 一つはスワップ領域、
	三つのファイルシステム、の構成です。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">一つ目のディスクのパーティションレイアウト</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="4*"/>

	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">サイズ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">1 GB</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">これはルートファイルシステムです。
		他のファイルシステムはすべてこの下のどこかにマウントされるでしょう。
		ユーザのファイルはここに格納されず、また、
		通常の FreeBSD インストールでは、
		ここに配置するデータは約 128 MB なので、
		1 GB はこのファイルシステムに手ごろなサイズです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">なし</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">メモリの 2-3 倍</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal> パーティションには、
		システムのスワップ領域が保持されています。
		スワップ領域の正しい容量を決めることは、
		ちょっとした芸術かもしれません。
		確実な経験則は、物理的なメモリ (RAM) の
		2-3 倍のサイズのスワップ領域とするように、としています。
		また、最低 64 MB のスワップを確保するといいでしょう。
		したがって、コンピュータが
		32 MB 未満のメモリを搭載している時は、
		スワップ領域を 64 MB にしてください。
		二つ以上のディスクがあるときには、
		それぞれのディスクにスワップを置くことができます。
		FreeBSD はそれぞれのディスクをスワップに用い、
		スワップ動作を効果的に高速化させるでしょう。
		この場合、必要とするスワップサイズの合計を計算し、
		それぞれのディスクに置くスワップサイズを求めるために、
		ディスク数で割ってください。</para>
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">512 MB 〜 4096 MB</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
		には、ログファイルやその他の管理ファイルといった、
		絶えず変化するファイルが保存されています。
		これらのファイルの多くは
		FreeBSD の毎日の動作の間に広範囲にわたって読みこまれ、
		書きこまれます。 (訳注: <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>とは)
		別のファイルシステムにこれらのファイルを置くことは、
		異なったアクセス頻度のディレクトリ内にある他のファイルに影響を与えずに、
		FreeBSD がこれらのファイルへのアクセスを最適化することを可能とします。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">f</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの残り (少なくとも 8 GB)</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">他のすべてのファイルは、主に
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
		およびそのサブディレクトリ内に保存されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記のサイズの値は、例として載せたものです。
	  経験のあるユーザのみが使ってください。
	  FreeBSD パーティションエディタの <literal xmlns:xlink="http://www.w3.org/1999/xlink">Auto
	    Defaults</literal>
	  で選択できる自動パーティションレイアウトが推奨されています。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二つ以上のディスクに FreeBSD をインストールしようとしているのなら、
	設定した他のスライスにもパーティションを作成しないといけません。
	最も簡単な方法は、
	それぞれのディスクに二つのパーティションを作成することです。
	一つはスワップ領域、
	そして一つはファイルシステムのためのパーティションです。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">残りのディスクのパーティション構成</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="2*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="3*"/>

	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">サイズ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">なし</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明を参照</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">スワップ領域をそれぞれのディスクにわたって分割できます。
		たとえ <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> パーティションが
		(訳注: そのスライスに) ないとしても、
		慣習により、スワップ領域は
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal> パーティションとなります。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">/disk<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの残り</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの残りは一つの大きなパーティションとなります。
		これは <literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal> パーティションの代わりに、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal>
		パーティション上へ簡単に置くことができるかもしれません。
		しかしながら慣習により、スライス上の <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal>
		パーティションはルート
		(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>)
		ファイルシステムとなるファイルシステムのために予約されています。
		この慣習にしたがう必要はありませんが
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> はこのように設定します。
		したがってこの慣習に従うことで,
		インストールが少しだけわかりやすくなります。
		このファイルシステムをマウントする場所はどこにでも選択できます。
		この例では、これらを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/disk<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></filename>
		としてマウントするよう提案しています。
		ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable>
		はそれぞれのディスクごとに変更する数字です。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティション構成を決めたら、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>  を用いて作成してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition(s) just created. If you have a reasonable amount of disk
 space (1GB or more) and don't have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don't care for the layout chosen by
 (A)uto, press F1 for more information on manual layout.

                                [  OK  ]
                          [ Press enter or space ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Disklabel</application> と呼ばれる
	FreeBSD パーティションエディタを使うために、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label"/> は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Disklabel</application>
	を起動したときの画面表示です。
	この画面は三つのセクションに分かれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめの数行は現在作業しているディスクの名前、
	そして作成しようとしているパーティションを含むスライスを表示します
	この時点で <application xmlns:xlink="http://www.w3.org/1999/xlink">Disklabel</application>
	はスライスのことをスライス名ではなく<literal xmlns:xlink="http://www.w3.org/1999/xlink">パーティション名</literal>と呼びます 。
	この画面はスライス内の空き領域の合計も表示しています。
	この空き領域はスライス内に存在していて、
	しかしまだパーティションに割り当てられていない領域です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画面の中段は作成したパーティションを表示しています。
	それぞれのパーティションが含むファイルシステムの名前、サイズ、
	ファイルシステム作成にまつわるいくつかのオプションが表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画面の下段にある三つ目のセクションは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</application>
	で有効なキー操作を表示します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall ディスクラベルエディタ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-ed1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Disklabel</application>
	は自動的にパーティションを作成し、
	デフォルトのサイズを割りあてます。
	デフォルトのサイズは、
	ディスクのサイズからパーティションサイズを決めるアルゴリズムによって計算されます。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap> キーを押すと、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label2"/> とよく似た画面が表示されます。
	デフォルトのサイズは使用しているディスクのサイズに依存するので、
	希望するサイズになることもあるし、ならないこともあるでしょう。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのパーティション構成では、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename> に対して、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>
	  パーティションの一部ではなく、
	  それ自身のパーティションを割り当てます。
	  このことは、一時ファイルによって
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>
	  パーティションがあふれてしまうことを防ぐのに役立ちます。</para>
      </note>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの自動割り当てによる sysinstall ディスクラベルエディタ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-auto"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのパーティションを変更するには、
	方向キーを用いて一番目のパーティションを選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">D</keycap> キーを押して削除してください。
	この作業を繰り返して、
	提案されたすべてのパーティションを削除してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一番目のパーティション (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>
	としてマウントされる <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal>) を作成するには、
	画面の先頭の適切なディスクスライスが選択されていることを確認して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap> キーを押してください。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label-add"/> に示されるような、
	新しいパーティションのサイズの入力をうながすダイアログが現れます。
	使用したいサイズをブロック数で入力するか、
	数字の後に <literal xmlns:xlink="http://www.w3.org/1999/xlink">M</literal> をつけてメガバイト単位 、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">G</literal> をつけてギガバイト単位 、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">C</literal>
	をつけてシリンダ単位で入力してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label-add">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ルートパーティションに割りあてる容量</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-root1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(訳注: ダイアログに) 表示されるデフォルトのサイズは、
	スライスに残っているサイズのパーティションを作成するでしょう。
	上述したパーティションサイズを用いる場合は <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Backspace</keycap>
	キーを用いて表示されている数字を削除し
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label-add2"/> のように <userinput xmlns:xlink="http://www.w3.org/1999/xlink">512M</userinput>
	と入力してください。そして <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label-add2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ルートパーティションサイズの編集</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-root2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションのサイズを入力すると、
	次にインストーラは、このパーティションがファイルシステムなのか、
	それともスワップ領域なのかを聞いてきます。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label-type"/>
	のようにダイアログが表示されます。
	この一番目のパーティションにはファイルシステムが含まれるので、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">FS</guimenuitem> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label-type">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ルートパーティションタイプの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-fs"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に <application xmlns:xlink="http://www.w3.org/1999/xlink">Disklabel</application> に対して、
	このファイルシステムがどこにマウントされるか教えなければなりません。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label-mount"/>
	のようなダイアログが表示されます。
	<userinput xmlns:xlink="http://www.w3.org/1999/xlink">/</userinput> と入力し
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label-mount">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ルートのマウントポイント選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-root3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画面は更新されて、
	新しく作成したパーティションが表示されます。
	この作業を繰りかえして、
	他のパーティションを作成してください。
	スワップパーティションを作成したときには、
	ファイルシステムのマウントポイントの入力は促されません。
	最後のパーティションの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	を作成するときは、表示されたサイズをそのままにしておいて、
	スライスに残っているサイズを使用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最終的な FreeBSD ディスクラベルエディタの画面は、
	選択された数値は異なっているかもしれませんが、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="sysinstall-label4"/> のようになるでしょう。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Q</keycap> キーを押して終了します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sysinstall-label4">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall ディスクラベルエディタ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/disklabel-ed2"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-choosing">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">何をインストールするか選択する</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="distset">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ディストリビューションセットの選択</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールするディストリビューションセットを選択します。
	これは使おうとするシステムや利用可能なディスクの容量に依存します。
	最小構成のインストールから全てのインストールまでのオプションがあらかじめ用意されています。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> や FreeBSD に慣れてない人はこれらのどちらかを選ぶべきです。
	ディストリビューションセットのカスタマイズは、主としてより経験を積んだユーザーのためにあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap> キーを押すとそのディストリビューションセットのオプションやそれらが何を含んでいるかというより詳しい情報が表示されます。
	ヘルプを見終わった後には、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	キーを押してディストリビューションの選択メニューに戻ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">グラフィカルユーザインタフェースを望む場合には、
	FreeBSD のインストール後に
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	の設定とデフォルトデスクトップの選択を行ってください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	のインストールや設定に関する詳細な情報は
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/> にあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルをコンパイルする予定ならばソースコードを含むオプションを選択します。
	なぜカスタムカーネルを構築するのか、またカスタムカーネルの構築方法に関しては
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてを含むシステムが最も多くのことを行えます。
	十分なディスクスペースがあるならば、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="distribution-set1"/>
	で示されるように <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">All</guimenuitem> を矢印キーで選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押します。
	ディスクスペースに懸念があるならば、状況に合ったよりふさわしいオプションを選択します。
	インストール後にそのほかのディストリビューションを加えることができるので、
	完璧な選択をしようとして悩まないでください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="distribution-set1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディストリビューションの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/dist-set"/>
	  </imageobject>
	</mediaobject>
      </figure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="portscol">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">お望みのディストリビューションを選ぶと、
	FreeBSD Ports Collection をインストールするかどうかを尋ねてきます。
	Ports Collection とは、簡単にソフトウェアをインストールする方法です。
	サードパーティ製のソフトウェアパッケージのダウンロード、
	コンパイル、インストールを自動的に行うためのファイルの集まりです。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> で Ports Collection の使用方法が解説されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールプログラムはディスクに十分な空き容量があるかどうかをチェックしませんので、
	十分な空き容量がある場合のみこのオプションを選択してください。
	FreeBSD 10.1 では、FreeBSD Ports Collection は、約 500 MB
	のディスク容量を必要とします。
	より最新の FreeBSD のバージョンでは、安全のためもう少し大きなサイズを想定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                         User Confirmation Requested
 FreeBSD Ports Collection をインストールしますか?

 これをインストールすることにより、24,000 以上の移植ソフトウェアパッケー
 ジにアクセスすることができます。これは、「クリーンな」状態では約 500 MB
 のディスク容量を占めますが、配布されている tarball をダウンロードしていくと、更に
 大きな領域を占めることになります (ただし、FreeBSD の CD/DVD で配布されている
 extra disk を持っていて、それを /cdrom にマウントして使用する場合には、
 さほど問題にはならないでしょう) 。

 Ports Collection は、非常に有用な資源であり、/usr パーティションに置
 いておくだけの価値は十分にあります。この質問には Yes と答えるのが賢明で
 しょう。

 Ports Collection に関するさらに詳しい情報や、最新の Ports に関しては、
 以下の場所を参照してください。
     http://www.FreeBSD.org/ports

                              [ Yes ]     No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection をインストールするなら <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton>
	を、このオプションを選択しないのであれば <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton>
	を矢印キーで選んでください。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押して先に進みます。
	ディストリビューションの選択メニューが再度表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="distribution-set2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディストリビューションの確認</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/dist-set2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オプションを選択したら矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guimenuitem>
	を選び、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> がハイライトされていることを確認し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して先に進んでください。</para>

    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-media">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールメディアの選択</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">CD または DVD からインストールする場合、矢印キーを使って
      <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Install from a FreeBSD CD/DVD</guimenuitem> を選んで下さい。
      <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> が選択されていることを確認して、
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押しインストールを開始してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">そのほかの方法でインストールする場合には、
      適切なオプションを選択しその後の指示に従ってください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap> キーを押すとインストールメディアに関するオンラインヘルプが表示されます。
      メディア選択メニューに戻るには <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。</para>

    <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="choose-media">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールメディアの選択</title>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/media"/>
	</imageobject>
      </mediaobject>
    </figure>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FTP インストールモード</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク</secondary>
	<tertiary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</tertiary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP 経由のインストールを行う場合、active FTP, passive FTP,
	HTTP proxy 経由の三種類の FTP
	インストールモードから選択することになります。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">FTP Active: <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Install from an FTP
	      server</guimenuitem></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すべての FTP 転送の際に <quote xmlns:xlink="http://www.w3.org/1999/xlink">Active</quote>
	      モードを使用します。
	      ファイアウォール内部のマシンではうまく動きませんが、
	      多くの場合 passive モードに対応していないような古い
	      FTP サーバでも動作します。
	      passive モードでの FTP 転送 (こちらがデフォルトです)
	      に失敗した場合には、active モードで確かめましょう!</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">FTP Passive: <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Install from an FTP server through a
	      firewall</guimenuitem></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションでは、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、すべての FTP 転送の際に
	      passive モード<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</primary>
		<secondary xmlns:xlink="http://www.w3.org/1999/xlink">Passive モード</secondary>
	      </indexterm>を使用します。
	      このモードを使用すると、
	      ランダム TCP ポートによる外部からの接続を許可していないファイアウォールを越えることができるようになります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">HTTP proxy 経由の FTP:
	    <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Install from an FTP server
	      through a http proxy</guimenuitem></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、HTTP
	      プロトコルを使って proxy サーバに接続し、FTP の操作を実現します。
	      proxy サーバは FTP 要求を (訳注: HTTP から FTP に) 変換して
	      FTP サーバに送るため、ファイアウォールが FTP
	      接続を禁止していても、HTTP proxy サーバ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</primary>
		<secondary xmlns:xlink="http://www.w3.org/1999/xlink">HTTP proxy 経由</secondary>
	      </indexterm>が提供されていれば
	      ファイアウォールを超えた FTP 接続を行なうことが可能です。
	      この方法を用いる場合には、FTP サーバの他に proxy
	      サーバを指定する必要があります。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">proxy FTP サーバに対しては、ユーザ名の一部として
	実際に接続したいサーバの名前を <quote xmlns:xlink="http://www.w3.org/1999/xlink">@</quote>
	記号に続けて与える必要があります。
	そうすると proxy サーバは本当のサーバの<quote xmlns:xlink="http://www.w3.org/1999/xlink">ふり</quote>
	をするようになります。
	たとえば、1234 ポートで要求を待つ proxy FTP サーバ
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">foo.example.com</systemitem> を使って、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">ftp.FreeBSD.org</systemitem>
	をインストールするには、
	オプションメニューで
	FTP ユーザ名に <literal xmlns:xlink="http://www.w3.org/1999/xlink">ftp@ftp.FreeBSD.org</literal> を、
	パスワードとしてあなたのメールアドレスを設定します。
	そして、インストールメディアに FTP (proxy サーバが対応しているならば
	passive FTP)、URL として
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ftp://foo.example.com:1234/pub/FreeBSD</literal>
	を指定します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">ftp.FreeBSD.org</systemitem> の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/pub/FreeBSD</filename> は
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">foo.example.com</systemitem>
	が代理で処理をおこなうことになるので、
	インストール時の要求に応じて
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">ftp.FreeBSD.org</systemitem>
	からファイルを取り寄せます。</para>
    </note>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-final-warning">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール操作の確定</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで良いと思ったら、ここでインストールを進めることができます。
      インストールするためにおこなうハードディスクに対する変更をやめるなら、
      ここが最後のチャンスでもあります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
 Last Chance! Are you SURE you want to continue the installation?

 If you're running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

 We can take no responsibility for lost disk contents!

                             [ Yes ]    No</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択して
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押すことでインストールは進みます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールにかかる時間は、どのディストリビューションを選んだか、
      どのインストールメディアを使ったか、
      そしてコンピュータの速度にも依存します。
      インストール状況に従って、メッセージが逐次表示されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメッセージが表示されればインストールは終わりです。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">                               Message

Congratulations! You now have FreeBSD installed on your system.

We will now move on to the final configuration questions.
For any option you do not wish to configure, simply select No.

If you wish to re-enter this utility after the system is up, you may
do so by typing: /usr/sbin/sysinstall.

                                 [ OK ]

                      [  Press enter or space  ]</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押せばインストール後の設定画面に
      移ることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択して
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押すと、インストールを中断して
      システムには何の変更もおこないません。
      そのときには次のメッセージが表示されます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">                                Message
Installation complete with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature.
You can also choose "No" at the next prompt and go back into the
installation menus to retry whichever operations have failed.

                                 [ OK ]</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">何もインストールされなかったため、このメッセージが表示されています。
      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押しますと、
      インストーラを終了するためにメインメニューに戻ります。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-post">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の作業</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストール完了後に数々のオプション設定を行います。
      オプションは、インストールした FreeBSD を起動する前に configuration
      の項目に入りなおすか、再起動後に
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      の中にある <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Configure</guimenuitem>
      の項目で設定することができます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="inst-network-dev">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークデバイスの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、FTP インストールのために PPP を設定したのならば、
	この画面は表示されず、前項で述べたように後から設定できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">LAN の詳細情報と、FreeBSD のゲートウェイ・ルータの設定については
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking">高度なネットワーク</link>
	の章を参照してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
   Would you like to configure any Ethernet or PPP network devices?

      (訳：イーサネットや SLIP/PPP ネットワークデバイスを設定したいですか？)

                             [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークデバイスを設定するには <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton>
	を選び、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押します。
	設定しないのであれば、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選びます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ed-config1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットデバイスを選ぶ</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/ed0-conf"/>
	  </imageobject>
	</mediaobject>
      </figure>


      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定したいインタフェースを矢印キーで選び、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	キーを押します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
       Do you want to try IPv6 configuration of the interface?

      (訳：このインタフェース上で IPv6 の設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プライベートな LAN において、現行のインターネットプロトコル
	(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym>)
	で十分なのであれば、矢印キーで <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選び
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">RA</acronym> サーバと
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym> ネットワークで接続しているのであれば、
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んで <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	すると、数秒間 RA サーバを検索します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                             User Confirmation Requested
        Do you want to try DHCP configuration of the interface?

      (訳：このインタフェース上で DHCP 設定を行ないたいですか？)

                              Yes   [ No ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、Dynamic Host Configuration Protocol (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym>)
	が必要なければ、矢印で <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選び <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	を押してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んだ場合、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行します。設定が成功すると、
	ネットワーク設定情報が自動補完されます。 詳細については
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-dhcp"/> を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のネットワーク設定画面では、LAN
	用ゲートウェイシステムのイーサネットデバイス構成が表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ed-config2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ed0</replaceable> ネットワークの設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/ed0-conf2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> をつかって項目を選び、
	適切な情報を入力してください。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Host</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">完全修飾されたホスト名。この例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">k6-2.example.com</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Domain</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータのドメイン名。この例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 Gateway</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカル以外のホストへパケットを送る際に使う IP アドレスです。
	      もしコンピュータがネットワーク上にいる場合は入力する必要があります。
	      このコンピュータがネットワークのインターネットゲートウェイである場合には
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">この項目は空白のまま</emphasis>にします。
	      IPv4 ゲートウェイはデフォルトゲートウェイまたはデフォルトルートとも呼ばれます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Name server</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカル DNS サーバの IP アドレスを指定します。
	      ローカル DNS サーバがプライベート LAN 上にないので、
	      プロバイダの DNS サーバ
	      (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">208.163.10.2</systemitem>)
	      を指定しました。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 address</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このインタフェースで使う IP アドレスは
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.1</systemitem>。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Netmask</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、LAN で使うアドレスブロックは、
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.0</systemitem> -
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.255</systemitem>
	      です。
	      ネットマスクは (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">255.255.255.0</systemitem>) です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Extra options to <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> への追加のオプションを入力してください。
	      今回はありませんでした。</para>
	  </listitem>
	</varlistentry>

      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">終了するときは、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> キーを使って <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を選び、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押します。</para>


      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
        Would you like to bring the ed0 interface up right now?

      (訳：このインタフェースへの設定を今すぐ有効にしますか？)

                             [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んで <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	を押すと、ネットワークへの設定を行い、利用可能な状態にします。
	しかしながら、コンピュータをまだ再起動する必要があるので、
	インストールの間には、多くのことは出来ません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="gateway">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイの設定</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
       Do you want this machine to function as a network gateway?

      (訳：このマシンにネットワークゲートウェイ機能を搭載しますか？)

                              [ Yes ]    No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、マシンが LAN のゲートウエイであり、他マシン間の
	パケットを転送している場合は、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んで
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押します。
	もし、マシンがネットワーク上のノードである場合、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選び
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して先に進んでください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="inetd-services">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インターネットサービスの設定</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

      (訳：inetd 及び提供するネットワークサービスの設定を行いますか？)

                               Yes   [ No ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選んだ場合には、さまざまなサービスは有効になりません。
	これらのサービスは、インストール後に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename>
	をテキストエディタで編集することで有効になります。
	詳しくは inetd の章 <!-- <xref linkend="network-inetd-conf"/> --> を見てください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのサービスを利用したいと考えているならば，
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選びインストールしてください。
	追加の確認事項が表示されるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
The Internet Super Server (inetd) allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

      (訳：inetd は finger，ftp，telnet を含む数多くのインターネットサービスを
      許可します。この機能を有効にするとシステムへのアクセスの増加による
      セキュリティ上のリスクが増加することがあります。)

With this in mind, do you wish to enable inetd?

                             [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んで続けます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
inetd(8) relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf(5) leaves all services disabled by default, so they must be
specifically enabled in the configuration file before they will
function, even once inetd(8) is enabled.  Note that services for
IPv6 must be separately enabled from IPv4 services.

Select [Yes] now to invoke an editor on /etc/inetd.conf, or [No] to
use the current settings.

      (訳：inetd(8) が利用可能にするインターネットサービスの種類については
	   設定ファイル (/etc/inetd.conf) に依存します。FreeBSD に付属する
	   inetd.conf(5) の初期設定は、すべてのサービスが無効になっています。
	   従って、inetd(8) を一度有効にした後に設定ファイルの中で
	   必要なサービスを有効にする必要があります。なお、IPv4 サービス側から
	   IPv6 のサービスを個別に設定する必要があることに注意してください。

	   [Yes] を選ぶと /etc/inetd.conf をエディタで編集できます。
	   [No] を選ぶと、現在の設定をつかいます。)

                             [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選ぶと、
	対応するサービスの先頭行にある
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal> を削除することで、サービスを有効にできます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="inetd-edit">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">inetd.conf</filename> の編集</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/edit-inetd-conf"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">変更が終わったら、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> を押し、
	表示されるメニューでエディタを終了し、変更点を保存してください。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ssh-login">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SSH ログインを有効にする</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">SSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">sshd</secondary>
      </indexterm>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
                  Would you like to enable SSH login?
                           Yes        [  No  ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択すると、<application xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</application>
	のデーモンである <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sshd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が有効になります。
	これは、コンピュータへの安全なリモートアクセスを許可します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</application> のより詳しい情報については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="openssh"/> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ftpanon">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Anonymous FTP</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">anonymous</secondary>
      </indexterm>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine?

                              Yes    [ No ]</screen>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="deny-anon">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Anonymous FTP を許可しない</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択して
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	  アカウントを持ったユーザは、パスワードを使い FTP
	  でコンピュータにアクセスできます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ftpallow">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Anonymous FTP を許可する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP の接続を許可すると、
	  誰でもコンピュータにアクセスできるようになります。
	  このオプションを有効にする前に、
	  セキュリティ上の問題点を検討してください。
	  セキュリティに関する詳細については、
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="security"/> をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP を有効にするには、矢印キーを使って
	  <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	  を押してください。以下のような確認事項が表示されるでしょう。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
 Anonymous FTP permits un-authenticated users to connect to the system
 FTP server, if FTP service is enabled.  Anonymous users are
 restricted to a specific subset of the file system, and the default
 configuration provides a drop-box incoming directory to which uploads
 are permitted.  You must separately enable both inetd(8), and enable
 ftpd(8) in inetd.conf(5) for FTP services to be available.  If you
 did not do so earlier, you will have the opportunity to enable inetd(8)
 again later.

 If you want the server to be read-only you should leave the upload
 directory option empty and add the -r command-line option to ftpd(8)
 in inetd.conf(5)

 Do you wish to continue configuring anonymous FTP?

                          [ Yes ]         No</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このメッセージは、anonymous FTP 接続を許可するのであれば、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename>
	  においても FTP サービスを有効にする必要があることを示しています。
	  <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選び <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して先に進んでください。
	  以下の画面が表示されます。</para>

	<figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="anon-ftp2">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">Anonymous FTP のデフォルトの設定</title>

	  <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	      <imagedata fileref="install/ftp-anon1"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> を使って項目を選び、
	  適切な情報で埋めてください。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">UID</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP ユーザに対して割り当てられるユーザ ID。
		アップロードされるすべてのファイルの所有者はこの ID となります。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">Group</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP ユーザが所属するグループ</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">Comment</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename>
		内のユーザ情報を表す文字列</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">FTP Root Directory</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP で利用可能なファイルの置き場</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">Upload Subdirectory</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP ユーザによりアップロードされるファイルが置かれる場所</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、FTP のルートディレクトリは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
	  に設定されています。
	  FTP が必要とする十分な容量が用意されていない場合には、
	  かわりに FTP のルートディレクトリを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ftp</filename>
	  と設定し、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> を使ってください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">十分な設定ができたら、
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して先に進んでください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">                          User Confirmation Requested
         Create a welcome message file for anonymous FTP users?

                              [ Yes ]    No</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択した場合には、
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押すと、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> エディタが自動的に起動します。</para>

	<figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="anon-ftp4">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">FTP Welcome メッセージの編集</title>

	  <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	      <imagedata fileref="install/ftp-anon2"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">操作の説明に従ってメッセージを変更してください。
	  エディタの画面の下に表示されるファイルの名前、場所に注意してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> を押すと、ポップアップメニューが表示されます。
	  デフォルトは <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">a) leave editor</guimenuitem> です。
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して終了し、先に進んでください。
	  変更を行った場合には、もう一度 <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	  を押して、変更点を保存してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nfsconf">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークファイルシステムの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークファイルシステム (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>) を用いると、
	ネットワークを介してファイルの共有を行うことができます。
	コンピュータをサーバ、クライアントまたは両方に設定できます。
	より詳しい情報については <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nfs"/>
	を参照してください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nsf-server-options">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">NFS サーバ</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
 Do you want to configure this machine as an NFS server?

                              Yes    [ No ]</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> の機能を必要としないのであれば、
	  <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択し
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選んだ場合には、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename>
	  を作成する必要があることを示すメッセージが表示されます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your local filesystems.
Press [Enter] now to invoke an editor on /etc/exports
                               [ OK ]</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して先に進んでください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename>
	  を編集するためにテキストエディタが立ち上がります。</para>

	<figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nfs-server-edit">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">exports</filename> ファイルの編集</title>

	  <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	      <imagedata fileref="install/nfs-server-edit"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">説明に従い、共有されるファイルシステムを追加してください。
	  エディタのスクリーンの下に表示されているファイル名の場所の情報に注意してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> を押すとポップアップメニューが表示されます。
	  デフォルトは <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">a) leave editor</guimenuitem> です。
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して終了し、先に進んでください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nfs-client-options">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> クライアント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">利用しているコンピュータが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	  クライアントによって
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバにアクセスできるようになります。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
 Do you want to configure this machine as an NFS client?

                              Yes   [ No ]</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、適切に <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> または
	  <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="console">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システムコンソールの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムコンソールをカスタマイズするオプションがあります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
       Would you like to customize your system console settings?

                              [ Yes ]  No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	を押してオプションの確認および設定をしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="saver-options">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">システムコンソール設定オプション</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/console-saver1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">良く使われるオプションはスクリーンセーバです。
	矢印キーを使って <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Saver</guimenuitem> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="saver-select">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スクリーンセーバオプション</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/console-saver2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、お望みのスクリーンセーバを選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	システムコンソールの設定メニューが再び表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの時間の間隔は 300 秒です。
	時間の間隔を変更する場合には、
	もう一度 <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Saver</guimenuitem> を選択してください。
	スクリーンセーバのオプションメニューにて、
	矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Timeout</guimenuitem> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	ポップアップメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="saver-timeout">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スクリーンセーバのタイムアウト</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/console-saver3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">値を変更したら <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	システムコンソールの設定メニューに戻ってください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="saver-exit">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">システムコンソールの設定の終了</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/console-saver4"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guimenuitem> を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="timezone">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使用しているコンピュータのタイムゾーンを設定することで、
	地域による時刻の違いが自動的に調整され、
	タイムゾーンに関連した機能が適切に取り扱われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでの例では、コンピュータが United States の
	Eastern タイムゾーンにあるとしています。
	実際の地理的位置を選択してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
          Would you like to set this machine's time zone now?

                            [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、タイムゾーンを設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                       User Confirmation Requested
 Is this machine's CMOS clock set to UTC? If it is set to local time
 or you don't know, please choose NO here!

                              Yes   [ No ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータのクロックがどのように設定されているかに従って、
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> または <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton>
	を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="set-timezone-region">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">地域の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/timezone1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、適切な地域を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="set-timezone-country">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">国名の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/timezone2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って、適切に国名を選び、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="set-timezone-locality">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/timezone3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーを使って適切なタイムゾーンを選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                            Confirmation
            Does the abbreviation 'EDT' look reasonable?

                            [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">タイムゾーンの短縮形が適切かどうかを確認をしてください。
	問題なければ <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、インストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mouse">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">マウスの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションを設定することで、
	コンソールやユーザプログラムにおいて
	3-ボタンマウスによるテキストのカットアンドペーストが可能になります。
	2-ボタンマウスを使っている場合には、
	3-ボタンのエミュレートについて <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">moused</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。
	ここでは、非 USB マウスの設定を例に説明します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                      User Confirmation Requested
         Does this system have a PS/2, serial, or bus mouse?

                            [ Yes ]    No </screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PS/2、シリアルまたはバスマウスを使っている場合には
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択してください。
	USB マウスを利用する場合には、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択し
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mouse-protocol">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスプロトコルのタイプの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Type</guimenuitem> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="set-mouse-protocol">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスプロトコルの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では PS/2 マウスを使うので、デフォルトの
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Auto</guimenuitem> が適切です。
	マウスのプロトコルを変更するには、
	矢印キーを使って他のプロトコルを選択してください。
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> がハイライトされていることを確認し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してこのメニューを終了してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="config-mouse-port">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスポートの設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Port</guimenuitem> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="set-mouse-port">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスポート の設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse4"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このシステムでは PS/2 マウスを使っているので、デフォルトの
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">PS/2</guimenuitem> が適切です。
	ポートを変更する場合には、矢印キーで選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="test-daemon">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスデーモンを有効にする。</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse5"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Enable</guimenuitem> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押し、マウスデーモンを有効にして、
	テストしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="test-mouse-daemon">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウスデーモンのテスト</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mouse6"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スクリーン上でマウスを動かし、
	カーソルが正しく反応することを確認してください。
	確認ができたら、 <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	もし、うまく動かないのであれば、マウスの設定が適切に行われていません。
	― <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択して、
	他の設定オプションを使って試してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guimenuitem> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してインストール後の設定を続けてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="packages">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Packages のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">packages はコンパイル済みのバイナリで、
	ソフトウェアをインストールするのに便利な方法です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">説明では、例としてひとつの package をインストールしますが、
	お望みであれば、ここで複数の package を追加することもできます。
	インストール後は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使って
	package を追加できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now?

                            [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	Package を選択する画面が表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="package-category">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Package カテゴリの選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/pkg-cat"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のインストールメディアに存在する packages のみをインストールできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">All</guimenuitem> を選ぶと、
	利用可能なすべての package が表示されます。
	もしくは、特定のカテゴリを選択してください。
	矢印キーで選択したいカテゴリをハイライトし、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">選択したカテゴリで利用可能なすべての
	package のメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="package-select">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Packages の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/pkg-sel"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、<application xmlns:xlink="http://www.w3.org/1999/xlink">bash</application> シェルが選択されています。
	希望する数だけ package を選択してハイライト表示にし、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap> キーを押してください。
	それぞれの package の簡単な説明がスクリーン下の左端に表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> キーを押すと、最後に選択した package
	と <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton>, <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Cancel ]</guibutton> で選択が切り替わります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールする package の選択が終わったら、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> を一度押して <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> に切り替え、
	その後 <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">左右の矢印キーでも、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> と <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Cancel ]</guibutton>
	切り替えることができます。
	この方法で <guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を選択することもできますので、
	その後、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して
	Package 選択メニューに戻ってください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="package-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Packages のインストール</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/pkg-install"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> と矢印キーで <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[ Install ]</guibutton>
	を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押すと、
	インストールを確認するメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="package-install-confirm">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Package のインストールの確認</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/pkg-confirm"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押すと
	package のインストールが始まります。
	インストールが終わるまで、インストールのメッセージが表示されます。
	エラーメッセージが表示されないかどうか注意してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">packages をインストールしたら、最後の設定に進みます。
	package を選択しなかった場合も、
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">Install</guibutton> を選択して、
	最後の設定に戻ってください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="addusers">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ/グループの追加</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 以外でログインできるよう、
	インストール時には、少なくとも一人のユーザを追加してください。
	通常 root パーティッションの容量は小さいので、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限でアプリケーションを実行すると、
	すぐに消費してしまいます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account for yourself at this stage is suggested since
 working as the "root" user is dangerous (it is easy to do things which
 adversely affect the entire system).

                            [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、ユーザを追加してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="add-user2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">User の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/adduser1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">矢印キーで <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">User</guimenuitem> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="add-user3">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ情報の入力</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/adduser2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> で項目を選択すると、
	必要とされる情報の入力を助けるため、
	スクリーンの下に以下の説明が表示されます。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Login ID</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザのログインネーム (必須)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">UID</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザの ID 番号
	      (空欄のままにすると、自動的に割り当てられます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Group</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザのログイングループ</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Password</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーザのパスワード
	      (このフィールドは注意して入力してください!)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Full name</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのフルネーム (コメント)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Member groups</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーザの所属するグループについて
	      (すなわち、どのようなアクセス権を持つか)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Home directory</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのホームディレクトリ
	      (空欄にするとデフォルトで設定されます)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">Login shell</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのログインシェル
	      (空欄にするとデフォルトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin/sh</filename>
	      に設定されます)。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、ログインシェルは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin/sh</filename> から、
	先ほど package でインストールした <application xmlns:xlink="http://www.w3.org/1999/xlink">bash</application>
	を使うよう、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/bash</filename>
	に変更されています。
	インストールされていないシェルを選ぶと、
	ユーザはログインできなくなりますので、
	インストールされていないシェルは選ばないでください。
	FreeBSD で最も標準的なシェルは C シェルです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin/tcsh</filename> で指定できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">root</systemitem>
	権限を持つスーパユーザになることができる
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループにも追加されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">十分に記述したら、<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を押して、
	User および Group 管理メニューを再び表示してください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="add-user4">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザおよびグループの管理を終了する</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/adduser3"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでグループを追加することもできます。
	または、後で
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を利用してアクセスできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザを追加したら、矢印キーで、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exit</guimenuitem> を選択して、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、次のインストール項目に進んでください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rootpass">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	パスワードの設定</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                        Message
 Now you must set the system manager's password.
 This is the password you'll use to log in as "root".

                         [ OK ]

               [ Press enter or space ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> パスワードを設定してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パスワードは、正しく 2 回入力してください。
	パスワードは忘れないでください。
	パスワードとして入力した文字は表示されませんし、
	アスタリスクが表示されることもありません。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">New password:
Retype new password :</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パスワードの入力に成功したら、インストールは次に進みます。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="exit-inst">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールの終了</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のようなメッセージが表示され、
        設定が終わったかどうかを尋ねられます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                     User Confirmation Requested
 Visit the general configuration menu for a chance to set any last
 options?

                              Yes   [ No ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ No ]</guibutton> を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>
	を押すことでメインインストールメニューに戻ります。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="final-main">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">インストールの終了</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mainexit"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">方向キーで <guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[X Exit Install]</guibutton>
	を選択し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap>を押します。
	インストーラがインストールを終了してもよいか確認を求めます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                     User Confirmation Requested
 Are you sure you wish to exit? The system will reboot.

                            [ Yes ]   No</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ Yes ]</guibutton> を選択してください。
	CDROM ドライブから起動しているのなら、
	ディスクを取り出すこと示す以下のメッセージが表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">                    Message
 Be sure to remove the media from the drive.

                    [ OK ]
           [ Press enter or space ]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">マシンが再起動し始めると CDROM ドライブはロックされるので、
	ドライブから素早くディスクを取り出してください。
	<guibutton xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">[ OK ]</guibutton> を押して再起動してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムは再起動するので、
	表示されるかもしれないすべてのエラーメッセージに注意してください。
	詳細については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsdboot"/> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-services">
      <info>
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークサービスの設定</title>

	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿:
	    </contrib></author>
	</authorgroup>
      </info>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークサービスの設定は、新しいユーザにとって、
	この領域について基本的な知識を持たないと気が遠くなるような作業となるでしょう。
	インターネットを含むネットワークは、
	現代のすべてのオペレーティングシステムにとって重要なので、FreeBSD
	の広範囲にわたるネットワークの能力を理解することは有益でしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークサービスは、
	ネットワーク上のどこからでもアクセスを許可するプログラムです。
	時間が経過するとネットワークサービスのバグが攻撃者により発見されるので、
	必要なネットワークサービスのみを有効にすることは重要です。
	もし、あるネットワークサービスが必要かどうか疑わしい場合には、
	それが必要となるまでは、
	そのネットワークサービスを有効にしないでください。
	後で <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行するか、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	ファイルを編集することで機能を有効にできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenu xmlns:xlink="http://www.w3.org/1999/xlink">Networking</guimenu> オプションを選択すると、
	以下のようなメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-configuration">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク設定 (メニューの前半)</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/net-config-menu1"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初のオプションである
	 <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Interfaces</guimenuitem> については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="inst-network-dev"/> で説明されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">AMD</guimenuitem> オプションを選択すると
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">amd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に対応します。
	このオプションは、通常
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> プロトコルともに、
	リモートファイルシステムの自動マウントのために使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次は <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">AMD Flags</guimenuitem> オプションです。
	選択すると <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AMD</acronym>
	フラグを入力するためのメニューが表示されます。
	メニューには以下のようなデフォルトのオプションのセットが含まれています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option>
	は、デフォルトのマウント位置を指定します。
	ここでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/.amd_mnt</filename> を指定しています。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option> は、
	デフォルトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">log</filename> を指定します。
	ただし、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が指定されていると、
	すべてのログはシステムログのデーモンに送られます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/host</filename> は、
	リモートホストからエクスポートされたシステムのマウントに使われます。
	一方 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/net</filename>
	は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym>
	アドレスからエクスポートされたファイルシステムのマウントに使われます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/amd.map</filename> は、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">AMD</acronym> エクスポートのデフォルトオプションを定義します。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">anonymous</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Anon FTP</guimenuitem> は、anonymous
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> 接続を許可します。
	使用しているコンピュータを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
	サーバとして利用する場合には、
	このオプションを選択してください。
	このオプションを選択した際のセキュリティ上のリスクについて把握しておいてください。
	セキュリティリスクの説明、および、詳細の設定のためのメニューが表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Gateway</guimenuitem> メニューでは、
	コンピュータをゲートウェイに設定します。
	もし、インストールの過程で <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Gateway</guimenuitem>
	オプションを間違って選択したのであれば、ここで無効にできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Inetd</guimenuitem> オプションを使うと、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を設定したり、完全に無効にできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Mail</guimenuitem> オプションでは、システムのデフォルトの
	Mail Transfer Agent (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym>) を設定できます。
	このオプションを選択すると、以下のメニューが起動します。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mta-selection">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの MTA の選択</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/mta-main"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このメニューでは、インストールしてデフォルトに設定する
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> を選択できます。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> は、
	システム上またはインターネット上のユーザにメールを配送するメールサーバです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Sendmail</guimenuitem> を選択すると、
	デフォルトの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> として
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> がインストールされます。
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Sendmail local</guimenuitem> を選択すると、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> をデフォルトの
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> に設定しますが、
	インターネットからの電子メールの受け取りを無効にします。
	他のオプションである
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Postfix</guimenuitem> や
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Exim</guimenuitem> も、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Sendmail</guimenuitem> と同じようにメールを配送します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> メニューの次のメニューは
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">NFS client</guimenuitem> です。
	このメニューは、システムが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバと通信するように設定します。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> では、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	プロトコルを通じて、他のコンピュータのファイルシステムを利用できるようになります。
	クライアントやサーバの設定についての詳細は
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nfs"/> をご覧ください</para>
	
      <para xmlns:xlink="http://www.w3.org/1999/xlink">その下のオプションが <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">NFS server</guimenuitem>
	オプションです。
	システムを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバに設定します。
	このオプションは、Remote Procedure Call <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RPC</acronym>
	サービスに必要なオプションを追加します。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RPC</acronym> は、
	ホストとプログラム間の接続の調整に利用できます</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の行は <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Ntpdate</guimenuitem> オプションです。
	これは、時刻の同期を取り扱います。
	選択すると下のようなメニューが表示されます。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="Ntpdate-config">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Ntpdate の設定</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/ntp-config"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このメニューでは、
	地理的に最も近いサーバを選択してください。
	遠い場所のサーバを選ぶと、
	ネットワークの応対時間が長くなる可能性があるので、
	最も近いサーバを選択することにより、
	より正確な時刻の同期ができるようになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のオプションは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCNFSD</acronym> の選択です。
	このオプションは、Ports Collection から
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/pcnfsd</package> package をインストールします。
	Microsoft の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>
	オペレーティングシステムのような、自分自身では <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	認証サービスを提供できないシステムに対し、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	認証サービスを提供する有効なユーティリティです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、他のオプションを見るために、
	少しスクロールダウンしてください。</para>

      <figure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="Network-configuration-cont">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク設定 (メニューの後半)</title>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="install/net-config-menu2"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rpcbind</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバとクライアントの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RPC</acronym> 通信を取り扱い、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバが正しく機能するために必要です。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rpc.statd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> デーモンは、ステータスを監視し、
	報告されたステータスは、通常
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/statd.status</filename> に記録されます。
	次のオプションの <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rpc.lockd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、
	ファイルロックサービスを提供します。
	この機能は通常 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rpc.statd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と共に、
	どのホストがロックを必要としているか、
	どのくらいの頻度でリクエストするかをモニタするために利用されます。
	最後の二つのオプションは、デバッグ時に有用ですが、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバおよびクライアントの動作時には必要ありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューの <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Routed</guimenuitem> は、
	ルーティングデーモンを設定します。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">routed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、ネットワークルーティングテーブルを管理し、
	マルチキャストルーターを理解し、
	そして、リクエストがあると、物理的に接続したホストに対し、
	ネットワークを通してルーティングテーブルを提供します。
	このユーティリティは、
	主にローカルネットワークのゲートウェイマシンで利用されます。
	選択すると、
	ユーティリティのデフォルトの場所を要求するメニューが表示されます。
	デフォルトの場所で良ければ、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> キーを押してください。
	その後、別のメニューが表示され、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">routed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に渡すフラグを要求します。
	画面にには、デフォルトのフラグの <option xmlns:xlink="http://www.w3.org/1999/xlink">-q</option>
	が表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメニューは <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Rwhod</guimenuitem> オプションです。
	このオプションは、システムの初期化時に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rwhod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を起動します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rwhod</command>
	ユーティリティは、定期的にシステムのメッセージをネットワークにブロードキャストし、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">consumer</quote> モードでは、
	システムのメッセージを収集します。
	詳細な情報は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ruptime</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> および
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rwho</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ページにあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リストの最後から 2 番目のオプションは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sshd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> です。
	これは <application xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</application>
	のためのセキュアシェルサーバです。
	標準の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">telnetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	サーバではなく、このサーバが強く推奨されています。
	このサーバは、暗号化された通信を行い、
	あるホストと他のホストを安全に接続します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後のオプションが
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">TCP Extensions</guimenuitem> オプションです。
	このオプションは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RFC</acronym> 1323 および
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RFC</acronym> 1644 で定義されます。
	多くのホストにおいて、このオプションはコネクションを高速にする一方で、
	いくつかのコネクションを破棄します。
	サーバに対して推奨はされませんが、
	スタンドアローンなコンピュータには有益でしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークサービスの設定が終わったら、
	一番上の <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">X Exit</guimenuitem>
	までスクロールアップして次の設定項目に進むか、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">X Exit</guimenuitem> を 2 回選択し、その後
	<guibutton xmlns:xlink="http://www.w3.org/1999/xlink">[X Exit Install]</guibutton> を選び、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を終了してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdboot">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のブート</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdboot-i386">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/i386 の起動</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべてがうまくいっていれば、画面上にメッセージがスクロールし、
	  ログインプロンプトが表示されます。
	  このメッセージを見るには、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll-Lock</keycap>
	  を押し、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">PgUp</keycap> および <keycap xmlns:xlink="http://www.w3.org/1999/xlink">PgDn</keycap>
	  キーを使ってください。
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Scroll-Lock</keycap>
	  をもう一度押すとプロンプトに戻ります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">バッファの容量制限により、
	  すべてのメッセージは表示されないかもしれませんが、
	  ログインの後に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で見ることができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールの際に設定したユーザ名とパスワードを用いてログインしてください。
	  必要な時を除き <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  としてログインすることは避けてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">典型的なブートメッセージ (バージョン情報は省略しています)</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">Copyright (c) 1992-2002 The FreeBSD Project.
Copyright (c) 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.

Timecounter "i8254"  frequency 1193182 Hz
CPU: AMD-K6(tm) 3D processor (300.68-MHz 586-class CPU)
  Origin = "AuthenticAMD"  Id = 0x580  Stepping = 0
  Features=0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt;
  AMD Features=0x80000800&lt;SYSCALL,3DNow!&gt;
real memory  = 268435456 (262144K bytes)
config&gt; di sn0
config&gt; di lnc0
config&gt; di le0
config&gt; di ie0
config&gt; di fe0
config&gt; di cs0
config&gt; di bt0
config&gt; di aic0
config&gt; di aha0
config&gt; di adv0
config&gt; q
avail memory = 256311296 (250304K bytes)
Preloaded elf kernel "kernel" at 0xc0491000.
Preloaded userconfig_script "/boot/kernel.conf" at 0xc049109c.
md0: Malloc disk
Using $PIR table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1: &lt;VIA 82C598MVP (Apollo MVP3) PCI-PCI (AGP) bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1
uhub0: 2 ports with 2 removable, self powered
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0
ed0: &lt;NE2000 PCI Ethernet (RealTek 8029)&gt; port 0xe800-0xe81f irq 9 at
device 10.0 on pci0
ed0: address 52:54:05:de:73:1b, type NE2000 (16 bit)
isa0: too many dependant configs (8)
isa0: unexpected small tag 14
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5" drive&gt; on fdc0 drive 0
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/2 mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0:
plip0: &lt;PLIP network interface&gt; on ppbus0
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4
Mounting root from ufs:/dev/ad0s1a
swapon: adding /dev/ad0s1b as swap device
Automatic boot in progress...
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname.
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:.
additional daemons: syslogd.
Doing additional network setup:.
Starting final network daemons: creating ssh RSA host key
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:.
rc.i386 configuring syscons: blank_time screensaver moused.
Additional ABI support: linux.
Local package initialization:.
Additional TCP options:.

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt
Password:</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">低速なマシンでは、
	  RSA および DSA キーを作成するのに少々時間がかかるかもしれません。
	  これは初めてインストールした後に初めてブートする時だけ起こります。
	  その後のブートはより速くなるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> が設定され、
	  デフォルトデスクトップが選択されていた場合、
	  コマンドラインで <command xmlns:xlink="http://www.w3.org/1999/xlink">startx</command>
	  と入力することで <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	  を起動することが可能です。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="shutdown">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のシャットダウン</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムを適切にシャットダウンすることは重要です。
	ただ電源を落すということはしないでください。
	まず、コマンドラインから <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と入力し、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	パスワードを入力してスーパユーザとなります。
	これは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
	のメンバとなっているユーザだけが行うことができます。
	そうでなければ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> としてログインしてください。
	システムをシャットダウンするには、<command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown -h now</command>
	と入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">The operating system has halted.
Please press any key to reboot.</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シャットダウンコマンドが実行され、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Please press any key to reboot</quote>
	というメッセージが現れた後に電源を落すことは安全です。
	電源を落す代わりに何らかのキーが押された場合、
	システムはリブートするでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Del</keycap>
	</keycombo>
	というキーの組合せを使ってシステムをリブートすることもできます。
	しかしながら、推奨はされません。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-trouble">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、
      インストールの際に起こりえる共通の問題を解決するための情報が書いてあります。
      また、FreeBSD と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
      のデュアルブートを行う際のいくつかの質問と回答も書いてあります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">なにかおかしいときには何をすればよいでしょうか</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PC アーキテクチャのさまざまな制限により、
	100% 確実にデバイスを認識することは不可能です。
	しかしながら、失敗した時にいくつかできることがあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールする FreeBSD のバージョンの <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/index.html">ハードウェアノート</link>
	を調べて、
	使っているハードウェアに対応しているかどうかを確認してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしハードウェアがサポートされているにもかかわらず、
	動作しなかったり他の問題点がある時は、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">カスタムカーネル</link>
	を構築して <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	カーネルに含まれていないデバイスのサポートを追加してください。
	デフォルトのカーネルでは、ほとんどのハードウェアデバイスの IRQ, IO アドレス、
	DMA チャネルが工場出荷時の状態であると仮定しています。
	もしハードウェアの設定が変更されているのであれば、
	カスタムカーネルのコンフィグレーションファイルを作成し、
	再コンパイルを行なって、
	FreeBSD が認識するよう設定してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">存在しないデバイスを認識してしまうことにより、
	その後実際に存在するデバイスの認識を失敗してしまうことがあります。
	このような場合は衝突しているドライバを無効にします。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのインストール上の問題は、各ハードウェア装置、
	  特にマザーボード <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym>
	  のファームウェアのアップデートで回避または緩和することができます。
	  ほとんどのマザーボードまたはコンピュータ製造メーカーは、
	  アップグレード情報を載せているウェブサイトを用意しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くの製造メーカーは、
	  重要な更新のようなそれなりの理由がない限りマザーボードの
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> のアップグレードは行わないよう強く推奨しています。
	  アップデートの過程で失敗する<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">かもしれず</emphasis>、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> チップに深刻なダメージを与える原因となり得るからです。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> ファイルシステムの利用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現時点では、FreeBSD は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Double Space™</application>
	アプリケーションで圧縮されたファイルシステムに対応していません。
	そのため、FreeBSD がデータにアクセスする前に、
	ファイルシステムを展開しておく必要があります。
	展開するには、
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Start</guimenuitem>&gt;
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Programs</guimenuitem> &gt;
	<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">System Tools</guimenuitem> メニューの
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Compression Agent</application> を実行してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ファイルシステム
	(FAT ファイルシステムとも呼ばれます) に対応しています。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdosfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドは、
	ファイルシステムの内容にアクセスできるように、
	ファイルシステムを現存のディレクトリ構成にマウントします。
	通常 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdosfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムは、
	直接用いられることはありません。
	システムから <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> 経由で利用されたり、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> から適切なパラメータとともに用いられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	の典型的な記述例は以下のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ad0sN  /dos  msdosfs rw  0	0</programlisting>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">この記述がうまくいくためには、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dos</filename> が存在している必要があります。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> のフォーマットの詳細については、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FAT ファイルシステムをマウントする <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	の典型例は以下となります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t msdosfs /dev/ad0s1 /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、FAT ファイルシステムは、
	プライマリのハードディスクの最初のパーティションに配置されています。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の出力から、
	パーティションレイアウトを把握するのに十分な情報を得ることが出来ます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD が割り当てる FAT パーティションの番号は、
	  他のオペレーティングシステムのものとは異なることがあります。
	  特に拡張パーティションには、
	  プライマリパーティションより大きなスライス番号が通常割り当てられます。
	  どのスライスが FreeBSD に属し、
	  どのスライスが他のオペレーティングシステムに属するかを決めるのに
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は役立ちます。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティングに関する Q &amp; A</title>

      <qandaset xmlns:xlink="http://www.w3.org/1999/xlink">
	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時のハードウェア検出で、システムがハングアップします。
	      または、インストール中にシステムがおかしくなります。</para>
	  </question>
	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">i386, amd64 および ia64 プラットフォームにおいて、
	      FreeBSD はシステムの設定を手助けするシステム ACPI サービスを、
	      起動時に検出された場合に広く使います。
	      残念ながら、まだいくつかの不具合が、
	      ACPI ドライバとシステムのマザーボードに存在しています。
	      起動ステージ 3 において、ヒント情報
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hint.acpi.0.disabled</literal>
	      を以下のように設定すると ACPI を無効にできます。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">set hint.acpi.0.disabled="1"</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この設定はシステムが起動するたびにリセットされるので、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> に
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hint.acpi.0.disabled="1"</literal>
	      を追加して、永続的に変更するようにしてください。
	      ブートローダのより詳しい情報については
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-synopsis"/> で説明します。</para>
	  </answer>
	</qandaentry>
	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールした後の最初のハードウェアからの起動で、
	      カーネルが読み込まれ、ハードウェアを検出しましたが、
	      次のようなメッセージを表示して停止しました。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">changing root device to ad1s1a panic: cannot mount root</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">何が問題ですか？</para>
	  </question>
	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">起動ディスクがシステムの最初のディスクではない場合には、
	      この問題が起こりえます。BIOS は、FreeBSD とは異なる番号付けを用い、
	      どの番号がどの番号に対応するかを正しく見つけ出すことは簡単ではありません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この問題が起きた場合には、
	      BIOS ディスク番号、ディスクのタイプおよびそのディスクタイプに対する
	      FreeBSD ディスク番号を設定することで、
	      ルートファイルシステムがどこにあるかを FreeBSD に指定する必要があります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムのそれぞれ IDE バスのマスタに接続された
	      2 つの IDE ディスクがあり、2 番目のディスクから
	      FreeBSD を起動する場合を考えます。
	      BIOS は、これらのデバイスをディスク 0 および ディスク 1 と認識し、
	      一方 FreeBSD は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> および
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename> と認識します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">BIOS ディスク 1 に FreeBSD があり、
	      ディスクタイプが <literal xmlns:xlink="http://www.w3.org/1999/xlink">ad</literal> で、
	      FreeBSD ディスク番号が 2 の場合には、次のようになるでしょう。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">1:ad(2,a)kernel</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プライマリバスにスレーブが接続されている場合には、
	      上記は必要なく、適切ではありません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">2 番目の状況は、システムに 1 つまたはそれ以上の
	      IDE ディスクがあるときに、SCSI ディスクから起動するような場合です。
	      このようなケースでは、FreeBSD ディスク番号は、
	      BIOS ディスク番号より小さな番号になります。
	      2 つの IDE ディスクと SCSI ディスクがある場合には、
	      SCSI ディスクは BIOS ディスク 2、
	      タイプ <literal xmlns:xlink="http://www.w3.org/1999/xlink">da</literal>、
	      FreeBSD ディスク番号が 0 となるため、
	      FreeBSD に BIOS ディスク 2 (システムの 1 番目の SCSI ディスク)
	      から起動するように設定するには以下のようになります。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">2:da(0,a)kernel</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">IDE ディスクが 1 つの場合には、
	      かわりに <literal xmlns:xlink="http://www.w3.org/1999/xlink">1:</literal> を指定してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">使用する適切な値が決まったら、
	      テキストエディタを使って、コマンドを
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename> に記述してください。
	      他に指定がなければ、FreeBSD はこのファイルの内容を、
	      デフォルトの <literal xmlns:xlink="http://www.w3.org/1999/xlink">boot:</literal>
	      プロンプトへのレスポンスとして使います。</para>
	  </answer>
	</qandaentry>
	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールした後、ハードウェアから起動しましたが、
	      ブートマネージャは、ブートメニューで
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">F?</literal> を表示し、それ以上起動が進みません。</para>
	  </question>
	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"> FreeBSD のインストール時に、
	      パーティションエディタで指定したハードウェアのディスクジオメトリが正しくありません。
	      パーティションエディタまで戻り、
	      ハードディスクの正しいジオメトリを指定してください。
	      ジオメトリを正しく設定する所から FreeBSD
	      を再インストールする必要があります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 専用のシステムで、
	      他のオペレーティングシステムとの互換性が必要なければ、
	      インストーラのパーティションエディタで
	      <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">A</guimenuitem>) を選択して、
	      ディスクのすべてを使ってください。</para>
	  </answer>
	</qandaentry>
	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ネットワークカードを検出しましたが、
	      デバイスのタイムアウトエラーが出ます。</para>
	  </question>
	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">使用しているカードの IRQ が、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
	      で指定された IRQ と異なる可能性があります。
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバは、デフォルトでは <quote xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア</quote>
	      コンフィグレーションを用いませんが、
	      インターフェースのヒント情報に <literal xmlns:xlink="http://www.w3.org/1999/xlink">-1</literal>
	      を指定した場合には、
	      ソフトウェアコンフィグレーションが用いられます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カードのジャンパを変更してコンフィグレーションの設定を行うか、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hint.ed.0.irq="-1"</literal> と指定して IRQ に
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-1</literal> を設定してください
	      このように設定すると、
	      カーネルがソフトウェアコンフィグレーションを利用します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">その他として、利用しているカードが IRQ 9 を使っている可能性があります。
	      この IRQ は IRQ 2 と共有され、
	      特に、IRQ 2 を使っている VGA カードを持っている場合には、
	      しばしば問題を引き起こします。
	      できるだけ IRQ 2 や 9 を避けるべきでしょう。</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">

	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> 端末から
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使うと、
	      ライトグレーの背景にフォントが黄色で表示され、読みずらいです。
	      このアプリケーションのコントラスト
	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">color</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">contrast</secondary></indexterm>
	      を高くすることはできますか?</para>
	  </question>
	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">x11/xterm</package> や <package xmlns:xlink="http://www.w3.org/1999/xlink">x11/rxvt</package>
	      使用時における <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      のデフォルトのカラーが読みにくい場合には、<literal xmlns:xlink="http://www.w3.org/1999/xlink">XTerm*color7:
	      #c0c0c0</literal> を <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.Xdefaults</filename>
	      に追加して、より暗いグレーの背景に変更してください。</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-advanced">
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">高度なインストールガイド</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Valentino</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Vaschetto</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿:
	  </contrib></author>
	<!-- May 2001 -->
      </authorgroup>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂:
	  </contrib></author>
      </authorgroup>
    </info>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では特殊な状況での FreeBSD のインストール方法が記述してあります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="headless-install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をモニタやキーボードのないシステムにインストールする</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">headless (serial console)</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">serial console</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この形式のインストールは <quote xmlns:xlink="http://www.w3.org/1999/xlink">表示のないインストール</quote> と呼ばれます。
	なぜなら、FreeBSD をインストールしようとするマシンにモニタが接続されていないか、
	VGA 出力をもっていないからです。
	このようなシステムへのインストールはシリアルコンソールを使い、
	別のマシンをシステムの主ディスプレイやキーボードとして使うと可能になります。
	これを行うには、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-boot-media"/>
	の説明に従い、インストール用の USB メモリスティックを作成するか、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="install-cdrom"/> で説明されているインストール用の
	ISO イメージをダウンロードしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の説明に従って、
	これらのメディアをシリアルコンソールを使って起動するように変更してください
	CD/DVD メディアを使うのであれば、最初の手順を飛ばしてください。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール用 USB スティックのシリアルコンソールへの起動を有効にする</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></primary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、USB スティックで起動すると、
	    インストーラを起動します
	    シリアルコンソールを使って起動するには、
	    os; のシステムに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    コマンドを使って USB ディスクをマウントしてください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">da0a</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</replaceable></userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスノードおよびマウントポイントの部分は、
	      利用している環境に合わせてください。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スティックをマウントしたら、USB
	    スティックをシリアルコンソールを使って起動するように設定してください。
	    以下の行を USB スティックの
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> に追加してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo 'console="comconsole"' &gt;&gt; <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</replaceable>/boot/loader.conf</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">USB スティックを正しく設定することができたら、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">umount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使ってディスクをアンマウントしてください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">umount <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</replaceable></userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その後 USB スティックを抜き、3 番目の手順に進んでください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール用 CD/DVD
	    のシリアルコンソールへの起動を有効にする</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></primary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、インストール用の CD/DVD
	    で起動すると、FreeBSD は通常のインストールモードで起動します。
	    シリアルコンソールで起動するには、
	    ISO イメージを CD/DVD メディアに焼く前に、
	    展開して、変更し、再び ISO イメージを作成する必要があります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インストール用の ISO イメージが保存されている
	    FreeBSD システムで、以下のようにすべてのファイルを
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使って展開してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/headless-iso</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar -C <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/headless-iso</replaceable> -pxvf FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10.1</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">i386</replaceable>-disc1.iso</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	    インストールメディアをシリアルコンソールを使って起動するように設定します。
	    以下の行を展開した ISO イメージの
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> に追加します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo 'console="comconsole"' &gt;&gt; <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/headless-iso</replaceable>/boot/loader.conf</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その後、修正されたツリーを使って新しい ISO イメージを作成します。
	    この例では、<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools</package> package
	    または port の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使っています。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs -v -b boot/cdboot -no-emul-boot -r -J -V "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Headless_install</replaceable>" \
	    -o <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Headless-</replaceable>FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">9.3</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">i386</replaceable>-disc1.iso<replaceable xmlns:xlink="http://www.w3.org/1999/xlink"> /path/to/headless-iso</replaceable></userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">適切な ISO イメージを作成できたので、
	    お気に入りの CD ライタ用のアプリケーションを使って
	    CD/DVD に焼いてください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブルの接続</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">2 つのマシン間のシリアルポートを、
	    <!-- <link linkend="term-cables-null">ヌルモデムケーブル</link> -->
	    ヌルモデムケーブルで接続してください。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">普通のシリアルケーブルはここでは使えません。</emphasis>
	    ヌルモデムケーブルが必要です。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールのために起動</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">いよいよインストールを開始します。
	    USB メモリスティックまたは CD/DVD メディアを、画面のない、
	    インストールを行おうとしているマシンに挿入し、
	    電源を投入してください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">画面がないマシンへの接続</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></primary>
	  </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> でインストールを行いたいマシンに接続してください:</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cu -l /dev/cuau0</userinput></screen>

	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を通して画面がないマシンを操作することができます。
	カーネルを読み込み、
	その後どの種類の端末を使うか選択する画面が表示されます。
	FreeBSD カラーコンソールを選んでインストールを続行してください!</para>

    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-diff-media">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">カスタムインストールメディアの準備</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ある状況では、カスタマイズした FreeBSD
      インストールメディアやソースを用意する必要があります。
      これは
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      がインストールファイルを持ってくることのできる、
      物理的なメディアであったり、ソースの場合もあります。
      たとえば、以下のような状況です。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">たくさんのマシンが繋がったローカルネットワークに
	  FreeBSD インストールファイルを持つローカル FTP サーバをホストし、
	  各マシンはインストールにこのサーバのファイルを使うようにします。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は CD/DVD ドライブを認識できないが、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> はそれができるとします。
	  この場合、同じコンピュータ上の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> パーティションに FreeBSD
	  のインストールファイルをコピーして、FreeBSD
	  のインストールにこれらのファイルを使います。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールを行いたいコンピュータが CD/DVD
	  ドライブやネットワークカードを搭載してなくても、
	  ヌルプリンタケーブルを用いてそのコンピュータに接続できます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">磁気テープを FreeBSD のインストールに使えます。</para>
      </listitem>
    </itemizedlist>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-cdrom">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール ISO の作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プロジェクトは、それぞれのリリースに対して
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ISO イメージ</quote>
	をサポートされているアーキテクチャごとに用意します。
	書き込み用のアプリケーションを用いてイメージを CD または DVD
	メディアに書き込む
	(<quote xmlns:xlink="http://www.w3.org/1999/xlink">焼く</quote>) ことができ、
	それを使って FreeBSD をインストールできます。
	CD/DVD ライタを利用できるのであれば、
	これが FreeBSD をインストールする最も簡単な方法です。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">適切な ISO イメージのダウンロード</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのリリースの ISO イメージは、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable></filename>
	    もしくは近くのミラーからダウンロードできます。
	    ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable> と
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable> の部分は適切なものに置き換えてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、このディレクトリには以下のイメージが置いてあります。</para>

	  <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	      ISO イメージの名前と内容</title>

	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイル名</entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">内容</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-bootonly.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">CD-ROM ドライブから起動することでインストールを行うことができる CD イメージです。
		    この CD のみを使って FreeBSD をインストールすることはできません。
		    この CD から起動した後は、
		    FTP サーバなどからネットワーク経由でインストール作業をします。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-dvd1.iso.gz</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">この DVD イメージには、
		    FreeBSD オペレーティングシステムのベースシステム、
		    コンパイル済みの package 一式、
		    ドキュメントをインストールするために必要なものが入っています。
		    <quote xmlns:xlink="http://www.w3.org/1999/xlink">livefs</quote> ベースのレスキューモードで起動することも可能です。</entry>
		</row>

 		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-memstick.img</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">USB メモリスティックに書き込めるイメージです。
		    USB ドライブから起動可能なコンピュータで、
		    インストールに使うことができます。
		    <quote xmlns:xlink="http://www.w3.org/1999/xlink">livefs</quote>
		    ベースのレスキューモードで起動することも可能です。
		    package は、ドキュメントに関連するもののみが入っています。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-disc1.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">USB メモリスティックに書き込めるイメージです。
		    USB ドライブから起動可能なコンピュータで、
		    インストールに使うことができます。
		    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bootonly.iso</filename> イメージと同様に、
		    配布物は含まれていませんが、
		    (ftp などの)
		    ネットワーク経由でのインストールに対応しています。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-version-RELEASE-arch-disc1.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">この CD イメージには、
		    FreeBSD オペレーティングシステムのベースシステムとドキュメントインストールするために必要なものが入っています。
		    その他の package は含まれていません。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-disc2.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">この CD イメージには、ディスクに収まる容量のサードパーティ製
		    package が含まれています。このイメージは、
		    FreeBSD 9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable>
		    以降では利用できません。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-disc3.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディスクに収まる容量のサードパーティ製
		    package を含むもう 1 つの CD イメージです。このイメージは、
		    FreeBSD 9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable>
		    以降では利用できません。</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">version</replaceable>-RELEASE-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>-livefs.iso</filename></entry>

		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">livefs</quote>
		    ベースのレスキューモードで起動できるイメージです。
		    この CD のみを使ってシステムをインストールすることはできません。</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </table>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">CD からインストールを行うには、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">bootonly</literal> ISO イメージまたは
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">disc1</literal> のどちらかをダウンロードしてください。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">disc1</literal> には、<literal xmlns:xlink="http://www.w3.org/1999/xlink">bootonly</literal>
	    ISO イメージに含まれているものはすべて含まれているので、
	    両方をダウンロードする必要はありません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネット経由でネットワークからインストールを行うには、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">bootonly</literal> ISO を使ってください。
	    追加のソフトェアが必要であれば、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> に説明されているように Ports Collection
	    を用いてインストールできます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールし、
	    サードパーティ製の package をディスク上から利用したいのであれば、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">dvd1</literal> を使ってください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">メディアへイメージを書き込む</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、ダウンロードしたイメージをディスクに書き込んでください。
	    他の FreeBSD システムで書き込みを行う場合には、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="cdrecord"/> の手順を参考にしてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">他のプラットフォーム上で書き込みを行う場合には、
	    そのシステムにインストールされている書き込み用のユーティリティを利用してください。
	    提供されているイメージは標準の ISO フォーマットです。多くの CD
	    ライタ用のアプリケーションがこのフォーマットに対応しています。</para>
	</step>
      </procedure>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">カスタマイズした FreeBSD
	のリリースを構築するには、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/releng">Release Engineering
	Article</link> をご覧ください。</para></note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-ftp">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ディスクを使ったローカル FTP サイトの作成</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">network</secondary>
	<tertiary xmlns:xlink="http://www.w3.org/1999/xlink">FTP</tertiary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のディスクは FTP サイトと同じ配置がなされています。
	そのため、ローカルな FTP
	サイトを構築して、ネットワーク上の他のマシンが FreeBSD
	をインストールするのに使うようにできます。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP サイトのホストとなる FreeBSD のコンピュータに、
	    CD/DVD をドライブに入れ、マウントしてください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /cdrom</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">anonymous FTP のアカウントを作成してください。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vipw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用して次の行を加えてください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</programlisting>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP サービスを請け負うために
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> で有効にしてください。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このマシンにネットワークで繋がっているマシンは、
	インストール時にメディアタイプで FTP を選択し、
	FTP サイトメニューで <quote xmlns:xlink="http://www.w3.org/1999/xlink">Other</quote> を選んだ後
	<userinput xmlns:xlink="http://www.w3.org/1999/xlink">ftp://<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your
	  machine</replaceable></userinput>
	と打ち込むことができます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし FTP クライアントの起動メディアの
	  FreeBSD のバージョンが FTP サイトで提供されているバージョンと正確に同じでなければ、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> でのインストールはうまくいきません。
	  バージョンを書き換えるには、
	  <guimenu xmlns:xlink="http://www.w3.org/1999/xlink">Options</guimenu> メニューで distribution name を
	  <guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">any</guimenuitem> に変更してください。</para>
      </note>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">この方法はローカルネットワーク上の、
	  ファイアウォールで保護されたマシンでは容認できますが、
	  インターネットを介して他のマシンに FTP サービスを提供することは、
	  セキュリティリスクが高まります。
	  インターネット経由でサービスを提供する場合には、
	  セキュリティの状態に注意することを強く提言します。</para>
      </warning>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-msdos">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> パーティションからのインストール</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">from <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ハードディスクの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> パーティションからインストールするときには、
	配布ファイルを例えば <filename xmlns:xlink="http://www.w3.org/1999/xlink">c:\freebsd</filename>
	などそのパーティションのルートディレクトリにコピーします。
	ディレクトリ構造を反映してコピーしなければならないので、
	CD/DVD からコピーする場合には <command xmlns:xlink="http://www.w3.org/1999/xlink">robocopy</command>
	の使用をおすすめします。
	例えば、最低限の FreeBSD のインストールを行うには、
	次のように準備します:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">C:\&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">md c:\freebsd</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">C:\&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">robocopy e:\bin c:\freebsd\bin\ /s</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">C:\&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">robocopy e:\manpages c:\freebsd\manpages\ /s</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename> ドライブには十分な空き容量があり、
	CD/DVD は <filename xmlns:xlink="http://www.w3.org/1999/xlink">E:</filename>
	ドライブにマウントされているものとします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるいは、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/">ftp.FreeBSD.org</link>
	から配布ファイルをダウンロードしてください。
	それぞれの配布ファイルは独自のディレクトリに入っています。
	例えば、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">base</emphasis> 配布ファイルは <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/9.3-RELEASE/base/">9.3/base/</link>
	ディレクトリにあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> パーティションの <filename xmlns:xlink="http://www.w3.org/1999/xlink">c:\freebsd</filename>
	にインストールの配布ファイルをコピーしてください。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">kernel</literal>
	配布ファイルは、最低限必要です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク経由のインストールの前に</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">network</secondary>
	<tertiary xmlns:xlink="http://www.w3.org/1999/xlink">serial (PPP)</tertiary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">network</secondary>
	<tertiary xmlns:xlink="http://www.w3.org/1999/xlink">parallel (PLIP)</tertiary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">network</secondary>
	<tertiary xmlns:xlink="http://www.w3.org/1999/xlink">Ethernet</tertiary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">3 種類のネットワークインストールを行うことができます。
	イーサネット、PPP、そして、PLIP です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最も高速なネットワークインストールを行うには、
	イーサネットアダプタを使ってください。
	FreeBSD はきわめて多くの PC イーサネットカードをサポートしています。
	サポートされているカードの一覧は、
	FreeBSD それぞれのリリースのハードウェアノートで提供されます。
	サポートされている PCMCIA イーサネットカードを使う場合、
	システムの電源を入れる<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前に</emphasis>差し込んでおくことに注意してください。
	FreeBSD はインストール時の PCMCIA
	カードの活線挿抜には対応していません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">静的に設定する場合には、システムの IP アドレス、
	サブネットマスク、ホスト名、デフォルトゲートウェイアドレス、
	DNS サーバアドレスを知っておくことが必要です。
	HTTP プロキシ経由で FTP インストールを行いたい場合には、
	プロキシサーバのアドレスも必要となります。
	これらの情報を知らない場合には、
	イーサネット経由でのインストールを始める<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前に</emphasis>、
	ネットワーク管理者か ISP に相談するべきでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしダイアルアップモデムを使用しているなら、
	インストールプロセスの初期にサービスプロバイダの PPP
	の情報が必要となるので、この情報を手元に用意してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ISP</acronym> に接続するのに PAP や CHAP
	を用いていて、スクリプトを使用していないのであれば、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dial</command> と FreeBSD の <application xmlns:xlink="http://www.w3.org/1999/xlink">ppp</application>
	のプロンプトに対して入力してください。
	それ以外の場合、モデム固有の <quote xmlns:xlink="http://www.w3.org/1999/xlink">AT コマンド</quote>を使って
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ISP</acronym> にダイヤルする方法を知っておく必要があります。
	PPP ダイヤラはとてもシンプルな端末エミュレータしか提供していません。
	これ以上の情報については <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp"/> や <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/books/faq/ppp.html">http://www.FreeBSD.org/doc/ja_JP.eucJP/books/faq/ppp.html</uri>
	を参照してください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">set log local ...</command>
	コマンドを用いてログを画面に吐くこともできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の動いている別のマシンと直接接続が可能でしたら、
	ヌルモデムパラレルポートケーブルを介してインストールすることもできます。
	パラレルポート経由のデータ転送スピードは、
	シリアルラインでの一般的なスピードよりも高速です。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> 経由のインストールの前に</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">installation</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">network</secondary>
	  <tertiary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</tertiary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> インストールはまったく単純明快です。
	  FreeBSD の配布ファイルを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	  サーバの好きな場所にコピーしておいて、
	  インストーラのメディア選択で <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	  を選択してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしサーバが<quote xmlns:xlink="http://www.w3.org/1999/xlink">特権ポート</quote>へのアクセスのみをサポートしている場合、
	  インストールを進める前に <guimenu xmlns:xlink="http://www.w3.org/1999/xlink">Options</guimenu> メニューで
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">NFS Secure</literal> を選択してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">イーサネットカードの性能が悪く、
	  転送速度が遅くて困っている場合には、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">NFS Slow</literal> フラグを選択するといいでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> 経由でインストールするためには、
	  サブディレクトリも含んだマウントにサーバが対応している必要があります。
	  例えば FreeBSD 10.1 の配布ファイルが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ziggy:/usr/archive/stuff/FreeBSD</filename>,
	  にあるとすると、マシン <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ziggy</systemitem> では
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> や
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/archive/stuff</filename>
	  だけでなく <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/archive/stuff/FreeBSD</filename>
	  の直接マウントが可能になっていなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename>
	  ファイルでは、このことは <option xmlns:xlink="http://www.w3.org/1999/xlink">-alldirs</option>
	  によって制御されています。
	  他の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	  サーバの場合だとまた話が違ってくるかもしれません。
	  もしサーバから <errorname xmlns:xlink="http://www.w3.org/1999/xlink">permission denied</errorname>
	  が返ってくるようでしたら、
	  サブディレクトリマウントをちゃんと有効にできていないことが考えられます。</para>
      </sect3>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r31156
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="basics">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">UNIX の基礎知識</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chris</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Shumway</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂</contrib></author>
    </authorgroup>
    
  </info>

  

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 中井 幸博 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">nakai@mlab.t.u-tokyo.ac.jp</email>, 1996 年 10 月 12 日.</emphasis></para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では FreeBSD
      オペレーティングシステムの基本的なコマンドと機能について記述しています。
      ここに書かれてあることのほとんどは、
      どんな <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> オペレーティングシステムにもあてはまります。
      この章に書いてあることに馴染みがあるなら、
      この章は気軽に流し読みしてください。
      あなたが FreeBSD の初心者なら、
      何か質問する前にこの章を読んでおいた方がきっといいはずです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読んで分かることは、次のようなことです。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <quote xmlns:xlink="http://www.w3.org/1999/xlink">仮想コンソール</quote> の使い方</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> のファイルの許可属性の仕組みと
	  FreeBSD のファイルフラグについて</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のファイルシステムの構成</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のディスク構成</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムをマウント、アンマウントする方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">プロセス、デーモンとシグナルとはなにか</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">シェルとはなにか。 また、デフォルトのログイン環境を変える方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">テキストエディタの基本的な使い方</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスおよびデバイスノードとはなにか</para>
      </listitem>
<!--      <listitem>
	<para>What binary format is used under &os;.</para>
      </listitem> -->
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに詳しい情報を得るためのマニュアルページの読み方</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">仮想コンソールと端末</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">仮想コンソール</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">端末</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は様々な使い方ができます。その中の一つが、
      テキスト端末でコマンドを入力することです。この方法で FreeBSD を使えば、
      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> オペレーティングシステムの能力と柔軟性を手にすることができます。
      この節では、<quote xmlns:xlink="http://www.w3.org/1999/xlink">コンソール</quote> と
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">端末</quote> はどのようなもので、FreeBSD でどう使うかを
      説明します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンソール</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">コンソール</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時に自動的にグラフィカルな環境が起動するように FreeBSD
	を設定していなければ、システムが起動してスタートアップ
	スクリプトが実行されると、すぐにログインプロンプトが出てくるでしょう。
	次のようものが表示されるはずです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Additional ABI support:.
Local package initialization:.
Additional TCP options:.

Fri Sep 20 13:01:06 EEST 2002

FreeBSD/i386 (pc3.example.org) (ttyv0)

login:</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのシステムではメッセージが多少異なるかもしれませんが、
	似たようなものが見られるはずです。
	最後の 2 行が、今関心を向けているものです。
	最後から 2 行目は、以下のようになっています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD/i386 (pc3.example.org) (ttyv0)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この行には、
	起動したばかりのシステムについていくばくかの情報があります。
	あなたは、x86 アーキテクチャ上の Intel または
	その互換プロセッサ上で動作している <quote xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD</quote> の
	コンソールを目にしているのです<footnote xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal> が意味しているのはそういうことです。
	    FreeBSD を Intel の 386 CPU 上で動かしていなくても、
	    ここは <literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal> になります。
	    ここで表示されるのはプロセッサの種類ではなく、プロセッサの
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">アーキテクチャ</quote>です。</para>
	</footnote>。このマシンの名称 (どの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 機にも名前がついて
	  います) は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">pc3.example.org</systemitem> で、
	  あなたはそのシステムコンソール、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyv0</filename>
	  端末に向かっています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後の行は、常に以下のものになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">login:</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここは、FreeBSD にログインするために <quote xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名</quote>
	を入力するところです。次の節でどうするか説明します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-login">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD にログインする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、マルチユーザ、マルチプロセスなシステムです。
	これは、1 台のマシンで何人もの人が交互に多くのプログラムを
	動かせるシステムに与えられる正式な説明です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あらゆるマルチユーザシステムには、ある <quote xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ</quote>
	を他のユーザと区別する何がしかの手段が必要です。
	FreeBSD (とすべての <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> like なオペレーティングシステム) では、
	すべてのユーザに対してプログラムの実行を可能にするのに、システムに
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ログイン</quote> することを義務付けてこれを実現しています。
	どのユーザにも、一意な名前 (<quote xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名</quote>)
	と個人的な秘密の鍵 (<quote xmlns:xlink="http://www.w3.org/1999/xlink">パスワード</quote>) があります。
	FreeBSD はユーザにプログラムの実行を許可する前に、
	この 2 つの入力を要求します。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">スタートアップスクリプト</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD が起動してスタートアップスクリプトを実行し終わった
	直後に<footnote xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スタートアップスクリプトは、
	    起動時に FreeBSD が自動的に実行するプログラムです。
	    主な機能は、全プログラムが動作するように設定を行なうことと、
	    バックグラウンドで動作するように設定した
	    有用なサービスを開始することです。</para>
	</footnote>、プロンプトを表示して有効なユーザ名の入力を促します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">login:</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">john</systemitem> というユーザ名を使う
	ことにしましょう。このプロンプトに対して
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">john</literal> と入力して、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を
	押してください。そうすると、
	次のような<quote xmlns:xlink="http://www.w3.org/1999/xlink">パスワード</quote>の入力を要求するプロンプトが
	表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">login: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">john</userinput>
Password:</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それでは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">john</systemitem> のパスワードを入力して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。パスワードは
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">表示されません</emphasis>。これについては、当面は
	気にする必要はありません。セキュリティのためといえば十分でしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パスワードを正確に入力したら、FreeBSD にログインして
	利用可能なすべてのコマンドを試せるようになっているはずです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">MOTD</acronym>、もしくはコマンドプロンプト
	(<literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal>
	または <literal xmlns:xlink="http://www.w3.org/1999/xlink">%</literal>)
	に表示されるメッセージを読むようにしましょう。
        これは FreeBSD へのログインに成功したときに表示されます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-virtual">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">多数のコンソール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つのコンソールで <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> コマンドを動かすのは結構なことですが、
	FreeBSD は多くのプログラムを一度に動かせます。
	コマンドを入力できるコンソールが一つというのは、
	FreeBSD のようにいくつものプログラムを同時に動かせる
	オペレーティングシステムの場合は少しもったいないことです。
	ここで、<quote xmlns:xlink="http://www.w3.org/1999/xlink">仮想コンソール</quote> が非常に役に立ちます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、異なる仮想コンソールを複数
	表示するように設定できます。キーボード上である組合せのキーを押せば、
	その中の一つから他の仮想コンソールのどれかに切り替えられます。
	それぞれのコンソールは、個別の出力チャンネルを持っており、
	また FreeBSD はある仮想コンソールから次に切り替えるのに応じて、
	キーボード入力とモニター出力を適切につなぎ直します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、コンソールを切り替えるために、
	特別なキーの組合せを予約しています<footnote xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のコンソールとキーボードドライバの詳細全体に
	    ついて、それなりに技術的かつ正確な説明は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syscons</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>,
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">atkbd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> および
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kbdcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルにあります。
	    ここではその詳細には立ち入りませんが、
	    興味をもった方は、いつでもマニュアルを参照して、
	    動作に関する詳細な説明を読むことができます。</para>

	</footnote>。FreeBSD では
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap></keycombo>,
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F2</keycap></keycombo> から
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">F8</keycap></keycombo> までを、
	別の仮想コンソールに切り替えるのに使えます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるコンソールから他に切り替えるのに応じて、FreeBSD は画面
	への出力を保存して戻します。結果として、FreeBSD で動かすコマン
	ドを入力するのに使える複数の画面とキーボードを
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">仮想的に</quote> 実現できるのです。
	ある仮想コンソールで実行したプログラムは、
	そのコンソールが見えなくなっている時も実行を停止しません。
	別の仮想コンソールに切り替えても動き続けます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-ttys">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">初期設定では、FreeBSD は 8 つの仮想コンソールを立ち上げます。
	この設定はもともと埋め込まれているわけではなく、
	インストールしたものが、もっと多いまたは少ない数の仮想コンソールで
	起動するように、容易にカスタマイズできます。仮想コンソールの数と
	設定は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルに書かれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の仮想コンソールを設定するには
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルを利用します。
	このファイルのコメントアウトされていない (<literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal>
	文字で始まっていない) 行は、一つの端末または仮想コンソールの
	設定があります。FreeBSD の初期設定では、
	仮想コンソールを 9 つ設定し、そのうち 8 つを有効にしています。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyv</literal> で始まる行がそれです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># name  getty                           type    status          comments
#
ttyv0   "/usr/libexec/getty Pc"         cons25  on  secure
# Virtual terminals
ttyv1   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv2   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv3   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv4   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv5   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv6   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv7   "/usr/libexec/getty Pc"         cons25  on  secure
ttyv8   "/usr/X11R6/bin/xdm -nodaemon"  xterm   off secure</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルのそれぞれのカラムと仮想コンソールに設定可能な
	全オプションの詳しい説明は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ttys</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> のマニュアルを
	参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-singleuser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモードのコンソール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモード</quote> とは何かという詳しい説明は、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-singleuser"/> にあります。FreeBSD を
	シングルユーザモードで動かしている場合は一つしかコンソールが
	ないということは注意しておくに値するでしょう。仮想コンソールは
	利用できません。シングルユーザモードのコンソールの設定は、同じく
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルにあります。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">console</literal> で始まる行を探してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># name  getty                           type    status          comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
console none                            unknown off secure</programlisting>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">console</literal> 行の上のコメントが示すように、
	  この行を編集して <literal xmlns:xlink="http://www.w3.org/1999/xlink">secure</literal> を
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">insecure</literal> に変更できます。そうすると、
	  FreeBSD がシングルユーザモードで起動した場合にも
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> のパスワードを要求します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">これを <literal xmlns:xlink="http://www.w3.org/1999/xlink">insecure</literal> に
	  変更する場合は十分注意してください。</emphasis>
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> のパスワードを忘れてしまったら、
	  シングルユーザモードで起動するのは少しややこしくなります。
	  できることはできますが、FreeBSD の起動の過程とそれに関わる
	  プログラムにあまり親しんでいない人には少し難しいかも知れません。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="consoles-vidcontrol">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンソールのビデオモードの変更</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のデフォルトのビデオモードは 1024x768 や 1280x1024 など、
	グラフィックカードとディスプレイが対応しているサイズに調整されます。
	別のビデオモードを使うには、以下の 2
	つのオプションを有効にしてカーネルを再コンパイルする必要があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options VESA
options SC_PIXEL_MODE</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">1 度このオプションを有効にしてカーネルを再コンパイルしたら、
	あなたのハードウェアがどのビデオモードに対応しているか、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を用いて知ることができます。
	以下を実行すると、どのビデオモードに対応しているかを知ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol -i mode</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドの出力結果があなたのハードウェアが対応しているビデオモードです。
	その後 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	ユーザで <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を実行することで、
        新しくどのビデオモードを使うかを選択できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vidcontrol MODE_279</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このビデオモードで良いと思ったら、起動時に自動的に設定されるように
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルに以下のように設定してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">allscreens_flags="MODE_279"</programlisting>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="permissions">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">許可属性</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">UNIX</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は BSD <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の直系の子孫であり、
      いくつかの鍵となる <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 思想にもとづいています。
      まず最も際だった特徴として最初に言えるのは、FreeBSD
      がマルチユーザのオペレーティングシステムだということです。
      FreeBSD は同時に働いている複数のユーザすべてを、
      完全に分離したタスク上で処理する能力を持っています。
      また FreeBSD は、ハードウェアデバイス、周辺装置、メモリ、
      CPU 時間等への要求を、各ユーザが平等に利用できるように適切に共有し、
      管理する役割を担っています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムがマルチユーザをサポートしているため、
      システムが管理する資源はすべて、
      誰がその資源を読み・書き・実行できるかを支配する、
      一組の許可属性を持っています。
      これらの許可属性は 3 つの部分からなる 3 桁の 8 進数の形で格納されています。
      それはそのファイルの所有者 (owner) に対するもの、
      そのファイルが所属するグループ (group) に対するもの、
      その他 (others) に対するものの 3 つです。
      これを数字を使って表現すると、次のようになります。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">許可属性 (permissions)</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの許可属性 (permissions)</primary>
    </indexterm>
    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">許可属性</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリの表示</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">0</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み不可、書き込み不可、実行不可</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">---</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み不可、書き込み不可、実行可能</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">--x</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み不可、書き込み可能、実行不可</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-w-</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">3</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み不可、書き込み可能、実行可能</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">-wx</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">4</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み可能、書き込み不可、実行不可</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">r--</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">5</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み可能、書き込み不可、実行可能</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">r-x</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み可能、書き込み可能、実行不可</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rw-</literal></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">7</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み可能、書き込み可能、実行可能</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rwx</literal></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ls</command></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリ</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ls</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に対してコマンドライン引数 <option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option> を使うと、
      詳細なディレクトリリストを見ることができ、
      ファイルの所有者、グループ、その他への許可属性を示す欄があるのがわかります。
      例えば、<command xmlns:xlink="http://www.w3.org/1999/xlink">ls -l</command> を実行して、
      適当なディレクトリを表示させると以下のようになります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls -l</userinput>
total 530
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 myfile
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 otherfile
-rw-r--r--  1 root  wheel    7680 Sep  5 12:31 email.txt
...</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に示すのは、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ls -l</command> の最初の行を抜き出したものです。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">-rw-r--r--</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最初の (一番左の) 文字は、それが
      普通のファイルなのか、ディレクトリなのか、
      キャラクタ型のデバイス特殊ファイルなのか、
      ソケットなのか、
      その他の特殊な疑似ファイルデバイスなのかといった種類を示す特別な文字です。
      この場合、<literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal> という文字は、
      普通のファイルであることを示します。
      この例でその次に来る <literal xmlns:xlink="http://www.w3.org/1999/xlink">rw-</literal> と書かれた 3 文字は、
      そのファイルの所有者に許可を与えるものです。
      その次の <literal xmlns:xlink="http://www.w3.org/1999/xlink">r--</literal> の 3 文字は、
      そのファイルが所属しているグループに許可を与えます。
      最後の <literal xmlns:xlink="http://www.w3.org/1999/xlink">r--</literal> の 3 文字は、
      システムに存在するその他のユーザに許可を与えます。
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">-</quote> は許可が与えられていないことを示します。
      このファイルの例では、ファイルの所有者はこのファイルを読み書きでき、
      ファイルの所属しているグループに属するユーザはファイルを読むことだけでき、
      そのどちらでもないユーザは、
      このファイルを読むだけできるように許可属性が与えられています。
      上の表によれば、このファイルに与えられた許可属性は
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">644</literal> となります。
      ここで各数字は、このファイルの許可属性の 3 つの部分を表しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルについてはここまでの説明で十分です。 しかし、
      デバイスの場合の許可属性はどのようにコントロールされているのでしょうか?
      FreeBSD は、大部分のハードウェアをファイルとして取り扱います。
      そのため、プログラムからは普通のファイルとまったく同じようにオープンし、
      データの読み書きができるようになっています。
      これらのデバイス特殊ファイルは
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> ディレクトリに収められています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリもまた、ファイルと同様に扱われます。
      それは読み込み/書き込み/実行の許可属性を持ちます。
      ディレクトリの実行ビットはファイルのそれとは少し違った意味を持ちます。
      ディレクトリが実行可能になっているとき、
      そのディレクトリに移動することができます。
      つまり、そのディレクトリに <quote xmlns:xlink="http://www.w3.org/1999/xlink">cd</quote> (change directory)
      することが可能です。
      また、実行可能属性がついているディレクトリでは、
      名前が分かっているファイルにアクセスすることもできます
      (もちろんそのファイル自体の許可属性によります)。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">特に、ディレクトリの中の一覧を表示するには、
      そのディレクトリに読み込み属性が設定されていなければなりません。
      一方、名前が分かっているファイルを削除するには、
      そのファイルが含まれているディレクトリに
      書き込み属性<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">と</emphasis>実行属性
      の両方が必要です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この他にも許可属性ビットはありますが、いずれも
      setuid バイナリや sticky ディレクトリなどといった特殊な状況で使われます。
      ファイルの許可属性そのものについて、
      また、それらの設定のしかたに関する詳しい情報は、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chmod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> マニュアルページを参照してください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">シンボリック表記</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink">
	    <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	      <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname>
	      <surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname>
	    </personname>
	    <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	  </author>
	</authorgroup>
      </info>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">許可属性</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">シンボル</secondary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シンボリック表記と呼ばれる許可属性を表す方法では、
	ファイルやディレクトリの許可属性を、
	8 進数ではなく記号を用いて設定します。
	シンボリック表記では、(who), (action), (permissions)
	という書式が用いられます。
	利用できる値は以下の通りです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">オプション</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">文字</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	    </row>
	  </thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(who)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">u</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(who)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">g</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを所持しているグループ</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(who)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">o</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">その他</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(who)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">a</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">すべて (<quote xmlns:xlink="http://www.w3.org/1999/xlink">world</quote>)</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(action)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">+</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">許可属性を与える</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(action)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">-</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">許可属性を取り除く</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(action)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">=</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">許可属性を指定したものにする</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(permissions)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">r</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">読み込み</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(permissions)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">w</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">書き込み</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(permissions)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">x</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">実行</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(permissions)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">t</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Sticky ビット</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">(permissions)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">s</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">UID または GID を設定する</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの値は、これまでと同様に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chmod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      コマンドで用いますが、文字で指定します。
      たとえば、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FILE</replaceable>
      に対して自分以外のユーザからアクセスを一切受け付けたくない、
      というときには以下のコマンドを実行してください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod go= FILE</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カンマ区切りで設定することで、
      ファイルの属性を一度に 2 つ以上変更できます。
      以下の例では、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FILE</replaceable>
      に対して自分以外のユーザから書き込みの権限を取り上げ、
      かわりにすべてのユーザが <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FILE</replaceable>
      を実行できるようにします。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod go-w,a+x <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FILE</replaceable></userinput></screen>
<!--
    <para>ほとんどのユーザは気づかないかもしれませんが、
      8 進数の値を用いた属性の変更方法は、
      ファイルに対して許可属性を設定したり割り当てるだけで、
      属性を足したり取り除いたりするというものではありません。</para>
-->
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">

    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のファイルフラグ</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	</author>
      </authorgroup>
    </info>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">先ほど説明したファイルの許可属性に加え、
	FreeBSD では <quote xmlns:xlink="http://www.w3.org/1999/xlink">ファイルフラグ</quote> を使えます。
	これはファイルにセキュリティや管理上の属性を追加するものですが、
	ディレクトリには追加しません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのファイルフラグはファイルに管理上の属性を追加し、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	ユーザでさえ誤ってファイルを消去、変更してしまうことを防ぎます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルフラグは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	を使って、簡単なインタフェースで設定できます。
	例えば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename>
	というファイルにシステムレベルで消去不可のフラグを設定するには、
	以下のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chflags sunlink <filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、消去不可のフラグを削除するには、
	以下のように先ほどのコマンドの <option xmlns:xlink="http://www.w3.org/1999/xlink">sunlink</option> の前に
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">no</quote> をつけるだけです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chflags nosunlink <filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルにどのフラグが設定されているのかを見るには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ls</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	コマンドを <option xmlns:xlink="http://www.w3.org/1999/xlink">-lo</option> オプションと一緒に使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls -lo <filename xmlns:xlink="http://www.w3.org/1999/xlink">file1</filename>
  </userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">出力は以下のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-rw-r--r--  1 trhodes  trhodes  sunlnk 0 Mar  1 05:54 file1</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのフラグの追加、削除は
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザしかできません。
	他のフラグは、ファイルの所有者が変更できます。
	システム管理者は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> から、
	より詳細な情報を得ることをおすすめします。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dirstructure">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリ構造</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリの階層構造</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のディレクトリ構造は、
      システム全体を理解するに当たって重要です。
      把握しておくべき最も重要なものは、<quote xmlns:xlink="http://www.w3.org/1999/xlink">/</quote>
      ディレクトリです。 このディレクトリは起動時に一番最初にマウントされ、
      オペレーティングシステムをマルチユーザで動作させるために
      必要な基本システムが含まれています。
      また、ルートディレクトリには、
      マルチユーザへの移行中に他のファイルシステムをマウントするためのマウントポイントも含まれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">マウントポイントとは、
      追加のファイルシステムと接続するためのディレクトリのことです
      (普通はルートファイルシステムにあります) 。
      より詳細な説明は
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disk-organization"/>
      の節にあります。
      標準的なマウントポイントには
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename>,
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cdrom</filename>
      があります。
      通常これらのディレクトリについては、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> というファイル中のエントリが参照されます。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
      はさまざまなファイルシステムとマウントポイントの表であり、
      システムが参照します。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に書かれたファイルシステムは
      <option xmlns:xlink="http://www.w3.org/1999/xlink">noauto</option> オプションが指定されていなければ、
      起動時に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> スクリプトによって自動的にマウントされます。
      詳細は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks-fstab"/> をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム構造を網羅した説明は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hier</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> に書かれています。
      ここでは、もっともよく使われるディレクトリについて簡単に
      見るだけで十分でしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">
      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
        <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリ</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink" valign="top">
            <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのルートディレクトリ</entry>
            </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザ環境とマルチユーザ環境の両方で重要な
	        ユーザユーティリティ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムの起動時に使われるプログラムと設定ファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/defaults/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの起動設定ファイル; <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デバイスノード; <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">intro</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システム設定ファイルとスクリプト</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのシステム設定ファイル; <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のようなメール転送エージェントの設定ファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">named</command> 設定ファイル; <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/periodic/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 経由で毎日・毎週・毎月実行されるスクリプト;
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">periodic</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> 設定ファイル;
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システム管理者が一時的なマウントポイントとしてよく使う
	        空のディレクトリ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/proc/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">プロセスファイルシステム; <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">procfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> と
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_procfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/rescue/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">緊急時のために静的にリンクされているプログラム; 詳しくは
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rescue</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/root/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アカウントのホームディレクトリ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザ環境とマルチユーザ環境の両方で重要な
	        システムプログラムと管理ユーティリティ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">一時的なファイル。
		通常、<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/tmp</filename>
		の内容はシステムの再起動で失われます。
		メモリファイルシステムはよく
		<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/tmp</filename>
		にマウントされます。
		これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の tmpmfs 関係の変数を使うか、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
		に設定項目を記入することで自動化できます。
		詳しくは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照して下さい。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">大部分のユーザユーティリティとアプリケーション</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">よく使うユーティリティとプログラミングツールとアプリケーション</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/include/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C の標準ヘッダファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/lib/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ライブラリ</entry>
	    </row>


	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libdata/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">いろいろなユーティリティのデータファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システムデーモンとシステムユーティリティ
	        (他のプログラムから実行される)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/</filename></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ローカルのプログラムやライブラリなど。
	        FreeBSD ports 構成のデフォルトインストール先としても使われます。
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> 内では、
	        <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hier</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> に書かれている <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
		のための一般構造が使われます。
	        例外は man ディレクトリで、
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share</filename> の下ではなく
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename> の下に直接置かれ、
	        ports 関係文書は
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">share/doc/port</filename>
		にあります。
	      </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> ツリーのビルドで作られる
	        アーキテクチャ依存のターゲットツリー</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports Collection (インストールしなくてもよい)。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(ユーザが実行する) システムデーモンとシステムユーティリティ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">アーキテクチャに依存しないファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">BSD のソースファイルまたはローカルのソースファイル、
	        あるいは両方</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">X11R6 のプログラム、ライブラリなど (インストールしなくてもよい)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ログ・一時的なファイル・スプールファイルなどいろいろな用途。
	        メモリファイルシステムは時々
		<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/var</filename>
		にマウントされます。
	        これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の varmfs 関係の変数を使うか、
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
		に設定項目を記入することで自動化できます。
	        詳しくは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照して下さい。</entry>
	    </row>


	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">いろいろなシステムログファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/mail/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのメールボックスファイル</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">プリンタとメールシステムのスプールディレクトリなどなど</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">一時的なファイル。
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/var</filename>
		がメモリファイルシステムでなければ、
	        ここにあるファイルはシステムが再起動しても失われません。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS のマップ</entry>
	    </row>

	  </tbody>
	</tgroup>
      </informaltable>
    </para>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disk-organization">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク構成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを見つけるために FreeBSD
	が使用する構成の一番小さな単位はファイル名です。
	ファイル名は、大文字と小文字を区別します。
	このことは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">readme.txt</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">README.TXT</filename>
	が異なる二つのファイルであることを意味します。
	FreeBSD はそのファイルがプログラム、または文書、
	あるいはその他の形式かどうかを決定するために拡張子を使用しません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルはディレクトリ内に格納されます。
	ディレクトリはファイルを一つも含んでいないかもしれせんし、
	または数百のファイルを含んでいるかもしれません。
	ディレクトリはまた別のディレクトリを含むことができます。
	つまり、ディレクトリの階層構造を構築することができます。
	このことにより、データ構造がはるかに簡単になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルおよびディレクトリは、
	必要な他のディレクトリ名とスラッシュ (<literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>) を後に続けて
	ファイル名またはディレクトリ名を与えることによって参照されます。
	
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo</filename> ディレクトリがあって、その中に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bar</filename> ディレクトリがあるとします。
	そして、その中に <filename xmlns:xlink="http://www.w3.org/1999/xlink">readme.txt</filename> があるとすると、
	ファイルへのフルネーム、または<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">パス</firstterm>は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo/bar/readme.txt</filename> となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリおよびファイルはファイルシステム内に格納されます。
	どのファイルシステムは、そのファイルシステムのための
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ルートディレクトリ</firstterm> とよばれる、
	まさに頂点の位置にちょうど一つのディレクトリを含んでいます。
	このルートディレクトリは他のディレクトリを含むことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これまでのところ、これはあなたの使ったことのある他の OS
	とおそらく似ているかもしれません。少し違いがあります。
	たとえば、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ではファイル名とディレクトリ名を分けるのに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">\</literal> を使います。
	一方、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> では <literal xmlns:xlink="http://www.w3.org/1999/xlink">:</literal> を使います。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はパス内にドライブレターまたは他のドライブ名を使いません。
	あなたは FreeBSD で <filename xmlns:xlink="http://www.w3.org/1999/xlink">c:/foo/bar/readme.txt</filename>
	とは書かないでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その代わり、一つのファイルシステムは
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステム</firstterm>として設計されています。
	ルートファイルシステムのルートディレクトリは <literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal>
	として参照されます。それから、他のすべてのファイルシステムは、
	ルートファイルシステム以下に <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">マウント</firstterm>
	されます。
	あなたが FreeBSD システムでどんなに多くのディスクを使用しても、
	すべてのディレクトリは、
	同じディスクの一部であるように見えるので問題ありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">A</literal>,<literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> および
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">C</literal>
	と呼ばれる三つのファイルシステムがあると仮定しましょう。
	それぞれのファイルファイルシステムには一つのルートディレクトリがあり、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">A1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">A2</literal>
	と呼ばれている二つの他のディレクトリを含んでいます
	(同様に	<literal xmlns:xlink="http://www.w3.org/1999/xlink">B1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">B2</literal> および
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">C1</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">C2</literal> があります)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">A</literal> をルートファイルシステムとします。
	このディレクトリになにが含まれているか見るために
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ls</command> コマンドを使うと、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">A1</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">A2</literal>
	の二つのサブディレクトリが現れるでしょう。
	ディレクトリツリーは以下のようになります。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/example-dir1" format="EPS"/>
	</imageobject>

	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced"> /
 |
 +--- A1
 |
 `--- A2</literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムはファイルシステム内のディレクトリにマウントしなければいけません。
	それでは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">A1</literal> ディレクトリに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> ファイルシステムをマウントすると仮定します。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> のルートディレクトリは <literal xmlns:xlink="http://www.w3.org/1999/xlink">A1</literal>
	に置き換えられ、
	そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> 内のディレクトリがそれに応じて現れます。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/example-dir2" format="EPS"/>
	</imageobject>

	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced"> /
 | 
 +--- A1
 |     |
 |     +--- B1
 |     |
 |     `--- B2
 |
 `--- A2</literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">B1</literal> または <literal xmlns:xlink="http://www.w3.org/1999/xlink">B2</literal>
	内にあるどんなファイルも、必要なときに
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/A1/B1</filename> または <filename xmlns:xlink="http://www.w3.org/1999/xlink">/A1/B2</filename>
	で到達できます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/A1</filename>
	にあったすべてのファイルは一時的に隠されました。
	それらは <literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> が
	A から<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">アンマウント</firstterm>されたら再び現れるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> が <literal xmlns:xlink="http://www.w3.org/1999/xlink">A2</literal>
	にマウントされていたら、この図のようになります。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/example-dir3" format="EPS"/>
	</imageobject>

	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced"> /
 |
 +--- A1
 |
 `--- A2
       |
       +--- B1
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、パスはそれぞれ <filename xmlns:xlink="http://www.w3.org/1999/xlink">/A2/B1</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/A2/B2</filename> となるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムは互いのファイルシステム上にもマウントできます。
	上記の最後の例に続けて、<literal xmlns:xlink="http://www.w3.org/1999/xlink">C</literal> ファイルシステム は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">B</literal> ファイルシステム内の <literal xmlns:xlink="http://www.w3.org/1999/xlink">B1</literal>
	ディレクトリ上にマウントできます。
	次の図のようになります。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/example-dir4" format="EPS"/>
	</imageobject>
	
	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced"> /
 |
 +--- A1
 |
 `--- A2
       |
       +--- B1
       |     |
       |     +--- C1
       |     |
       |     `--- C2
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または <literal xmlns:xlink="http://www.w3.org/1999/xlink">C</literal> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">A1</literal> の下の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">A</literal> ファイルシステムに直接マウントできます。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="install/example-dir5" format="EPS"/>
	</imageobject>

	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced"> /
 |
 +--- A1
 |     |
 |     +--- C1
 |     |
 |     `--- C2
 |
 `--- A2
       |
       +--- B1
       |
       `--- B2</literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたが <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> を使いなれているなら、
	まったく同じではありませんが、これは <command xmlns:xlink="http://www.w3.org/1999/xlink">join</command> コマンドと
	似ています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、通常あなた自身が心配する必要のあるものではありません。
	一般的に、FreeBSD をインストールするときにファイルシステムを作成し、
	どこにマウントするか決定します。そして、
	新しいディスクを追加しなければそれらを変更することはありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つの大きなファイルシステムを用意し、
	他のファイルシステムを作成する必要としないことはまったくもって可能です。
	この方法にはいくつかの短所と一つの利点があります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マルチファイルシステムの利点</title>
      
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">異なったファイルシステムは異なった
	    <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">マウントオプション</firstterm> を使用できます。
	    たとえば、注意深い考えなのですが、
	    ルートファイルシステムを読みだし専用でマウントして、
	    不注意によって重大なファイルを削除、
	    または編集できないようににすることができます。
	    また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/home</filename>
	    のようなユーザが書き込み可能なファイルシステムを他のファイルシステムと分けることによって、
	    <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">nosuid</firstterm> でマウントすることも可能になります。
	    このオプションは、ファイルシステムに記録されている
	    <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">suid</firstterm>/<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">guid</firstterm>
	    の実行可能ビットを有効にしないので、安全性を高めることができるでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はファイルシステムがどのように使われているかによって、
	    自動的にファイルシステム上のファイルの配置を最適化します。
	    したがって、連続的に書き込まれた多くの小さなファイルが含まれているファイルシステムは、
	    より大きく少ないファイルが含まれているファイルシステムと異なる最適化をするでしょう。
	    一つの大きなファイルシステムを作成すると、
	    この最適化は成り立たなくなります。</para>
	</listitem>
	
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のファイルシステムはトラブルが起きてもとても強固です。
	    しかしながら臨界点でのトラブルは、
	    ファイルシステムの構造にまだ損害を与えるかもしれません。
	    マルチファイルシステムへデータを分割しておくことで、
	    必要なときにバックアップからレストアすることをより容易にして、
	    まだシステムが回復するかもしれません。</para>
	</listitem>
      </itemizedlist>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シングルファイルシステムの利点</title>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムは固定サイズです。
	    FreeBSD をインストールするときにファイルシステムを作成して、
	    固定サイズを割りあてたなら、
	    後になってそのパーティションをより大きくする必要があると気づくかもしれません。
	    パーティションのサイズを変更するには、
	    バックアップ、新しいサイズを指定したファイルシステムの再作成、
	    バックアップしたデータをリストアする作業が必要となるでしょう。</para>

	  <important xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">growfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドがあります。
	      このコマンドは、この制限を取り除いて、
	      ファイルシステムのファイルを直ちに増加させることを可能にします。
	      </para>
	  </important>
	</listitem>
      </itemizedlist>
    
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムはパーティション内に含まれています。
	FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 遺産のために、
	これは普段使われるパーティション (例えば <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> パーティション)
	という用語の意味とは違う意味を持っています。
	それぞれのパーティションは <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> から
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">h</literal> までの文字で区別されます。
	それぞれのパーティションは、
	一つのファイルシステムだけを含むことができます。
	このことは、ファイルシステムがファイルシステムの階層上の典型的なマウントポイント、
	または含まれているパーティションの文字によって記述されることを意味します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">スワップ領域</firstterm>
	にもまたディスク領域を使用します。
	スワップ領域は FreeBSD に <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">仮想メモリ</firstterm>
	を提供します。
	これはあなたのコンピュータが、
	実際に搭載している以上のメモリがあるかのように振舞います。
	FreeBSD がメモリを使い果たしたときに、
	現在使用されていないデータのいくつかをスワップ領域に移動し、
	そのデータが必要となったときに 
	(その他のデータをスワップ領域に移動させてから) 
	メモリ内に移動しなおします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのパーティションはある慣習と関係づけられています。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="5*"/>

	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">慣習</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink" valign="top">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">通常、ルートパーティションを含みます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">通常、スワップ領域を含みます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">通常、スライス全体と同じサイズです。
		これは、スライス全体にアクセス必要のあるユーティリティ
		(たとえば、ひどいブロックスキャナ) が、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal> 
		パーティションにアクセスすることを可能にします。通常、
		このパーティション内にファイルシステムを作成しないでしょう。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">d</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">d</literal> パーティションは、
		それに関連づけられた特別な意味を持っていましたが、
		今は無いので、普通のパーティションとして動作するでしょう。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを含んだそれぞれのパーティションは、FreeBSD
	が <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">スライス</firstterm> と呼ぶものの中に格納されます。
	スライスは FreeBSD の用語で、
	普通はパーティションと呼ばれるものです。
	もう一度言及しますが、これは FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> 背景によるものです。
	スライスは 1 から 4 までの番号がつけられます。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">スライス</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">危険な専用</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スライス番号は 1 から始まり
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">s</literal> を前につけられて、デバイス名の後に続きます。
	したがって、<quote xmlns:xlink="http://www.w3.org/1999/xlink">da0<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">s1</emphasis></quote>
	は一番目の SCSI ドライブ上の 一番目のスライスです。
	ディスク上に四つの物理スライスだけが存在できます。しかし、
	適切な種類の物理スライス内に論理スライスをもつことができます。
	これらの拡張されたスライス番号は 5 から始まります。したがって、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ad0<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">s5</emphasis></quote> 
	は、一番目の IDE ディスク上の一番目の拡張スライスです。
	これらのデバイスは、
	スライスを占有することを予期するファイルシステムによって使用されます。</para> 

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スライスや <quote xmlns:xlink="http://www.w3.org/1999/xlink">危険な専用</quote> の物理ドライブ、
	そして他のドライブは <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> から <literal xmlns:xlink="http://www.w3.org/1999/xlink">h</literal>
	までの文字として表される <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</firstterm>
	を含んでいます。
	この文字はデバイス名に追加されます。したがって、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">da0<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">a</emphasis></quote> 
	は一番目の <quote xmlns:xlink="http://www.w3.org/1999/xlink">危険な専用</quote> da ドライブ上の
	a パーティションです。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ad1s3<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">e</emphasis></quote> は、
	二番目の IDE ディスク上の 三番目のスライス内にある五番目のパーティションです。</para>
	
      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、システム上のそれぞれのディスクは識別されます。
	ディスク名はどの種類のディスクであるかを示す記号ではじまり、
	どのディスクかを示す数字が続きます。
	スライスとは違いディスクの番号づけは 0 から始まります。
	共通の記号は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics-dev-codes"/>
	に示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションを参照するときには、
	FreeBSD はパーティションを含むスライスおよびパーティションも指定することを必要とします。
	そしてスライスを参照するときはディスク名も参照しないといけません。
	したがって、ディスク名、<literal xmlns:xlink="http://www.w3.org/1999/xlink">s</literal>、スライス番号、
	そしてパーティション文字を並べることによってパーティションを参照します。
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics-disk-slice-part"/>に例があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics-concept-disk-model"/>
	は理解をより明らかにすることを助けるための、
	ディスク構成の概念のモデルを示します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をインストールするために、
	まずはじめにディスクスライスの設定をし、
	次に FreeBSD に用いるスライス内のパーティションを作成し、
	それからそれぞれのパーティション内にファイルシステム
	(またはスワップ領域) を作成し、
	ファイルシステムがどこにマウントされるか決定しなければいけません。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1" xml:id="basics-dev-codes">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクデバイス記号</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
          <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
          <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="5*"/>

	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">記号</entry>
	    
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ad</filename></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI (IDE) ディスク</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">da</filename></entry>
	      
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI ダイレクトアクセスディスク</entry>
	    </row>
	    
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">acd</filename></entry>
	      
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI (IDE) CDROM</entry>
	    </row>
	    
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">cd</filename></entry>
	      
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI CDROM</entry>
	    </row>
	    
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">fd</filename></entry>
	      
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスク</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-disk-slice-part">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスク名、スライス名、パーティション名のサンプル</title>
	
	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
            <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
            <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="5*"/>

	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">記号</entry>
		
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	      </row>
	    </thead>
	    
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ad0s1a</literal></entry>
		
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">一番目の IDE ディスク (<literal xmlns:xlink="http://www.w3.org/1999/xlink">ad0</literal>)
		  上の一番目のスライス (<literal xmlns:xlink="http://www.w3.org/1999/xlink">s1</literal>) 
		  内の一番目のパーティション (<literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal>)。</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">da1s2e</literal></entry>
		
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">二番目の SCSI ディスク (<literal xmlns:xlink="http://www.w3.org/1999/xlink">da1</literal>)
		  上の二番目のスライス (<literal xmlns:xlink="http://www.w3.org/1999/xlink">s2</literal>)
		  内の五番目のパーティション (<literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal>)。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </example>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-concept-disk-model">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの概念的構成</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これはシステムに接続された一番目の IDE 
	  ディスクの FreeBSD から見た図を示します。
	  ディスクサイズは 4 GB と仮定し、
	  2 GB のスライス (<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> でいうパーティション) が二つあるとします。
	  一番目のスライスは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ディスクの <filename xmlns:xlink="http://www.w3.org/1999/xlink">C:</filename>
	  を含んでいます。
	  そして、二番目のスライスは FreeBSD のディスクを含んでいます。
	  これは FreeBSD インストーラが三つのデータパーティションと一つのスワップパーティションを作成した例です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">三つのパーティションはそれぞれファイルシステムを含んでいます。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> 
	  パーティションはルートファイルシステムに使用され、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal> パーティションは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename>
	  ディレクトリ階層に、 <literal xmlns:xlink="http://www.w3.org/1999/xlink">f</literal> パーティションは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> ディレクトリ階層に使用されるでしょう。</para>

        <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
          <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
            <imagedata fileref="install/disk-layout" format="EPS"/>
          </imageobject>
 
          <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">.-----------------.  --.
|                 |    |
|  DOS / Windows  |    |
:                 :     &gt;  First slice, ad0s1
:                 :    |
|                 |    |
:=================:  ==:                               --.
|                 |    |  Partition a, mounted as /      |
|                 |     &gt; referred to as ad0s2a          |
|                 |    |                                 |
:-----------------:  ==:                                 |
|                 |    |  Partition b, used as swap      |
|                 |     &gt; referred to as ad0s2b          |
|                 |    |                                 |
:-----------------:  ==:                                 |  Partition c, no
|                 |    |  Partition e, used as /var       &gt; file system, all 
|                 |     &gt; referred to as ad0s2e          |  of FreeBSD slice,
|                 |    |                                 |  ad0s2c
:-----------------:  ==:                                 |
|                 |    |                                 |
:                 :    |  Partition f, used as /usr      |
:                 :     &gt; referred to as ad0s2f          |
:                 :    |                                 |
|                 |    |                                 |
|                 |  --'                                 |
`-----------------'                                    --'</literallayout>
          </textobject>
        </mediaobject>
      </example>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mount-unmount">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのマウントとアンマウント</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>
      をルート (根) とする木構造として考えると視覚的に理解しやすいでしょう。
      ルートディレクトリにある
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>、
      その他のディレクトリは枝に相当し、
      それらには、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>
      などのように、さらに枝分かれすることができます。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステム</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまな理由がありますが、
      ディレクトリをいくつかの異なるファイルシステム上に構築するのが良いでしょう。
      たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> には、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">log/</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">spool/</filename>
      など、さまざまな種類の一時ファイルを置くディレクトリがあるため、
      あふれてしまう可能性があります。
      ルートファイルシステムをあふれさせるのは得策ではありませんので、
      普通は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>
      から分離します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、次のような場合も、ディレクトリツリーを
      別のファイルシステムに置く理由として良くあげられます。
      それは、たとえば物理的に別のディスクにディレクトリツリーを置く場合、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nfs">ネットワークファイルシステム (Network File System)</link> や
      CDROM ドライブのような別の仮想ディスクに置くという場合です。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-fstab">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">fstab</filename> ファイル</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">fstab を使ったマウント</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に書かれているファイルシステムは
        (<option xmlns:xlink="http://www.w3.org/1999/xlink">noauto</option> オプションがなければ)
        <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot">起動プロセス</link>の途中で
	自動的にマウントされます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> ファイルは、
        次のような書式で書かれた行のリストになっています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">device</replaceable>       <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/mount-point</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">fstype</replaceable>     <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">options</replaceable>      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">dumpfreq</replaceable>     <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">passno</replaceable></programlisting>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">device</literal></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスの名前 (存在していなければなりません)。
	      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks-naming"/> に説明があります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">mount-point</literal></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムがマウントするディレクトリの名前
	      (存在していなければなりません)。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">fstype</literal></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に渡されるファイルシステムタイプ。
	      FreeBSD ファイルシステムのデフォルトは
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ufs</literal> です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">options</literal></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">読み書きするファイルシステムには
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">rw</option>、読み込み専用のファイルシステムには
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">ro</option> を、必要な他のオプションの前に指定します。
	      よく使われるオプションは <option xmlns:xlink="http://www.w3.org/1999/xlink">noauto</option> で、
	      起動時にはマウントされないファイルシステムに使います。
	      その他のオプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      マニュアルページに載っています。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">dumpfreq</literal></term>

         <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	   <para xmlns:xlink="http://www.w3.org/1999/xlink">これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が使うもので、
	     どのファイルシステムにダンプが必要なのかを決めます。
             この項目がなければ、0 であるものとみなされます。</para>
         </listitem>
       </varlistentry>

       <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
         <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">passno</literal></term>

         <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
           <para xmlns:xlink="http://www.w3.org/1999/xlink">これはファイルシステムをチェックする順番を決めます。
           ファイルシステムチェックを飛ばしたいファイルシステムには、
           <literal xmlns:xlink="http://www.w3.org/1999/xlink">passno</literal> を 0 に設定してください。
	   ルートファイルシステム
	   (どれよりも先にチェックしなければなりません)
	   は <literal xmlns:xlink="http://www.w3.org/1999/xlink">passno</literal> を 1 に設定してください。
           他のファイルシステムの <literal xmlns:xlink="http://www.w3.org/1999/xlink">passno</literal>
           は 1 以上に設定してください。
	   同じ <literal xmlns:xlink="http://www.w3.org/1999/xlink">passno</literal> のファイルシステムがあった場合、
           <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は可能であれば並行してファイルシステムのチェック
	   を行なおうとします。</para>
         </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	ファイルの書式やオプションに関しての詳細は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-mount">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mount</command> コマンド</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">マウント</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドは、
        ファイルシステムをマウントするために使われるものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">基本的には、次のように使います。</para>

      <informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount device mountpoint</userinput></screen>
      </informalexample>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページにはたくさんのオプションが書かれていますが、
        いちばんよく使われるのは次のものです。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マウントオプション</title>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	      にある全てのファイルシステムをマウントします。
	      例外は <quote xmlns:xlink="http://www.w3.org/1999/xlink">noauto</quote> の印がついているものと、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option> フラグで除外されたものと、
	      すでにマウントされているファイルシステムです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">実際にマウントシステムコールする以外のすべてのことをします。
	      このオプションは <option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option>
	      フラグと組み合わせて使い、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が実際なにをしようとしているのか調べるのに便利です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クリーンでないファイルシステムを強制的にマウントします
	      (危険です)。もしくは、ファイルシステムのマウント状態を
	      読み書き可能から読み込みのみに変更するとき、
	      書き込みアクセスを強制的に取り消します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
          <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを読み込み専用でマウントします。
	      これは <option xmlns:xlink="http://www.w3.org/1999/xlink">ro</option> (5.2 より前の
	      FreeBSD では <option xmlns:xlink="http://www.w3.org/1999/xlink">rdonly</option> です)
	      引数を <option xmlns:xlink="http://www.w3.org/1999/xlink">-o</option>
	      オプションに使うのと同じです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option>
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">fstype</replaceable></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを指定のファイルシステムタイプでマウントします。
	      または、<option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> を使った場合、
	      指定したタイプのファイルシステムのみマウントします。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのファイルシステムタイプは
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">ufs</quote> です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-u</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのマウントオプションを更新します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細な出力にします。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-w</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを読み書き可能にマウントします。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-o</option> には、
         次のようなオプションを複数カンマで区切って指定します。
         以下に挙げるのはその一部です。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">noexec</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">そのファイルシステム上のバイナリの実行を禁止します。
	        セキュリティのために有用なオプションです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">nosuid</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">そのファイルシステム上の setuid や setgid フラグを解釈しません。
	      これもセキュリティのために有用なオプションです。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-umount">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">umount</command> コマンド</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">アンマウント</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">umount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドは、パラメータとしてマウントポイントの一つ、
	デバイス名、もしくは <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> や <option xmlns:xlink="http://www.w3.org/1999/xlink">-A</option>
	といったオプションを取ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いずれの形式でも <option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option> で強制的なアンマウントを行ない、
        <option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option> で詳細な出力を出します。
        ただしほとんどの場合、<option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option> は使わないほうがよいでしょう。
	強制的にファイルシステムをアンマウントすると、
	計算機がクラッシュしたりファイルシステム上部のデータが
	破壊されたりする恐れがあるためです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オプション <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> と <option xmlns:xlink="http://www.w3.org/1999/xlink">-A</option>
        はマウントされているファイルシステムすべてをアンマウントするのに使います。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option> にファイルシステムタイプを指定すると、
	指定されたものだけがアンマウントされます。
	また、<option xmlns:xlink="http://www.w3.org/1999/xlink">-A</option> を使うとルートファイルシステムはアンマウントしません。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-processes">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">プロセス</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はマルチタスクのオペレーティングシステムです。
      つまり、1つ以上のプログラムがあたかも同時に動いているかのように見える、
      ということです。動作中のプログラムはそれぞれ
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">プロセス</firstterm> と呼ばれます。
      コマンドを実行すると、最低でも1つの新しいプロセスがスタートします。
      システムを正常に機能させるために常に動作しているシステムプロセスもたくさんあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">各プロセスは<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">プロセス ID</firstterm>、もしくは
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">PID</firstterm> と呼ばれる数字でただ一つに識別されます。
      また、ファイルのように各プロセスには所有者とグループがあります。
      所有者とグループの情報は、
      これまでに見たファイル許可属性を用い、
      そのプロセスが開けるファイルやデバイスを決定するために使われます。
      多くのプロセスには親プロセスもあります。
      親プロセスとは、そのプロセスをスタートさせたプロセスのことです。
      例えば、シェルにコマンドを打ち込んでいるときはシェルがプロセスで、
      動かすコマンドもまたどれもプロセスです。
      このようにして起動するプロセスはそれぞれシェルが親プロセスになります。
      これの例外は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> という特別なプロセスです。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> は常に最初のプロセスなので、
      PID は必ず 1 になります。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> は FreeBSD
      がスタートするときカーネルによって自動的に起動されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">top</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> という2つのコマンドが
      システム上のプロセスを確認するために特に便利です。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ps</command>
      コマンドは現在動作中のプロセスのリストを見るために使い、
      PID やプロセスが使っているメモリの量、
      どういうコマンドラインで起動されたのか、
      などを表示させることができます。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">top</command> コマンドは動作中の全てのプロセスを表示し、
      数秒ごとに表示を更新するので、
      計算機がなにをしているのかインタラクティブに知ることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、<command xmlns:xlink="http://www.w3.org/1999/xlink">ps</command>
      は動作中かつ所有者が自分のコマンドのみを表示します。
      例えば:</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ps</userinput>
  PID  TT  STAT      TIME COMMAND
  298  p0  Ss     0:01.10 tcsh
 7078  p0  S      2:40.88 xemacs mdoc.xsl (xemacs-21.1.14)
37393  p0  I      0:03.11 xemacs freebsd.dsl (xemacs-21.1.14)
48630  p0  S      2:50.89 /usr/local/lib/netscape-linux/navigator-linux-4.77.bi
48730  p0  IW     0:00.00 (dns helper) (navigator-linux-)
72210  p0  R+     0:00.00 ps
  390  p1  Is     0:01.14 tcsh
 7059  p2  Is+    1:36.18 /usr/local/bin/mutt -y
 6688  p3  IWs    0:00.00 tcsh
10735  p4  IWs    0:00.00 tcsh
20256  p5  IWs    0:00.00 tcsh
  262  v0  IWs    0:00.00 -tcsh (tcsh)
  270  v0  IW+    0:00.00 /bin/sh /usr/X11R6/bin/startx -- -bpp 16
  280  v0  IW+    0:00.00 xinit /home/nik/.xinitrc -- -bpp 16
  284  v0  IW     0:00.00 /bin/sh /home/nik/.xinitrc
  285  v0  S      0:38.45 /usr/X11R6/bin/sawfish</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例で分かるとおり、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の出力はいくつかの行に整形されています。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">PID</literal> は先ほど見たプロセス ID です。
      PID は 1 から順に 99999 まで割り当てられ、
      足りなくなると最初に戻って使い回されます
      (使用中の PID は割り当てられません) 。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">TT</literal> の列はプログラムが動いている tty を示します。
      差し当たって無視してもかまわないでしょう。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">STAT</literal> はプログラムの状態を示しますが、
      これもまた無視してよいでしょう。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">TIME</literal> はプログラムがその CPU
      上で動いている時間の長さです―
      通常はプログラムをスタートさせたときからの経過時間ではありません。
      CPU 上で時間を使う必要があるまでかなりの時間を費すようなプログラムもあるからです。
      最後に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">COMMAND</literal>
      はそのプログラムを起動するのに使われたコマンドラインとなります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は表示する情報を変えるためのオプションをたくさんサポートしています。
      いちばん便利なのは <literal xmlns:xlink="http://www.w3.org/1999/xlink">auxww</literal> でしょう。
      <option xmlns:xlink="http://www.w3.org/1999/xlink">a</option> は自分のプロセスだけではなく、
      動作中のプロセス全部についての情報を表示します。
      <option xmlns:xlink="http://www.w3.org/1999/xlink">u</option> はプロセスの所有者の名前をメモリ使用量と同様に表示します。
      <option xmlns:xlink="http://www.w3.org/1999/xlink">x</option> はデーモンプロセスについての情報を表示し、
      <option xmlns:xlink="http://www.w3.org/1999/xlink">ww</option> で、スクリーンに入りきらないほど長くなったコマンドラインでも省略せず、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に各プロセスの全コマンドラインを表示させます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">top</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の出力も同様です。 例は以下の通りです。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">top</userinput>
last pid: 72257;  load averages:  0.13,  0.09,  0.03    up 0+13:38:33  22:39:10
47 processes:  1 running, 46 sleeping
CPU states: 12.6% user,  0.0% nice,  7.8% system,  0.0% interrupt, 79.7% idle
Mem: 36M Active, 5256K Inact, 13M Wired, 6312K Cache, 15M Buf, 408K Free
Swap: 256M Total, 38M Used, 217M Free, 15% Inuse

  PID USERNAME PRI NICE  SIZE    RES STATE    TIME   WCPU    CPU COMMAND
72257 nik       28   0  1960K  1044K RUN      0:00 14.86%  1.42% top
 7078 nik        2   0 15280K 10960K select   2:54  0.88%  0.88% xemacs-21.1.14
  281 nik        2   0 18636K  7112K select   5:36  0.73%  0.73% XF86_SVGA
  296 nik        2   0  3240K  1644K select   0:12  0.05%  0.05% xterm
48630 nik        2   0 29816K  9148K select   3:18  0.00%  0.00% navigator-linu
  175 root       2   0   924K   252K select   1:41  0.00%  0.00% syslogd
 7059 nik        2   0  7260K  4644K poll     1:38  0.00%  0.00% mutt
...</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">出力は2つのセクションに分かれています。
      ヘッダ (最初の 5 行です) は動作している最新のプロセスの PID、
      システムの平均負荷 (システムがどれくらい忙しいかの指標)、
      システムの稼働時間 (最後の再起動からの時間)
      と現在の時刻を示します。
      ヘッダの中の他の数字は動作中のプロセスの数 (この場合 47 ですね)、
      使われているメモリとスワップ領域の量、
      そしてシステムが異なる CPU 状態に消費した時間と関係します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その下には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の出力と同じような情報を持った行が続きます。
      前と同様 PID にユーザ名、消費 CPU 時間と実行中のコマンドを知ることができます。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">top</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使うとデフォルトでプロセスが使っているメモリ容量も分かります。
      メモリ使用量の欄は2項目に分かれており、
      一方は合計使用量、
      そしてもう一方は実使用量です―合計使用量はアプリケーションが必要としているメモリ量で、
      実使用量はその時点で実際に使われているメモリ量です。
      この例では、<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Netscape</trademark></application> がだいたい
      30 MB の RAM を必要としていますが、
      いまのところ 9 MB しか使っていないことが分かります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">top</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は自動的に2秒ごとに画面を更新します。
      <option xmlns:xlink="http://www.w3.org/1999/xlink">s</option> オプションを使えば更新間隔を変更することができます。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-daemons">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">デーモン、シグナルとプロセス終了</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">エディタを使っている場合、エディタを操作するのは簡単です。
      ファイルを開く、などと動かせばよいのです。
      このように操作できるのは、エディタにそういった機能があり、
      かつエディタが<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">端末</firstterm>に関連づけられているからです。
      一方、ユーザから始終入力があるように設計されていないプログラムもあり、
      そういったプログラムは最初から端末と切り離されます。
      例えば、ウェブサーバは一日中ウェブのリクエストばかり処理するので、
      通常全く入力を必要としません。
      サイトからサイトへとメールを転送するプログラムも、
      こういった種類のアプリケーションの一例です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このようなプログラムは、<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">デーモン</firstterm>と呼ばれます。
      デーモンはギリシャ神話の登場人物で、
      善でも悪でもなく、大雑把にいうと、
      人間のために役立つことをしてくれる小さな妖精さんです。
      今日の便利なウェブサーバやメールサーバととてもよく似ていますね。
      このため、長い間 BSD のマスコットはスニーカーをはいてフォークを携えた
      かわいらしい姿のデーモンなのです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">通常デーモンとして動作するプログラムには末尾に <quote xmlns:xlink="http://www.w3.org/1999/xlink">d</quote>
      を持った名前をつける慣習があります。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">BIND</application> は Berkeley Internet Name Domain
      ですが、
      実際実行されるプログラムは <command xmlns:xlink="http://www.w3.org/1999/xlink">named</command> という名前です。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache</application> ウェブサーバのプログラムは
      <command xmlns:xlink="http://www.w3.org/1999/xlink">httpd</command> と呼ばれ、
      ラインプリンタスプーリングデーモンは <command xmlns:xlink="http://www.w3.org/1999/xlink">lpd</command>、
      などなどです。
      これは単なる慣習で、しっかりがっちりとしたルールではありません。
      例えば、<application xmlns:xlink="http://www.w3.org/1999/xlink">Sendmail</application>
      アプリケーションの主なメールデーモンは
      <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</command> という名前で、
      連想しそうな <command xmlns:xlink="http://www.w3.org/1999/xlink">maild</command> ではありません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">時々、デーモンプロセスと通信したいときがあります。
      一つの方法として、それ (に限らずどんな動作中のプロセスでも) に
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">シグナル</firstterm>と呼ばれるものを送信する方法です。
      送信可能なシグナルはたくさんあります―特別な意味があるものもあれば、
      アプリケーションによって解釈されるものもありますし、
      アプリケーションがシグナルをどう解釈するかは
      そのアプリケーションの文章を読めば分かるでしょう。
      自分が持っているプロセスにしかシグナルを送ることはできません。
      他人のプロセスに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
      を使ってシグナルを送っても、許可されないでしょう。
      これの例外は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザで、
      ルートユーザは誰のプロセスでもシグナルを送ることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD もアプリケーションにシグナルを送ることがあります。
      アプリケーションを下手に書くと、
      予想外のメモリにアクセスしようとするので、
      FreeBSD がプロセスに <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">セグメンテーション違反</firstterm>
      シグナル (<literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGSEGV</literal>) を送ります。
      ある程度の時間が経ったら <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">alarm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
      システムコールを使って警告してもらうようなアプリケーションには、
      警告シグナル (<literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGALRM</literal>) が送信される、
      などです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">プロセスを止めるためには2つのシグナル、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGTERM</literal> か <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGKILL</literal>
      を使います。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGTERM</literal> は穏かにプロセスを終了させる方法です。
      プロセスはシグナルを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">受け取る</emphasis>ことができ、
      終了させたいのだなということを理解し、
      開いているログファイルを全部を閉じ、
      一般的に終了前にしていたことを終えることができます。
      中断できない処理の途中だと、<literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGTERM</literal>
      をプロセスが無視することもあるかもしれません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">プロセスは <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGKILL</literal> を無視することができません。
      これは、<quote xmlns:xlink="http://www.w3.org/1999/xlink">なにをしていようが構わないから今すぐ止まれ</quote>
      というシグナルです。 プロセスに <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGKILL</literal> を送ると、
      FreeBSD はそのプロセスをそこで止めます<footnote xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">正確ではありません―中断できないものはわずかながら存在します。
	  例えば、プロセスがネットワーク上の別の計算機にあるファイルを読もうとして、
	  その計算機がなんらかの理由
	  (電源を落とされたとか、ネットワークに問題があるとか)
	  でいなくなった場合、そのプロセスは<quote xmlns:xlink="http://www.w3.org/1999/xlink">中断不可能</quote>と言われます。
	  最終的にはそのプロセスはタイムアウトします。普通は2分後です。
	  タイムアウトした直後、そのプロセスは終了します。</para>
      </footnote>。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">使う可能性のあるシグナルは、他に
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGHUP</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGUSR1</literal>、と
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGUSR2</literal> があります。
      これらは一般的な用途のシグナルで、
      このシグナルが送信されたときアプリケーションによって別のことをします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ウェブサーバの設定ファイルを変更したとしましょう―ウェブサーバに新しい設定を再読み込みさせたいですね。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">httpd</command> を止めて再起動することもできますが、
      そうするとウェブサーバは一瞬ながら停止してしまいますし、
      ちょっとでも止まってほしくないこともあるでしょう。
      ほとんどのデーモンは <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGHUP</literal>
      シグナルに対して設定ファイルを再読み込みする反応を返すよう書かれています。
      従って、<command xmlns:xlink="http://www.w3.org/1999/xlink">httpd</command> を止めて再起動する代わりに、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGHUP</literal> シグナルを送りましょう。
      これらのシグナルへの標準的な反応というものがないために、
      デーモンごとに行動が違うので、
      疑問があれば必ずそのデーモンの文書を読んでください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使って送るシグナルはこの例をご覧ください。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プロセスにシグナルを送る</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> にシグナルを送る方法を示します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">inetd</command> の設定ファイルは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> で、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">inetd</command> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGHUP</literal>
	が送信されるとこの設定ファイルを再読み込みします。</para>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">シグナルを送りたいプロセスのプロセス ID を探します。
	  それには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">grep</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使います。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">grep</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドは出力を検索するために使い、
	  指定した文字列を探します。
	  このコマンドは一般ユーザで実行しますが、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で実行されているので、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> には <option xmlns:xlink="http://www.w3.org/1999/xlink">ax</option>
	  オプションを与える必要があります。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ps -ax | grep inetd</userinput>
  198  ??  IWs    0:00.00 inetd -wW</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ということで、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の PID は 198 です。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">grep inetd</literal> コマンドがこの出力に出てくる場合もあります。
	  それは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> が動作中のプロセスのリストを見つける方法によります。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使ってシグナルを送ります。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で起動されているために、
	  まず <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使って <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  にならなければなりません。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password:</prompt>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/bin/kill -s HUP 198</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">大部分の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> コマンドと同じく、
	  成功したら <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は何の出力も表示しません。
	  自分のものではないプロセスにシグナルを送ると、
	  <errorname xmlns:xlink="http://www.w3.org/1999/xlink">kill:
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PID</replaceable>: Operation not
	    permitted</errorname> と表示されます。
	  PID を打ち間違えると、
	  悪いことに間違ったプロセスにシグナルを送ってしまうか、
	  もしくは運がよければその時点で使われていない PID
	  にシグナルを送ったことになり、<errorname xmlns:xlink="http://www.w3.org/1999/xlink">kill:
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">PID</replaceable>: No such process</errorname>
	  と表示されます。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">なぜ <command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/kill</command> を使うんでしょう?</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">多くのシェルは <command xmlns:xlink="http://www.w3.org/1999/xlink">kill</command>
	    コマンドを組み込みコマンドとして備えています。
	    つまり、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin/kill</filename> を実行するのではなく、
	    シェルが直接シグナルを送ります。
	    これはとても便利なのですが、
	    シェルが違うと送るシグナルの名前の指定の仕方が違います。
	    シェルによって異なるシグナルの指定の仕方を全部覚えようとはせずに、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/kill ...</command>
	    コマンドを直接使うほうが簡単です。</para>
	</note>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">他のシグナルの送り方はほとんど同じで、
      コマンドラインの <literal xmlns:xlink="http://www.w3.org/1999/xlink">TERM</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">KILL</literal>
      を必要に応じて変えるだけです。</para>

    <important xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">システム上のランダムプロセスを終了させるのはよくありません。
        特に、プロセス ID が 1 の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は特別です。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/kill -s KILL 1</command>
	を使うといとも簡単にシステムをシャットダウンさせることができます。
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Return</keycap> を押す<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前</emphasis>に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kill</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を実行する引数を二重にチェックする<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">癖</emphasis>をつけてください。</para>
    </important>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="shells">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">シェル</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シェル (shell)</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">コマンドライン</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では日々の作業のほとんどは、
      「シェル」と呼ばれるコマンドラインインタフェイスを通して行われます。
      シェルの主な仕事はコマンドを入力チャンネルから受け取り、
      そしてそれらを実行することです。
      大部分のシェルはさらに組み込みの機能を持っていて、日々の作業、
      ファイル管理やファイル名の展開、コマンドライン編集、
      コマンドマクロ、環境変数などに便利です。
      FreeBSD には <command xmlns:xlink="http://www.w3.org/1999/xlink">sh</command> (Bourne Shell) や
      <command xmlns:xlink="http://www.w3.org/1999/xlink">tcsh</command> (高機能 C-shell) が含まれています。
      また、
      これ以外にも <command xmlns:xlink="http://www.w3.org/1999/xlink">zsh</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">bash</command>
      などたくさんのシェルが FreeBSD Ports Collection から利用可能です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">「あなたは、どのシェルを使いますか?」という質問は、
      まったく趣味の問題です。
      あなたが C のプログラマだったとすれば、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">tcsh</command> のような C 風のシェルの方が落ち着くかもしれません。
      Linux から来た人や <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> のコマンドラインインタフェイスになじみがなければ、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">bash</command> を試すのも良いでしょう。
      ポイントは、それぞれのシェルは、
      あなたの好みの作業環境で利用できる (もしくはできない) 独自の機能を持っているということ、
      そして、どのシェルを使うことにするかを決めるのはあなた自身だということです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルの一般的な機能の一つに、ファイル名の補完があります。
      コマンドやファイル名の最初の数文字を与えて <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> キーを押すことで、
      シェルにコマンドやファイル名の残りの部分を自動的に補完させることができます。
      例をあげましょう。 二つのファイル
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">foobar</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.bar</filename> が
      あったとします。 ここで <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.bar</filename>
      の方を削除するには、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">rm fo[Tab].[Tab]</command> と入力します。</para>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">環境変数 (environment variables)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">するとシェルは <command xmlns:xlink="http://www.w3.org/1999/xlink">rm
      foo[BEEP].bar</command> と出力するでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">[BEEP] のところはコンソールのベル (訳注: 通常はビープ音が鳴ります) です。
      これは複数のファイルがマッチしたため、
      ファイル名の補完を完全に行なえなかったことを伝えています。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">foobar</filename> と
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.bar</filename> は
      両方とも <literal xmlns:xlink="http://www.w3.org/1999/xlink">fo</literal> ではじまるため、
      補完できるのは <literal xmlns:xlink="http://www.w3.org/1999/xlink">foo</literal> までです。
      ここで <literal xmlns:xlink="http://www.w3.org/1999/xlink">.</literal> を入力して <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Tab</keycap> を押せば、
      シェルはファイル名の残りの部分を補完できます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つあげられるシェルの特徴として、環境変数があります。
      環境変数とは、シェルの環境変数空間におけるキーと値とのペアです。
      この変数空間は、そのシェルから起動されたプログラムから参照でき、
      それを利用してプログラムの設定を保存するのに利用されます。
     下の表は、一般的な環境変数とその意味を示したものです。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">環境変数 (environment variables)</primary></indexterm>
    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">変数名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">意味</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">USER</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">現在のログインユーザのユーザ名。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">コロンで区切られた実行ファイル探索のための
	      ディレクトリのリスト。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">DISPLAY</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">接続する X11 ディスプレイのネットワーク名 (存在する場合のみ)。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">SHELL</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">現在のシェル。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">TERM</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの端末種名。
              端末のケーパビリティを決定するのに使われる。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">TERMCAP</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">種々の端末の機能を実現する端末のエスケープコードの
	      データベースのエントリ。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">OSTYPE</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムの種別。
              たとえば FreeBSD。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">MACHTYPE</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">システムが動作している CPU のアーキテクチャ。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの選んだテキストエディタ。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">PAGER</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの選んだテキストページャ。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">MANPATH</envar></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">コロンで区切られたマニュアルページ探索のための
	      ディレクトリのリスト。</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Bourne シェル (Bourne shells)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">環境変数をセットする方法は、
      それぞれのシェルごとに多少異なります。
      たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">tcsh</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">csh</command> 等の C シェルでは
      <command xmlns:xlink="http://www.w3.org/1999/xlink">setenv</command> を使います。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">sh</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">bash</command> 等の Bourne シェルでは
      <command xmlns:xlink="http://www.w3.org/1999/xlink">set</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">export</command>
      を使います。
      たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">csh</command> か <command xmlns:xlink="http://www.w3.org/1999/xlink">tcsh</command> で
      <envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar> 環境変数の値を
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/emacs</filename> に
      セットするか変更するには、次のようにします。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setenv EDITOR /usr/local/bin/emacs</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Bourne シェルでは次のようになります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">export EDITOR="/usr/local/bin/emacs"</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのシェルでは、
      コマンドライン中の変数名の前に <literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal> 文字を置くことで、
      環境変数を展開させることができます。
      たとえば、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">echo $TERM</command> は <envar xmlns:xlink="http://www.w3.org/1999/xlink">$TERM</envar> が
      セットされている内容を表示します。
      それはシェルが <envar xmlns:xlink="http://www.w3.org/1999/xlink">$TERM</envar> を展開して
      <command xmlns:xlink="http://www.w3.org/1999/xlink">echo</command> に渡しているからです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルはさまざまな特殊文字を、特別なデータを表すものとして扱います。
      その特殊文字はメタキャラクタと呼ばれます。
      もっとも一般的なものは <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> で、
      これはファイル名に含まれる、あらゆる文字を表します。
      これらの特殊なメタキャラクタはファイル名の展開に使われます。
      たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">echo *</command> と入力すると
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ls</command> と入力したのとほとんど同じ結果を得られます。
      これはシェルが <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> とマッチするすべてのファイルを
      受け取って <command xmlns:xlink="http://www.w3.org/1999/xlink">echo</command> のコマンドラインに渡し、表示するからです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの特殊文字をシェルに解釈させないようにするため、
      特殊文字の前にバックスラッシュ文字 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">\</literal>)
      を置くことができます。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">echo $TERM</command> は、
      あなたの端末が何にセットされているかを表示します。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">echo \$TERM</command> は <envar xmlns:xlink="http://www.w3.org/1999/xlink">$TERM</envar> と
      そのまま表示します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="changing-shells">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シェルの変更</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルを変更する一番簡単な方法は <command xmlns:xlink="http://www.w3.org/1999/xlink">chsh</command>
	コマンドを使うことです。 <command xmlns:xlink="http://www.w3.org/1999/xlink">chsh</command> を実行すると
	環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar> で示されたエディタが立ち上がります。
	環境変数をセットしていなかった時は
        <command xmlns:xlink="http://www.w3.org/1999/xlink">vi</command> が立ち上がります。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Shell:</quote> の行を適宜変更してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">chsh</command> に
        <option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option> オプションをつけると、
        エディタを起動せずにシェルを変更することが可能です。
        たとえば、シェルを <command xmlns:xlink="http://www.w3.org/1999/xlink">bash</command> に変えたいなら、次のようにしてください。
      </para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chsh -s /usr/local/bin/bash</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">使おうと思っているシェルは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必ず</emphasis>
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/shells</filename> 中に書かれているものでなければなりません。
	  シェルを <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">Ports Collection</link>
	  からインストールしていたのであれば、すでにそれは行なわれていますが、
	  手動でインストールした場合は、それを忘れずに行ってください。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">bash</command>
          を手動で
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin</filename>
          にインストールした場合
          以下のようにする必要があります。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "/usr/local/bin/bash" &gt;&gt; /etc/shells</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">そして <command xmlns:xlink="http://www.w3.org/1999/xlink">chsh</command> を実行してください。</para>
      </note>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="editors">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">テキストエディタ</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">テキストエディタ</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">エディタ</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまな FreeBSD の設定は、テキストファイルを編集することで行われます。
      そのため、テキストエディタの扱いに慣れると良いでしょう。
      FreeBSD には、基本システムの一部として二、三提供されるものと、
      Ports Collection から利用できる、たくさんのテキストエディタが用意されています。
    </para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ee</command></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">editors</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ee</command></secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">最も学習が簡単なエディタは、
      easy editor の略で <application xmlns:xlink="http://www.w3.org/1999/xlink">ee</application> と呼ばれるものです。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">ee</application> を立ち上げるには、コマンドラインから
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ee <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable></command> と入力します。
      ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable> は、
      編集しようとしているファイルの名前です。
      たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> を編集するには
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ee /etc/rc.conf</command> と入力します。
      一旦 <command xmlns:xlink="http://www.w3.org/1999/xlink">ee</command> の中に入れば、
      エディタの機能を操作するコマンドはすべてディスプレイの上部に
      表示されています。キャレット <literal xmlns:xlink="http://www.w3.org/1999/xlink">^</literal> 文字は
      キーボードの <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap> キーを意味しますので、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">^e</literal> はキーのコンビネーション
      <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">e</keycap></keycombo>
      を押すという意味になります。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">ee</application> を終了するには <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Esc</keycap> キーを押し、
      そして leave editor を選びます。
      ファイルが更新されていたときは、
      エディタは変更をセーブするかどうかプロンプトを出します。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">vi</command></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">エディタ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">vi</command></secondary>
    </indexterm>
     <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">emacs</command></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">エディタ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">emacs</command></secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には、基本システムの一部として
      <application xmlns:xlink="http://www.w3.org/1999/xlink">vi</application>、
      一方 <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application> や <application xmlns:xlink="http://www.w3.org/1999/xlink">vim</application>
      といった他のエディタは Ports Collection の一部として、
      より強力なテキストエディタが用意されています
      (<filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">editors/emacs</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">editors/vim</filename>)。
      これらのエディタはやや学習が複雑ですが、より強力で高い機能性を提供します。
      しかし、あなたが多量のテキストを編集することを考えているなら、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">vim</application> や <application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application>
      といった強力なエディタを習得することは、
      より多くの時間を節約することでしょう。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-devices">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイスとデバイスノード</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスとはシステム上のハードウェアに関するものに対してよく使われる用語で、
      ディスクやプリンタ、グラフィックカードやキーボードが含まれます。
      FreeBSD が起動するとき、FreeBSD
      が表示しているものの大部分は検出されたデバイスです。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/run/dmesg.boot</filename>
      を眺めれば起動メッセージを読み直すことができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">例えば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">acd0</filename> は最初の
      IDE CDROM ドライブで、<filename xmlns:xlink="http://www.w3.org/1999/xlink">kbd0</filename>
      はキーボードを表します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> オペレーティングシステムにおけるデバイスのほとんどは、
      デバイスノードと呼ばれる <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
      ディレクトリにあるスペシャルファイルを通してアクセスしなければなりません。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイスノードを作成する</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいデバイスをシステムにつけ足したり、
        追加デバイスのサポートをコンパイルして加えたりするときは、
	デバイスノードを作成しなければなりません。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">DEVFS</literal> (デバイスファイルシステム: Device File System)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスファイルシステム <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEVFS</literal> は、
	  グローバルファイルシステム名前空間の中のカーネルデバイス名前空間へのアクセスを提供します。
	  デバイスノードを作成したり変更したりするのではなく、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">DEVFS</literal> がこの特別なファイルシステムを管理するのです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">詳しくは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> マニュアルページをご覧ください。</para>

      </sect3>
    </sect2>
  </sect1>

<!--
  <sect1 id="binary-formats">
    <title>Binary Formats</title>

    <para>To understand why &os; uses the &man.elf.5;
      format, you must first know a little about the 3 currently
      <quote>dominant</quote> executable formats for &unix;:</para>

    <itemizedlist>
      <listitem>
        <para>&man.a.out.5;</para>

        <para>The oldest and <quote>classic</quote> &unix; object
          format.  It uses a short and compact header with a magic
          number at the beginning that is often used to characterize
          the format (see &man.a.out.5; for more details).  It
          contains three loaded segments: .text, .data, and .bss plus
          a symbol table and a string table.</para>
      </listitem>

      <listitem>
        <para><acronym>COFF</acronym></para>

        <para>The SVR3 object format.  The header now comprises a
          section table, so you can have more than just .text, .data,
          and .bss sections.</para>
      </listitem>

      <listitem>
        <para>&man.elf.5;</para>

        <para>The successor to <acronym>COFF</acronym>, featuring
          multiple sections and 32-bit or 64-bit possible values.  One
          major drawback: <acronym>ELF</acronym> was also designed
          with the assumption that there would be only one ABI per
          system architecture.  That assumption is actually quite
          incorrect, and not even in the commercial SYSV world (which
          has at least three ABIs: SVR4, Solaris, SCO) does it hold
          true.</para>

        <para>FreeBSD tries to work around this problem somewhat by
          providing a utility for <emphasis>branding</emphasis> a
          known <acronym>ELF</acronym> executable with information
          about the ABI it is compliant with.  See the manual page for
          &man.brandelf.1; for more information.</para>
      </listitem>
    </itemizedlist>

    <para>FreeBSD comes from the <quote>classic</quote> camp and used
      the &man.a.out.5; format, a technology tried and proven through
      many generations of BSD releases, until the beginning of the 3.X
      branch. Though it was possible to build and run native
      <acronym>ELF</acronym> binaries (and kernels) on a FreeBSD
      system for some time before that, FreeBSD initially resisted the
      <quote>push</quote> to switch to <acronym>ELF</acronym> as the
      default format. Why?  Well, when the Linux camp made their
      painful transition to <acronym>ELF</acronym>, it was not so much
      to flee the <filename>a.out</filename> executable format as it
      was their inflexible jump-table based shared library mechanism,
      which made the construction of shared libraries very difficult
      for vendors and developers alike. Since the
      <acronym>ELF</acronym> tools available offered a solution to the
      shared library problem and were generally seen as <quote>the way
      forward</quote> anyway, the migration cost was accepted as
      necessary and the transition made.  FreeBSD's shared library
      mechanism is based more closely on Sun's
      &sunos; style shared library mechanism
      and, as such, is very easy to use.</para>

    <para>So, why are there so many different formats?</para>

    <para>Back in the dim, dark past, there was simple hardware.  This
      simple hardware supported a simple, small system. <filename>a.out</filename> was
      completely adequate for the job of representing binaries on this
      simple system (a PDP-11). As people ported &unix; from this simple
      system, they retained the <filename>a.out</filename> format because it was sufficient
      for the early ports of &unix; to architectures like the Motorola
      68k, VAXen, etc.</para>

    <para>Then some bright hardware engineer decided that if he could
      force software to do some sleazy tricks, then he would be able
      to shave a few gates off the design and allow his CPU core to
      run faster. While it was made to work with this new kind of
      hardware (known these days as <acronym>RISC</acronym>), <filename>a.out</filename>
      was ill-suited for this hardware, so many formats were developed
      to get to a better performance from this hardware than the
      limited, simple <filename>a.out</filename> format could
      offer. Things like <acronym>COFF</acronym>,
      <acronym>ECOFF</acronym>, and a few obscure others were invented
      and their limitations explored before things seemed to settle on
      <acronym>ELF</acronym>.</para>

    <para>In addition, program sizes were getting huge and disks (and
      physical memory) were still relatively small so the concept of a
      shared library was born. The VM system also became more
      sophisticated. While each one of these advancements was done
      using the <filename>a.out</filename> format, its usefulness was
      stretched more and more with each new feature.  In addition,
      people wanted to dynamically load things at run time, or to junk
      parts of their program after the init code had run to save in
      core memory and swap space. Languages became more sophisticated
      and people wanted code called before main automatically. Lots of
      hacks were done to the <filename>a.out</filename> format to
      allow all of these things to happen, and they basically worked
      for a time. In time, <filename>a.out</filename> was not up to
      handling all these problems without an ever increasing overhead
      in code and complexity. While <acronym>ELF</acronym> solved many
      of these problems, it would be painful to switch from the system
      that basically worked. So <acronym>ELF</acronym> had to wait
      until it was more painful to remain with
      <filename>a.out</filename> than it was to migrate to
      <acronym>ELF</acronym>.</para>

    <para>However, as time passed, the build tools that FreeBSD
      derived their build tools from (the assembler and loader
      especially) evolved in two parallel trees. The FreeBSD tree
      added shared libraries and fixed some bugs. The GNU folks that
      originally write these programs rewrote them and added simpler
      support for building cross compilers, plugging in different
      formats at will, and so on. Since many people wanted to build cross
      compilers targeting FreeBSD, they were out of luck since the
      older sources that FreeBSD had for <application>as</application> and <application>ld</application> were not up to the
      task. The new GNU tools chain (<application>binutils</application>) does support cross
      compiling, <acronym>ELF</acronym>, shared libraries, C++
      extensions, etc. In addition, many vendors are releasing
      <acronym>ELF</acronym> binaries, and it is a good thing for
      FreeBSD to run them.</para>

    <para><acronym>ELF</acronym> is more expressive than <filename>a.out</filename> and
      allows more extensibility in the base system. The
      <acronym>ELF</acronym> tools are better maintained, and offer
      cross compilation support, which is important to many people.
      <acronym>ELF</acronym> may be a little slower than <filename>a.out</filename>, but
      trying to measure it can be difficult. There are also numerous
      details that are different between the two in how they map
      pages, handle init code, etc. None of these are very important,
      but they are differences. In time support for
      <filename>a.out</filename> will be moved out of the <filename>GENERIC</filename>
      kernel, and eventually removed from the kernel once the need to
      run legacy <filename>a.out</filename> programs is past.</para>
  </sect1>
-->

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-more-information">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">さらに詳しい情報を得るには...</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-man">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">オンラインマニュアル</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">マニュアルページ</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD についてのもっとも包括的な文書は、
        マニュアルページの形式になっているものです。
        FreeBSD システム上のほとんどすべてのプログラムには、
        基本的な操作方法とさまざまな引数を説明しているリファレンスマニュアルが添付されています。
        これらのマニュアルは <command xmlns:xlink="http://www.w3.org/1999/xlink">man</command> コマンドで見ることができます。<command xmlns:xlink="http://www.w3.org/1999/xlink">man</command>
        コマンドの使い方は簡単です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man コマンド名</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">コマンド名</literal>
        のところには、知りたいコマンドの名前を入れます。
        たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">ls</command> コマンドについて知りたい場合には、
        次のように入力します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man ls</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オンラインマニュアルは、
        セクション番号で分類されています。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザコマンド</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">システムコールとエラー番号</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">C のライブラリ関数</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスドライバ</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル形式</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">ゲームや娯楽</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまな情報</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">システムの管理と操作のためのコマンド</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネル開発者のための情報</para>
        </listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">時折、
        同じトピックがオンラインマニュアルの複数のセクションに記載されている場合があります。
        たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">chmod</command> ユーザコマンドと
        <function xmlns:xlink="http://www.w3.org/1999/xlink">chmod()</function>
        システムコールの場合がそれに該当します。
        この場合、<command xmlns:xlink="http://www.w3.org/1999/xlink">man</command> コマンドにセクション番号を与えることで、
        どちらを参照したいかを指定することができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man 1 chmod</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上のようにすれば、
        ユーザコマンド <command xmlns:xlink="http://www.w3.org/1999/xlink">chmod</command>
        のマニュアルページが表示されます。
        オンラインマニュアルの特定セクションへの参照は、
        慣習的に書かれている文書で括弧の中に示されます。
        すなわち、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chmod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は <command xmlns:xlink="http://www.w3.org/1999/xlink">chmod</command>
        ユーザコマンドを、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chmod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
        はシステムコールの方を示しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンドの名前を知っていて、
        単純にその使い方を知りたい場合はここまでの説明で十分でしょう。
        しかし、
        もしコマンドの名前を思い出せない場合にはどうしたら良いのでしょうか?
        <command xmlns:xlink="http://www.w3.org/1999/xlink">man</command> に <option xmlns:xlink="http://www.w3.org/1999/xlink">-k</option> スイッチをつければ、
        コマンド解説 (description) の文章から、
        指定したキーワードを検索することができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man -k mail</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドにより、
        <quote xmlns:xlink="http://www.w3.org/1999/xlink">mail</quote>
        というキーワードをコマンド解説に含むコマンドの一覧が表示されます。
        実際には、これは <command xmlns:xlink="http://www.w3.org/1999/xlink">apropos</command> コマンドを使う場合と同等の機能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それでは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin</filename>
        にあるさまざまなコマンドすべてを見ていて、
        それらが実際にどう働くのかが、まったく見当もつかないときには
        どうしたら良いでしょう?
        そのときは単純に、</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/bin</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man -f *</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">とするか、あるいは同じ働きをする</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/bin</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">whatis *</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">としてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="basics-info">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GNU の Info ファイル</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Free Software Foundation</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には Free Software Foundation (FSF)
        によるアプリケーションや
        ユーティリティがたくさん含まれています。
        これらのプログラムには、マニュアルページに加えて
        <literal xmlns:xlink="http://www.w3.org/1999/xlink">info</literal> ファイルと呼ばれる
        ハイパーテキスト形式の文書が付属しています。
        この文書は <command xmlns:xlink="http://www.w3.org/1999/xlink">info</command> コマンド、
        あるいは <application xmlns:xlink="http://www.w3.org/1999/xlink">emacs</application> をインストールしているなら
        <application xmlns:xlink="http://www.w3.org/1999/xlink">emacs</application> の info
        モードで読むことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">info</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使うには、単に次のように入力します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">info</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
        <literal xmlns:xlink="http://www.w3.org/1999/xlink">h</literal> と入力すると、
        簡単な手引きを読むことができます。
        クイックコマンドリファレンスは <literal xmlns:xlink="http://www.w3.org/1999/xlink">?</literal>
        を入力してください。</para>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46687
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="ports">

  <title xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションのインストール - packages と ports</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ports</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">packages</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の基本システムには数多くのシステムツールが含まれています。
      FreeBSD は、サードパーティ製のソフトウェアの導入を支援するために、
      ソースコードをコンパイルしてインストールする Ports Collection と、
      コンパイル済みのバイナリをインストールする packages
      という相補的な 2 つの技術を提供しています。
      どちらのシステムを用いても、
      ローカルメディアやネットワーク上からソフトウェアをインストールできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">packages と ports の違い</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD に移植されたサードパーティ製のソフトウェアの探し方</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> を用いてバイナリ
	  package を管理する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection を用いてサードパーティ製のソフトウェアをソースコードから構築する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の設定のために、
	  アプリケーションとともにインストールされたファイルを探す方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのインストールに失敗した場合に、どうしたらよいか</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-overview">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのインストール</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> システムでは、
      サードパーティ製ソフトウェアの典型的なインストール手順は以下のようになります。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソースコード、
	  またはバイナリ形式で配布されているソフトウェアを探し出し、
	  ダウンロードする。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">配布時のフォーマットからソフトウェアを取り出す。
	  一般的には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">compress</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bzip2</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  で圧縮された tarball です。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">INSTALL</filename> または
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename> ファイル、あるいは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">doc/</filename>
	  サブディレクトのファイルからドキュメントを探しだし、
	  ソフトウェアのインストール方法を調べる。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソース形式でソフトウェアが配布されている場合はコンパイルを行う。
	  ここでは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の編集、
	  または、<command xmlns:xlink="http://www.w3.org/1999/xlink">configure</command>
	  スクリプトの実行を伴うことがあります。 </para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアの動作を確認し、インストールする。</para>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールしているソフトウェアパッケージが、
      FreeBSD を意識して移植されたものでなかったり、
      FreeBSD 上でテストされていなければ、
      正しくインストールが行われ、適切に動くようにコードを調べ、
      編集する必要があるかもしれません。
      この文書を書いている時点では、24,000
      を越えるサードパーティ製アプリケーションが利用可能です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の package は、コンパイル済みのアプリケーションの全コマンド、
      各種設定ファイルやドキュメントを含んでいます。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
      コマンドでは、<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg install</command> といったコマンドで、
      package を扱うことができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD port は、
      アプリケーションをソースコードからコンパイルする際の処理を自動化するように設計されたファイルの集まりです。
      port を構成するファイルは、
      自動的にアプリケーションをダウンロードし、展開、パッチ作業、
      コンパイル、そしてインストールを行うために必要な情報を含んでいます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに ports システムは、FreeBSD の package
      管理コマンドで扱うことのできる packages を生成できます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">packages と ports は依存関係を理解します。
      package または port
      を用いてアプリケーションをインストールすると、
      依存するライブラリがまだインストールされていない場合には、
      最初にライブラリが自動的にインストールされます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">2 つの技術は類似していますが、
      packages と ports にはそれぞれ独自の特徴があります。
      それぞれのアプリケーションのインストールに対する必要要件に応じてどちらかを選択してください。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">package の利点</title>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に、あるアプリケーションの package の tarball は、
          ソースコードを含む tarball より小さなサイズとなります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">packages はコンパイルの時間を必要としません。
	  このことは、遅いシステム上で <application xmlns:xlink="http://www.w3.org/1999/xlink">Mozilla</application>,
  	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>,
	  または <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  といった大きなアプリケーションを扱う場合に重要となります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">packages を用いれば、
	  ソフトウェアのコンパイルに関する知識は必要ありません。</para>
      </listitem>
    </itemizedlist>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">port の利点</title>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">packages は、通常最も多くのシステムで実行できるように、
          非常に保守的な設定で構築されています。
          port からコンパイルすることで、
          コンパイルオプションを指定できます。 </para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションのなかには、
	  どの機能をインストールするかをコンパイル時に設定するものがあります。
	  たとえば、<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache</application> は多種多様な
	  ビルトインオプションを設定できます。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">設定を区別するために、同じアプリケーションに対して
          複数の packages が存在することがあります。
          たとえば、<application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> は
          <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> がインストールされているかどうかにより、
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">ghostscript</filename> package と
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">ghostscript-nox11</filename> package
          が選択可能となっています。
          アプリケーションのコンパイルオプションが 1 つもしくは
	  2 つ以上になると、
          複数の packages を用意することは困難になります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">ライセンス条項で、
	  バイナリでの配布を禁止しているソフトウェアがあります。
	  このようなソフトウェアはソースコードで配布される必要があり、
	  エンドユーザがコンパイルしなくてはなりません。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ配布を信用していない人や、
	  潜在的な問題点を見つけ出すためにソースコードを読むことを好む人がいます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタマイズしたパッチを適用するためには、
	  ソースコードが必要になります。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ports の更新状況を把握するために、
      <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">FreeBSD ports メーリングリスト</link> や <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports-bugs">FreeBSD ports bugs メーリングリスト</link> を購読するとよいでしょう。</para>

    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションをインストールする前に、
	そのアプリケーションに関連したセキュリティ上の問題がないことを <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://vuxml.freebsd.org/"/>
	で確認するか、<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg audit -F</command> と入力して、
	インストールされているアプリケーションに既知の脆弱性がないことを確認してください。</para>
    </warning>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、packages と ports を用いた FreeBSD 上での
      サードパーティ製ソフトウェアのインストール方法や管理方法について説明します。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-finding-applications">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアの探し方</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 上で利用可能なアプリケーションのリストは常に増えています。
      インストールするソフトウェアを探す方法はたくさん用意されています。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ウェブサイトは、
	  利用可能なすべてのアプリケーションの最新の一覧を、検索できる形で
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/index.html">http://www.FreeBSD.org/ja/ports/</link>
	  において公開しています。
	  ports はアプリケーションの名前や、ソフトウェアのカテゴリで検索出来ます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">FreshPorts</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Dan Langille は、包括的な検索ユーティリティや
	  Ports Collection にあるアプリケーションの変更点を追跡する
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreshPorts.org/">FreshPorts.org</link>
	  を公開しています。
	  登録したユーザは、監視している ports  がアップデートされた時に、
	  そのことを自動的にメールで知らせてくれるような、
	  カスタマイズ可能な監視リストを使うことができます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SourceForge</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションを見つけることが難しい場合には、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sourceforge.net/">SourceForge.net</link>
	  または <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.github.com/">GitHub.com</link>
	  のようなサイトで探してみてください。
	  その後、そのアプリケーションが ports で利用可能かどうかを <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/index.html">FreeBSD サイト</link>
	  で調べて下さい。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">pkg</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">search</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkg-search">バイナリ package
	  リポジトリでアプリケーションを探すには、
	  以下のように実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg search <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">subversion</replaceable></userinput>
git-subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.9.2</replaceable>
java-subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
p5-subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
py27-hgsubversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.6</replaceable>
py27-subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
ruby-subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
subversion-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
subversion-book-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">4515</replaceable>
subversion-static-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.8.8_2</replaceable>
subversion16-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.6.23_4</replaceable>
subversion17-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">1.7.16_2</replaceable></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">package 名にはバージョン番号が含まれます。
	  また、python ベースの ports では、
	  共に構築された python のバージョン番号も含まれます。
	  ports によっては、複数のバージョンを利用できるものがあります。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">subversion</application> では、
	  複数のバージョンを利用できますが、
	  異なるコンパイルオプションで構築されたものも利用できます。
	  インストールする package を指定する際には、
	  アプリケーションに、port ツリーのパスである、
	  port のオリジンを指定すると良いでしょう。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg search</command> に <option xmlns:xlink="http://www.w3.org/1999/xlink">-o</option>
	  オプションを付けて、実行してください。
	  各 package のオリジンの一覧が表示されます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg search -o <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">subversion</replaceable></userinput>
devel/git-subversion
java/java-subversion
devel/p5-subversion
devel/py-hgsubversion
devel/py-subversion
devel/ruby-subversion
devel/subversion16
devel/subversion17
devel/subversion
devel/subversion-book
devel/subversion-static</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pkg search</command> は、
	  リポジトリデータベースの説明やその他のフィールドにおいて、
	  シェルグロブ、正規表現、完全一致にも対応しています。
	  詳細については、<package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/pkg</package> または
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/pkg-devel</package> のインストール後、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg-search</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をご覧ください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection がすでにインストールされていれば、
	  ports ツリーのローカルバージョンを調べることができます。
	  port がどのカテゴリに分類されているのかを知りたければ、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">whereis</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドで調べることができます。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">whereis <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</replaceable></command>
	  と入力してください。<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</replaceable>
	  の部分にはインストールを考えているプログラム名を入れます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">whereis lsof</userinput>
lsof: /usr/ports/sysutils/lsof</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、以下の例のように <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">echo</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  を使って調べることもできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo /usr/ports/*/*lsof*</userinput>
/usr/ports/sysutils/lsof</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この方法では <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports/distfiles</filename>
	  以下にダウンロードされたファイル名にもマッチします。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、Ports Collection に備わっている検索機能を利用して
	  port を検索する方法もあります。
	  この検索機能を利用するには、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">cd</application> コマンドを用いて
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
	  ディレクトリに移動し、<command xmlns:xlink="http://www.w3.org/1999/xlink">make search
	    name=プログラム名</command>
	  と入力してください。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">プログラム名</replaceable>
	  の部分には検索したいソフトウェアの名前を入れてください。
	  たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">lsof</command> を探すには次のようにします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make search name=lsof</userinput>
Port:   lsof-4.88.d,8
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files (similar to fstat(1))
Maint:  ler@lerctr.org
Index:  sysutils
B-deps:
R-deps: </screen>

	<tip xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection に用意されている検索のメカニズムでは、
	    インデックスファイルを利用して検索を行います。
	    もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename>
	    が必要であるというメッセージが表示されたら、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make fetchindex</command> を実行して、
	    最新のインデックスファイルをダウンロードしてください。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">INDEX</filename> が用意されれば、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make search</command>
	    で検索を実行できるでしょう。</para>
	</tip>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">Path:</quote> という行は、
	  port がどこにあるかを示しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">より絞られた情報を得るには、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">quicksearch</command>
	  と呼ばれる機能を使ってください。</para>
	  
	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make quicksearch name=lsof</userinput>
Port:   lsof-4.88.d,8
Path:   /usr/ports/sysutils/lsof
Info:   Lists information about open files (similar to fstat(1))</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もっと詳しく検索するには、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make search
	  key=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">string</replaceable></command> または
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make quicksearch
	  key=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">string</replaceable></command>
	  と入力してください。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">string</replaceable>
	  の部分には検索したいテキストを入れます。
	  プログラムの名前がわからない場合でも、
	  ある目的に関連した ports の検索に利用できるよう、
	  テキストの部分には、コメント、
	  説明文および依存情報を入れることができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>search</buildtarget>
	  および <buildtarget>quicksearch</buildtarget> を使う場合には、
	  検索文字列中の大文字と小文字を区別せずに検索が行われるので、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">LSOF</quote> を検索した結果は、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">lsof</quote> と同じ検索結果になります。</para>
      </listitem>

    </itemizedlist>
  </sect1>

    <!--
  <sect1 xml:id="packages-using">
    <info><title>バイナリ packages の利用</title>
      <authorgroup>
        <author><personname><firstname>Chern</firstname><surname>Lee</surname></personname><contrib>寄稿: </contrib></author>
      </authorgroup>
    </info>

    <title>バイナリ packages の利用</title>

    <para>現在 &os; は、新しい packages 管理ツールへと移行中です。
      <link linkend="pkgng-intro">pkg</link> による &os;
      のサードパーティ製ソフトウェア管理の利用を検討してください。
      この節では、伝統的なバイナリ packages の管理方法について説明します。
      <application>pkg</application>
      形式に移行していないユーザ向けです。</para>

    <para>この package 管理方法では、package
      データベース用ディレクトリの <filename>/var/db/pkg</filename> を、
      インストールされたソフトウェアのバージョンや、
      各アプリケーションとともにインストールされたファイルを管理するのに用います。
      いくつかのユーティリティは、
      この管理用のデータベースのディレクトリを用いて、
      バイナリ package を管理します。
      これらのコマンドの名前は <literal>pkg_</literal> から始まります。
      この節では、バイナリ package をインストールしたり、削除したり、
      バイナリ package の情報を収集する方法の概要を説明します。
      各コマンドには、
      操作をカスタマイズするために多くのオプションが用意されています。
      詳細や利用方法の例の一覧については、
      マニュアルページをご覧ください。</para>

    <sect2>
      <title>package のインストール</title>
      <indexterm>
        <primary>packages</primary>
        <secondary>インストール</secondary>
      </indexterm>

      <indexterm>
        <primary><command>pkg_add</command></primary>
      </indexterm>
      <para>ローカルファイルやネットワーク上のサーバから
	&os; のバイナリ package をインストールするには、
	&man.pkg.add.1;	を使用してください。
	&os; のメディアは、ローカル packages のソースを提供しているので、
	ネットワーク接続をする必要はありませんが、
	最新のバイナリ packages を含んでいない可能性があります。
	package は &os; の package サーバで常に再構築されています。
	package サーバからインストールする場合には、
	&man.pkg.add.1; に <option>-r</option> (remote の意味)
	を付け加えてください。
	このオプションを指定して実行すると、
        自動的に適切なオブジェクトの形式とリリースを判断し、
	package サーバから package をダウンロードしてインストールします。
	ユーザはこのほかに何もする必要はありません。</para>

      <indexterm>
        <primary><command>pkg_add</command></primary>
      </indexterm>
      <screen>&prompt.root; <userinput>pkg_add -r <replaceable>lsof</replaceable></userinput></screen>

      <para>この例では、<literal>lsof</literal> は、
	バージョン番号を指定しないで用いられています。
	リモートでダウンロードを行うときにバージョンは含まれないためです。
	別の &os; FTP ミラーサイトを使うには、<envar>PACKAGESITE</envar>
	環境変数に利用したいサイトを設定してください。
	&man.pkg.add.1; は、<envar>FTP_PASSIVE_MODE</envar>,
	<envar>FTP_PROXY</envar>, <envar>FTP_PASSWORD</envar>
	といった環境変数を使う &man.fetch.3;
	を用いてファイルをダウンロードします。
	ファイアウォールの内側であったり、
	FTP/HTTP プロキシを使う場合には、
	これらの環境変数を設定することになります。
	FTP に関連した環境変数の一覧については
	&man.fetch.3; をご覧ください。</para>

      <note>
	<para>&os.current; または、&os.stable; を使用している場合、
	  &man.pkg.add.1; は自動的に最新版のアプリケーションをダウンロードします。
	  -RELEASE を使用している場合には、
	  そのバージョンのリリース時にビルドされた package をダウンロードします。
	  この設定は <envar>PACKAGESITE</envar> を上書きすることで変更できます。
	  たとえば、&os;&nbsp;9.1-RELEASE を使用している場合には、
	  &man.pkg.add.1; を実行するとデフォルトで
	  <literal>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-9.1-release/Latest/</literal>.
	  から packages をダウンロードします。
	  &man.pkg.add.1; を使って &os;&nbsp;9-STABLE の packages
	  をダウンロードするには、
	  <envar>PACKAGESITE</envar> 環境変数を
	  <literal>ftp://ftp.freebsd.org/pub/FreeBSD/ports/i386/packages-9-stable/Latest/</literal>
	  に設定してください。</para>
      </note>

      <para>package は <filename>.tbz</filename>
	という拡張子を持つファイルとして配布されており、<uri
	  xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ports/packages/"></uri>
	や &os; DVD の <filename>/packages</filename> ディレクトリにあります。
	packages ディレクトリのレイアウトは、
	<filename class="directory">/usr/ports</filename>
	ツリーのものと同様です。
	カテゴリごとにディレクトリがあり、<filename
	  class="directory">All</filename> ディレクトリにはすべての package
	があります。</para>

      <para>package システムのディレクトリ構造は ports のレイアウトと同一です。
        両者が組み合わさって package/port システムが構成されます。</para>

     </sect2>

    <sect2>
      <title>packages の管理</title>

      <indexterm>
        <primary>packages</primary>
        <secondary>管理</secondary>
      </indexterm>

      <para>インストールされている packages
	 の一覧と説明を表示するには、&man.pkg.info.1; を使ってください。</para>

      <indexterm>
        <primary><command>pkg_info</command></primary>
      </indexterm>

      <screen>&prompt.root; <userinput>pkg_info</userinput>
colordiff-1.0.13    Tool to colorize diff output
docbook-1.4         Meta-port for the different versions of the DocBook DTD
...</screen>

      <para>インストールされているすべての packages
	のバージョンを要約して表示し、
	インストールされている package のバージョンを、
	ローカルにインストールされている ports
	ツリーのバージョンと比較するには、&man.pkg.version.1;
	を使ってください。</para>

      <indexterm>
	<primary><command>pkg_version</command></primary>
      </indexterm>
        <screen>&prompt.root; <userinput>pkg_version</userinput>
colordiff                   =
docbook                     =
...</screen>

      <para>2 列目の記号は、インストールされているバージョンの
	ローカル ports ツリーのバージョンに対する新旧を表します。</para>

      <informaltable frame="none" pgwide="1">
       <tgroup cols="2">
	  <thead>
            <row>
              <entry>記号</entry>
              <entry>意味</entry>
            </row>
          </thead>

 	  <tbody>
  	    <row>
	      <entry>=</entry>
	      <entry>インストールされている
	      package のバージョンは、
	      ローカル ports ツリーのものと一致しています。</entry>
  	    </row>

	    <row>
	      <entry>&lt;</entry>
	      <entry>インストールされている package のバージョンは、
		ローカルにある ports ツリーのものより古いです。</entry>
	    </row>

	    <row>
	      <entry>&gt;</entry>
	      <entry>インストールされている package のバージョンは、
		ローカルにある ports ツリーのものより新しいです。
		すなわち、ローカルの ports
		ツリーはおそらく古くなっています。</entry>
	    </row>

	    <row>
	      <entry>?</entry>
	      <entry>インストールされた package を
		ports インデックスの中に見つけることができません。
		インストールされた port が Ports Collection から削除されたり、
		名前が変更された場合などに起こります。</entry>
	    </row>

	    <row>
	      <entry>*</entry>
	      <entry>複数のバージョンの package が存在します。</entry>
	    </row>

	    <row>
	      <entry>!</entry>
	      <entry>インストールされた package
		はインデックス中に存在しますが、何らかの理由で、
		インストールされた package
		のバージョン番号をインデックス中のエントリと比較できません。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2>
      <title>package の削除</title>
      <indexterm>
        <primary><command>pkg_delete</command></primary>
      </indexterm>
      <indexterm>
        <primary>packages</primary>
        <secondary>削除</secondary>
      </indexterm>

      <para>インストールされている package を削除するには、
	&man.pkg.delete.1; を使ってください。
      </para>

      <screen>&prompt.root; <userinput>pkg_delete <replaceable>xchat-2.8.8_1</replaceable></userinput></screen>

      <para>&man.pkg.delete.1; は
	package 名とバージョン番号の両方を必要とします。
	そのため、先ほどの例において
	<replaceable>xchat-2.8.8_1</replaceable> を
	<replaceable>xchat</replaceable> とした場合には動作しません。
	&man.pkg.version.1; を使ってインストールされている package
	のバージョンを調べるか、ワイルドカードを使ってください。</para>

      <screen>&prompt.root; <userinput>pkg_delete <replaceable>xchat\*</replaceable></userinput></screen>

      <para>上の例では、名前が <literal>xchat</literal>
	で始まるすべての packages が削除されます。</para>
    </sect2>
  </sect1>
    -->

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-intro">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> によるバイナリ
      package の管理</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> は、FreeBSD における伝統的な 
      package 管理ツールの置き換えとなる次世代の管理ツールで、
      バイナリ packages をより早く、
      より簡単に管理できるようにする数多くの機能を提供します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> は
      <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portmaster</package> や
      <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portupgrade</package> などの
      port 管理ツールの置き換えではありません。
      これらのツールは、
      サードパーティ製ソフトウェアをバイナリ packages と
      Ports Collection の両形式からインストールできますが、
      一方で <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> はバイナリ packages
      のみをインストールします。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-initial-setup">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> 入門</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.4 以降では、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> とマニュアルページをダウンロードし、
	インストールするためのブートストラップユーティリティが用意されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムをブートストラップするためには、
	以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/pkg</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これより前のバージョンの FreeBSD では、かわりに Ports Collection
	または packages を用いてインストールする必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port をインストールするには以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/ports-mgmt/pkg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">古い package システムを用いているシステムをアップグレードする際には、
	新しいツールがすでにインストールされている package に認識するよう、
	データベースを新しいフォーマットへと変換する必要があります。    
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> をインストールしたら、
	以下のコマンドを実行して、package
	データベースをこれまでの伝統的なフォーマットから新しいフォーマットへと変換する必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg2ng</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">このステップは、
	サードパーティ製ソフトウェアがまだインストールされていないような、
	新しくインストールされた直後のシステムでは必要ありません。</para></note>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">このステップは非可逆です。
	  一度 package データベースを <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	  フォーマットへと変換したら、伝統的な <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg_*</application>
	  ツールを使うべきではありません。</para>
      </important>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">package データベースを変換する際には、
	  新しいバージョンへのデータ変換に伴ったエラーが出力されることがあります。
	  通常、これらのエラーは無視して構いませんが、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg2ng</command> 終了後に表示される、
	  変換に失敗したサードパーティ製ソフトウェアの一覧については、
	  これらのソフトウェアを手動で再インストールする必要があります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のバージョンが
	10.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> より前であれば、
	以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> に追加して、
	FreeBSD Ports Collection がソフトウェアの登録に、伝統的な
	package のフォーマットではなく、<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	を用いるように設定してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WITH_PKGNG=	yes</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> package 管理システムでは、
	ほとんどのコマンドに対して package リポジトリを使います。
	デフォルトの package リポジトリは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/pkg.conf</filename> または
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGESITE</envar> 環境変数で定義されます。
	この環境変数は、設定ファイルを上書きします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その他の <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	の設定オプションは、pkg.conf(5) に記述されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> の利用情報は、
	pkg(8) マニュアルページや、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg</command> を引数なしに実行すると表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">各 <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> コマンドの引数は、
	コマンドに固有なマニュアルページに記述されています。
	たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg install</command> のマニュアルページを読むには、
	以下のコマンドのどちらかを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg help install</userinput></screen>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man pkg-install</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の節では、<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	を用いた通常のバイナリ package の管理について説明します。
	各コマンドでは、カスタマイズのために、
	多くのオプションが使われています。
	詳細や、他の例については、
	コマンドのヘルプやマニュアルページを参照してください。</para>
    </sect2>
 
    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-pkg-info">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている package の情報を入手する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オプションを使用しないで <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg info</command>
	を実行すると、
	システムにインストールされているすべての package もしくは、
	ある特定の package の情報が得られます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、インストールされている
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> の情報を調べるには、
	以下のように実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg info pkg</userinput>
pkg-1.1.4_1</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-installing-deinstalling">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">package のインストールと削除</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ package をインストールするには、
	以下のコマンドを使ってください。
	ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">packagename</replaceable> は、インストールする
	package の名前です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">packagename</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは、リポジトリデータを使用して、
	インストールすべきソフトウェアのバージョン、および、
	インストールされていない依存ソフトウェアがあるかどうかを調べます。
	たとえば、<application xmlns:xlink="http://www.w3.org/1999/xlink">curl</application>
	をインストールするには以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install curl</userinput>
Updating repository catalogue
/usr/local/tmp/All/curl-7.31.0_1.txz          100% of 1181 kB 1380 kBps 00m01s

/usr/local/tmp/All/ca_root_nss-3.15.1_1.txz   100% of  288 kB 1700 kBps 00m00s

Updating repository catalogue
The following 2 packages will be installed:

        Installing ca_root_nss: 3.15.1_1
        Installing curl: 7.31.0_1

The installation will require 3 MB more space

0 B to be downloaded

Proceed with installing packages [y/N]: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>
Checking integrity... done
[1/2] Installing ca_root_nss-3.15.5_1... done
[2/2] Installing curl-7.31.0_1... done
Cleaning up cache files...Done</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しい package と依存関係から追加された package は、
	  インストール済み package 一覧に表示されます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg info</userinput>
ca_root_nss-3.15.5_1	The root certificate bundle from the Mozilla Project
curl-7.31.0_1	Non-interactive tool to get files from FTP, GOPHER, HTTP(S) servers
pkg-1.1.4_6	New generation package manager</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">必要のなくなった packages は、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg delete</command> を使って削除できます。
	  たとえば、以下のようにして削除できます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg delete curl</userinput>
The following packages will be deleted:

	curl-7.31.0_1

The deletion will free 3 MB

Proceed with deleting packages [y/N]: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>
[1/1] Deleting curl-7.31.0_1... done</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-upgrading">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている package のアップグレード</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドを実行すると、
	インストールされている packages
	が最新のバージョンにアップグレードされます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg upgrade</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは、インストールされているソフトウェアのバージョンと、
	リポジトリのカタログから利用できるバージョンとを比較し、
	リポジトリからアップグレードします。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-auditing">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている package の検証</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">時折、
	サードウェア製のアプリケーションに脆弱性が見つかることがあります。
	脆弱性を調べるために、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> は、検証機能を持っています。
	システムにインストールされているソフトウェアに既知の脆弱性がないかどうかを調べるには、
	以下のように実行してください。</para>

 	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg audit -F</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-autoremove">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">リーフ依存 ports の自動削除</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を削除すると、不必要な依存 ports
	が残されることがあります。
	依存のために導入され、現在は不必要になった package は、
	以下のようにすると自動的に検出され、削除されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg autoremove</userinput>
Packages to be autoremoved:
	ca_root_nss-3.13.5

The autoremoval will free 723 kB

Proceed with autoremoval of packages [y/N]: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>
Deinstalling ca_root_nss-3.15.1_1... done</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-backup">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">package データベースのリストア</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">伝統的な package 管理システムとは異なり、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> には package
	データベースをバックアップするメカニズムがあります。
	この機能はデフォルトで有効に設定されています。</para>
	
      <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スクリプトによる定期的な
	  package データベースのバックアップを無効にするには、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">periodic.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の中で、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">daily_backup_pkgdb_enable="NO"</literal> 
	  と設定してください。</para>
      </tip>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">過去にバックアップした package
	データベースの中身をリストアするには、
	以下のコマンドを実行してください。
	以下のコマンドの <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/pkg.sql</replaceable>
	については、バックアップのある場所に置き換えて実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg backup -r <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/pkg.sql</replaceable></userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムの定期的なスクリプトによって取得されたバックアップをリストアする場合には、
	  リストアの前に展開しておく必要があります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">手動で <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	データベースをバックアップするには、以下のコマンドを実行してください。
	以下のコマンドの <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/pkg.sql</replaceable>
	については、適切なファイル名と場所に置き換えて下さい。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg backup -d <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/pkg.sql</replaceable></userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-clean">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">古くなった package の削除</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の	<envar xmlns:xlink="http://www.w3.org/1999/xlink">PKG_CACHEDIR</envar>
	変数で定義されるキャッシュディレクトリにバイナリ
	packages を保存します。
	インストールされている package の最新のコピーのみが保存されます。
	古いバージョンの <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> では、
	過去にインストールされたすべての package が保存されていました。
	これらの古くなったバイナリ package を削除するには、
	以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キャッシュ全体を削除するには以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg clean -a</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pkgng-set">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">package メタデータの変更</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports Collection
	では、メジャーバージョン番号が変更になることがあります。
	これに対応するために、<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application> には、
	package の情報をアップデートするコマンドが組み込まれています。
	たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink" role="packages">lang/php5</filename> が、
	バージョン <literal xmlns:xlink="http://www.w3.org/1999/xlink">5.4</literal> を表すようになり、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink" role="packages">lang/php5</filename> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">lang/php53</filename>
	と名前を変更する必要があるような場合に、有用です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例の package の情報を変更するには、
	以下のように実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg set -o lang/php5:lang/php53</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">別の例として、<package xmlns:xlink="http://www.w3.org/1999/xlink">lang/ruby18</package> を
	<package xmlns:xlink="http://www.w3.org/1999/xlink">lang/ruby19</package> にアップデートするには、
	以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg set -o lang/ruby18:lang/ruby19</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後の例として、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">libglut</filename> 共有ライブラリの情報を
	<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/libglut</package> から
	<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/freeglut</package> へと変更するには、
	以下のように実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg set -o graphics/libglut:graphics/freeglut</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">package の情報を変更したら、
	  情報が変更された package に依存している
	  packages を再インストールすることが重要となります。
	  依存 packages を再インストールするには、
	  以下のように実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install -Rf <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">graphics/freeglut</replaceable></userinput></screen>
      </note>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-using">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection とは、<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
      以下に置かれる <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>, 修正パッチ、
      説明文などの一連のファイルのことです。このファイルのセットは、
      アプリケーションをコンパイルして FreeBSD
      にインストールするのに用いられます。
      port を用いてアプリケーションをコンパイルできるようにするには、
      まず最初に Ports Collection をインストールする必要があります。
      FreeBSD のインストール時に Ports Collection をインストールしなかった場合に、
      以下の方法のどれかを用いてインストールしてください。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-using-portsnap-method">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Portsnap を利用する方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のベースシステムには、<application xmlns:xlink="http://www.w3.org/1999/xlink">Portsnap</application>
	が含まれています。
	これはは Ports Collection
	を取得するための速くて使いやすく、
	多くのユーザに推奨されるツールです。
	このユーティリティは、FreeBSD のサイトに接続し、セキュリティキーを検証し、
	Ports Collection の最新版をダウンロードします。
	セキュリティキーは、
	ダウンロードしたすべてのファイルの検証に用いられます。</para>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">圧縮された Ports Collection のスナップショットを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/portsnap</filename>
	  にダウンロードするには以下を実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsnap fetch</userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">初めて <application xmlns:xlink="http://www.w3.org/1999/xlink">Portsnap</application> を使う時は、
	  スナップショットをまず <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>
	  に展開してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsnap extract</userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">上で示した <application xmlns:xlink="http://www.w3.org/1999/xlink">Portsnap</application>
	  を初めて利用する際に行うコマンドを実行した後は、
	  以下のコマンドで
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
	  をアップデートしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsnap fetch</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsnap update</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">fetch</literal> を使う場合には、以下のよう
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">extract</literal> または <literal xmlns:xlink="http://www.w3.org/1999/xlink">update</literal>
	  を連続して行うことができます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsnap fetch update</userinput></screen>
      </step>
    </procedure>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-using-subversion-method">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Subversion を用いる方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ports ツリーの管理が必要な場合や、
	ローカルで変更点をメンテナンスする必要がある場合には、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> を使って
	Ports Collection を取得する方法があります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> のより詳細な説明については、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/committers-guide/subversion-primer.html">
	Subversion Primer</link> を参照してください。</para>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  を使って ports ツリーをチェックアウトする前に、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  をインストールしておく必要があります。
	  ports ツリーがすでにインストールされていれば、
	  以下のようにして <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  をインストールできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/devel/subversion</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports ツリーが利用できない場合や、
	  package の管理に <application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	  を使っているのであれば、package から
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> をインストールできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install subversion</userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports ツリーをチェックアウトしてください。
	  パフォーマンスを良くするため、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">svn0.us-east.FreeBSD.org</replaceable>
	  を
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-mirrors">Subversion
	   ミラー</link>
	  の中から地理的に近い場所にあるミラーに置き換えてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout https://<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">svn0.us-east.FreeBSD.org</replaceable>/ports/head /usr/ports</userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  で最初のチェックアウトを行ったら、必要に応じて
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
	  をアップデートしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update /usr/ports</userinput></screen>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection
      はソフトウェアのカテゴリを表すディレクトリを持ち、
      各カテゴリには、各アプリケーションのサブディレクトリがあります。
      ports スケルトンとも呼ばれる各サブディレクトリには、
      プログラムを FreeBSD
      上で正しくコンパイルしてインストールする方法を提供するファイルのセットが含まれています。
      それぞれの port スケルトンには、
      次のファイルおよびディレクトリが含まれています。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>:
	  このファイルにはアプリケーションのコンパイル方法やシステムのどこにインストールするかを指定する命令文が含まれています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">distinfo</filename>:
	  このファイルには、その port
	  を構築するためにダウンロードする必要があるファイルのファイル名と、
	  チェックサム情報が含まれています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">files</filename>:
	  このディレクトリには FreeBSD 上でプログラムをコンパイルし、
	  インストールするための修正パッチが含まれています。
	  このディレクトリには、その port
	  の構築に必要なその他のファイルが入る場合もあります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-descr</filename>:
	  このファイルにはプログラムに関する、
	  より詳しい説明文が含まれます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-plist</filename>:
	  これは、その port によってインストールされる全ファイルのリストです。
	  これにはプログラムを削除する際に、
	  どのファイルを削除すれば良いのかを ports
	  システムに伝える役割もあります。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの他に <filename xmlns:xlink="http://www.w3.org/1999/xlink">pkg-message</filename>
      や特殊な状況に対応するためのファイルを含む ports もあります。
      これらのファイルについての詳細および
      ports の一般的な説明については、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/books/porters-handbook/index.html">port
      作成者のためのハンドブック</link> をご覧下さい。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">port は実際のソースコード
      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">distfile</filename> とも呼ばれます)
      を含んではいません。
      port の構築の展開部で、ダウンロードされたソースは自動的に <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports/distfiles</filename>
      に保存されます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-skeleton">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ports のインストール</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ports</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">installing</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、Ports Collection
	を利用してプログラムをインストールしたり、
	システムから削除したりする基本的な手順について説明します。
	利用可能な <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	のターゲットや環境変数についての詳細は
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ports</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> をご覧ください。</para>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">いかなる port でも、構築する前には、
	  前節に書かれているように、Ports Collection
	  をアップデートしてください。
	  サードパーティ製のソフトウェアをインストールすると、
	  セキュリティの脆弱性を引き起こす可能性があります。
	  その port に関連したセキュリティ上の問題がないことを、まずは
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://vuxml.freebsd.org/"/>
	  で確認してください。または、
	  新しい port をインストールする前に、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkg audit -F</command> を実行してください。
	  毎日のシステムのセキュリティ確認時に、
	  自動的にセキュリティの検査およびデータベースの更新を行うようにこのコマンドを設定できます。
	  詳しくは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg-audit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> および
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">periodic</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection は、ネットワークに接続できることを想定しています。
	また、superuser の権限も必要となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com/">freebsdmaill.com</link>
	の FreeBSD Toolkit のようなサードパーティ製の DVD-ROM
	製品の中には distfiles を収録しているものがあります。
	これらを使うとインターネットへの接続がなくても
	ports をインストールするのに使うことができます。
	DVD を <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/cdrom</filename>
	にマウントしてください。
	ほかのマウントポイントを使用したければ、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">CD_MOUNTPTS</varname> 変数を設定してください。
	ディスク上に必要な distfiles が存在すると、
	自動的に利用されます。port には DVD
	への収録を許可しないライセンス条項を持つものがあります。
	これにはダウンロード前に登録を必要としたり、
	再配布が禁止されているという理由があります。
	DVD に含まれていない port をインストールしたい場合には、
	ネットワークに接続する必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port をコンパイルしてインストールするには、
	インストールしたい port のディレクトリに移動してください。
	その後、プロンプトから
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command> と入力してください。
	すると、次のような出力が現われるはずです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/sysutils/lsof</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput>
&gt;&gt; lsof_4.88D.freebsd.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
&gt;&gt; Attempting to fetch from ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.
===&gt;  Extracting for lsof-4.88
...
[extraction output snipped]
...
&gt;&gt; Checksum OK for lsof_4.88D.freebsd.tar.gz.
===&gt;  Patching for lsof-4.88.d,8
===&gt;  Applying FreeBSD patches for lsof-4.88.d,8
===&gt;  Configuring for lsof-4.88.d,8
...
[configure output snipped]
...
===&gt;  Building for lsof-4.88.d,8
...
[compilation output snipped]
...
===&gt;  Installing for lsof-4.88.d,8

===&gt;  Installing for lsof-4.88.d,8
...
[installation output snipped]
...
===&gt;   Generating temporary packing list
===&gt;   Compressing manual pages for lsof-4.88.d,8
===&gt;   Registering installation for lsof-4.88.d,8
===&gt;  SECURITY NOTE:
      This port has installed the following binaries which execute with
      increased privileges.
/usr/local/sbin/lsof
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lsof</command> は高い権限で動作するプログラムなので、
	インストールする時にセキュリティに関する警告が表示されます。
	インストールが終わったら、プロンプトが戻ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルによってはコマンドの実行ファイルを探す時間を短縮するために、
	環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> に登録されている
	ディレクトリのコマンド一覧をキャッシュするものがあります。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tcsh</command> シェルを使っているのであれば、
	フルパスを指定することなく新しくインストールしたコマンドを利用できるように、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rehash</command> を実行してください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">sh</command> シェルを使っているのであれば
 	かわりに <command xmlns:xlink="http://www.w3.org/1999/xlink">hash -r</command> を実行してください。
	詳細については、
	あなたの使っているシェルのドキュメントをご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールの間に、作業用ディレクトリが作成されます。
	このディレクトリにはコンパイル時に使用されるすべての一時ファイルが含まれています。
	このディレクトリを削除することで、ディスク容量を節約でき、また port
	を新しいバージョンへアップデートする際に問題が起こる可能性を小さくします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make clean</userinput>
===&gt;  Cleaning for lsof-88.d,8
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">port を構築する際に、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</command>
	  と実行することで、
	  これらの余分な手順を省くことができます。</para>
      </note>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ports のインストールのカスタマイズ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports の中にはビルドオプションを指定できるものがあります。
	  このオプションを指定することで、
	  アプリケーションの機能の一部を有効もしくは無効にできます。
	  また、セキュリティオプションを設定したり、
	  その他のカスタマイズを行うことができます。
	  このようなアプリケーションには
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">www/firefox</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">security/gpgme</filename> や
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">mail/sylpheed-claws</filename>
	  などがあります。
	  port が他のカスタマイズ可能なオプションを持つ ports
	  に依存する場合には、デフォルトでは、ユーザに port
	  のオプションをメニューから選択させる設定のため、
	  何度もユーザとの対話が起こり待たされることがあります。
	  これを避けるには、まず最初に port スケルトンで
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make config-recursive</command>
	  を実行して設定を一括で行い、その後
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make install [clean]</command>
	  を実行して port を構築してインストールしてください。</para>

	<tip xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><buildtarget>config-recursive</buildtarget> を実行する際、
	    <buildtarget>all-depends-list</buildtarget>
	    を実行すると、設定すべき ports の一覧を得ることができます。
	    多くの場合は、すべての依存 ports のオプションが定義され、
	    ports オプションの画面が表示されなくなり、
	    すべてのオプションが設定されたことを確認できるまで
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make config-recursive</command>
	    を実行すると良いでしょう。</para>
	</tip>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">port の構築後、
	  再びこのメニューを表示させてオプションの追加や削除、
	  設定の変更を行う方法はたくさんあります。
	  一つ目は port のディレクトリに <command xmlns:xlink="http://www.w3.org/1999/xlink">cd</command> で移動し、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make	config</command>
	  と入力する方法です。
	  別の方法は <command xmlns:xlink="http://www.w3.org/1999/xlink">make showconfig</command>
	  を使う方法です。
	  他の方法は <command xmlns:xlink="http://www.w3.org/1999/xlink">make rmconfig</command>
	  の実行です。
	  このコマンドを実行すると選択されているすべてのオプションが削除され、
	  設定をもう一度やり直すことができます。
	  これらの方法や他の方法についての詳細は、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ports</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> マニュアルで説明されています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports は、いくつかの環境変数を参照する <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fetch</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  を用いてソースファイルをダウンロードします。
	  FreeBSD システムがファイアウォールの内側であったり、
	  FTP/HTTP プロキシを使う場合には、
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">FTP_PASSIVE_MODE</envar>,
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">FTP_PROXY</envar>, <envar xmlns:xlink="http://www.w3.org/1999/xlink">FTP_PASSWORD</envar>
	  の環境変数を設定することなります。
	  対応している環境変数の一覧については
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fetch</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インターネットに常時接続できないユーザのために
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make fetch</command>
	  コマンドが用意されています。
	  このコマンドを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
	  で実行してすべての distfiles をダウンロードするか、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports/net</filename>
	  といったカテゴリや、あるスケルトンにおいても実行できます。
	  ある port がライブラリやその他の ports に依存している場合には、
	  別のカテゴリの ports の distfiles
	  はダウンロードされ<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ない</emphasis>ことに注意してください。
	  port が依存しているすべての distfiles をダウンロードしたければ、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make fetch-recursive</command>
	  を使ってください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">めったにないことかもしれませんが、
	  ローカルに distfiles のリポジトリがあるような場合に、
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">MASTER_SITES</varname> 変数を変更することで
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> で指定されているダウンロードの場所を
	  変更することができます。
	  設定する場合には、変更先を以下のようにして指定してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">directory</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make MASTER_SITE_OVERRIDE= \
<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ftp://ftp.organization.org/pub/FreeBSD/ports/distfiles/</replaceable> fetch</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname> 変数と
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PREFIX</varname> 変数を変更することで、
	  作業ディレクトリやターゲットディレクトリをデフォルトのものから変更できます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make WRKDIRPREFIX=/usr/home/example/ports install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">とすると、ports は <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/home/example/ports</filename>
	  でコンパイルされ、すべて <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/local</filename>
	  以下にインストールされます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make PREFIX=/usr/home/example/local install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この場合、port のコンパイルは <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports</filename>
	  でおこない、<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/home/example/local</filename>
	  にインストールします。そして</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make WRKDIRPREFIX=../ports PREFIX=../local install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">とすれば両者を組み合わせることが可能です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらを環境変数に設定する方法もあります。
	  どのように環境変数を設定するかについては、
	  あなたの使っているシェルのマニュアルページを参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-removing">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストールした ports の削除</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">ports</primary>
        <secondary xmlns:xlink="http://www.w3.org/1999/xlink">削除</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされた ports は、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg delete</command> コマンドで削除できます。
	このコマンドの使用例は、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="pkgng-intro"/> にあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるいは、port のディレクトリにて
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</command> を実行することでも削除できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/sysutils/lsof</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">make deinstall</userinput>
===&gt;  Deinstalling for sysutils/lsof
===&gt;   Deinstalling
Deinstallation has been requested for the following 1 packages:

	lsof-4.88.d,8

The deinstallation will free 229 kB
[1/1] Deleting lsof-4.88.d,8... done</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port が削除されるときに表示されるメッセージを読むことをお勧めします。
	もし削除した port に依存するアプリケーションがあった場合には、
	その情報が表示されますが、port の削除は行われます。
	そのようなケースでは、依存を直すためにアプリケーションを再インストールするとよいでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-upgrading">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ports のアップグレード</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ports</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">アップグレード</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ports のインストール後、時間が経過すると、Ports Collection
	で新しいバージョンのソフトウェアを利用できるようになります。
	この章では、
	どのようにしてアップグレードする必要のあるソフトウェアを判断するか、
	そしてアップグレードの方法について説明します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされている ports
	の新しいバージョンを利用できるかどうかを知るには、まず、
	最新の ports ツリーがインストールされていることを確認してください。
	これには、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-using-portsnap-method"/> もしくは
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-using-subversion-method"/>
	で書かれているアップデートのコマンドを使ってください。
	FreeBSD 10 以降のシステム、または、<application xmlns:xlink="http://www.w3.org/1999/xlink">pkg</application>
	に変換されたシステムでは、
	以下のコマンドを実行すると、現在利用可能なバージョンよりも古い
	ports の一覧が表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg version -l "&lt;"</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> より前のシステムでは、
	現在利用可能なバージョンよりも古い
	ports の一覧を表示されるには、以下のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg_version -l "&lt;"</userinput></screen>

      <important xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アップグレードする前に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/UPDATING</filename>
	  を、ファイルの頭から、ports を最後にアップデートした日、
	  もしくはシステムをインストールをした日に最も近い日まで目を通してください
	  このファイルには
	  port をアップグレードする際にユーザが遭遇するであろう問題や、
	  追加で必要な作業などが記述されています。
	  例えば、ファイル形式の変更や設定ファイルの場所の変更、
	  前のバージョンと互換性がなくなったことなどが書かれています。
	  アップグレードする必要のある ports に関連した手順に注意し、
	  アップグレードする際にはこれらの手順に従ってください。</para>
      </important>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">実際にアップグレードを行うには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application> もしくは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application> を使ってください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="portmaster">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">portmaster</application>
	  を用いた ports のアップグレード</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">portmaster</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portmaster</package> package または port は、
	  FreeBSD と共にインストールされているツールだけを使うので、
	  インストールされている ports のアップグレードに推奨されているツールです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">portmaster</application> は、
	  他の ports に依存せずに、<quote xmlns:xlink="http://www.w3.org/1999/xlink">base</quote>
	  システムのツールのみを使うように設計されています。
	  このアプリケーションは、
	  どの ports をアップグレードすべきかの判断を、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/pkg/</filename> の情報を使って行います。port
	  からこのユーティリティをインストールするには以下のようにしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/ports-mgmt/portmaster</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application> は、
	  ports を 4 つのカテゴリに分類します。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Root ports: 他の port に依存せず、
	      他の port からも依存されない ports。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Trunk ports: 他の port には依存しないが、
	      他の port から依存されている ports。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Branch ports: 他の port に依存し、
	      他の port からも依存されている ports。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Leaf ports: 他の port に依存するが、
	      他の port からは依存されない ports。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのカテゴリの一覧や、アップデート可能な
	  port の一覧を表示するには以下のようにしてください。</para>

<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster -L</userinput>
===&gt;&gt;&gt; Root ports (No dependencies, not depended on)
===&gt;&gt;&gt; ispell-3.2.06_18
===&gt;&gt;&gt; screen-4.0.3
        ===&gt;&gt;&gt; New version available: screen-4.0.3_1
===&gt;&gt;&gt; tcpflow-0.21_1
===&gt;&gt;&gt; 7 root ports
...
===&gt;&gt;&gt; Branch ports (Have dependencies, are depended on)
===&gt;&gt;&gt; apache22-2.2.3
        ===&gt;&gt;&gt; New version available: apache22-2.2.8
...
===&gt;&gt;&gt; Leaf ports (Have dependencies, not depended on)
===&gt;&gt;&gt; automake-1.9.6_2
===&gt;&gt;&gt; bash-3.1.17
        ===&gt;&gt;&gt; New version available: bash-3.2.33
...
===&gt;&gt;&gt; 32 leaf ports

===&gt;&gt;&gt; 137 total installed ports
        ===&gt;&gt;&gt; 83 have new versions available</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドを使うと、
	  古くなった ports をすべてアップデートします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster -a</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application> のデフォルトの設定では、
	  インストールされている port を削除する前にバックアップ用の
	  package が作成されます。
	  このバックアップは、
	  新しいバージョンのインストールに成功すると削除されます。
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-b</option> を使うと、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application>
	  の自動的なバックアップの削除は行いません。
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-i</option> を追加すると、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application> をインタラクティブモードで使用できます。
	  このモードでは、各 port
	  をアップグレードするかどうかの選択を対話的に行うことがでます。
	  多くのオプションが利用可能です。portmaster(8) のマニュアルページから、
	  それらの使用方法に関する詳細な説明を読んでください。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アップグレードの過程でエラーに遭遇した場合には、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option> を使ってすべての
	  ports のアップグレードや再構築を行なってください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster -af</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application>
	  を使ってシステムに新しい ports をインストールしたり、
	  新しい port のコンパイルやインストール前に依存するすべての
	  port をアップグレードできます。この機能を使う時には、
	  Ports Collection の場所を指定してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">shells/bash</replaceable></userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="portupgrade">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade を用いた ports のアップグレード</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application> は、
	  インストールした ports
	  のアップグレードを行なうためのもう一つのユーティリティです。
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portupgrade</package>
	  package または port から利用できます。
	  このユーティリティは ports
	  を管理するために用いられるアプリケーションをインストールします。
	  Ruby に依存します。
	  port をインストールするには、以下を実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/ports-mgmt/portupgrade</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このユーティリティを使ってアップグレードを行う前に、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pkgdb -F</command> を使って、
	  インストールされている ports の一覧を調べてください。
	  矛盾が検出された場合には修復してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムにインストールされている port
	  の中で古くなったものをすべてアップデートするには
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade -a</command> を実行してください。
	  もし、すべての ports
	  に対して個別にアップグレードするかどうかを確認したいのであれば、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-i</option> を追加してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade -ai</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports で利用可能なすべてのアプリケーションではなく、
	  ある特定のアプリケーションだけを更新したいのであれば、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">pkgname</replaceable></command>
	  を実行してください。
	  アップグレードするアプリケーションが依存しているすべての
	  ports をまず先に更新したい場合には、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-R</option> を使ってください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade -R firefox</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションを使うと、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</application> は
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">PKG_PATH</envar> に登録されているローカルディレクトリから、
	  利用可能な package を探します。
	  ローカルに利用可能な packages が見つからなければ、
	  リモートサイトから package のダウンロードを試みます。
	  packages をローカルに見つけることができず、
	  リモートサイトからもダウンロードできない場合には、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</application>
	  は ports からインストールを行ないます。
	  ports を使用したくなければ、<option xmlns:xlink="http://www.w3.org/1999/xlink">-PP</option>
	  オプションを指定してください。
	  この最後のオプションを設定すると、
	  もし package が利用できなければ
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application> は終了します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade -PP gnome2</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、ビルドやインストールを行なわず、
	distfiles または packages だけをダウンロードしたければ、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-F</option> オプションを指定してください。
	利用可能なすべてのオプションについては、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">portupgrade</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルを参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-disk-space">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ports とディスク容量</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ports</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク容量</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection を使い続けていると、
	そのうちディスクを食いつぶしてしまうでしょう。
	ports をビルドしてインストールした後、
	ports スケルトンで <command xmlns:xlink="http://www.w3.org/1999/xlink">make clean</command>
	を実行すると、作業用の <filename xmlns:xlink="http://www.w3.org/1999/xlink">work</filename>
	ディレクトリを削除します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application> を使って port
	をインストールする場合には、<option xmlns:xlink="http://www.w3.org/1999/xlink">-K</option>
	を使わなければこのディレクトリは自動的に削除されます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application>
	がインストールされている場合には、
	以下のコマンドはローカルの Ports Collection
	に見つかったすべての <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">work</filename>
	ディレクトリを削除します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsclean -C</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、時間が経つにつれ
	<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr/ports/distfiles</filename>
	には、古くなったソースファイルがたまっていきます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application>
	がインストールされている場合には、
	次のコマンドで、どの ports からも使われていない
	distfiles を削除できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsclean -D</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Portupgrade</application>
	を使って、システムにインストールされている port から使われていない
	distfiles をすべて削除するには、以下のコマンドを使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portsclean -DD</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <application xmlns:xlink="http://www.w3.org/1999/xlink">Portmaster</application>
	がインストールされているのであれば、以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster --clean-distfiles</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、このコマンドはインタラクティブに設定されているため、
	ユーザに対して distfile
	を削除すべきかどうかを確認するプロンプトが表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのコマンドに加え、<filename xmlns:xlink="http://www.w3.org/1999/xlink" role="package">ports-mgmt/pkg_cutleaves</filename>
	package または port は、
	必要なくなった ports を削除する作業を自動化します。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-poudriere">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Poudriere</application> を用いた
      package の構築</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application> は、FreeBSD package
      を作成したり、試験に用いられる <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BSD</acronym>
      ライセンスのユーティリティです。
      このユーティリティは、FreeBSD jails を用いて、
      独立したコンパイル環境を構築します。
      これらの jail を使って、
      インストールされている FreeBSD のバージョンとは異なるバージョンの
      package を作成したり、ホストが amd64 のシステムでは、
      i386 用の package を構築することもできます。
      構築された package のレイアウトは公式のミラーと同じです。
      これらの package は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や他の
      package 管理ツールで利用できます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">ports-mgmt/poudriere</package> package
      または port から <application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application>
      をインストールしてください。
      アプリケーションをインストールすると、サンプルの設定ファイルである
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/poudriere.conf.sample</filename>
      もインストールされます。
      このファイルを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/poudriere.conf</filename> にコピーして、
      ローカルの環境に合わせて編集してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application> を実行するシステムで、
      必ずしも <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> を使う必要はありませんが、
      有用です。<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ZFS</acronym> を使う際には、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/poudriere.conf</filename>
      の中で <varname xmlns:xlink="http://www.w3.org/1999/xlink">ZPOOL</varname> を指定する必要があります。
      そして、<varname xmlns:xlink="http://www.w3.org/1999/xlink">FREEBSD_HOST</varname>
      を最も近いミラーに設定してください。
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">CCACHE_DIR</varname> を定義することで、
      <package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">devel/ccache</package>
      を使ったコンパイルのキャッシュが可能となり、
      コンパイルで頻繁に使われるコードの構築時間を短縮できます。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application> データセットを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/poudriere</filename>
      にマウントされた独立したツリーに置くと良いでしょう。
      他の値はデフォルトの値で十分です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">同時に走らせるコンパイル数の定義には、
      認識されたコアプロセッサの数が用いられます。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym>
      もしくはスワップ空間のどちらかの仮想メモリを十分用意してください。
      もし、仮想メモリを使い切ってしまったら、jail の構築は中断し、
      異常なメッセージが表示されることでしょう。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="poudriere-initialization">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Jails および Port ツリーの初期化</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定が終わったら、<application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application>
	を初期化して、必要とする FreeBSD ツリーおよび jail、
	そして ports ツリーをインストールしてください。
	jail の名前を <option xmlns:xlink="http://www.w3.org/1999/xlink">-j</option>、
	FreeBSD のバージョンを <option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option> で指定してください。
	FreeBSD/amd64 システムでは、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> を使ってアーキテクチャに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">i386</literal> または <literal xmlns:xlink="http://www.w3.org/1999/xlink">amd64</literal>
	を設定できます。
	デフォルトでは、<command xmlns:xlink="http://www.w3.org/1999/xlink">uname</command>
	で表示されるアーキテクチャに設定されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">poudriere jail -c -j <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64</replaceable> -v <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10.0-RELEASE</replaceable></userinput>
====&gt;&gt; Creating 10amd64 fs... done
====&gt;&gt; Fetching base.txz for FreeBSD 10.0-RELEASE amd64
/poudriere/jails/10amd64/fromftp/base.txz      100% of   59 MB 1470 kBps 00m42s
====&gt;&gt; Extracting base.txz... done
====&gt;&gt; Fetching src.txz for FreeBSD 10.0-RELEASE amd64
/poudriere/jails/10amd64/fromftp/src.txz       100% of  107 MB 1476 kBps 01m14s
====&gt;&gt; Extracting src.txz... done
====&gt;&gt; Fetching games.txz for FreeBSD 10.0-RELEASE amd64
/poudriere/jails/10amd64/fromftp/games.txz     100% of  865 kB  734 kBps 00m01s
====&gt;&gt; Extracting games.txz... done
====&gt;&gt; Fetching lib32.txz for FreeBSD 10.0-RELEASE amd64
/poudriere/jails/10amd64/fromftp/lib32.txz     100% of   14 MB 1316 kBps 00m12s
====&gt;&gt; Extracting lib32.txz... done
====&gt;&gt; Cleaning up... done
====&gt;&gt; Jail 10amd64 10.0-RELEASE amd64 is ready to be used</screen>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">poudriere ports -c -p <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">local</replaceable></userinput>
====&gt;&gt; Creating local fs... done
====&gt;&gt; Extracting portstree "local"...
Looking up portsnap.FreeBSD.org mirrors... 7 mirrors found.
Fetching public key from ec2-eu-west-1.portsnap.freebsd.org... done.
Fetching snapshot tag from ec2-eu-west-1.portsnap.freebsd.org... done.
Fetching snapshot metadata... done.
Fetching snapshot generated at Tue Feb 11 01:07:15 CET 2014:
94a3431f0ce567f6452ffde4fd3d7d3c6e1da143efec76100% of   69 MB 1246 kBps 00m57s
Extracting snapshot... done.
Verifying snapshot integrity... done.
Fetching snapshot tag from ec2-eu-west-1.portsnap.freebsd.org... done.
Fetching snapshot metadata... done.
Updating from Tue Feb 11 01:07:15 CET 2014 to Tue Feb 11 16:05:20 CET 2014.
Fetching 4 metadata patches... done.
Applying metadata patches... done.
Fetching 0 metadata files... done.
Fetching 48 patches.
(48/48) 100.00%  done.
done.
Applying patches...
done.
Fetching 1 new ports or files... done.
/poudriere/ports/tester/CHANGES
/poudriere/ports/tester/COPYRIGHT

[...]

Building new INDEX files... done.</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つのコンピュータ上で、
	複数の設定、複数の jails、異なる port ツリーから
	<application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application> は port をビルドできます。
	これらのコンビネーションのカスタム設定は
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">セット</emphasis> と呼ばれます。
	詳細については、<package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/poudriere</package> もしくは
	<package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/poudriere-devel</package> をインストール後、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の CUSTOMIZATION の章をご覧下さい。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで示される基本設定では、jail, ports そしてセット固有の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/poudriere.d</filename> に置いてください。
	この例でのファイル名
	<filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64-local-workstation</replaceable>-make.conf</filename>
	は、jail 名、port 名そして、セット名の組み合わせで付けられています。
	システムの <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename>
	と、この新しいファイルは、ビルド時に結合され、構築した jail
	で用いられる <filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename> を作成します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ビルドする package を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64-local-workstation</replaceable>-pkglist</filename> に記載してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">editors/emacs
devel/git
ports-mgmt/pkg
...</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">特定の ports に対し、
	オプションや依存を設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">poudriere options -j <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64</replaceable> -p <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">local</replaceable> -z <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">workstation</replaceable> -f <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64-local-workstation-pkglist</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に packages を構築し、
	package リポジトリを生成してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">poudriere bulk -j <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64</replaceable> -p <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">local</replaceable> -z <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">workstation</replaceable> -f <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">10amd64-local-workstation-pkglist</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">t</keycap></keycombo>
	は現在のビルド状況を表示します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Poudriere</application> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/poudriere/logs/bulk/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">jailname</replaceable>
	</filename>
	にあるファイルも構築します。
	このファイルをウェブサーバと共に使うことで、
	ビルド情報を表示できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで <application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application>
	リポジトリを package
	のインストールに利用できるようになりました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</application>
	を利用する上でのより多くの情報については、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">poudriere</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> およびメインのウェブサイトである <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://github.com/freebsd/poudriere/wiki"/>
	を参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-nextsteps">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の作業</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ package もしくは port
      のどちらを用いてソフトウェアをインストールするかに関わらず、
      サードパーティ製のアプリケーションの多くは、
      インストール後にある程度の設定を必要とします。
      以下のコマンドや場所の情報は、
      アプリケーションとともに何がインストールされたかを知るための助けとなるでしょう。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くのアプリケーションでは、
	  デフォルトの設定ファイルが、少なくとも一つは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc</filename> にインストールされます。
	  数多くの設定ファイルを持つようなアプリケーションでは、
	  それらのファイルを格納するためにサブディレクトリを作成するものもあります。
	  サンプルの設定ファイルは、しばしば <filename xmlns:xlink="http://www.w3.org/1999/xlink">.sample</filename>
	  といった拡張子がついた名前でインストールされます。
	  設定ファイルを確認し、
	  必要に応じてシステムの要求に合うように編集してください。
	  最初にサンプルファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">.sample</filename>
	  を外した名前のファイルにコピーしてから、編集してください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントが付属しているアプリケーションは、
	  ドキュメントを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc</filename>
	  にインストールします。また、
	  多くのアプリケーションは、マニュアルページもインストールします。
	  これらのドキュメントは、
	  アプリケーションを使い続ける前に見ておくべきものです。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ある種のアプリケーションでは、
	  サービスを実行するためには、
	  アプリケーションの起動前に、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/etc/rc.conf</filename>
	  に追加する必要があります。
	  これらのアプリケーションでは、通常、
	  スタートアップスクリプトが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename>
	  にインストールされます。詳細は、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="configtuning-starting-services">サービスの起動</link>
	  をご覧ください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">csh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のユーザは、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">rehash</command> を実行して、
	  シェルの <envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar> のバイナリリストを再構築してください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pkg info</command>
	  を使って、アプリケーションと共にインストールされたファイル、
	  マニュアルページ、およびバイナリを調べることができます。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ports-broken">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">うまく動作しない ports に遭遇した場合には</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">port をうまくコンパイルできなかったりインストールできない場合には、
      以下を試してください。</para>

    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">その port に対する修正案が提出されていないかどうかを
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/support.html">障害報告
	    (Problem Report) データベース</link> で調べてください。
	  もし提案されていれば、
	  その提案されている修正によって問題を解決できるかもしれません。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">port の保守担当者に対応してもらいましょう。
	  port スケルトンで <command xmlns:xlink="http://www.w3.org/1999/xlink">make maintainer</command> と入力するか、
	  port の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> を読み、
	  保守担当者の電子メールアドレスを調べてください。
	  保守担当者にメールを送る際には、port の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">$FreeBSD:</literal> 行、
	  そしてエラーが出力されるまでの出力ログを忘れずに添付してください。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">特定の保守担当者が存在せず、かわりに <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/mailing-list-faq/article.html">メーリングリスト
	    </link> が保守している ports があります。
	    そのような場合には、メールアドレスは
	    <email xmlns:xlink="http://www.w3.org/1999/xlink" role="nolink">freebsd-listname@FreeBSD.org</email>
	    のようになります。
	    メールを送る際には、このことに気をつけてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">特に <email xmlns:xlink="http://www.w3.org/1999/xlink" role="nolink">ports@FreeBSD.org</email>
	    が保守している ports には、保守担当者がいません。
	    そのかわり、
	    そのメーリングリストを購読する人々からなるコミュニティが、
	    修正や対応をおこなっています。
	    もっとボランティアが必要です!</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">メールに対して返信がなければ、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/problem-reports/article.html">
	    FreeBSD 障害報告の書き方</link> に書かれている手順にしたがい、
	  Bugzilla を使ってバグレポートを提出してください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">自分で直しましょう!
	  ports システムに関する詳細な情報は
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/books/porters-handbook/index.html">port
	    作成者のためのハンドブック</link> にあります。
	  このセクションを読むと、壊れてしまった port を直したり、
	  自分で作った port を提出したりできるようになります!</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="pkgng-intro"/> に書かれている手順にしたがって、
	  package をインストールしてください。</para>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42895
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="x11">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">X Window System</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Ken</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">X.Org X11 サーバ対応: </contrib></author>
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname></personname></author>
    </authorgroup>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
      では、ユーザに強力なグラフィカルインタフェースを提供するために
      X11 を採用しています。
      X11 は、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      (他のソフトウェアパッケージについてはここでは述べません) に実装された、
      フリーで利用できる X Window System です。
      FreeBSD におけるデフォルトかつ公式の X11 サーバは
      X.Org Foundation が開発している
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> です。
      FreeBSD に似たライセンスに従って配布されています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 がサポートするビデオハードウェアについての情報は、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.x.org/">Xorg</link>
      のウェブサイトをご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読めば以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X Window System のさまざまなコンポーネントと、
	  それらが互いにどのように連携しているか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X11 のインストールおよび設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまなウィンドウマネージャのインストール方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X11 での <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントの使い方</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">GUI ログイン (<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>)
	  の設定方法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読み始める前に以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製ソフトウェアのインストール方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x-understanding">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">用語の説明</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">X Window System のさまざまなコンポーネントについての詳細や、
      それらがどのようにやり取りするかについてすべて理解する必要はありませんが、
      これらのコンポーネントについて基本的なことを知っていると、
      強力な武器になるでしょう。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">X サーバ</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">X は最初からネットワークを意識してデザインされており、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">クライアント - サーバ</quote> モデルを採用しています。
	    このモデルでは、<quote xmlns:xlink="http://www.w3.org/1999/xlink">X サーバ</quote> はキーボードやモニタ、
	    マウスが接続されたコンピュータ上で動きます。
	    このサーバはディスプレイの表示を管理したり、キーボード、
	    マウスからの入力を処理したり、
	    タブレットやビデオプロジェクタ等の他の装置からの入出力を処理します。
	    これは、ある人々を混乱させることがあります。
	    X での用語は彼らが想定するものとは正反対だからです。
	    彼らは <quote xmlns:xlink="http://www.w3.org/1999/xlink">X サーバ</quote>
	    は地下にある大きなパワフルなマシンであり、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">X クライアント</quote>
	    が自分たちのデスク上にあると想像するのです。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">X クライアント</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XTerm</application> や
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> などの各 X アプリケーションは、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</quote> になります。
	    クライアントは <quote xmlns:xlink="http://www.w3.org/1999/xlink">この座標にウィンドウを描いてください</quote>
	    といったメッセージをサーバへ送り、サーバは
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">ユーザが OK ボタンを押しました</quote>
	    といったメッセージを送り返します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">家庭や小さなオフィスのような環境では、X サーバと
	    X クライアントは通常同じコンピュータ上で動いています。
	    X サーバを非力なコンピュータで動かし、
	    X アプリケーションをより高性能なマシンで動かすことも可能です。
	    この場合、
	    X のクライアントとサーバの通信はネットワーク越しに行なわれます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ウィンドウマネージャ</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">X はスクリーン上でウィンドウがどのように見えるべきか、
	    マウスでそれらをどうやって動かすか、
	    ウィンドウ間を移動するのにどういうキーストロークを使うべきか、
	    各ウィンドウのタイトルバーはどのように見えるべきか、
	    クローズボタンを持つべきかどうか、
	    といったことは規定しません。そのかわりに、X
	    ではそういったことを <quote xmlns:xlink="http://www.w3.org/1999/xlink">ウィンドウマネージャ</quote>
	    と呼ばれるアプリケーションに任せます。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://xwinman.org/">ウィンドウマネージャはたくさん</link>
	    あります。
	    これらのウィンドウマネージャの見た目や使い勝手はそれぞれ異なっています。
	    バーチャルデスクトップをサポートしているものもありますし、
	    デスクトップを操作するキーストロークをカスタマイズできたり、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">スタート</quote>
	    ボタンやそれに類するものを持っているものもあります。
	    テーマに対応しており、
	    デスクトップの見た目や使い勝手を完全に変えられるものもあります。
	    ウィンドウマネージャは Ports Collection の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-wm</filename>	カテゴリに用意されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのウィンドウマネージャは異なる設定機構を備えています。
	    手で設定ファイルを編集しなければならないものや、
	    設定作業のほとんどを GUI ツールで行うことができるものもあります。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップ環境</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> や
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> は、デスクトップ環境です。
	    これらは、共通のデスクトップのタスクを実行するための完全なアプリケーションスイートを含んでいます。
	    オフィススイート、ウェブブラウザやゲームを含んでいるものもあります。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">フォーカスポリシ</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ウィンドウマネージャは、
	    マウスのフォーカスポリシに責任を持ちます。
	    このポリシは、どのウィンドウがアクティブにキーストロークを
	    受け付けるようにするための方法を提供し、
	    そして、どのウィンドウがアクティブなのかを示します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">よく知られているフォーカスポリシは
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">click-to-focus</quote> と呼ばれるものです。
	    このポリシは、
	    あるウィンドウ内でマウスをクリックすればそのウィンドウがアクティブになる、
	    というものです。
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">focus-follows-mouse</quote> ポリシでは、
	    マウスポインタの下にいるウィンドウがフォーカスされるというものです。
	    フォーカスを変えるには他のウィンドウにマウスポインタを動かすだけです。
	    マウスがルートウィンドウに移動した時には、
	    このウィンドウがフォーカスされます。
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">sloppy-focus</quote> モデルでは、
	    マウスがルートウィンドウに移動した時には、
	    直前に使われていたウィンドウがフォーカスされています。
	    sloppy-focus では、
	    ポインタが別のウィンドウに移った時のみフォーカスが変わり、
	    現在のウィンドウから出ただけでは変わりません。
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">click-to-focus</quote> ポリシでは、
	    マウスクリックによりアクティブなウィンドウが選択されます。
	    ウィンドウは前面に表示され、他のすべてのウィンドウの前にきます。
	    ポインタが別のウィンドウ上に移動した時でも、
	    すべてのキーストロークがこのウィンドウに届きます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのウィンドウマネージャは、
	    それぞれのフォーカスポリシに対応しています。
	    すべてのものは click-to-focus をサポートしていますし、
	    多くのものは他の方法もサポートしています。
	    どのフォーカスモデルを利用可能かどうかについては、
	    ウィンドウマネージャのドキュメントをご覧ください。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ウィジェット</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ウィジェットはクリック可能であったり、
	    他の方法で操作可能なすべてのユーザインタフェース用アイテムを指す用語です。
	    ボタンやチェックボックス、ラジオボタン、アイコン、リスト、などがそうです。
	    ウィジェットツールキットはグラフィカルアプリケーションを作成するために使われます。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> で使われている Qt や
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> プロジェクトで使われている GTK+
	    といった有名なウィジェットセットがあります。
	    そのため、アプリケーションのルックアンドフィールは、
	    アプリケーションを作成するのに使われたウィジェットツールキットに依存し、
	    異なります。</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x-install">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">X11 のインストール</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における X11 の実装は、<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> です。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> は X.Org Foundation
      がリリースしている X Window System のオープンソースな実装です。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> は
      <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">XFree86</trademark> 4.4RC2</application>
      と X11R6.6 のコードを元にしています。
      現在 FreeBSD Ports Collection で利用可能な
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> のバージョンは
      7.7 です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection から <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      をビルドしインストールするには、以下のように入力します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/x11/xorg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> をすべてビルドするには、
	少なくとも 4 GB の空き容量が必要です。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">package から直接 X11 をインストールすることもできます。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ツールで扱われるバイナリパッケージが
      X11 についても提供されています。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のリモート取得機能を利用する時は、
      package のバージョンは外してください。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      は自動的にそのアプリケーションの最新版を取得します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ですから、<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      の package を取得してインストールするには、
      次のように入力します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r xorg</userinput></screen>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例では、サーバ、クライアント、フォントなどを含んだ
	X11 ディストリビューション全体をインストールします。
	分割された X11 のパッケージや ports も利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最小の構成で X11 をインストールをするには、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/xorg-minimal</package>
	をインストールしてください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章の残りでは、X11 をどのように設定すればよいか、
      また生産性の高いデスクトップ環境をどのように設定するかについて解説します。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x-config">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">X11 の設定</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Christopher</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Shumway</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">X11</primary></indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 は、ほとんどの機器を自動で設定します。
	古かったり、一般的ではないような機器を使う場合には、設定を始める前に、
	以下のハードウェア情報を集めておくと助けになるでしょう。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">モニタ同期周波数</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオカードのチップセット</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオカードのメモリ</para>
	</listitem>
      </itemizedlist>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">水平同期周波数</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">水平走査レート</primary>
	<see xmlns:xlink="http://www.w3.org/1999/xlink">水平同期周波数</see>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">リフレッシュレート</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">垂直同期周波数</primary>
	<see xmlns:xlink="http://www.w3.org/1999/xlink">リフレッシュレート</see>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">垂直走査レート</primary>
	<see xmlns:xlink="http://www.w3.org/1999/xlink">リフレッシュレート</see>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画面の解像度とリフレッシュレートは、
	モニタの水平および垂直同期周波数により決定されます。
	ほとんどすべてのモニタは、これらの値を自動検出します。
	これらの値を自動検出しないモニタもありますが、
	こういった仕様は、付属のマニュアルや、
	製造元のウェブサイトから取得できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオカードのチップセットも自動検出され、
	ビデオドライバの選択に使われます。
	正常に認識されない時のために、
	どのチップセットが使われているかを知っておくとよいでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオカードのメモリは、
	グラフィックアダプタがどの解像度とどの色数で動くことができるかを決めます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">X11 の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> は、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">HAL</acronym> を用いてキーボードやマウスを自動認識します。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/xorg</package> の依存として、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/hal</package> および
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/dbus</package> port
	がインストールされますが、以下のようなエントリを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルに追加し、
	有効にする必要があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hald_enable="YES"
dbus_enable="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのサービスは、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> の設定や起動が行われる前に
	(手動や再起動によって) 起動している必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> は、設定をすることなく</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">startx</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">と入力するだけで起動します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ある種のハードウェアは、自動設定で動作しなかったり、
	期待したような設定が行われないかもしれません。
	そのような場合には、手動で設定する必要があります。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> および
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application> などのデスクトップ環境では、
	  解像度などのスクリーンパラメータを簡単に設定できるツールがあります。
	  したがって、デフォルトの設定が満足するようなものではない場合でも、
	  これらのデスクトップ環境をインストールすることを考えているのであれば、
	  デスクトップ環境をインストールして、
	  スクリーン設定ツールを利用してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 の設定は複数の段階を経て行います。
	まずは初期設定ファイルを作りましょう。
	スーパーユーザになって次のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">Xorg -configure</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/root</filename>
	ディレクトリに <filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf.new</filename>
	という X11 の設定ファイルの雛形が生成されます
	(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> か直接ログインのどちらを利用したかが、受け継がれる
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">$HOME</envar> 環境変数に影響します)。
	X11 プログラムはシステム上のグラフィックハードウェアを検出し、
	そのハードウェア用の適切なドライバを読み込む設定ファイルを作ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のステップは、作成した設定ファイルで
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	がそのグラフィックハードウェアで動くことを確認することです。
	以下を実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">Xorg -config xorg.conf.new -retro</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">黒とグレーのグリッドと
	X のマウスポインタが現われればその設定は成功です。
	テストを終了するには、コマンドを実行した仮想コンソールに
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
          <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></keycap>
        </keycombo> (1 番目の仮想コンソールへは <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F1</keycap>)
	と入力して切り替え、
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap>
	</keycombo> と入力してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Backspace</keycap>
	  </keycombo> キーの組み合わせでも
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> を終了できます。
	  このキー操作を利用する場合には、
	  X 端末エミュレータで以下のコマンドを入力してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setxkbmap -option terminate:ctrl_alt_bksp</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">または、<application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application> 用のキーボード設定ファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-input.fdi</filename> を作成して、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/hal/fdi/policy</filename>
	  ディレクトリに保存してください。
	  このファイルには以下を含める必要があります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;
&lt;deviceinfo version="0.2"&gt;
  &lt;device&gt;
    &lt;match key="info.capabilities" contains="input.keyboard"&gt;
	  &lt;merge key="input.x11_options.XkbOptions" type="string"&gt;terminate:ctrl_alt_bksp&lt;/merge&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application>
	  がこのファイルを読み込むように、
	  コンピュータを再起動してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf.new</filename> の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ServerLayout</literal> もしくは <literal xmlns:xlink="http://www.w3.org/1999/xlink">ServerFlags</literal>
	  セクションに、以下の行を追加する必要もあるでしょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Option	"DontZap"	"off"</programlisting>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしマウスが動作しなければ、
	先へ進む前にマウスの設定を行う必要があります。
	FreeBSD インストールの章の <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mouse"/> を参照してください。
	さらに、
	最近の <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> では、デバイスの自動認識のため、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf</filename> の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">InputDevice</literal> セクションは無視されます。
	古い設定の記述を利用するには、
	以下の行をファイルの <literal xmlns:xlink="http://www.w3.org/1999/xlink">ServerLayout</literal> もしくは、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ServerFlags</literal> セクションに追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Option "AutoAddDevices" "false"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、以前のバージョンのように、入力デバイスを
	(キーボードレイアウトの変更のように)
	必要なオプションを用いて設定できるようになります。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">すでに説明したように、デフォルトで
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application>
	  デーモンがキーボードを自動的に認識します。
	  キーボードレイアウトやモデルを正しく認識しない場合でも、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> もしくは
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application>
	  のようなデスクトップ環境が、
	  キーボードの設定ツールを提供している可能性があります。
	  しかしながら、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xorg"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setxkbmap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ユーティリティや
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application> の設定を利用することで、
	  キーボードのプロパティを直接設定できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、フランス語のレイアウトの PC 102
	  キーボードを使いたい場合には、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application> のキーボード設定ファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">x11-input.fdi</filename> を作成し、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/hal/fdi/policy</filename>
	  ディレクトリに保存してください。
	  このファイルは以下を含んでいる必要があります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;
&lt;deviceinfo version="0.2"&gt;
  &lt;device&gt;
    &lt;match key="info.capabilities" contains="input.keyboard"&gt;
	  &lt;merge key="input.x11_options.XkbModel" type="string"&gt;pc102&lt;/merge&gt;
	  &lt;merge key="input.x11_options.XkbLayout" type="string"&gt;fr&lt;/merge&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルがすでに存在する場合には、
	  キーボードの設定に関する部分をただ単にコピーし、
	  ファイルに追加してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">hald</application>
	  がこのファイルを読み込むように、
	  コンピュータを再起動してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">X 端末やスクリプトから以下のコマンドラインを実行することでも、
	  同様に設定できます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setxkbmap -model pc102 -layout fr</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/X11/xkb/rules/base.lst</filename>
	  ファイルは、利用可能なキーボード、レイアウトおよびオプションの一覧です。</para>
      </note>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">X11 のチューニング</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf.new</filename>
	を好みに合うように調整します。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">emacs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ee</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	のようなテキストエディタでファイルを開いてください。
	モニタが古い場合や、通常とは異なるモデルでは、
	同期周波数の自動認識に対応していないので、
	これらの値を <filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf.new</filename> の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">"Monitor"</literal>
	セクションに次のように書き加えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
	Section "Monitor"
        Identifier   "Monitor0"
        VendorName   "Monitor Vendor"
        ModelName    "Monitor Model"
        HorizSync    30-107
        VertRefresh  48-120
	EndSection
      </programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのモニタは同期周波数の自動認識に対応しているので、
	これらの値を手動で入力する必要はありません。
	自動認識に対応していないモニタでは、
	ダメージの可能性を避けるため、
	メーカーが提供している値のみを入力してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">X はモニタが対応していれば DPMS (Energy Star)
	機能を使うことができます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xset</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> プログラムでタイムアウトをコントロールしたり、
	強制的にスタンバイ、サスペンドや電源オフにすることができます。
	モニタの DPMS 機能を有効にしたい場合は、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">"Monitor"</literal>
	セクションに次の行を加えてください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Option       "DPMS"</programlisting>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf</filename></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf.new</filename>
	はエディタで開いたままにしておき、
	デフォルトの解像度と色数を好みで選びましょう。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">"Screen"</literal>
	セクションに以下のように書きます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
        DefaultDepth 24
        SubSection "Display"
                Viewport  0 0
                Depth     24
                Modes     "1024x768"
        EndSubSection
EndSection</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">DefaultDepth</literal> というキーワードは
	実行時のデフォルトの色数について記述するためのものです。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xorg"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のコマンドラインスイッチ <option xmlns:xlink="http://www.w3.org/1999/xlink">-depth</option>
	が使用された場合はそちらが優先されます。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Modes</literal> というキーワードは、
	与えられた色数におけるデフォルトの解像度を記述しておくためのものです。
	ターゲットのシステムのグラフィックハードウェアによって定義されている、
	VESA スタンダードモードのみがサポートされていることに注意してください。
	上の例ではデフォルトの色数はピクセルあたり 24 ビットであり、
	この色数での解像度は 1024 ピクセル× 768 ピクセルです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、設定ファイルを保存し、
	上の例にあるようにテストしてみてください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティングの過程で手助けするツールのひとつに
	  X11 のログファイルがあります。これには、
	  X11 サーバが検知したデバイスそれぞれについての情報があります。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> のログファイル名は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/Xorg.0.log</filename>
	  という形式です。実際のログファイル名は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Xorg.0.log</filename> から
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">Xorg.8.log</filename> のように変わります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてうまくいったなら、設定ファイルを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xorg"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	が見つけることができる共通の場所に置きます。
	これは、通常は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/X11/xorg.conf</filename> や
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/X11/xorg.conf</filename> です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp xorg.conf.new /etc/X11/xorg.conf</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで X11 の設定は完了です。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">startx</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ユーティリティで
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> を起動できます。また、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xdm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使って X11 サーバを起動することもできます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">高度な設定</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> <literal xmlns:xlink="http://www.w3.org/1999/xlink">i810</literal>
	  グラフィックチップセットの設定</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">Intel i810 graphic chipset</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> i810 統合チップセットを設定するには、
	  X11 にカードを制御させるために
	  AGP プログラミングインタフェースである
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">agpgart</filename> が必要になります。
	  詳しくは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">agp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	  ドライバのマニュアルページをご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このドライバを用いることで、
	  他のグラフィックカードと同様に設定を行うことができるようになります。
	  カーネルに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">agp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバが組み込まれていないシステムでは、
	  このモジュールを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  を使って読み込もうとしても動作しないことに注意してください。
	  このドライバは、
	  起動時にカーネル内に存在するようにカーネル内部に組み込むか、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	  を使わなければなりません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ワイドスクリーンフラットパネルの追加</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">ワイドスクリーンフラットパネルコンフィグレーション</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、設定に関する幾分高度な知識を必要とします。
	  これまでに述べた標準ツールを使って設定に失敗する場合は、
	  ログファイルを参照してください。
	  ログファイルには、
	  設定のために有用な情報が十分含まれています。
	  テキストエディタを使用する必要があるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">現在のワイドスクリーン
	  (WSXGA, WSXGA+, WUXGA, WXGA, WXGA+ など) は、
	  16:10 や 10:9 形式、または
	  (問題を含む可能性のある) 他のアスペクト比に対応しています。
	  以下は、16:10 アスペクト比のスクリーン解像度の例です。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">2560x1600</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">1920x1200</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">1680x1050</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">1440x900</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">1280x800</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらの解像度のひとつを以下のように
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">"Screen" セクション</literal> の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">Mode</literal> に追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Section "Screen"
Identifier "Screen0"
Device     "Card0"
Monitor    "Monitor0"
DefaultDepth 24
SubSection "Display"
	Viewport  0 0
	Depth     24
	Modes     "1680x1050"
EndSubSection
EndSection</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> は、I2C/DDC
	  を通してワイドスクリーンの解像度に関する情報を取得できるので、
	  モニタの周波数や解像度の範囲を把握しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、これらの <literal xmlns:xlink="http://www.w3.org/1999/xlink">ModeLines</literal>
	  についての情報がドライバに存在しないのであれば、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	  にヒントを与えなけれならないでしょう。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ModeLine</literal>
	  を手動で設定するのに十分な情報を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/Xorg.0.log</filename>
	  から得ることができます。
	  以下のような情報を探してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">(II) MGA(0): Supported additional Video Mode:
(II) MGA(0): clock: 146.2 MHz   Image Size:  433 x 271 mm
(II) MGA(0): h_active: 1680  h_sync: 1784  h_sync_end 1960 h_blank_end 2240 h_border: 0
(II) MGA(0): v_active: 1050  v_sync: 1053  v_sync_end 1059 v_blanking: 1089 v_border: 0
(II) MGA(0): Ranges: V min: 48  V max: 85 Hz, H min: 30  H max: 94 kHz, PixClock max 170 MHz</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは EDID と呼ばれる情報です。
	  この情報を用いて <literal xmlns:xlink="http://www.w3.org/1999/xlink">ModeLine</literal>
	  を作成するには、
	  正しい順番に数字を入力するだけです。 </para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> ModeLine &lt;name&gt; &lt;clock&gt; &lt;4 horiz. timings&gt; &lt;4 vert. timings&gt;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この例では "Monitor" セクションの ModeLine
	  は以下のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Section "Monitor"
Identifier      "Monitor1"
VendorName      "Bigname"
ModelName       "BestModel"
ModeLine        "1680x1050" 146.2 1680 1784 1960 2240 1050 1053 1059 1089
Option          "DPMS"
EndSection</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以上の簡単な編集作業が終わったら、
	  新しいワイドスクリーンモニタ上で X が動作するでしょう。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x-fonts">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">X11 でのフォントの使用</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Murray</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Stokely</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="type1">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Type1 フォント</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 に付いてくるデフォルトのフォントは、
	通常のデスクトップパブリッシングアプリケーションにとっては理想的とは言えない程度のものです。
	文字を大きくするとジャギーになりプロフェッショナルとは言えないようなものになりますし、
	小さなフォントは頭が悪そうに見えます。
	しかし、世の中には質の高い Type1 (<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>)
	フォントがいくつかあり、
	X11 ではそれらを簡単に利用することができます。
	例えば、URW フォントコレクション
	(<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts/urwfonts</package>)
	には高品質の Type1 フォント
	(<trademark xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Times Roman</trademark>,
	<trademark xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Helvetica</trademark>,
	<trademark xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Palatino</trademark> など)
	が含まれています。freefont コレクション
	(<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts/freefonts</package>)
	にはもっとたくさんのフォントが含まれていますが、
	それらは <application xmlns:xlink="http://www.w3.org/1999/xlink">Gimp</application>
	のようなグラフィックソフトウェアで使用するためのものであり、
	スクリーンフォントとしては十分ではありません。さらに、X11
	は簡単に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントを使うように設定することも可能です。
	詳しくは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">X</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">7</manvolnum></citerefentry> のマニュアルページか
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="truetype"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントの節</link>
	を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の Type1 フォントコレクションを Ports Collection
	から入れる場合には次のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/x11-fonts/urwfonts</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">freefont や他のコレクションでも同じようにします。
	X サーバがこれらのフォントを検出できるようにするには
	X サーバ設定ファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/X11/xorg.conf</filename>)
	の適切な場所に次のような行を加えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">FontPath "/usr/local/lib/X11/fonts/URW/"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">別の方法としては、
	X のセッション中に次のようなコマンドラインを実行します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp+ /usr/local/lib/X11/fonts/URW</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp rehash</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは動くのですが、X
	のセッションが終了すると消えてしまいます。
	消えないようにするには X の起動時に読み込まれるファイル
	(通常の <command xmlns:xlink="http://www.w3.org/1999/xlink">startx</command> セッションの場合は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.xinitrc</filename>, <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	のようなグラフィカルなログインマネージャを通してログインする時は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.xsession</filename>) に加えておきます。
	三番目の方法は新しい
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/fonts/local.conf</filename>
	ファイルを使うことです。
	これに関しては <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="antialias">アンチエイリアス</link>
	節をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="truetype">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォント</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">TrueType フォント</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">フォント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">TrueType</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> には、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントのレンダリング機能が組み込まれています。
	この機能を実現するために 2 つの異なるモジュールがあります。
	ここでは、freetype
	の方が他のフォントレンダリングバックエンドと整合性が高いので、
	このモジュールを使うことにします。
	freetype モジュールを使うためには
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/X11/xorg.conf</filename> ファイルの
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">"Module"</literal>
	セクションに以下の行を追加するだけです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Load  "freetype"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、まずは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォント用のディレクトリ
	(例えば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/X11/fonts/TrueType</filename>)
	を作り、そこに <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントをすべて放り込みましょう。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Macintosh</trademark> の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark>
	フォントは、そのままでは使うことができませんので注意してください。
	X11 で使うには <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
	用のフォーマットでなければなりません。
	ファイルを置いたら <application xmlns:xlink="http://www.w3.org/1999/xlink">ttmkfdir</application> を使って
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">fonts.dir</filename> ファイルを作り、
	X のフォントレンダラが新しいファイルがイントールされたことを分かるようにしてください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ttmkfdir</command> は FreeBSD Ports Collection の
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts/ttmkfdir</package>
	からインストールできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/local/lib/X11/fonts/TrueType</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ttmkfdir -o fonts.dir</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark>
	フォントのディレクトリをフォントパスに追加します。
	上の <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="type1">Type1</link>
	フォントの場合と同じように、</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp+ /usr/local/lib/X11/fonts/TrueType</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp rehash</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">とするか、もしくは <filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf</filename>
	ファイルに <literal xmlns:xlink="http://www.w3.org/1999/xlink">FontPath</literal> 行を追加します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで終わりです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Gimp</application> や
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	といったすべての X アプリケーションから
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントを使うことができます。
	(高解像度なディスプレイで見るウェブページ上のテキストみたいな)
	とても小さなフォントや
	(<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">StarOffice</trademark></application> にあるような)
	非常に大きなフォントもかなり綺麗に見えるようになることでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="antialias">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">フォントのアンチエイリアス</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Joe Marcus</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Clarke</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">更新 : </contrib></author>
	</authorgroup>
      </info>

      

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">フォントのアンチエイリアス</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">フォント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">アンチエイリアス</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/X11/fonts/</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.fonts/</filename> にあるすべての X11 のフォントが、Xft
	に対応しているアプリケーションで自動的にアンチエイリアス表示できるようになりました。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> および
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application>
	のような最新のアプリケーションは、Xft に対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どのフォントがアンチエイリアスされるかを制御するため、
	もしくはアンチエイリアスの特性を設定するために、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/fonts/local.conf</filename>
	ファイルを作成 (すでに存在しているのなら編集) します。
	多くの Xft フォントシステムの高度な機能をこのファイルを使って調整できます。
	この節ではいくつか簡単なところだけを紹介します。
	詳しくは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xorg"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fonts-conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">XML</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルは XML 形式でなければなりません。
	大文字小文字の区別に注意を払い、
	すべてのタグが正しく閉じられているか確認してください。
	ファイルは一般的な XML ヘッダで始まり、DOCTYPE 定義と
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;fontconfig&gt;</literal>
	タグがその後にきます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
        &lt;?xml version="1.0"?&gt;
        &lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;
        &lt;fontconfig&gt;
      </programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すでに説明したように、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/X11/fonts/</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.fonts/</filename> にあるすべてのフォントは
	Xft 対応のアプリケーションで利用できます。
	これら 2 つ以外に別のディレクトリを追加したいのなら、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/fonts/local.conf</filename>
	に以下のような行を追加します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&lt;dir&gt;/path/to/my/fonts&lt;/dir&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいフォント、
	そして特に新しいフォントディレクトリを追加したら、
	以下のコマンドを実行してフォントキャッシュを再構築してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fc-cache -f</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アンチエイリアスをかけることによって境界が少しぼやけ、
	そのためにとても小さなテキストはさらに読みやすくなり、
	大きなフォントでは <quote xmlns:xlink="http://www.w3.org/1999/xlink">ギザギザ</quote> が消えるのです。
	しかし、普通のテキストにかけた場合には目が疲れてしまうこともあります。
	14 ポイント以下のサイズのフォントについて、
	アンチエイリアスをかけないようにするには次の行を加えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">        &lt;match target="font"&gt;
            &lt;test name="size" compare="less"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit name="antialias" mode="assign"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="font"&gt;
            &lt;test name="pixelsize" compare="less" qual="any"&gt;
                &lt;double&gt;14&lt;/double&gt;
            &lt;/test&gt;
            &lt;edit mode="assign" name="antialias"&gt;
                &lt;bool&gt;false&lt;/bool&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">フォント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">スペーシング</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの等幅フォントは、
	アンチエイリアスをかけるとスペーシングがうまくいかなくなる場合があります。
	特に <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> でその傾向があるようです。
	解決策の一つとして、そういったフォントのスペーシングを
	100 に設定する方法があります。
	そうするためには次の行を加えてください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;fixed&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;console&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(これは固定サイズのフォントに <literal xmlns:xlink="http://www.w3.org/1999/xlink">"mono"</literal>
	という一般的な別名をつけます) そして以下を追加します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;mono&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="spacing" mode="assign"&gt;
                &lt;int&gt;100&lt;/int&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Helvetica の様なある種のフォントは、
	アンチエイリアスすると問題が起こるでしょう。
	たいてい、フォントが縦に半分に切られて表示されます。
	最悪の場合、アプリケーションがクラッシュします。
	これを回避するには、以下を <filename xmlns:xlink="http://www.w3.org/1999/xlink">local.conf</filename>
	に追加します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">        &lt;match target="pattern" name="family"&gt;
            &lt;test qual="any" name="family"&gt;
                &lt;string&gt;Helvetica&lt;/string&gt;
            &lt;/test&gt;
            &lt;edit name="family" mode="assign"&gt;
                &lt;string&gt;sans-serif&lt;/string&gt;
            &lt;/edit&gt;
        &lt;/match&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">local.conf</filename> の編集を終えたら、
	ファイルの末尾が <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;/fontconfig&gt;</literal>
	タグで終わるようにしてください。
	これを行わなければ、変更は無視されるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、ユーザは自分だけの設定を各自の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.fonts.conf</filename> ファイルに追加できます。
	これを行うためには、それぞれのユーザが単に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.fonts.conf</filename> を作成するだけです。
	このファイルも XML 形式でなければなりません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">LCD スクリーン</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">フォント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">LCD スクリーン</secondary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に一つ。LCD
	スクリーンではサブピクセルサンプリングが必要な場合があります。
	これは、基本的には (水平方向に分かれている) 赤、緑、
	青の各コンポーネントを別々に扱うことによって水平方向の解像度を良くするというもので、
	劇的な結果が得られます。
	これを有効にするには <filename xmlns:xlink="http://www.w3.org/1999/xlink">local.conf</filename>
	ファイルに次の行を加えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
        &lt;match target="font"&gt;
            &lt;test qual="all" name="rgba"&gt;
                &lt;const&gt;unknown&lt;/const&gt;
            &lt;/test&gt;
            &lt;edit name="rgba" mode="assign"&gt;
                &lt;const&gt;rgb&lt;/const&gt;
            &lt;/edit&gt;
        &lt;/match&gt;
      </programlisting>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスプレイの種類にもよりますが、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rgb</literal> ではなく
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">bgr</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">vrgb</literal>、もしくは
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">vbgr</literal> の場合もあるので、
	  試してみて最も良いものを使ってください。</para>
      </note>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x-xdm">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">X ディスプレイマネージャ</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Seth</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kingsley</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概要</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">X ディスプレイマネージャ</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">X ディスプレイマネージャ (<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>)
	は X Window System のオプショナルな一部分であり、
	ログインセッションの管理に用います。
	最低限の機能を実装した <quote xmlns:xlink="http://www.w3.org/1999/xlink">X 端末</quote> やデスクトップ、
	大規模なネットワークディスプレイサーバといった場面ではこれが有用です。
	X Window System はネットワークとプロトコルから独立しているため、
	ネットワークで繋がれた
	X のクライアントとサーバを動かすための設定はかなり幅が広くなります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	はどのディスプレイサーバに接続するかを選択でき、
	ログイン名とパスワードの組み合わせなど認証情報を入力できるグラフィカルなインタフェースを提供しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> がユーザに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	(詳しくは <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-config"/> をご覧ください)
	と同じ機能を提供することを考えてみてください。
	つまり、ディスプレイ上でシステムへのログインができ、
	ユーザの代わりにセッションマネージャ
	(通常は X のウィンドウマネージャ) を起動することができるのです。
	それから <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> は、
	ユーザが作業を終えてディスプレイからログアウトする合図を送ってきてプログラムが終了するのを待ちます。
	この時点で、<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	は次にログインするユーザのためにログイン画面や
	chooser 画面を表示できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">XDM の使用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> を使用するには、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/xdm</package>
	port をインストールしてください
	(最近の <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> のバージョンでは、
	デフォルトでインストールされません)。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> のデーモンプログラムは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/xdm</filename> にあります。
	このプログラムは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	になればいつでも起動することができ、
	ローカルマシン上のディスプレイの管理を始めます。
	マシンをブートする際、いつも <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	を起動したい場合には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	にそのためのエントリを加えておくのが簡単です。
	このファイルのフォーマットや使用方法についての詳細は
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-etcttys"/> を参照してください。
	デフォルトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	ファイルには仮想端末上で <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	デーモンを起動するための行:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ttyv8	"/usr/local/bin/xdm -nodaemon"	xterm	off secure</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">があります。
	このエントリはデフォルトでは無効になっており、有効にするには
	5 番目のカラムを <literal xmlns:xlink="http://www.w3.org/1999/xlink">off</literal> から
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">on</literal> にし、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-hup"/>
	の指示に従って <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を再起動します。
	最初のカラムはこのプログラムが管理する端末の名前で、この場合
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyv8</literal> になります。
	つまり、<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> は
	9 番目の仮想端末で起動されるということです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">XDM の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> の設定用ディレクトリは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/X11/xdm</filename> です。
	このディレクトリには <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	の振る舞いや見た目を変更するために用いられるいくつかのファイルがあります。
	だいたいは以下のような感じです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Xaccess</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">クライアント認証のルールセット</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Xresources</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの X リソース</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Xservers</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">管理すべきリモートやローカルのディスプレイのリスト</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Xsession</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのログイン時のセッションスクリプト</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">Xsetup_</filename>*</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ログインインタフェースの前にアプリケーションを起動するためのスクリプト</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xdm-config</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">このマシンで動いているすべてのディスプレイのグローバルな設定</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xdm-errors</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">サーバプログラムによって生成されるエラー</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">xdm-pid</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">現在動いている XDM のプロセス ID</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このディレクトリにはまた、<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	の動作中にデスクトップをセットアップするために用いられるスクリプトやプログラムがいくつかあります。
	それぞれのファイルの目的を簡単に解説しましょう。
	正確な文法や使い方は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xdm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に記述されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの設定では、単純な四角のログインウィンドウがあり、
	そこにはマシンのホスト名が大きなフォントで表示され、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Login:</quote> と <quote xmlns:xlink="http://www.w3.org/1999/xlink">Password:</quote>
	のプロンプトがその下に表示されています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	スクリーンの見ためや使い勝手を変えるにはここから始めるのがいいでしょう。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xaccess</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  がコントロールするディスプレイに接続するためのプロトコルは
	  X Display Manager Connection Protocol (XDMCP) と呼ばれます。
	  このファイルにはリモートのマシンからの
	  XDMCP 接続をコントロールするためのルールセットが書かれます。
	  これは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdm-config</filename>
	  を変更してリモートからのコネクションを待ち受けるようにしない限り無視されます。
	  デフォルトでは、どのクライアントからの接続も拒否します。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xresources</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">これはディスプレイの chooser とログインスクリーン用の
	  application-defaults ファイルです。
	  このファイルでログインプログラムの見た目を変更することができます。
	  フォーマットは X11 のドキュメントで記述されている
	  app-defaults ファイルのものと同じです。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xservers</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは、chooser
	  が選択肢として提供するリモートのディスプレイの一覧です。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xsession</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  でログインした後に実行されるデフォルトのセッションスクリプトです。
	  通常、各ユーザは <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.xsession</filename>
	  というカスタマイズしたセッションスクリプトを持っており、
	  こちらが優先されます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xsetup_*</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらは chooser
	  やログインインタフェースが表示される前に自動的に実行されます。
	  それぞれのディスプレイに対して、<filename xmlns:xlink="http://www.w3.org/1999/xlink">Xsetup_</filename>
	  に続けてローカルのディスプレイ番号を付けた
	  (たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">Xsetup_0</filename>)
	  名前のついたスクリプトがあります。
	  典型的な使い方は <command xmlns:xlink="http://www.w3.org/1999/xlink">xconsole</command>
	  のようなバックグラウンドで動かすプログラムを一つか二つ起動することです。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">xdm-config</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">app-defaults の書式で書かれた、
	  このインストレーションで管理されるすべてのディスプレイに適用される設定を保持しています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">xdm-errors</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルには <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  が起動しようとしている X サーバからの出力が書き出されます。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  が起動しようとしているディスプレイがなんらかの理由でハングした場合、
	  このファイルのエラーメッセージを見てください。
	  そういったメッセージは各ユーザの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.xsession-errors</filename>
	  にもセッション毎に書き出されます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークディスプレイサーバの起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるディスプレイサーバに他のクライアントが接続することができるようにするために、
	アクセスコントロールのルールを編集し、
	コネクションリスナを有効にする必要があります。
	デフォルトでは保守的な設定になっています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	がそういったコネクションを待ち受けるようにするためには
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">xdm-config</filename>
	にある次の行をコメントアウトします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">! SECURITY: do not listen for XDMCP or Chooser requests
! Comment out this line if you want to manage X terminals with xdm
DisplayManager.requestPort:     0</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、<application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application> を再起動します。
	app-defaults ファイルにおけるコメントは <quote xmlns:xlink="http://www.w3.org/1999/xlink">!</quote>
	であっていつものような <quote xmlns:xlink="http://www.w3.org/1999/xlink">#</quote>
	ではないことに注意してください。
	アクセス制限はもっと厳しくしてもよいかもしれません。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Xaccess</filename>
	にある例を参考にしたり、詳細についてオンラインマニュアル
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">xdm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">XDM の代わりになるもの</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	に代わるものがいくつかあります。
	一つは <application xmlns:xlink="http://www.w3.org/1999/xlink">KDM</application>
	(<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> に付属しています)
	はその一つであり、この章の後ろで解説します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KDM</application> ディスプレイマネージャは、
	ログイン時にウィンドウマネージャを選ぶことができるのに加え、
	見た目もかなり綺麗にしてくれます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップ環境</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Valentino</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Vaschetto</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	<!-- June 2001 -->
      </authorgroup>
    </info>

    

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションでは、FreeBSD 上の X
      で利用可能ないくつかのデスクトップ環境について解説します。
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップ環境</quote> とは、
      単なるウィンドウマネージャから <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
      や <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
      といったような完全なデスクトップアプリケーションスイートまでカバーします。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-gnome">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-gnome-about">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">GNOME について</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  はユーザフレンドリなデスクトップ環境で、
	  ユーザはコンピュータを簡単に使ったり設定したりできるようになります。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> にはパネル
	  (アプリケーションを起動したり状態を表示したりするもの)、
	  デスクトップ (データやアプリケーションが置かれる場所)、
	  標準的なデスクトップツールやアプリケーションのセット、
	  そしてアプリケーションが互いにうまくやり取りできるような仕組みが含まれています。
	  他の OS や環境に慣れている人でも
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  の提供するグラフィック環境であれば心地よく感じるでしょう。
	  FreeBSD 上の <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  に関するもっと詳しい情報は、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/gnome">FreeBSD GNOME
	    Project</link> のウェブサイトで見ることができます。
	  ウェブサイトには、<application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  のインストール、設定、管理に関する非常に分かりやすい FAQ
	  も用意されています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-gnome-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">GNOME のインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">package や Ports Collection
	  を利用してソフトウェアを簡単にインストールできます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> package
	  をネットワークからインストールするには、
	  以下のようにするだけです。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r gnome2</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkgng</application> ユーザは、
	  以下のコマンドを使用してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gnome2</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> をソースから構築する場合、
	  次のように ports ツリーを使いましょう。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/x11/gnome2</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> を適切に動作させるには、
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/proc</filename> ファイルシステムをマウントする必要があります。
          以下を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に追加して、起動中に
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">procfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をマウントするように設定してください。</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">proc           /proc       procfs  rw  0   0</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> がインストールできたら、
	  デフォルトのウィンドウマネージャの代わりに
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> を起動するように
	  X サーバに指示しなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  を起動する最も簡単な方法は、GNOME ディスプレイマネージャ
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GDM</application> を使うことです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GDM</application> は、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  デスクトップの一部としてインストールされますが、
	  デフォルトでは無効になっています。
	  有効にするには、以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	  に追加してください。</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">gdm_enable="YES"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">再起動すると、<application xmlns:xlink="http://www.w3.org/1999/xlink">GDM</application>
	  が自動的に起動します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> のすべてのサービスを、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GDM</application> とともに起動するようにしておくと良いでしょう。
	  このように設定するには、以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	  ファイルに追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">gnome_enable="YES"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xinitrc</filename>
	  という名前のファイルを適切に設定することで、
	  コマンドラインから起動することもできます。
	  自分の <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xinitrc</filename>
	  が既にある場合には、ウィンドウマネージャを起動する行を
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/gnome-session</application>
	  を起動するように変更するだけです。
	  特にこのファイルを用意していない場合には、
	  次のようにすれば十分でしょう。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "/usr/local/bin/gnome-session" &gt; ~/.xinitrc</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、<command xmlns:xlink="http://www.w3.org/1999/xlink">startx</command> と入力すれば
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  デスクトップ環境が起動します。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	    のような古いディスプレイマネージャを使っているなら、
	    この方法ではうまくいきません。その代わり、実行可能な
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xsession</filename> というファイルを作成し、
	    同じコマンドを起動するようにします。
	    そのためには、このファイルを編集してウィンドウマネージャを
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/gnome-session</application>
	    で置き換えます。</para>
	</note>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "#!/bin/sh" &gt; ~/.xsession</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "/usr/local/bin/gnome-session" &gt;&gt; ~/.xsession</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod +x ~/.xsession</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの方法は、
	  ログイン時にウィンドウマネージャを選択できるようにディスプレイマネージャを設定することです。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11-wm-kde-details">KDE
	  の詳細</link>についてのセクションで
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> のディスプレイマネージャである
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDM</application>
	  を使ってどのようにすればいいのかを解説しています。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-kde">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">KDE</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">KDE</primary></indexterm>
      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-kde-about">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">KDE について</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	  は最近の簡単に使えるデスクトップ環境です。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	  によりユーザは以下のようなメリットを亨受します。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">美しい現代風のデスクトップ</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク透過なデスクトップ</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	      デスクトップやそのアプリケーションを使う際に、
	      ヘルプへのアクセスを便利で統一されたものにする統合されたヘルプシステム</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すべての <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	      アプリケーションで統一された見ためや使い勝手</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">標準化されたメニュー、ツールバー、
	      キーバインディング、カラースキームなど</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">国際化: <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> は
	      55 を越える言語で利用可能</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">一元的で、首尾一貫した、ダイアログベースのデスクトップ設定</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">膨大な数の <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	      アプリケーション</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> には
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application>
	  と呼ばれるウェブブラウザも付属しており、これは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	  システム上の他のウェブブラウザの強力な競争相手です。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> の詳細については
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kde.org/">KDE のウェブサイト</link>
	  をご覧ください。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> に関する
	  FreeBSD 特有の情報とリソースについては、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://freebsd.kde.org/">KDE/FreeBSD
	    initiative</link> のウェブサイトをご覧ください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-kde-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">KDE のインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	  や他のデスクトップ環境とまったく同じように、
	  package や Ports Collection から簡単にインストールできます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE 4</application> package
	  をネットワーク越しにインストールするには次のようにします。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r kde4</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  は自動的にアプリケーションの最新版を取得します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkgng</application> ユーザは、
	  以下のコマンドを使用してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install kde4</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	  をソースから構築するには、次のように ports ツリーを使いましょう。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/x11/kde4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">port を最初にインストールするときには、
	  オプションを選択するメニューが表示されます。
	  デフォルトが推奨されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE 4</application> は大きなアプリケーションのため、
	  高速のコンピュータでもコンパイルに長い時間がかかります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> がインストールできたら
	  X サーバに、デフォルトのウィンドウマネージャの代わりにこのアプリケーションを立ち上げるように教えます。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xinitrc</filename>
	  ファイルを次のように編集しましょう。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "exec /usr/local/kde4/bin/startkde" &gt; ~/.xinitrc</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さぁ、これで <command xmlns:xlink="http://www.w3.org/1999/xlink">startx</command> でいつ
	  X Window System を立ち上げても
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	  がデスクトップになります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  のようなディスプレイマネージャを使っている場合、
	  設定は少し異なります。代わりに
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xsession</filename> ファイルを編集しましょう。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDM</application>
	  用の説明はこの章の後のほうにあります。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-kde-details">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">KDE の詳細について</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さぁ、<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	のインストールができました。
	ほとんどのことはヘルプページを見たりいろんなメニューをつつけばわかるでしょう。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> や <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac</trademark> のユーザにも簡単なはずです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	の最も良いリファレンスはオンラインドキュメントです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> には独自のウェブブラウザ
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> が付属していますし、
	膨大な数の便利なアプリケーションや詳しいドキュメントも用意されています。
	このセクションの残りではなんとなく使っているだけでは理解し難い技術的なところを解説します。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-kde-kdm">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">KDE ディスプレイマネージャ</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">KDE</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスプレイマネージャ</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">マルチユーザシステムの管理者であれば、
	  ユーザを迎えるにあたってグラフィカルなログイン画面が欲しいと思うかもしれません。
	  前の章で述べたように
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x-xdm">XDM</link> はそのために使えますが、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	  にはその代わりになる <application xmlns:xlink="http://www.w3.org/1999/xlink">KDM</application>
	  が付いています。
	  見た目がより魅力的で、ログイン時のオプションもたくさんあります。
	  特に (メニューを使って) ログイン後に使うデスクトップ環境
	  (<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> や
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> など)
	  を簡単に選ぶことができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE 4</application> では、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">procfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をマウントする必要があります。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に以下の行を追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">kdm4_enable="YES"</programlisting>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-xfce">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-xfce-about">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xfce について</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application> は
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> で使われている
	  GTK+ ツールキットをベースにしたデスクトップ環境ですが、
	  ずっと軽いので、
	  シンプルで効率的でありながら使いやすく設定が簡単なデスクトップ環境を求める人に向いています。
	  見ためは商用 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> システムが採用している
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">CDE</application>
	  にかなり似ています。<application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application>
	  の機能をいくつか以下に挙げます。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">シンプルで使いやすいデスクトップ</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">マウスのドラッグアンドドロップなどですべての設定が可能</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CDE</application>
	      に似たメインパネルとメニューやアプレット、
	      アプリケーションランチャ</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">統合されたウィンドウマネージャ、ファイルマネージャ、
	      サウンドマネージャと <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	      準拠のモジュールなど</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">(GTK+ なので) テーマをサポート</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">速くて軽くて効率的: 古いマシンや遅いマシン、
	      メモリの限られたマシンに向いています</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application> に関する詳しい情報は
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.xfce.org/">Xfce のウェブサイト</link>
	  で得られます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="x11-wm-xfce-install">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Xfce のインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application>
	  をネットワークからインストールするには、
	  次のように実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg_add -r xfce4</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">pkgng</application> ユーザは、
	  以下のコマンドを使用してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install xfce4</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、Ports Collection
	  を利用してソースからインストールすることも可能です。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/x11-wm/xfce4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストール後、次回 X を起動した時に
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application> が立ち上がるように設定します。
	  次のようにしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "/usr/local/bin/startxfce4" &gt; ~/.xinitrc</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">X を次に起動すると <application xmlns:xlink="http://www.w3.org/1999/xlink">Xfce</application>
	  が立ち上がります。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">XDM</application>
	  のようなディスプレイマネージャを使っている場合には、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11-wm-gnome">GNOME</link>
	  のセクションに書いてあるように
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.xsession</filename> ファイルを作成し、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/startxfce4</filename>
	  を起動するように追加します。
	  または <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11-wm-kde-kdm">KDM</link>
	  のセクションにあるように、
	  ログイン時にディスプレイマネージャからデスクトップ環境を選択できるように設定してください。</para>
      </sect3>
    </sect2>
  </sect1>

</chapter>

  </part>

  <part xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="common-tasks">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">日々の生活</title>

    <partintro xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">第 1 部では基礎的なことがらを説明したので、
	FreeBSD ハンドブックの第 2 部では
	FreeBSD でよく使われる機能について説明します。
	各章の内容は以下のとおりです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ブラウザ、生産的なツール、ドキュメントビューアといった、
	    人気があって便利なデスクトップアプリケーションの紹介</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で利用可能なマルチメディアツールの紹介</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムで特別な機能を有効にするために、
	    カスタムカーネルを構築する手順の説明</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップおよびネットワーク接続両方のプリンタの設定に関する、
	    印刷システムの詳細な説明</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムで Linux アプリケーションを実行する方法</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの章では、読み飛ばしを推奨しているものもあります。
	これについてはそれぞれの章の始めにある概要に書かれています。</para>
    </partintro>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46081
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="desktop">
  <!--
  <chapterinfo>
    <authorgroup>
      <author>
	<firstname>Christophe</firstname>
	<surname>Juniet</surname>
	<contrib>寄稿: </contrib>
      </author>
    </authorgroup>
  </chapterinfo>
-->

  <title xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップアプリケーション</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は性能や安定性によりサーバとして人気がある一方で、
      日々のデスクトップとしての利用にも適しています。
      packages や ports から
      24,000 を超えるアプリケーションを利用できるので、
      さまざまなアプリケーションを動かせるようにカスタマイズしたデスクトップを作り上げることができます。
      この章では、ウェブブラウザ、生産的なソフトウェア、ドキュメントビューア、
      および財務管理ソフトウェアといった、
      数多くのデスクトップアプリケーションのインストール方法について説明します。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">一から構築するのではなく、
	事前に構築されたデスクトップバージョンの FreeBSD
	をお望みのユーザは、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pcbsd.org/">pcbsd.org
	ウェブサイト</link> をご覧ください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章の読者は、以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">package または ports
	  を用いたサードパーティ製ソフトウェアのインストール方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X およびウィンドウマネージャのインストール方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/>)。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">マルチメディア環境を整える方法については
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="multimedia"/> を参照してください。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書は英語で書かれている原文をそのまま邦訳したものです。
	必ずしも各アプリケーションで日本語が扱えるとは限らないことに注意してください。
	日本語に対応したアプリケーションは、Ports Collection の
	japanese ディレクトリにあるかもしれません。</para>
    </note>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-browsers">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ブラウザ</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ブラウザ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">web</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では Web ブラウザは事前にインストールされていません。
      そのかわり、Ports Collection の <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/www.html">www</link>
      カテゴリには数多くの Web ブラウザ が用意されており、
      多くのプログラムを packages からインストールしたり、
      Ports Collection からコンパイルできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> や
      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> デスクトップ環境には、
      それぞれ HTML ブラウザが用意されています。
      これらのデスクトップ環境を設定するための情報については
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11-wm"/> を参照してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">軽量なブラウザには、
      <package xmlns:xlink="http://www.w3.org/1999/xlink">www/dillo2</package>, <package xmlns:xlink="http://www.w3.org/1999/xlink">www/links</package>, および
      <package xmlns:xlink="http://www.w3.org/1999/xlink">www/w3m</package>
      といったものがあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、広く使われている以下の web
      ブラウザのインストール方法について説明します。
      もし、アプリケーションがリソースを大量に消費したり、
      ports からのコンパイルに時間がかかったり、
      他の ports に大きく依存する場合には、そのことについても触れます。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">必要なリソース</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">port からのインストール</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">備考</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">中</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>
	      および地域化されたバージョンを利用できます。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Opera</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> 版を利用できます。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">中</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	    ライブラリを必要とします。</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">中</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> を必要とします。</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> は、
	FreeBSD に完全に対応したオープンソースのブラウザです。
	標準に準拠した HTML 表示エンジン、タブブラウジング、ポップアップブロック、
	拡張性、高い安全性などが特徴です。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> は <application xmlns:xlink="http://www.w3.org/1999/xlink">Mozilla</application>
	のコードベースから派生したブラウザです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最新の <application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> の package
	をインストールするには以下のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install firefox</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> 延長サポート版
	(ESR: Extended Support Release)	を利用したい場合には、
	かわりに以下のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install firefox-esr</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカライズ版は、<package xmlns:xlink="http://www.w3.org/1999/xlink">www/firefox-i18n</package>
	および <package xmlns:xlink="http://www.w3.org/1999/xlink">www/firefox-esr-i18n</package>
	から利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">かわりにソースコードから希望の <application xmlns:xlink="http://www.w3.org/1999/xlink">firefox</application>
	をコンパイルすることもできます。
	この例では <package xmlns:xlink="http://www.w3.org/1999/xlink">www/firefox</package> をビルドしますが、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">firefox</literal> の部分は、
	インストールする ESR やローカライズに置き換えることもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/firefox</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="moz-java-plugin">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Firefox と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> プラグイン</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> をインストールしただけでは、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> には対応していません。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">java/icedtea-web</package> は、
	Java アプレットを実行するための、
	フリーソフトの web ブラウザのプラグインです。
	package からインストールできます。port からコンパイルするには、
	以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/java/icedtea-web</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ports をコンパイルする際のコンフィグレーションオプションは、
	デフォルトのままにしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールしたら、ブラウザを起動し、ロケーションバーに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">about:plugins</literal> と入力して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	インストールされているプラグイン一覧のページが表示されます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark></application>
	プラグインが一覧に追加されているでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プラグインが一覧に追加されていない場合には、
	ユーザごとに以下のコマンドを実行し、ブラウザを再起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /usr/local/lib/IcedTeaPlugin.so \
  $HOME/.mozilla/plugins/</userinput></screen>
    </sect3>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="moz-flash-plugin">

      <title xmlns:xlink="http://www.w3.org/1999/xlink">Firefox と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adobe</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark> プラグイン</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Flash</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 用の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adobe</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark> プラグインは提供されていませんが、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>
	版のプラグインを実行するためのソフトウェア wrapper を利用できます。
	この wrapper は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">RealPlayer</trademark>
	プラグインといった他のブラウザのプラグインにも対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プラグインをインストールして有効にするには、
	以下を実行してください。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">port から <package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">www/nspluginwrapper</package>
	    をインストールしてください。
	    ライセンスの制限のため package は利用できません。
	    この port は、<package xmlns:xlink="http://www.w3.org/1999/xlink">emulators/linux_base-c6</package>
	    を必要とします。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">port から <package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">www/linux-c6-flashplugin11</package>
	    をインストールしてください。
	    ライセンスの制限により、package は利用できません。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プラグインを最初に使う前に、
	    ユーザごとに以下を実行しておく必要があります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nspluginwrapper -v -a -i</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プラグインの port がアップデートされ、
	    再インストールされた際には、
	    各ユーザは以下を実行する必要があります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nspluginwrapper -v -a -u</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ブラウザを起動し、ロケーションバーに
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">about:plugins</literal> と入力して
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	    現在利用可能なプラグインの一覧が表示されます。</para>
	</step>

      </procedure>
    </sect3>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="moz-swfdec-flash-plugin">

      <title xmlns:xlink="http://www.w3.org/1999/xlink">Firefox と Swfdec <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark> プラグイン</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Swfdec</application> は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark>
	アニメーションのデコーダーおよびレンダラーです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Swfdec-Mozilla</application> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Firefox</application> ブラウザにおいて
	SWF ファイルを実行するためのプラグインで、
	Swfdec ライブラリを利用しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package をインストールするには、以下を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install swfdec-plugin</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を利用できない場合は、Ports Collection
	からコンパイルしてインストールしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/swfdec-plugin</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その後、ブラウザを再起動してプラグインを有効にしてください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Opera</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Opera</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Opera</application> は、
	機能満載で、標準規格に準拠したブラウザで、
	軽量で高速です。
	メールおよびニュースリーダや、IRC クライアント、
	RSS/Atom フィードリーダ、その他いろいろなものが組み込まれています。
	FreeBSD ネイティブ版と、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>
	バイナリ互換機能によって動作するバージョンを利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドは、FreeBSD 版の <application xmlns:xlink="http://www.w3.org/1999/xlink">Opera</application>
	package をインストールします。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> 版をインストールするには、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">opera</literal> を <literal xmlns:xlink="http://www.w3.org/1999/xlink">linux-opera</literal>
	に置き換えてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install opera</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるいは Ports Collection からインストールしてください。
	以下のコマンドで、ネイティブ版がインストールされます。</para>      

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/opera</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> 版の <application xmlns:xlink="http://www.w3.org/1999/xlink">Opera</application>
	をインストールするには、<literal xmlns:xlink="http://www.w3.org/1999/xlink">opera</literal> を
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">linux-opera</literal> に置き換えてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adobe</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark> プラグインをインストールするには、
	まず <package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">www/linux-c6-flashplugin11</package> port
	をコンパイルしてください。
	ライセンスの制限により package は利用できません。
	その後、<package xmlns:xlink="http://www.w3.org/1999/xlink" role="port">www/opera-linuxplugins</package>
	をインストールしてください。
	以下の例では、両方のアプリケーションを
	ports からコンパイルします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/linux-c6-flashplugin11</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/opera-linuxplugins</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールが終了したら、
	プラグインがインストールされたかどうかをブラウザを起動して確認してください。
	ロケーションバーに <literal xmlns:xlink="http://www.w3.org/1999/xlink">about:plugins</literal> と入力して
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押してください。
	現在利用可能なプラグインの一覧が表示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark></application> プラグインを追加するには、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="moz-java-plugin"/>
 	に書かれている手順に従ってください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> はブラウザであると同時に、
	ファイルマネージャおよびマルチメディアビューアの役割も果たします。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">x11/kde4-baseapps</package> package または
	port に含まれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> は、KHTML とともに、WebKit
	にも対応しています。WebKit は Chromium
	など最近のブラウザの多くで採用されているレンダリングエンジンです。
	FreeBSD の <application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> で WebKit
	を使うには、<package xmlns:xlink="http://www.w3.org/1999/xlink">www/kwebkitpart</package> package または
	port をインストールしてください。
	以下の例では、port をコンパイルします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/kwebkitpart</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> で、WebKit を有効にするには、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Settings</quote>, <quote xmlns:xlink="http://www.w3.org/1999/xlink">Configure Konqueror</quote>
	をクリックしてください。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">General</quote> の設定ページにおいて、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Default web browser engine</quote> の隣の
	ドロップダウンメニューをクリックし、<quote xmlns:xlink="http://www.w3.org/1999/xlink">WebKit</quote>
	を <quote xmlns:xlink="http://www.w3.org/1999/xlink">KHTML</quote> に変更してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> は
	<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark></application> にも対応しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Konqueror</application> に
	<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark></application>
	を導入するための <quote xmlns:xlink="http://www.w3.org/1999/xlink">How To</quote> ガイドが	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://freebsd.kde.org/howtos/konqueror-flash.php">http://freebsd.kde.org/howtos/konqueror-flash.php</uri>
	にあります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> は、
	オープンソースのブラウザのプロジェクトで、
	より安全かつより高速、
	より安定したウェブブラウジングを目指しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> は、タブブラウジング、
	ポップアップブロック、拡張機能などの機能を持っています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> は、Google Chrome
	ウェブブラウザがベースとしているオープンソースのプロジェクトです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> は、
	以下のように入力することで package からインストールできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install chromium</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または、Ports Collection を用いて
	ソースから <application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application>
	をコンパイルしてインストールできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/www/chromium</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> の実行可能ファイルは、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/chrome</filename> です。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/chromium</filename> ではありません。</para>
      </note>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="chromium-java-plugin">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Chromium と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> プラグイン</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> をインストールしただけでは、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> には対応していません。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> プラグインをインストールするには、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="moz-java-plugin"/>
	に書かれている手順に従ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> のサポートをインストールしたら、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> を起動し、アドレスバーに、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">about:plugins</literal> と入力してください。
	インストールされているプラグインの一覧に
	IcedTea-Web が追加されているはずです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application>
	に IcedTea-Web プラグインが追加されていない場合には、
	以下のコマンドを実行し、ブラウザを再起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /usr/local/share/chromium/plugins
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> ln -s /usr/local/lib/IcedTeaPlugin.so \
  /usr/local/share/chromium/plugins/</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="chromium-flash-plugin">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Chromium と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adobe</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark> プラグイン</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application> と <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adobe</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Flash</trademark>
	  の設定は、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="moz-flash-plugin"/>
	  に書かれている手順と同じです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Chromium</application>
	  は、他のブラウザのプラグインを用いることができるので、
	  追加の設定は必要ありません。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-productivity">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">生産的なアプリケーション</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">生産的なアプリケーションということになると、
      新しいユーザはしばしばオフィススイートや、
      使いやすい文書作成ソフトウェアを求めるでしょう。
      デフォルトの生産的なアプリケーションはありませんが、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> のような
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11-wm">デスクトップ環境</link>
      はオフィススイートを提供しています。
      インストールされているウィンドウマネージャにかかわらず、FreeBSD では、
      いくつものオフィススイート、
      グラフィカルな文書作成ソフトウェアを利用できます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、
      以下の人気のある生産的なソフトウェアのインストール方法について説明します。
      もし、アプリケーションがリソースを大量に消費したり、
      ports からのコンパイルに時間がかかったり、
      もしくは他の ports に大きく依存する場合には、
      そのことについても触れます。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">必要なリソース</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">port からのインストール</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に必要となる主な環境</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Calligra</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> または
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gimp</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Apache
		OpenOffice</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">多</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">莫大</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">JDK</trademark></application> および
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Mozilla</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">やや多</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">莫大</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> または
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>/
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> または
	      <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">JDK</trademark></application></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Calligra</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Calligra</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">オフィススイート</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Calligra</application></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">KDE デスクトップには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	環境以外でも利用可能なオフィススイートがあります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Calligra</application> には、他のオフィススイートと同様に、
	標準的なアプリケーションが含まれています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Words</application> は文書作成ソフトウェア、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Sheets</application> は表計算ソフトウェア、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Stage</application>
	はプレゼンテーションソフトウェア、そして
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Karbon</application> は図形描画ソフトウェアです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では package または port から
	<package xmlns:xlink="http://www.w3.org/1999/xlink">editors/calligra</package> をインストール出来ます。
	package からインストールするには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install calligra</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を入手できない場合は、かわりに Ports Collection
	を利用してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/editors/calligra</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</application>
	は、<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> Word</application>
	のような見た目や操作感を持つフリーの文書作成ソフトウェアです。
	速く、多くの機能を持ち、ユーザフレンドリです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</application> は、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> <filename xmlns:xlink="http://www.w3.org/1999/xlink">.rtf</filename>
	のような独自仕様を含む多くの形式のファイルを読み書きできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">AbiWord</application> package
	をインストールするには、以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install abiword</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を入手できない場合は、
	Ports Collection からコンパイルしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/editors/abiword</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">画像を描画したり写真を修正することに関して、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</application>
	は洗練された編集プログラムです。
	単純にお絵かきソフトウェアとして使うこともできますし、
	高品質な写真の加工ツールとしても使えます。
	多くのプラグインに対応しており、
	スクリプトインタフェースを特徴としています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</application>
	はさまざまな形式のファイルを読み書きでき、
	スキャナやタブレットとのインタフェースにも対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package をインストールするには、以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gimp</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしくは、Ports Collection を利用してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/graphics/gimp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection の graphics カテゴリ (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/graphics.html">freebsd.org/ja/ports/graphics.html</link>)
	には、<application xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</application> に関連したプラグイン、
	ヘルプファイルおよびユーザマニュアルなどがあります。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">オフィススイート</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> は、
	Apache Software Foundation
	のインキュベータプロジェクトとして開発が行われているオープンソースのオフィススイートです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	は、完全なオフィススイートに必須のアプリケーション
	(文書作成ソフトウェア、表計算ソフトウェア、
	プレゼンテーションソフトウェア、そして図形描画ソフトウェア)
	をひととおり揃えています。
	ユーザインタフェースは他のオフィススイートと似ており、
	広く用いられているさまざまな形式のファイルを読み書きできます。
	多くの言語で利用でき、インタフェース、スペルチェッカ、
	辞書は国際化されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	の文書作成ソフトウェアは、ネイティブの XML
	ファイル形式を採用することでポータビリティや柔軟性を高めています。
	表計算ソフトウェアにはマクロ機能があり、
	外部データベースと接続することもできます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> は、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>, FreeBSD および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> X
	において安定してネイティブに動作しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	についてのより詳しい情報は、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://openoffice.org/">openoffice.org</link>
	をご覧ください。
	また、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://porting.openoffice.org/freebsd/">porting.openoffice.org/freebsd/</link>
	から、FreeBSD 特有の情報を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> package
	をインストールするには、以下のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install apache-openoffice</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package をインストールしたら、以下のコマンドを入力して
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> を起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">openoffice-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X.Y.Z</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X.Y.Z</replaceable> は、
	インストールされている
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> のバージョン番号です。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application>
	の初回起動時に、いくつかの質問が行われ、
	ユーザのホームディレクトリに <filename xmlns:xlink="http://www.w3.org/1999/xlink">.openoffice.org</filename>
	フォルダが作成されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">希望の <application xmlns:xlink="http://www.w3.org/1999/xlink">Apache OpenOffice</application> の packages
	を利用できない場合には、port を利用する方法もあります。
	しかしながら、コンパイルには大きなディスクスペースと、
	本当にかなり長い時間を必要とします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/editors/openoffice-4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">地域化されたバージョンをビルドするには、
	  上記のコマンドの代わりに以下を実行して下さい。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make LOCALIZED_LANG=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your_language</replaceable> install clean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your_language</replaceable>
	  を正しい言語 ISO コードに置き換えてください。
	  サポートされている言語コードは、同じ port ディレクトリにある
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">files/Makefile.localized</filename>
	  に書かれています。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">オフィススイート</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> は、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.documentfoundation.org/">documentfoundation.org</link>
	が開発しているフリーソフトウェアのオフィススイートです。
	他のメジャーなオフィススイートと互換性があり、
	さまざまなプラットフォームで利用できます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">OpenOffice.org</application>
	からの新しいフォークで、
	完全なオフィススイートに必須のアプリケーション
	(文書作成ソフトウェア、表計算ソフトウェア、
	プレゼンテーションソフトウェア、図形描画ソフトウェア、
	データベース管理ソフトウェア、数式エディタ) をすべて揃えています。
	多くの言語で利用でき、
	インタフェース、スペルチェッカ、辞書は国際化されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application>
	の文書作成ソフトウェアは、
	ネイティブのファイル形式に XML を採用することで
	ポータビリティや柔軟性を高めています。
	表計算ソフトウェアにはマクロ機能があり、
	外部データベースと接続することもできます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> は、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark>, FreeBSD, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> X
	において安定してネイティブに動作しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application>
	についての詳しい情報は、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.libreoffice.org/">libreoffice.org</link>
	をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">英語版の <application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> package
	をインストールするには、以下のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install libreoffice</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection の edtors カテゴリ (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/editors.html">freebsd.org/ja/ports/editors.html</link>)
	カテゴリには、地域化された <application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application>
	が用意されています。
	地域化された package をインストールするには、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">libreoffice</literal> を地域化された
	package 名に置き換えてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package をインストールしたら、以下のコマンドで
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> を起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">libreoffice</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">初回起動時には、いくつかの質問が行われ、
	ユーザのホームディレクトリに
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.libreoffice</filename> フォルダが作成されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">希望の <application xmlns:xlink="http://www.w3.org/1999/xlink">LibreOffice</application> の packages
	を利用できない場合には、port からコンパイルする方法もあります。
	しかしながら、コンパイルには大きなディスクスペースと、
	本当にかなり長い時間を必要とします。
	以下の例では、英語版をコンパイルします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/editors/libreoffice</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">地域化されたバージョンをビルドしたいのなら、
	  希望の言語の port ディレクトリに <command xmlns:xlink="http://www.w3.org/1999/xlink">cd</command>
	  コマンドで移動してください。
	  対応している言語は、Ports Collection の editors カテゴリ (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/editors.html">freebsd.org/ja/ports/editors.html</link>)
	  にあります。</para>
      </note>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-viewers">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントビューア</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の出現以降、
      いくつかの新しい文書形式が広く使われるようになりました。
      基本システムには、それらの文書が要求するビューアがないかもしれません。
      この節ではそれらのドキュメントビューアのインストール方法について説明します。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">必要なリソース</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">port からのインストール</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に必要になる主な環境</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xpdf</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">FreeType</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xaw3d</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GQview</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> または
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">ePDFView</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">軽</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> または
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Okular</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Xpdf</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xpdf</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">PDF</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ビューア</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 向けの軽い PDF ビューアを使いたいのなら
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xpdf</application>
	を試してみてください。
	これは少ないリソースで動作するビューアで、軽くて効率的です。
	標準の X フォントを利用し、
	他の X ツールキットを必要としません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xpdf</application> の
	package をインストールするには次のコマンドを入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install xpdf</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を入手できない場合は、
	Ports Collection を利用してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/graphics/xpdf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールが完了したら <application xmlns:xlink="http://www.w3.org/1999/xlink">xpdf</application>
	を起動してください。
	メニューを表示するにはマウスの右ボタンを押してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">PDF</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ビューア</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">PostScript</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ビューア</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application>
	は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> と PDF のビューアです。これは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ghostview</application> をベースとしていますが、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xaw3d</application>
	ウィジットツールキットによってより良い外観になっています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application> は向きや用紙のサイズ、
	拡大縮小、アンチエイリアスなどたくさんの設定可能な機能を持っています。
	ほとんどすべての操作をキーボードかマウスのどちらかだけで行なうことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package から <application xmlns:xlink="http://www.w3.org/1999/xlink">gv</application>
	をインストールするには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gv</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を利用できない場合には、Ports Collection
	を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/print/gv</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GQview</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GQview</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GQview</application>
	は画像管理ソフトウェアです。
	クリックひとつで画像ファイルを開いたり、外部エディタを起動したり、
	サムネイル画像を作成できます。
	また、スライドショーや基本的なファイル操作機能も備えており、
	画像のコレクションの管理や、
	重複したファイルを見つけることが簡単にできます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GQview</application> は全画面表示、
	および国際化にも対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GQview</application>
	package をインストールするには次のコマンドを入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gqview</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package を入手できない場合は、
	Ports Collection を利用してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/graphics/gqview</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ePDFView</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">ePDFView</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">PDF</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">viewing</secondary>
      </indexterm>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">ePDFView</application> は軽量な
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym> ドキュメントビューアです。
	このビューアは、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Gtk+</application> および
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Poppler</application> ライブラリのみを使います。
	このソフトウェアは、現在開発中ですが、ほぼすべての
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym> ファイル (暗号化されたものを含む)
	を開くことが可能で、ドキュメントのコピーを保存でき、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application> を用いた印刷にも対応しています。</para>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink">package から <application xmlns:xlink="http://www.w3.org/1999/xlink">ePDFView</application>
	をインストールするには以下のようにしてください。</para>
 
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install epdfview</userinput></screen>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink">package が利用できないようでしたら、
	Ports Collection を使ってインストールしてください。</para>
 
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/graphics/epdfview</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

     <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Okular</title>
 
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Okular</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym></primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">viewing</secondary>
      </indexterm>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Okular</application> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> の <application xmlns:xlink="http://www.w3.org/1999/xlink">KPDF</application>
	をベースとした一般的なドキュメントビューアです。
	このビューアは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>, DjVu,
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CHM</acronym>, <acronym xmlns:xlink="http://www.w3.org/1999/xlink">XPS</acronym>, および
	ePub といった、多くの形式のファイルを開くことができます。</para>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink">package で <application xmlns:xlink="http://www.w3.org/1999/xlink">Okular</application>
	をインストールするには、以下のようにしてください。</para>
 
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install okular</userinput></screen>
 
      <para xmlns:xlink="http://www.w3.org/1999/xlink">package が利用できないようでしたら、
	Ports Collection を使ってインストールしてください。</para>
 
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/graphics/okular</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="desktop-finance">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">財務管理ソフトウェア</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のデスクトップで個人的な財務管理ができるように、
      強力で簡単に使えるアプリケーションが用意されています。
      それらのアプリケーションの中には
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Quicken</application>
      や <application xmlns:xlink="http://www.w3.org/1999/xlink">Excel</application>
      などの広く行き渡った形式のファイルと互換性があるものもあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では次のアプリケーションについて説明します。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">必要なリソース</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">port からのインストール</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">実行に必要になる主な環境</entry>
	  </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application></entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">少</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">重</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> の一部で、
	使いやすくかつ強力なアプリケーションとしてエンドユーザに提供されています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application> を使えば、
	収入や支出、銀行口座、あるいは株を管理できます。
	直観的なインタフェースを特徴としていますが、
	高度な機能も提供しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application> は洗練された登録機能、
	階層構造の勘定システム、多くのキーボードショートカット、
	自動補完機能を提供しています。
	単一のトランザクションをより小さな要素に分解できます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Quicken</application>
	の QIF ファイルの読み込みやマージができます。
	また、国際的な日付および通貨形式も扱えます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GnuCash</application> package
	をインストールするには次のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gnucash</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package が手に入らなければ、Ports Collection
	を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/finance/gnucash</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">表計算ソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</application></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</application> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	コミュニティによって開発されている表計算ソフトウェアです。
	セルの書式に従ってユーザの入力を自動的に推測する便利な機能や、
	多くのシーケンスに対する自動補完機能があります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Excel</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Lotus 1-2-3</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Quattro Pro</application>
	といった広く行き渡っている多くの形式のファイルを読みこめます。
	多くの関数を内蔵しており、
	数値、通貨、日付、時間などのよく使うセルの書式が利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Gnumeric</application> package
	をインストールするには次のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install gnumeric</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package が手に入らなければ、Ports Collection
	を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/math/gnumeric</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application></primary></indexterm>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">表計算ソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application>
	は、<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	コミュニティが作成している個人用財務管理アプリケーションです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application> は、
	商用の個人用財務管理ソフトウェアに見られる重要な機能を提供することを目指しています。
	また、使いやすい複式簿記機能も特徴です。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application> は標準の
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Quicken</application> QIF ファイルをインポート可能で、
	投資履歴や複数通貨の取扱い、財政状況のレポートを提供します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package から <application xmlns:xlink="http://www.w3.org/1999/xlink">KMyMoney</application>
	をインストールするには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install kmymoney-kde4</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">package が手に入らない場合は、
	Ports Collection を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/finance/kmymoney-kde4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46049
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="multimedia">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">マルチメディア</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Ross</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Lippert</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">編集: </contrib>
      </author>
    </authorgroup>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="multimedia-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は数多くの種類のサウンドカードに対応しており、
      FreeBSD システムで原音に忠実な出力を楽しむことができます。
      これには録音機能と、MPEG Audio Layer 3 (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>)
      や Waveform Audio File (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym>), Ogg Vorbis
      などをはじめとした多くの形式の音楽の再生機能が含まれます。
      加えて FreeBSD の Ports Collection には、
      録音した音楽を編集したり、音響効果を加えたり、接続された
      MIDI 機器を制御するためのアプリケーションが用意されています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ではビデオファイルおよび <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
      の再生もできます。
      FreeBSD の Ports Collection には、さまざまなビデオメディアをエンコード、
      変換、再生するアプリケーションが用意されています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では FreeBSD 上でサウンドカード、ビデオの再生、TV チューナカード、
      スキャナを設定する方法について説明します。
      また、これらのデバイスを使うためのアプリケーションについても説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でのサウンドカードの設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">サウンドの設定に関するトラブルシューティング</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">MP3 およびその他の形式の音声を再生、エンコードする方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムでのビデオ再生の準備</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mpg</filename> および
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.avi</filename> ファイルを再生する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
	  の情報をファイルに抽出する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">TV カードの設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">MythTV を FreeBSD にインストールして設定する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">画像スキャナの設定方法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションのインストール方法
	(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sound-setup">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">サウンドカードの設定</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Moses</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Moore</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib><!-- (2000 年 11 月) -->
	</author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成: </contrib> <!--  (2004 年 9 月) -->
	</author>
      </authorgroup>
    </info>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PCI</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サウンドカード</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">設定をはじめる前に、サウンドカードのモデル、
      そのカードが使用しているチップを確認してください。
      FreeBSD は サウンドカードに幅広く対応しています。
      使用しているカードが対応しているかどうか、
      どの FreeBSD ドライバを使うかについて、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/releases/10.1R/hardware.html">ハードウェアノート</link>
      の対応オーディオデバイスの一覧を確認してください。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">サウンドデバイスを使うためには、
      デバイスドライバを読み込まなければいけません。
      もっとも簡単な方法は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      を使ってサウンドカードのカーネルモジュールを読み込むことです。
      次の例は、Intel
      仕様のビルトインオーディオチップセットのドライバを読み込む例です。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kldload snd_hda</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このドライバを起動時に読み込むように設定するためには、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> にドライバを追加してください。
      このドライバの場合は以下の行になります。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">snd_hda_load="YES"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">他に利用可能な読み込み可能なサウンドモジュールは
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/defaults/loader.conf</filename>
      に記載されています。
      どのドライバを利用すればいいか確かでなければ、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">snd_driver</filename>
      モジュールを読み込んでください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kldload snd_driver</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">snd_driver</filename> モジュールは、
      一般に使用されるカードに対応したドライバをまとめて一度に読み込むメタドライバです。
      このドライバを使用すれば、速やかに正しいドライバを探し出すことができます。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> ファイルを使用して、
      すべてのサウンドドライバを読み込むこともできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">snd_driver</filename> メタドライバの読み込み後に、
      どのドライバがサウンドカードに選択されたのかを知るには、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">cat /dev/sndstat</command> と入力してください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サウンドに対応したカスタムカーネルを設定する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節は、
	サウンドカードのドライバをカーネルへ静的に組み込もうと考えているユーザ向けです。
	カーネル再構築の詳細は
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サウンドに対応したカスタムカーネルを使うときには、
	オーディオフレームワークドライバをカーネルコンフィグレーションファイルに追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sound</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、サウンドカードに対応したドライバを追加します。
	前節の Intel 仕様のビルトインオーディオチップセットの例では、
	カスタムカーネルコンフィグレーションファイルに以下の行を追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device snd_hda</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドライバのマニュアルページを読んで、
	ドライバが使用するデバイス名を調べてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PnP 非対応の ISA サウンドカードでは、
	IRQ および I/O ポートの設定を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>　
	に指定する必要があるかもしれません。
	システムの起動時に、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	はこのファイルを読み、設定情報をカーネルに渡します。
	たとえば、PnP 非対応の古い Creative <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SoundBlaster</trademark> 16 (ISA 接続)
	には <literal xmlns:xlink="http://www.w3.org/1999/xlink">snd_sb16</literal> とともに
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">snd_sbc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバを使用します。
	このカードを使用する場合には、
	カーネルコンフィグレーションファイルに以下の行を追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device snd_sbc
device snd_sb16</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしカードが <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x220</literal> I/O port と
	IRQ <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal> を使用している場合には、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
	に以下の行を追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hint.sbc.0.at="isa"
hint.sbc.0.port="0x220"
hint.sbc.0.irq="5"
hint.sbc.0.drq="1"
hint.sbc.0.flags="0x15"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、
	I/O ポートに <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x220</literal> を、
	IRQ に <literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal> を使用します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
	に用いるべき構文は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sound</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> および、
	サウンドカードの各ドライバのマニュアルページに記載されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これまでの設定はデフォルトのものです。
	カードを使用する状況によっては、
	IRQ やその他の設定を変更する必要があるかもしれません。
	このカードについての詳細は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">snd_sbc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sound-testing">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サウンドのテスト</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">必要となるモジュールを読み込むか、カスタムカーネルで再起動すると、
	サウンドカードが検出されます。
	確認をするには、<command xmlns:xlink="http://www.w3.org/1999/xlink">dmesg | grep pcm</command> と実行してください。
	この例は、ビルトイン Conexant CX20590
	チップセットを搭載したシステムのものです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">pcm0: &lt;NVIDIA (0x001c) (HDMI/DP 8ch)&gt; at nid 5 on hdaa0
pcm1: &lt;NVIDIA (0x001c) (HDMI/DP 8ch)&gt; at nid 6 on hdaa0
pcm2: &lt;Conexant CX20590 (Analog 2.0+HP/2.0)&gt; at nid 31,25 and 35,27 on hdaa1</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サウンドカードの状態は、
	以下のコマンドを使用して確認することもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat /dev/sndstat</userinput>
FreeBSD Audio Driver (newpcm: 64bit 2009061500/amd64)
Installed devices:
pcm0: &lt;NVIDIA (0x001c) (HDMI/DP 8ch)&gt; (play)
pcm1: &lt;NVIDIA (0x001c) (HDMI/DP 8ch)&gt; (play)
pcm2: &lt;Conexant CX20590 (Analog 2.0+HP/2.0)&gt; (play/rec) default</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この出力は、サウンドカードによって異なります。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">pcm</filename> デバイスがなければ、
	適切なデバイスドライバが読み込まれているか、
	カーネルに追加されてコンパイルされているかどうかを確認してください。
	次の節では、良くある問題とその解決方法をリストアップしています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてうまくいけば、サウンドカードが FreeBSD で機能するでしょう。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
	ドライブのオーディオ出力端子がサウンドカードと適切に接続されていれば、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cdcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使ってドライブ内のオーディオ
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> を再生できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdcontrol -f /dev/acd0 play 1</userinput></screen>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">オーディオ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	  は特別なエンコーディングが行われているため、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使ってマウントすべきではありません。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">audio/workman</package> のように、
	よりよいインタフェースを提供するさまざまなアプリケーションがあります。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/mpg123</package> port
	をインストールして MP3 オーディオファイルを聞くことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">手っ取り早くカードをテストするには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/dsp</filename>
	デバイスにデータを送ってみてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable> &gt; /dev/dsp</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable></filename>
	は、どのような形式のファイルでも構いません。
	このコマンドラインを実行すると雑音が発生するはずです。
	これにより、サウンドカードが動作していることを確認できます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/dsp*</filename> デバイスノードは、
	  必要に応じて自動的に作成されます。
	  デバイスノードが使用されていない場合には存在せず、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ls</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の出力に表示されません。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="troubleshooting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サウンドカードの問題についてのトラブルシューティング</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">デバイスノード</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">I/O ポート</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IRQ</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DSP</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">表 8.1 は、良くあるエラーメッセージとその解決法の一覧です。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">良くあるエラーメッセージ</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">エラー</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">解決方法</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><errorname xmlns:xlink="http://www.w3.org/1999/xlink">sb_dspwr(XX) timed
		  out</errorname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">使用する
		I/O ポートが適切に設定されていません。</para></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><errorname xmlns:xlink="http://www.w3.org/1999/xlink">bad irq XX</errorname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">使用する IRQ が正しく設定されていません。
		サウンドカードの IRQ と設定した IRQ
		が同じかどうか確かめてください。</para></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><errorname xmlns:xlink="http://www.w3.org/1999/xlink">xxx: gus pcm not attached, out of
		  memory</errorname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスを使用するのに十分なメモリを確保できません。</para></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><errorname xmlns:xlink="http://www.w3.org/1999/xlink">xxx: can't open
		  /dev/dsp!</errorname></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">fstat | grep dsp</command>
		と入力して、
		他のアプリケーションがデバイスを使用しているか調べてください。
		注目すべきトラブルメーカは
		<application xmlns:xlink="http://www.w3.org/1999/xlink">esound</application> と
		<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
		のサウンド機能です。</para></entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最近のグラフィックカードの中には、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">HDMI</acronym> を利用するため、
	グラフィックカード自身がサウンドカードを持つものがあります。
	このようなサウンドデバイスには、
	時としてサウンドカードより若い番号が付けられることがあります。
	そのような場合には、
	サウンドカードをデフォルトプレイバックデバイスとして利用できません。
	このことが原因かどうかを確認するには、<application xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</application> を実行して
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">pcm</literal> を探してください。
	以下のような出力を得るかもしれません。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">...
hdac0: HDA Driver Revision: 20100226_0142
hdac1: HDA Driver Revision: 20100226_0142
hdac0: HDA Codec #0: NVidia (Unknown)
hdac0: HDA Codec #1: NVidia (Unknown)
hdac0: HDA Codec #2: NVidia (Unknown)
hdac0: HDA Codec #3: NVidia (Unknown)
pcm0: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 0 nid 1 on hdac0
pcm1: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 1 nid 1 on hdac0
pcm2: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 2 nid 1 on hdac0
pcm3: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 3 nid 1 on hdac0
hdac1: HDA Codec #2: Realtek ALC889
pcm4: &lt;HDA Realtek ALC889 PCM #0 Analog&gt; at cad 2 nid 1 on hdac1
pcm5: &lt;HDA Realtek ALC889 PCM #1 Analog&gt; at cad 2 nid 1 on hdac1
pcm6: &lt;HDA Realtek ALC889 PCM #2 Digital&gt; at cad 2 nid 1 on hdac1
pcm7: &lt;HDA Realtek ALC889 PCM #3 Digital&gt; at cad 2 nid 1 on hdac1
...</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、グラフィックカード (<literal xmlns:xlink="http://www.w3.org/1999/xlink">NVidia</literal>)
	には、サウンドカード (<literal xmlns:xlink="http://www.w3.org/1999/xlink">Realtek ALC889</literal>)
	より若い番号が付けられています。
	サウンドカードをデフォルトのプレイバックデバイスとして利用するには、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">hw.snd.default_unit</literal>
	をプレイバックで使用するユニット番号に変更してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl hw.snd.default_unit=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<literal xmlns:xlink="http://www.w3.org/1999/xlink">n</literal> は使用するサウンドデバイスの番号です。
	この例では <literal xmlns:xlink="http://www.w3.org/1999/xlink">4</literal> です。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysctl.conf</filename> に以下の行を入れると、
	設定の変更が常に反映されるようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hw.snd.default_unit=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">4</replaceable></programlisting>
  </sect2>

  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sound-multiple-sources">
    <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">複数音源の利用</title>
 
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Munish</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Chopra</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
      </author>
    </authorgroup>
  </info>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">同時に再生することのできる音源を複数実装していることは、
      多くの場合望ましいことです。
      FreeBSD では、<quote xmlns:xlink="http://www.w3.org/1999/xlink">仮想サウンドチャネル</quote>
      を使ってカーネル内でサウンドを合成することにより、
      サウンドカードの再生を多重化することができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">仮想チャネルの数を決めるのに三つの <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      変数を設定できます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl dev.pcm.0.play.vchans=4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl dev.pcm.0.rec.vchans=4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl hw.snd.maxautovchans=4</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では四つの仮想チャネルを設定しています。
      これは通常利用する上で十分実用的な数です。
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">dev.pcm.0.play.vchans=4</varname> と
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">dev.pcm.0.rec.vchans=4</varname> は、
      デバイスが取り付けられた後で設定できます。
      これらは <filename xmlns:xlink="http://www.w3.org/1999/xlink">pcm0</filename>
      が再生や録音のために持っている仮想チャネルの数です。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">hw.snd.maxautovchans</literal> は、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      を用いて認識された新しいデバイスの仮想チャネル数です。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">pcm</filename>
      モジュールはハードウェアドライバとは独立して読み込むことができるので、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">hw.snd.maxautovchans</varname>
      は、オーディオデバイスが取り付けられた時に、
      デバイスに与えられる仮想チャネルの数を表しています。
      より詳細な情報については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pcm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を参照してください。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスを使用しているときに仮想チャンネルの数を変更することはできません。
	まず、ミュージックプレーヤやサウンドデーモンといった
	デバイスを使用しているすべてのプログラムを終了してください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/dsp0</filename>
      を必要とするプログラムが意識しなくても、
      適切な <filename xmlns:xlink="http://www.w3.org/1999/xlink">pcm</filename>
      デバイスが自動的に設定されます。</para>
  </sect2>

  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">

    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ミキサチャネルの初期値を設定する</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Josef</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">El-Rayes</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	</author>
      </authorgroup>
    </info>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">各ミキサチャネルの初期値は
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pcm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバのソースコードにハードコーディングされています。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mixer</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      および他のサードパーティ製のアプリケーションやデーモンによって、
      サウンドカードのミキサレベルを変更できますが、
      永続的な解決方法ではありません。
      そのかわり以下の例のように、
      適切な値を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
      ファイルに記述することによって、
      ドライバレベルでミキサの初期値を設定することができます。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hint.pcm.0.vol="50"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pcm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> が読み込まれたと同時に、
      ボリュームチャネルの初期値を <literal xmlns:xlink="http://www.w3.org/1999/xlink">50</literal>
      に設定します。</para>
  </sect2>
</sect1>

<sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sound-mp3">
  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">MP3 オーディオ</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib> <!--  (2001 年 9 月) -->
      </author>
    </authorgroup>
  </info>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD で利用できる <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>
    プレイヤや、オーディオ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> トラックを吸い出す方法、
    および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> のエンコード、
    デコードの方法について説明します。</para>

  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mp3-players">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">MP3 プレイヤ</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> は
      人気のあるグラフィカルな <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> プレイヤです。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Winamp</application>
      スキンや追加のプラグインに対応しています。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> のプレイリスト、
      グラフィックイコライザ等のインタフェースは直感的です。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Winamp</application> を使いなれている人は簡単に
      <application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> を使えるでしょう。
      FreeBSD では、<application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> は
      <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/xmms</package> の
      port または package からインストールできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">audio/mpg123</package> package もしくは port は、
	は代替となる コマンドライン上の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>
	プレイヤです。インストールしたら、再生する <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>
	ファイルをコマンドラインから指定してください。
	もしシステムが、複数のオーディオデバイスを搭載しているのであれば、
	サウンドデバイスを同様に指定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mpg123 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">-a /dev/dsp1.0 Foobar-GreatesHits.mp3</replaceable></userinput>
High Performance MPEG 1.0/2.0/2.5 Audio Player for Layers 1, 2 and 3
        version 1.18.1; written and copyright by Michael Hipp and others
        free software (LGPL) without any warranty but with best wishes

Playing MPEG stream from Foobar-GreatestHits.mp3 ...
MPEG 1.0 layer III, 128 kbit/s, 44100 Hz joint-stereo</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> プレイヤも
	Ports Collection から利用できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rip-cd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> オーディオトラックの抽出</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> 全体または <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	トラックを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>
	に変換する前に、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	上のオーディオデータをハードディスク上に抽出する必要があります。
	これは raw <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> Digital Audio
	(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CDDA</acronym>) データを
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> ファイルにコピーすることで行われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools</package>
	スイートからインストールされる <command xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav</command>
	ツールを用いて、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	からオーディオデータを抽出できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> をドライブにいれて次のコマンドを
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で実行すると、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> 全体をトラックごとに個々の
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> ファイルに抽出できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav -D <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">0,1,0</replaceable> -B</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<option xmlns:xlink="http://www.w3.org/1999/xlink">-D <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">0,1,0</replaceable></option>
	は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> デバイス <filename xmlns:xlink="http://www.w3.org/1999/xlink">0,1,0</filename>
	が抽出する <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> を表します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord -scanbus</command> を使って、
	システムの適切なデバイスパラメータを取得してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">個々のトラックを抽出するには、
	次のように <option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option> でトラックを指定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav -D <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">0,1,0</replaceable> -t 7</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">範囲を指定して、
	一番目から七番目のトラックまで抽出したい場合、
	次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav -D <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">0,1,0</replaceable> -t 1+7</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI</acronym> (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IDE</acronym>)
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</acronym> ドライブから抽出するには、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
	ユニット番号をデバイス名に置き換えて指定します。
	たとえば IDE ドライブから七番目のトラックを抽出するには、
	次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav -D <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acd0 -t 7</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="duplicating-audiocds"/>
	で説明されているように、<command xmlns:xlink="http://www.w3.org/1999/xlink">dd</command> を使って
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI</acronym>
	ドライブ上のオーディオトラックを展開できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mp3-encoding">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">MP3 のエンコードとデコード</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">lame</application> は、
	ポピュラーな <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> エンコーダです。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/lame</package>
	port からインストールできます。
	特許の問題から、package は利用できません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドを実行すると、抽出した <acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> ファイル
	<filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">audio01.wav</replaceable></filename>
	を使って
	<filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">audio01.mp3</replaceable></filename>
	に変換します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lame -h -b <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">128</replaceable> --tt "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">曲名</replaceable>" --ta "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">アーティスト名</replaceable>" --tl "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">アルバム名</replaceable>" \
--ty "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">年</replaceable>" --tc "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">コメント</replaceable>" --tg "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ジャンル</replaceable>" <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">audio01.wav audio01.mp3</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで指定している 128 kbits は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym>
	の標準のビットレートです。
	160 kbits または 192 kbits のビットレートは、
	さらに高音質を提供します。
	ビットレートが高くなるにつれて作成される
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> ファイルは多くのディスク領域を消費します。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションを指定すると
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">低速高品質</quote> モードとなります。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">--t</option> ではじまるオプションは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ID3</acronym>
	タグを設定します。
	このタグにはたいてい曲の情報が含まれており、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> ファイルに格納されます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Lame</application>	のマニュアルを参照すれば、
	他のエンコーディングのオプションが見つかるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> からオーディオ
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> を作成するには、
	まず非圧縮のファイル形式に変換しなければなりません。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application>
	は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> 形式へ変換できますが、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">mpg123</application> は
	raw Pulse-Code Modulation (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCM</acronym>)
	オーディオデータに変換します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">mpg123</application> を使って
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">audio01.mp3</filename>
	を変換するには、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCM</acronym>
	ファイルを指定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mpg123 -s <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">audio01.mp3</replaceable> &gt; <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">audio01.pcm</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> を使って
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> を <acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> 形式に変換するには、
	以下の手順に従ってください。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> を使って
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> 形式に変換する</title>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> を起動します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">右クリックで
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application> メニューを表示します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Options</literal>
	    から <literal xmlns:xlink="http://www.w3.org/1999/xlink">Preferences</literal> を選択します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Output Plugin を <quote xmlns:xlink="http://www.w3.org/1999/xlink">Disk Writer Plugin</quote>
	    に変更します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Configure</literal> を押します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">非圧縮ファイルを書き出すディレクトリを入力、
	    または選択します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">普段通り <application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application>
	    へ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> ファイルを読み込みます。
	    音量は 100% でイコライザの設定はオフにします。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">Play</literal> を押します。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">XMMS</application>
	    は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> を再生しているかのように表示しますが、
	    音声はきこえません。
	    実際には <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> をファイルに出力しています。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">終了したら、再び <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MP3</acronym> を聴けるように
	    Output Plugin を以前のように元に戻すのを忘れないでください。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> と <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCM</acronym> 形式は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</application> で利用できます。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> ファイルを使用する場合、
	それぞれのトラックの先頭に小さなノイズが入るのに気づくでしょう。
	これは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">WAV</acronym> ファイルのヘッダ情報です。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">audio/sox</package> port または package
	を使うとヘッダ情報を削除できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sox -t wav -r 44100 -s -w -c 2 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">track.wav track.raw</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD での <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> 作成の詳しい情報は
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="creating-cds"/> を参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-playback">
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ再生</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Ross</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Lippert</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib> <!--  (2002 年 6 月) -->
	</author>
      </authorgroup>
    </info>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ再生のための設定をはじめる前に、
      ビデオカードのモデルおよびチップセットを確認する必要があります。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      はさまざまなビデオカードに対応していますが、
      すべてのカードがビデオ再生に性能を発揮できるとは限りません。
      利用しているビデオカードの <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      サーバが対応している拡張機能のリストを得るには、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> を実行中に
      <command xmlns:xlink="http://www.w3.org/1999/xlink">xdpyinfo</command> を実行してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまなプレイヤやオプションを試すのに、
      テストファイルとして小さな MPEG ファイルを用意しておくのはよい考えです。
      いくつかの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> アプリケーションは
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> メディアを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/dvd</filename>
      として初期設定しているか、ハードコーディングしているので、
      次のように適切なデバイスにシンボリックリンクを張っておくと便利かもしれません。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -sf /dev/cd0 /dev/dvd</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の仕様により、
      このように手動で作成されたリンクはシステムを再起動すると消えてしまいます。
      システムの起動時にこれらのシンボリックリンクを自動的に作成するには、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/devfs.conf</filename>
      に下記の設定を追加してください。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">link cd0 dvd</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">特別な機能を必要とする <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> の抽出には、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> デバイスへの書き込み権限が必要です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      インタフェースの使う共有メモリを拡張するために、
      以下の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 変数の値を増やすことが推奨されています。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">kern.ipc.shmmax=67108864
kern.ipc.shmall=32768</programlisting>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-interface">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ機能の決定</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">XVideo</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SDL</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DGA</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	においてビデオ表示性能を改善する方法はいくつかあり、
	正しく動作するかどうかはハードウェアに大きく依存しています。
	下記に説明したどの方法でも、
	ハードウェアが変わると品質が変わるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">よく知られたビデオインタフェースは次の通りです。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>:
	    共有メモリを用いた通常の出力</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">XVideo: 特別なアクセラレータによって、
	    drawable オブジェクトに直接ビデオを表示する
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> インタフェースの拡張機能です。
	    この拡張を使うことで廉価なコンピュータでも高品質の再生が可能になります。
	    次の節では、
	    この拡張が動作していることの確認方法について説明します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SDL</acronym>: Simple Directmedia Layer は、
	    さまざまなオペレーティングシステムの間でサウンドとグラフィックスを効果的に利用したクロスプラットホームアプリケーションを開発することを目的としたレイヤです。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SDL</acronym>
	    はハードウェアに対する低レベルの抽象的概念を提供し、
	    時には <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	    インタフェースを使用するよりも効果的なことがあります。
	    FreeBSD では、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SDL</acronym> は、
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">devel/sdl20</package> package または port
	    によりインストールできます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DGA</acronym>: Direct Graphics Access は、
	    プログラムが <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	    サーバを介せず直接フレームバッファを変更することを可能にする
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> の拡張機能です。
	    低レベルのメモリマッピングが実行できることを期待しているので、
	    この機能を使うプログラムは
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	    権限で実行されなければなりません。
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DGA</acronym> 機能拡張は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="xfree86"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dga</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	    によってテストとベンチマークができます。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">dga</command>
	    実行中はキーボードを押せばいつでもディスプレイ色が変更されます。
	    中止するには <keycap xmlns:xlink="http://www.w3.org/1999/xlink">q</keycap> を押します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">SVGAlib: 低レベルコンソールグラフィックレイヤ</para>
	</listitem>
      </orderedlist>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-interface-xvideo">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">XVideo</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この拡張機能が動作しているかどうかを調べるには、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">xvinfo</command> を使います。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xvinfo</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のような結果が得られたならば、カードは
	  XVideo に対応しています。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">X-Video Extension version 2.2
  screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
      "XV_COLORKEY" (range 0 to 16777215)
              client settable attribute
              client gettable attribute (current value is 2110)
      "XV_BRIGHTNESS" (range -128 to 127)
              client settable attribute
              client gettable attribute (current value is 0)
      "XV_CONTRAST" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_SATURATION" (range 0 to 255)
              client settable attribute
              client gettable attribute (current value is 128)
      "XV_HUE" (range -180 to 180)
              client settable attribute
              client gettable attribute (current value is 0)
    maximum XvImage size: 1024 x 1024
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x30323449 (I420)
        guid: 49343230-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
      id: 0x36315652 (RV16)
        guid: 52563135-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x3e0, 0x7c00
      id: 0x35315652 (RV15)
        guid: 52563136-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        type: RGB (packed)
        depth: 0
        red, green, blue masks: 0x1f, 0x7e0, 0xf800
      id: 0x31313259 (Y211)
        guid: 59323131-0000-0010-8000-00aa00389b71
        bits per pixel: 6
        number of planes: 3
        type: YUV (packed)
      id: 0x0
        guid: 00000000-0000-0000-0000-000000000000
        bits per pixel: 0
        number of planes: 0
        type: RGB (packed)
        depth: 1
        red, green, blue masks: 0x0, 0x0, 0x0</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リストにある形式、YUV2, YUV12 などが XVideo
	  のすべての実装で存在するとは限りません。
	  対応している形式が少ないために、
	  あるプレイヤでは悪影響が出るかもしれないことにも注意してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">出力が以下のような場合、</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">X-Video Extension version 2.2
screen #0
no adaptors present</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">カードはおそらく XVideo に対応していないのでしょう。
	  このことはディスプレイでビデオを表示するのに、
	  ビデオカードおよびプロセッサによっては、
	  計算上の要求を満たすことがより困難になることを意味します。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-ports">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ビデオを扱う ports および packages</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ ports</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ packages</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では Ports Collection で利用可能な、
	ビデオの再生に使用できるソフトウェアについて紹介します。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-mplayer">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application> および
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">MEncoder</application></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application>
	  はコマンドラインのビデオプレイヤで、
	  高速性と柔軟性をもたらすグラフィカルなインタフェースも持っています。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application>
	  の他のグラフィカルなフロントエンドも
	  Ports Collection からインストールできます。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application> は
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/mplayer</package>
	  package または port からインストールできます。
	  いくつかのコンパイル時のオプションを設定することができ、また、
	  構築の際にさまざまなハードウェアのチェックがおこなわれます。
	  そのため、package からインストールを行わず、
	  port から構築することを好むユーザもいます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">port を構築する際に、メニューのオプションは、port
	  にコンパイル時にオプションとしてどの形式に対応するかを決定するため、
	  見ておく必要があります。
	  オプションが選択されていなければ、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application>
	  はその形式のビデオ形式を表示することは出来ません。
	  矢印キーとスペースキーを使って必要な形式を選択してください。
	  選択が終わったら、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、
	  port の構築とインストールを続けてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、この packege または port は、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer</command> コマンドラインユーティリティと
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">gmplayer</command> グラフィカルユーティリティを構築します。
	  ビデオをエンコードする必要があれば、
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/mencoder</package>
	  port をコンパイルしてください。
	  ライセンスの制限のため、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">MEncoder</application> の
	  package は利用できません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application> を初めて起動すると、
	  各自のホームディレクトリ内に <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.mplayer</filename>
	  が作成されます。このサブディレクトリには、
	  ユーザ固有の設定ファイルのデフォルトバージョンが含まれています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、一般的な使用法についてのみ説明します。
	  数多くのオプションの完全な説明については、
	  mplayer(1) のマニュアルに記載されています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></filename>
	  というファイルを再生するには、以下の例のように、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-vo</option> とともに、
	  ビデオインタフェースを指定してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo xv <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo sdl <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo x11 <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo dga <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></userinput></screen>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo 'sdl:dga' <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ビデオ再生の相対的性能は多くの要因に依存し、
	  ハードウェアに応じて著しく変わると思われるので、
	  これらのオプションをすべて試してみる価値はあるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> を再生するには、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">testfile.avi</replaceable></filename> を
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">dvd://<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable> -dvd-device
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">DEVICE</replaceable></option>
	  に置き換えてください。
	  &lt;N&gt; には再生するタイトル番号を、
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">DEVICE</replaceable>
	  は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> のデバイスノードを指定します。
	  たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/dvd</filename>
	  から 2 番目のタイトルを再生するには以下のようにします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -vo xv dvd://3 -dvd-device /dev/dvd</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> デバイスは、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application> port の構築時に
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_DVD_DEVICE=/path/to/desired/device</varname>
	    を追加することでで定義できます。
	    デフォルトでは、デバイスは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cd0</filename> です。
	    詳細はこの port の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile.options</filename> をご覧ください。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">停止、休止、
	  再生などをするにはキーバインディングを使ってください。
	  キーバインディングの一覧を見るには、<command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -h</command>
	  を実行するか、もしくは、mplayer(1) を読んでください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">再生に関する追加のオプションがあります。
	  全画面モードにする <option xmlns:xlink="http://www.w3.org/1999/xlink">-fs -zoom</option> オプションと、
	  性能を向上させる <option xmlns:xlink="http://www.w3.org/1999/xlink">-framedrop</option> オプションです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">よく使用するオプションについては、各ユーザの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mplayer/config</filename>
	  に以下のように追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">vo=xv
fs=yes
zoom=yes</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer</command> を使って、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> タイトルを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.vob</filename> に抽出できます。
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> から
	  2 番目のタイトルをダンプするには次のようにします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplayer -dumpstream -dumpfile out.vob dvd://2 -dvd-device /dev/dvd</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">出力された <filename xmlns:xlink="http://www.w3.org/1999/xlink">out.vob</filename> ファイルは
	  MPEG 形式です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> ビデオについて、
	  高レベルのノウハウを得たいと考えている方は <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mplayerhq.hu/DOCS/">mplayerhq.hu/DOCS</link>
	  をご覧ください。技術的な情報があります。
	  このドキュメントは、
	  バグを報告する前に、読むべきものです。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">mencoder</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mencoder</command> を使う前に、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mplayerhq.hu/DOCS/HTML/en/mencoder.html">mplayerhq.hu/DOCS/HTML/en/mencoder.html</link>
	  を読んでオプションに慣れておくのはよい考えです。
	  品質向上、低ビットレート、形式変換をする方法が無数にあります。
	  これらの要素の調節具合で、性能が良かったり悪かったりするなど、
	  結果に違いが出るかもしれません。
	  コマンドラインオプションを不適切に組合せると、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer</command>
	  でさえ再生できない出力ファイルを作成してしまいます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"> はじめは単純なファイルのコピーです。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mencoder <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">input.avi</replaceable> -oac copy -ovc copy -o <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">output.avi</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、単にファイルを抽出したいときには、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer</command> に <option xmlns:xlink="http://www.w3.org/1999/xlink">-dumpfile</option>
	  をつけます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">input.avi</replaceable></filename>
	  を音声に MPEG3 エンコードを使用して
	  MPEG4 コーデックに変換するには、まず最初に
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">audio/lame</package>
	  port をインストールしてください。
	  ライセンスの制限により、package は利用できません。
	  インストールしたら、以下のように入力してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mencoder <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">input.avi</replaceable> -oac mp3lame -lameopts br=192 \
	 -ovc lavc -lavcopts vcodec=mpeg4:vhq -o <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">output.avi</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは <command xmlns:xlink="http://www.w3.org/1999/xlink">mplayer</command> や
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">xine</command>
	  といったアプリケーションで再生可能な出力ファイルを作成します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> タイトルを直接再エンコードするためには、
	  上記のコマンドラインの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">input.avi</replaceable></filename> を
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">dvd://1 -dvd-device /dev/dvd</option> に置き換えて、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で実行します。
	  期待する結果を得るには何度か繰り返すことになるので、
	  かわりにタイトルをファイルにダンプして、
	  ファイルに対して作業することをおすすめします。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-xine">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application> ビデオプレイヤ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application> は、
	  再利用可能な基本ライブラリと、
	  プラグインで拡張できる実行可能なモジュールを提供するビデオプレイヤです。
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/xine</package> package
	  または port からインストールできます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">実用上、<application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application>
	  を使用するには高速なビデオカードとともに高速な CPU があるか、
	  またはビデオカードが XVideo 拡張に対応している必要があります。
	  XVideo インタフェースとともに <application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application>
	  ビデオプレイヤを使うのが最良です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、<application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application> プレイヤは
	  GUI 付きで起動するでしょう。
	  メニューを使用して特定のファイルを開くことができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">xine</application> は、
	  再生するファイル名を指定することで、
	  コマンドラインから実行することもできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xine -g -p <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">mymovie.avi</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.xine-project.org/faq">
	    xine-project.org/faq</link>
	  には、より多くの情報やトラブルシューティングがあります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="video-ports-transcode">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Transcode</application> ユーティリティ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Transcode</application> は、
	  ビデオおよびオーディオファイルを再エンコードするためのツール一式です。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Transcode</application> を使えば、stdin/stdout
	  ストリームインタフェースとともにコマンドラインツールを用いることで、
	  ビデオファイルの統合や、壊れたファイルの修復ができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、<application xmlns:xlink="http://www.w3.org/1999/xlink">Transcode</application> は、
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/transcode</package> package
	  もしくは port からインストールできます。
	  多くのユーザは port からコンパイルすることを好みます。
	  port では、
	  コンパイルで有効にするサポートやコーデックを指定するコンパイルオプションのメニューを利用できるためです。
	  オプションを選択しないと、<application xmlns:xlink="http://www.w3.org/1999/xlink">Transcode</application>
	  は、その形式をエンコード出来ないでしょう。
	  矢印キーとスペースバーを使って、
	  必要とするフォーマットを選択してください。
	  選択が終わったら、
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycap> を押して、port
	  のコンパイルとインストールを続けてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、DivX ファイルを
	  PAL MPEG-1 (PAL VCD) に変換する使用例を示します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">transcode -i
<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">input.avi</replaceable> -V --export_prof vcd-pal -o output_vcd</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mplex -f 1 -o <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">output_vcd.mpg output_vcd.m1v output_vcd.mpa</replaceable></userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">作成された <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MPEG</acronym> ファイル、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">output_vcd.mpg</replaceable></filename> は、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">MPlayer</application> を使って再生できます。
	  また、<package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/vcdimager</package>
	  および <package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrdao</package>
	  といったユーティリティを使って、
	  ファイルを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	  メディアに書き込むことでビデオ
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> も作成できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">transcode</command> のマニュアルページに加え、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.transcoding.org/cgi-bin/transcode">transcoding.org/cgi-bin/transcode</link>
	  から、更なる情報や使用例を得てください。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tvcard">
    <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">TV カードの設定</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Josef</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">El-Rayes</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib>
      </author>
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib> <!-- 2004 年 1 月 -->
      </author>
    </authorgroup>
  </info>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">TV カード</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">TV カードを使用することで、
      TV 放送をコンピュータで見ることができます。
      これらの多くのカードは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RCA</acronym>
      または S-video 入力端子を備えており、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FM</acronym> ラジオチューナを装備したカードもあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、Brooktree Bt848/849/878/879
      をビデオキャプチャチップに採用した PCI TV カードに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
      ドライバで対応しています。
      このドライバは、ほとんどの Pinnacle PCTV ビデオカードに対応しています。
      TV カードを購入する前に、対応しているチューナの一覧について、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を参照してください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ドライバを読み込む</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カードを使用するには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	ドライバを読み込む必要があります。
	起動時に自動的に読み込むためには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	に以下の行を追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bktr_load="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるいは、カスタムカーネルに TV
	ビデオカードへのサポートを静的に組み込むこともできます。
	この場合には、
	次の行をカーネルコンフィギュレーションファイルに追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device	 bktr
device	iicbus
device	iicbb
device	smbus</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カードコンポーネントは I2C バス経由で連結されているため、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバに加えてこれらのデバイスが必要になります。
	編集したら新しいカーネルを構築し、インストールします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">チューナが適切に検出されたかどうかを確認するため、
	システムを再起動してください。
	起動時のメッセージに TV カードが以下のように認識されるでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bktr0: &lt;BrookTree 848A&gt; mem 0xd7000000-0xd7000fff irq 10 at device 10.0 on pci0
iicbb0: &lt;I2C bit-banging driver&gt; on bti2c0
iicbus0: &lt;Philips I2C bus&gt; on iicbb0 master-only
iicbus1: &lt;Philips I2C bus&gt; on iicbb0 master-only
smbus0: &lt;System Management Bus&gt; on bti2c0
bktr0: Pinnacle/Miro TV, Philips SECAM tuner.</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのメッセージはハードウェアに応じて異なります。
	必要であれば、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や、
	カーネルコンフィギュレーションファイルオプションで、
	検知されたいくつかのパラメータを変更できます。
	たとえば、チューナを Philips SECAM
	チューナとして検知されるようにするには、
	カーネルコンフィギュレーションファイルに以下の行を追加します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options OVERRIDE_TUNER=6</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または、直接 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用して変更します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl hw.bt848.tuner=6</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">利用可能な <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	パラメータおよびカーネルオプションについては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">便利なアプリケーション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">TV カードを使用するためには、
	以下のアプリケーションの一つをインストールする必要があります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/fxtv</package>
	    はウィンドウ内に TV 映像を映します。
	    画像/音声/ビデオを取り込むこともできます。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/xawtv</package>
	    も同様の機能を持った TV アプリケーションです。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">audio/xmradio</package>
	    は TV カードに搭載された FM
	    ラジオチューナを使用するためのアプリケーションです。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他にも多くのアプリケーションが FreeBSD の
	Ports Collection に収録されています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">TV カードに関する問題が起きたときには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bktr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	が本当にビデオキャプチャチップおよびチューナに対応しているか、
	オプションが正しく設定されているかどうかをまず確認してください。
	TV カードに関するサポートや質問に関しては、
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-multimedia">freebsd-multimedia</link>
	メーリングリストを参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mythtv">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">MythTV</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">MythTV は、広く使われているオープンソースの Personal Video Recorder
      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PVR</acronym>) アプリケーションです。
      この節では、FreeBSD に MythTV をインストールし、
      設定する方法について説明します。
      MythTV の使用法に関するより詳細な情報については、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mythtv.org/wiki/">mythtv.org/wiki</link>
      をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">MythTV は、フロントエンドおよびバックエンドを必要とします。
      これらは、同じシステム上でも、
      異なるコンピュータ上でも動かすことが可能です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">フロントエンドについては、
      <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/mythtv-frontend</package> package または port
      から FreeBSD にインストールできます。
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="x11"/> で説明されているように、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
      をインストールして設定する必要もあります。
      このシステムは X-Video Motion Compensation
      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">XvMC</acronym>) に対応し、
      オプションとして、Linux Infrared Remote Control
      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">LIRC</acronym>)-互換のリモートに対応したビデオカードを持っていることが理想的です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD にバックエンドとフロントエンドの両方をインストールするには、
      <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/mythtv</package> package または port
      を使ってください。
      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">MySQL</trademark> データベースサーバも必要となりますが、
      自動的に依存でインストールされます。オプションで、
      チューナカードと録音したデータを保存するためのストレージが必要です。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">MythTV は、
	エンコーダやチューナなどのビデオ入力デバイスへのアクセスに
	Video for Linux (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">V4L</acronym>) を用います。
	FreeBSD では、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> DVB-S/C/T
	カードにおいて最もよく動作します。
	なぜならば、このカードは、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">V4L</acronym> ユーザランドアプリケーションを提供する
	<package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/webcamd</package> package または port
	により良くサポートされているためです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">webcamd</application> により対応している
	Digital Video Broadcasting (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVB</acronym>)
	カードは、MythTV で動作するはずです。
	動作することが知られているカードの一覧が
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/WebcamCompat">wiki.freebsd.org/WebcamCompat</link>
	にあります。
	Hauppauge カードのドライバもまた、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/pvr250</package>
	および <package xmlns:xlink="http://www.w3.org/1999/xlink">multimedia/pvrxxx</package>
	port として利用可能ですが、
	標準的ではないドライバのインタフェースを提供しており、
	0.23 より後の MythTV では動作しません。
	ライセンスの制限により、package は利用できません。
	そのため、これらの ports はコンパイルをしなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://wiki.freebsd.org/HTPC">wiki.freebsd.org/HTPC</link>
	ページは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVB</acronym>
	ドライバのすべての一覧を提供しています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">MythTV バックエンドの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">port を使って MythTV をインストールしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/multimedia/mythtv</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールが終わったら、
	MythTV データベースを設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mysql -uroot -p &lt; /usr/local/share/mythtv/database/mc.sql</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その後、バックエンドを設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mythtv-setup</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後にバックエンドを起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo 'mythbackend_enable="YES"' &gt;&gt; /etc/rc.conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">service mythbackend start</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="scanners">
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">画像スキャナ</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib> <!-- in August 2004-->
	</author>
      </authorgroup>
    </info>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">画像スキャナ</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、画像スキャナに対するアクセスは
      <application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application> (Scanner Access Now Easy)
      によって実現されており、
      FreeBSD の Ports Collection で提供されています。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application>
      はスキャナのハードウェアにアクセスするために
      FreeBSD デバイスドライバを使用します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> 接続および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
      接続のスキャナのどちらにも対応しています。
      スキャナのインタフェースに依存して、異なるドライバが必要となります。
      設定を始める前に、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application>
      がスキャナに対応していることを確認してください。
      対応しているスキャナに関してのより詳細な情報については、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sane-project.org/sane-supported-devices.html">
      http://www.sane-project.org/sane-supported-devices.html</link>
      をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD
      がどのようにしてスキャナを認識するかについて説明します。
      その後、FreeBSD システム上で <application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application>
      を設定して使用する方法の概要について説明します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="scanners-kernel-usb">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">スキャナの確認</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルには <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
	スキャナに対応するためのデバイスドライバが搭載されています。
	カスタムカーネルを使用する際には、
	以下の行がカーネルコンフィグレーションファイルにあることを確認してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device usb
device uhci
device ohci
device ehci</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スキャナが認識されたかを確認するには、
	スキャナを接続して、<command xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</command> を利用し、
	システムメッセージバッファで、
	スキャナが認識されているかどうかを確認してください。
	認識されていたら、以下のようなメッセージが表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ugen0.2: &lt;EPSON&gt; at usbus0</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">EPSON
  Perfection</trademark> 1650
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スキャナが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ugen0.2</filename>
	上で認識されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スキャナのインタフェースが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> であれば、
	どの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
	コントローラボードを使用するかを知ることが重要です。
	使用する <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> チップセットによって、
	カスタムカーネルコンフィグレーションファイルを調整する必要があります。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルは、
	一般に使用される <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
	コントローラのほとんどに対応しています。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/sys/conf/NOTES</filename> ファイルを読んで、
	適切な行をカーネルコンフィグレーションファイルに追加してください。
	また、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> アダプタドライバに加えて、
	以下の行をカスタムカーネルコンフィグレーションファイルに記述する必要があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device scbus
device pass</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスがメッセージバッファに出力されていることを確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">pass2 at aic0 bus 0 target 2 lun 0
pass2: &lt;AGFA SNAPSCAN 600 1.10&gt; Fixed Scanner SCSI-2 device
pass2: 3.300MB/s transfers</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムを起動する際にスキャナの電源を入れてなければ、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">camcontrol</command> を使用して
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> バスをスキャンし、
	以下のように手動でデバイスを検出させることもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">camcontrol rescan all</userinput>
Re-scan of bus 0 was successful
Re-scan of bus 1 was successful
Re-scan of bus 2 was successful
Re-scan of bus 3 was successful</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すると、スキャナは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
	デバイスの一覧に現れるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">camcontrol devlist</userinput>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 5 lun 0 (pass0,da0)
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 6 lun 0 (pass1,da1)
&lt;AGFA SNAPSCAN 600 1.10&gt;           at scbus1 target 2 lun 0 (pass3)
&lt;PHILIPS CDD3610 CD-R/RW 1.00&gt;     at scbus2 target 0 lun 0 (pass2,cd0)</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> デバイスについての詳細は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">scsi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">camcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application> の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application> システムは、
	二つの部分、すなわちバックエンド
	(<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sane-backends</package>)
	とフロントエンド
	(<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sane-frontends</package>
	もしくは、<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/xsane</package>)
	に分割されています。
	バックエンドはスキャナに対するアクセスを提供します。
	どのバックエンドが画像スキャナに対応しているかについては、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sane-project.org/sane-supported-devices.html">http://www.sane-project.org/sane-supported-devices.html</link>
	を参照してください。
	フロントエンドはグラフィカルなスキャニングインタフェースを提供します。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sane-frontends</package> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xscanimage</application> をインストールし、一方、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/xsane</package> は、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xsane</application> をインストールします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sane-backends</package>
	port または package をインストールしたら、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">sane-find-scanner</command> コマンドを使用して、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application>
	システムで検出されているスキャナを確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sane-find-scanner -q</userinput>
found SCSI scanner "AGFA SNAPSCAN 600 1.10" at /dev/pass3</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この出力から、
	スキャナインタフェースの種類と
	システムに接続されているスキャナが使用するデバイスノードがわかります。
	ベンダ名や製品のモデル名は表示されないかも知れません。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
	  スキャナではファームウェアを読み込む必要がある場合があります。
	  詳細については、sane-find-scanner(1) および
	  sane(7) を参照してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、スキャナがフロントエンドで認識されるか調べてください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">SANE</application> のバックエンドには
	<command xmlns:xlink="http://www.w3.org/1999/xlink">scanimage</command> が付属します。
	このコマンドを使用すると、
	デバイスの一覧を表示したり画像を取得することができます。
	スキャナデバイスの一覧を表示するには、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-L</option> オプションを使ってください。
	以下の最初の例は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> スキャナ用のもので、
	次の例は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スキャナ用のものです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">scanimage -L</userinput>
device `snapscan:/dev/pass3' is a AGFA SNAPSCAN 600 flatbed scanner
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">scanimage -L</userinput>
device 'epson2:libusb:/dev/usb:/dev/ugen0.2' is a Epson GT-8200 flatbed scanner</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 番目の出力の中で、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">'epson2:libusb:/dev/usb:/dev/ugen0.2'</literal>
	がスキャナが使用するバックエンド名
	(<literal xmlns:xlink="http://www.w3.org/1999/xlink">epson2</literal>) および
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ugen0.2</literal> は、デバイスノードです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scanimage</command> がスキャナの認識に失敗した場合には、
	以下のようなメッセージが表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">scanimage -L</userinput>

No scanners were identified. If you were expecting something different,
check that the scanner is plugged in, turned on and detected by the
sane-find-scanner tool (if appropriate). Please read the documentation
which came with this software (README, FAQ, manpages).</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このような場合には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/sane.d/</filename>
	にあるバックエンドの設定ファイルを編集して、
	使用するスキャナデバイスを設定してください。
	例えば、認識されなかったスキャナのモデルが、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">EPSON
  Perfection</trademark> 1650 で、<literal xmlns:xlink="http://www.w3.org/1999/xlink">epson2</literal>
	バックエンドを使っているのであれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/sane.d/epson2.conf</filename>
	を編集してください。
	編集作業を行う際には、
	使用するインタフェースとデバイスノードを指定する行を追加します。
	この例では、以下の行を追加します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">usb /dev/ugen0.2</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">編集を保存し、
	適切なバックエンド名とデバイスノードでスキャナが認識されたかどうかを確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">scanimage -L</userinput>
device 'epson2:libusb:/dev/usb:/dev/ugen0.2' is a Epson GT-8200 flatbed scanner</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scanimage -L</command>
	を実行してスキャナが認識されたことがわかれば、設定は終了です。
	スキャナを使用する準備ができました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scanimage</command>
	を使用してコマンドラインから画像を取得することができますが、
	GUI を使用して画像を取得できるとより望ましいでしょう。
	<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/sane-frontends</package>
	package および port は、シンプルですが、
	効率的なグラフィカルインタフェース
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xscanimage</application>
	をインストールします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一方、<package xmlns:xlink="http://www.w3.org/1999/xlink">graphics/xsane</package>
	package または port からインストールされる
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xsane</application> は、
	広く使われているもう一つのグラフィカルなスキャニングフロントエンドです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Xsane</application> には、さまざまなスキャニングモード、
	色補正、バッチスキャンなど先進的な機能があります。
	これらのアプリケーションの両方とも <application xmlns:xlink="http://www.w3.org/1999/xlink">GIMP</application>
	のプラグインとして使用することができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">スキャナの許可属性</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スキャナにアクセスするには、
	ユーザはスキャナが使用するデバイスノードへの読み込み権限と書き込み権限が必要です。
	今回の例では、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym> スキャナは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ugen0.2</filename> デバイスノードを使用しています。
	このデバイスノードは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/usb/0.2.0</filename> へのシンボリックリンクです
	シンボリックリンクとデバイスノードは、
	それぞれ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> および
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">operator</systemitem>
	グループが所有しています。
	ユーザをこれらのグループに加えると、
	スキャナを使用できるようになりますが、
	ユーザを <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
	に追加することは、セキュリティの観点からお勧めできません。
	良い方法は、
	スキャナデバイスにアクセスできるグループを作成することです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">usb</replaceable></systemitem>
	という名前のグループを作成します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupadd usb</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その後、シンボリックリンク <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ugen0.2</filename>
	および、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/usb/0.2.0</filename> デバイスノードに対して、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">usb</systemitem>
	グループが利用できるように書き込みの許可属性
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">0660</literal> または <literal xmlns:xlink="http://www.w3.org/1999/xlink">0664</literal>
	を設定してください。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/devfs.rules</filename>
	に次の行を追加すれば設定できます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">[system=5]
add path ugen0.2 mode 0660 group usb
add path usb/0.2.0 mode 0666 group usb</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、スキャナを利用するユーザを <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">usb</replaceable></systemitem>
	グループに追加してスキャナを利用できるようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupmod usb -m <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">joe</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46043
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="kernelconfig">
<!--<chapterinfo>
    <authorgroup>
      <author>
	<firstname>Jim</firstname>
	<surname>Mock</surname>
	<contrib>改訂および再構成 (2000 年 3 月): </contrib>
      </author>
    </authorgroup>
    <authorgroup>
      <author>
	<firstname>Jake</firstname>
	<surname>Hamby</surname>
	<contrib>原作 (1995 年 10 月 6 日): </contrib>
      </author>
    </authorgroup>
  </chapterinfo>
  -->

  <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD カーネルのコンフィグレーション</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <!--
    <para><emphasis>訳: &a.jp.tomo;、&a.jp.yoshiaki; 1996 年 11 月 2 日</emphasis></para>
    -->
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルの構築</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルは FreeBSD オペレーティングシステムの中核をなすものです。
      カーネルは、メモリ管理、セキュリティ制御の強制、ネットワーク、
      ディスクアクセスなどを担っています。
      FreeBSD の大部分は動的に構成することができるようになっていますが、
      まだ、時にはカスタムカーネルを設定してコンパイルする必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、以下のことを扱っています。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">いつカスタムカーネルの構築が必要になるか。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア一覧の作成方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションファイルのカスタマイズの方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションファイルから新しいカーネルを構築する方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルのインストール方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">うまく行かないときの問題解決法。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章で表示されているすべてのコマンドは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で実行する必要があります。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-custom-kernel">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">なぜカスタムカーネルを作るか?</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">伝統的に、FreeBSD はモノリシック
      (monolithic) カーネルを使っていました。
      このカーネルは、単一の巨大なプログラムで、
      扱えるデバイスは固定されていて、
      カーネルの振る舞いを変えたければ構築してコンピュータを再起動し、
      新しいカーネルを動かさなれければなりませんでした。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">今日では、FreeBSD
      カーネルのかなりの機能はモジュールに含まれるようになり、
      必要に応じて動的にカーネルに組み込んだり外したりできるようになりました。
      この移行により、
      動作しているカーネルが新しいハードウェアに迅速に対応したり、
      カーネルに新たな機能を取り入れられるようになります。
      このようなカーネルは、モジュラ (modular) カーネルと呼ばれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、
      いまだにいくらかは静的にカーネルを構成する必要があります。
      機能がカーネルとあまりに密接に結びついているため、
      動的に組み込むことができない場合があるためです。
      環境によっては、セキュリティの観点から、
      カーネルモジュールを読み込んだり外すことができず、
      必要となる機能を静的にカーネルにコンパイルしなければならない場合もあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムに合わせたカーネルを構築することは、多くの場合、
      高度な知識を持つ BSD ユーザが避けて通ることのできない通過儀礼です。
      この作業は多くの時間を必要としますが、FreeBSD
      システムに利益をもたらします。
      広範囲のハードウェアをサポートしなければならない
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルとは異なり、カスタムカーネルは、
      使用しているコンピュータのハードウェアのみをサポートするように、
      必要のない機能を省くことができます。これは、
      次にあげるような利益をもたらします。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">素早く起動します。
	  カーネルはシステム上にあるハードウェアしか検出しないので、
	  システムの起動にかかる時間を短くできます。
	</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">メモリの消費量を減らすことができます。
	  システムに合わせたカーネルは、
	  使用しない機能やデバイスドライバを含まないので、
	  大抵 <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルより少ないメモリしか消費しません。
	  カーネルコードは常に物理メモリ上に存在し、
	  アプリケーションはその容量分のメモリを使用できないので、
	  これは重要なことです。
	  したがって、メモリが少ないシステムでは、
	  カーネルの再構築は重要です。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">追加のハードウェアをサポートします。
	  カスタムカーネルは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルに存在しないデバイスのサポートを追加することができます。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルを構築する前に、再構築する理由を考えてください。
      ある特定のハードウェアに対応する必要がある場合に、
      そのハードウェアに対応するためのモジュールがすでに用意されていることがあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルモジュールは
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel</filename>
      にあります。モジュールによっては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> により、
      すでに実行中のカーネルに動的に読み込まれています。
      ほとんどのカーネルドライバには、
      読み込み可能なモジュールやマニュアルページが用意されています。
      たとえば、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ath</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
      ワイヤレスイーサネットドライバのマニュアルページには以下のような記述があります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">Alternatively, to load the driver as a module at boot time, place the
following line in <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>:

    if_ath_load="YES"</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename> に
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">if_ath_load="YES"</literal> を追加すると、
      起動時にモジュールが読み込まれるようになります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">対応するモジュールが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel</filename>
      に存在しないこともあります。
      特定のサブシステムでは、ほとんど多くの場合存在しません。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-devices">
    <!--
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Tom</firstname>
	  <surname>Rhodes</surname>
	  <contrib>寄稿: </contrib>
	</author>
      </authorgroup>
    </sect1info>
    -->
    <title xmlns:xlink="http://www.w3.org/1999/xlink">システムのハードウェアについて知る</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションファイルの編集を始める前に、
      コンピュータのハードウェア一覧を作成すると良いでしょう。
      デュアルブートシステムでは、
      現在インストールされている別のオペレーティングシステムの設定を調べることで、
      一覧を作成できます。
      たとえば、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> の
      <application xmlns:xlink="http://www.w3.org/1999/xlink">デバイスマネージャ</application>
      は、インストールされているデバイスに関する情報を持っています。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> のバージョンによっては、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">システム</application> アイコンを使って、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">デバイスマネージャ</application>
	にアクセスできます。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされているオペレーティングシステムが FreeBSD
      だけであれば、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使い、
      起動時に検出されたハードウェアの一覧を調べてください。
      FreeBSD のほとんどのデバイスドライバにはマニュアルページが用意され、
      対応しているハードウェアの一覧を提供しています。
      たとえば、以下の行は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">psm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
      ドライバがマウスを検出したことを示しています。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink">psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: [GIANT-LOCKED]
psm0: [ITHREAD]
psm0: model Generic PS/2 mouse, device ID 0</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このハードウェアはシステムに存在するので、
      カスタムカーネルコンフィグレーションファイルからこのドライバを外さないでください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</command> が起動時の検出結果を表示しない場合には、
      かわりに <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/run/dmesg.boot</filename>
      で出力を確認してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアを見つけるためのもうひとつのツールは、
      より冗長な出力を行う <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pciconf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> です。
      たとえば、以下のようになります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pciconf -lv</userinput>
ath0@pci0:3:0:0:        class=0x020000 card=0x058a1014 chip=0x1014168c rev=0x01 hdr=0x00
    vendor     = 'Atheros Communications Inc.'
    device     = 'AR5212 Atheros AR5212 802.11abg wireless'
    class      = network
    subclass   = ethernet</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この出力は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ath</filename>
      ドライバがワイヤレスイーサネットデバイスにあることを示しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">man</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を <option xmlns:xlink="http://www.w3.org/1999/xlink">-k</option> フラグで実行すると、
      有用な情報を得ることができます。たとえば、
      ある特定の単語を含むマニュアルページの一覧を表示するには、
      以下のようになります。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">man -k <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Atheros</replaceable></userinput></screen>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ath(4)                   - Atheros IEEE 802.11 wireless network driver
ath_hal(4)               - Atheros Hardware Access Layer (HAL)</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアの一覧を作成したら、
      この一覧を利用して、
      カスタムカーネルのコンフィグレーションファイルを編集している時に、
      インストールされているハードウェアのドライバが削除されていないことを確認してください。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-config">
    <!--
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Joel</firstname>
	  <surname>Dahl</surname>
	  <contrib>改訂: </contrib>
	</author>
      </authorgroup>
    </sect1info>
-->
    <title xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーションファイル</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルのコンフィグレーションファイルを作成し、
      カスタムカーネルを構築するには、
      FreeBSD の全ソースツリーがまずインストールされている必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/</filename>
      が存在していなかったり、空であれば、
      カーネルのソースはインストールされていません。
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn"/> で説明した
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
      を使ってソースをインストールしてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ソースをインストールしたら、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/sys</filename> を確認して下さい。
      このディレクトリには、いくつものサブディレクトリがあります。
      その中には、サポートされている各アーキテクチャ
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">amd64</filename>,
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">i386</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">ia64</filename>,
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">pc98</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">powerpc</filename> および
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">sparc64</filename> のサブディレクトリがあります。
      各アーキテクチャのディレクトリ内部にあるファイルはすべてそのアーキテクチャでのみ使用されます。
      残りのコードは、アーキテクチャに依存しない、
      すべてのプラットフォームで共有されるコードです。
      サポートされている各アーキテクチャには、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">conf</filename> サブディレクトリがあり、
      そのアーキテクチャ用の <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      カーネルコンフィグレーションファイルが用意されています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> は編集しないでください。
      かわりに、このファイルを別名でコピーし、コピーを編集してください。
      慣習として、この名前はすべて大文字でつづられます。もし、
      いくつかの異なるハードウェアの FreeBSD マシンを扱うなら、
      この名前にホスト名を含めるとよいでしょう。ここでは、例として
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</filename> という名前の
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">amd64</literal> アーキテクチャ用の <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      コンフィグレーションファイルのコピーを作成します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">amd64</replaceable>/conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp GENERIC <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</replaceable></userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、<filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</replaceable></filename>
      を <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</acronym> テキストエディタで編集できます。
      初心者に対してより簡単なエディタである
      <application xmlns:xlink="http://www.w3.org/1999/xlink">ee</application> も FreeBSD
      とともにインストールされていますが、
      デフォルトのエディタは <application xmlns:xlink="http://www.w3.org/1999/xlink">vi</application> です。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">NOTES</secondary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NOTES</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーションファイル</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーションファイルのフォーマットはシンプルです。
      各行はデバイスやサブシステム、引数、または簡単な説明を含んでいます。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal> に続くテキストはすべてコメントとして扱われ、
      無視されます。
      カーネルからデバイスもしくはサブシステムのサポートを外すには、
      対応する行の最初に <literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal> を入れてください。
      理解していない行に対しては、<literal xmlns:xlink="http://www.w3.org/1999/xlink">#</literal>
      を追加したり削除しないでください。</para>

    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスやオプションのサポートを外すことは簡単で、
	その結果、カーネルを壊すことがあります。
	たとえば <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ata</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	ドライバをカーネルコンフィグレーションファイルから除くと、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATA</acronym>
	ディスクドライバを用いているシステムは起動しません。
	確信が持てないものについては、
	カーネルにサポートを残したままにしてください。</para>
    </warning>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルで与えられる説明の他に、
      そのアーキテクチャの <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      と同じディレクトリにある
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">NOTES</filename> にも説明があります。
      アーキテクチャに依存しないオプションについては、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/sys/conf/NOTES</filename> をご覧ください。</para>

    <tip xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションファイルの編集を終えたら、
	ファイルのバックアップを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>
	以外の場所に保存してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または、カーネルコンフィグレーションファイルは他の場所において、
	シンボリックリンクを張る方法もあります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/amd64/conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /root/kernels</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp GENERIC /root/kernels/MYKERNEL</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /root/kernels/MYKERNEL</userinput></screen>
    </tip>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーションファイルでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">include</literal>
      ディレクティブを利用できます。
      コンフィグレーションファイルに他のファイルを取り込むことができるので、
      すでに存在するファイルに対する小さな変更の管理が簡単にできます。
      オプションやドライバの追加が少しだけの場合には、
      以下の例のように <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      からの差分による管理が可能になります。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">include GENERIC
ident MYKERNEL

options         IPFIREWALL
options         DUMMYNET
options         IPFIREWALL_DEFAULT_TO_ACCEPT
options         IPDIVERT</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法では、ローカルのコンフィグレーションファイルには、
      ローカルにある <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      カーネルとの差分が記述されています。
      アップグレードが行われると、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> に追加された新しい機能は、
      (<literal xmlns:xlink="http://www.w3.org/1999/xlink">nooptions</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">nodevice</literal>
      によって外されない限り) ローカルのカーネルにも反映されます。
      コンフィグレーションの構成要素に関する包括的な一覧と説明は
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">config</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> にあります。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">利用可能なすべてのオプションを含むファイルを構築するには、
	以下のコマンドを <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>/conf &amp;&amp; make LINT</userinput></screen>
    </note>

<!--
    <indexterm>
      <primary>カーネルオプション</primary>
      <secondary>ident</secondary>
    </indexterm>

This is outdated and specific to one architecture.

    <programlisting>ident          GENERIC</programlisting>

    <para>これはカーネルの識別名です。
      たとえば、<literal><replaceable>MYKERNEL</replaceable></literal>
      のように、新しいカーネルに付けたい名前に書き換えて下さい。
      <literal>ident</literal> に書いた値はカーネルを起動する時に表示されます。</para>

    <programlisting>makeoptions     DEBUG=-g          # Build kernel with gdb(1) debug symbols</programlisting>

    <para>このオプションは &man.gcc.1;
      がデバッグ情報を生成するようにします。</para>

    <programlisting>options          SCHED_ULE         # ULE scheduler</programlisting>

    <para>&os; のデフォルトのスケジューラです。
      このオプションはこのままにしてください。</para>

    <programlisting>options          INET              # InterNETworking</programlisting>

    <para>ネットワークのサポート。
      ほとんどのプログラムは少なくともループバックネットワークを必要とするので、
      基本的にこの行は必須です。</para>

    <programlisting>options          INET6             # IPv6 communications protocols</programlisting>

    <para>このオプションは IPv6 通信プロトコルを利用可能にします。</para>

    <programlisting>options          FFS               # Berkeley Fast Filesystem</programlisting>

    <para>これは標準のハードドライブファイルシステムです。
      システムがハードディスクから起動する場合は残して下さい。</para>

    <programlisting>options          SOFTUPDATES       # Enable FFS Soft Updates support</programlisting>

    <para>このオプションは、カーネル内の Soft Updates 機能を有効にし、
      ディスクへの高速な書き込みを支援します。
      カーネルがこの機能を提供していても、
      特定のディスクに対してはこのオプションを有効にする必要があります。
      &man.mount.8; の出力を見て、
      Soft Updates が有効になっているかどうかを確認してください。
      <literal>soft-updates</literal> オプションが見当たらなければ、
      現在使用しているファイルシステムには &man.tunefs.8;、
      新規のファイルシステムには &man.newfs.8;
      コマンドで有効にできます。</para>

    <programlisting>options          UFS_ACL           # Support for access control lists</programlisting>

    <para>このオプションは、カーネルのアクセス制御リスト
      (<acronym>ACL</acronym>) のサポートを有効にします。
      この機能は拡張属性および <acronym>UFS2</acronym> が有効になっていることに依存し、
      <xref linkend="fs-acl"/> で機能の説明が行われています。
      <acronym>ACL</acronym> はデフォルトで有効にされています。
      もし、これまでにファイルシステムで有効にしていたのであれば、
      カーネルの中で無効にすべきではありません。
      なぜなら、無効にすると ACL が削除され、
      ファイルの保護が予想できない方法で行われるためです。</para>

    <programlisting>options          UFS_DIRHASH       # Improve performance on big directories</programlisting>

    <para>このオプションは、メモリを多少余分に食うものの、
      大きなディレクトリに対するディスク操作を高速化する機能を有効にします。
      大規模なサーバや対話的なワークステーションではこのオプションを残しておいて、
      ファイアウォールのように、
      メモリが貴重でディスクアクセス速度がそれほど重要でない小規模なシステムでは削除するとよいでしょう。</para>

    <programlisting>options          MD_ROOT           # MD is a potential root device</programlisting>

    <para>このオプションは、メモリディスクによる root デバイスのサポートを有効にします。</para>

    <indexterm>
      <primary>カーネルオプション</primary>
      <secondary>NFS</secondary>
    </indexterm>
    <indexterm>
      <primary>カーネルオプション</primary>
      <secondary>NFS_ROOT</secondary>
    </indexterm>
    <programlisting>options          NFSCLIENT         # Network Filesystem Client
options          NFSSERVER         # Network Filesystem Server
options          NFS_ROOT          # NFS usable as /, requires NFSCLIENT</programlisting>

    <para>ネットワークファイルシステム (<acronym>NFS</acronym>)。
      <acronym>NFS</acronym> ファイルサーバから TCP/IP
      を介してパーティションをマウントするのでない限り、
      これらの行をコメントアウトできます。</para>

    <indexterm>
      <primary>カーネルオプション</primary>
      <secondary>MSDOSFS</secondary>
    </indexterm>
    <programlisting>options          MSDOSFS           # MSDOS Filesystem</programlisting>

    <para>&ms-dos; ファイルシステム。
      起動時に DOS でフォーマットされたハードドライブのパーティションをマウントするのでなければ、
      この行はコメントアウトできます。
      この機能は最初に DOS パーティションをマウントする時に自動的にロードされます。
      <package>emulators/mtools</package> package
      を使うと、マウント、アンマウントすることなしに DOS
      フロッピーにアクセスすることができ、
      <literal>MSDOSFS</literal> を必要としません。</para>

    <programlisting>options          CD9660            # ISO 9660 Filesystem</programlisting>

    <para>CD-ROM 用の ISO 9660 ファイルシステム。
      もしシステムが CD-ROM ドライブを持っていないか、
      ときどきデータ CD をマウントするだけなら、
      データ CD を最初にマウントする時に自動的にロードされるので、
      この行をコメントアウトしてください。
      音楽 CD はこのファイルシステムを必要としません。</para>

    <programlisting>options          PROCFS            # Process filesystem (requires PSEUDOFS)</programlisting>

    <para>プロセスファイルシステム。
      これは <filename>/proc</filename>
      にマウントされるもので、他のプログラムに、
      どんなプロセスが走っているかについて、
      より多くの情報を提供する事ができます。
      ほとんどのデバッグおよびモニタリングツールが
      <literal>PROCFS</literal> なしで起動するので、
      ほとんどの環境では <literal>PROCFS</literal> を必要としません。
      デフォルトのインストールではこのファイルシステムをマウントしません。</para>

    <programlisting>options          PSEUDOFS          # Pseudo-filesystem framework</programlisting>

    <para>カーネルで <literal>PROCFS</literal> を使う場合には、
      <literal>PSEUDOFS</literal> のサポートが必要です。</para>

    <programlisting>options          GEOM_PART_GPT     # GUID Partition Tables.</programlisting>

    <para><link xlink:href="http://en.wikipedia.org/wiki/GUID_Partition_Table">GUID
      パーティションテーブル</link> (<acronym>GPT</acronym>) に対応します。
      GPT では、1 つのディスクに数多くのパーティション
      (標準の構成では最大 128) を作成可能です。</para>

    <programlisting>options          COMPAT_43         # Compatible with BSD 4.3 [KEEP THIS!]</programlisting>

    <para>4.3BSD との互換機能です。
      有効なままにして下さい。
      この行をコメントアウトするとおかしな動きをするプログラムがあります。
    </para>

    <programlisting>options          COMPAT_FREEBSD4   # Compatible with &os;4</programlisting>

    <para>このオプションは、
      古いバージョンの &os; でコンパイルされた古いシステムコールインターフェースを用いるアプリケーションを利用する場合に必要とされます。
      古いアプリケーションを実行するすべての
      &i386; システムで、このオプションの利用を推奨します。
      &os;&nbsp;4.X より後にサポートされた ia64 や &sparc64;
      といったプラットフォームでは、このオプションは必要ありません。</para>

    <programlisting>options          COMPAT_FREEBSD5   # Compatible with &os;5</programlisting>

    <para>このオプションは、
      &os;&nbsp;5.X でコンパイルされた &os;&nbsp;5.X
      のシステムコールインタフェースを用いるアプリケーションを利用する場合に必要とされます。</para>

    <programlisting>options          COMPAT_FREEBSD6   # Compatible with &os;6</programlisting>

    <para>このオプションは、
      &os;&nbsp;6.X でコンパイルされた &os;&nbsp;6.X
      のシステムコールインタフェースを用いるアプリケーションを利用する場合に必要とされます。</para>

    <programlisting>options          COMPAT_FREEBSD7   # Compatible with &os;7</programlisting>

    <para>このオプションは、&os;&nbsp;8 以降において、
      &os;&nbsp;7.X でコンパイルされた &os;&nbsp;7.X
      のシステムコールインタフェースを用いるアプリケーションを利用する場合に必要とされます。</para>

    <programlisting>options          SCSI_DELAY=5000  # Delay (in ms) before probing SCSI</programlisting>

    <para>この行は、カーネルがそれぞれの <acronym>SCSI</acronym>
      機器を検出する前に 5 秒間待つようにします。
      もし、<acronym>SCSI</acronym> 機器が認識されなければ、
      この数字を増やしてください。
      システムが <acronym>SCSI</acronym> ドライブを持っていなければ、
      無視するか、この数字を小さく変更して起動時間を短くできます。
</para>

    <programlisting>options          KTRACE            # ktrace(1) support</programlisting>

    <para>この行はデバッグに役立つカーネルプロセスのトレースを可能にします。</para>

    <programlisting>options          SYSVSHM           # SYSV-style shared memory</programlisting>

    <para>このオプションは System&nbsp;V 共有メモリを提供します。
      この機能の最も一般的な使用方法は X における XSHM 拡張です。
      多くのグラフィックス重視のプログラムではこの機能を自動的に描画のスピードアップに利用します。
      <application>Xorg</application> がインストールされているなら、
      これを含めてください。</para>

    <programlisting>options          SYSVMSG           # SYSV-style message queues</programlisting>

    <para>System&nbsp;V のメッセージのサポート。
      このオプションはカーネルサイズを数百バイト大きくするだけです。
    </para>

    <programlisting>options          SYSVSEM           # SYSV-style semaphores</programlisting>

    <para>System&nbsp;V セマフォのサポート。
      あまり使われませんが、カーネルサイズは数百バイト大きくなるだけです。</para>

    <note>
      <para>&man.ipcs.1; を <option>-p</option>
	で実行すると、これらの System&nbsp;V
	機能を使っているプロセスのリストを表示します。</para>
    </note>

    <programlisting>options 	     _KPOSIX_PRIORITY_SCHEDULING # POSIX P1003_1B real-time extensions</programlisting>

    <para>リアルタイム拡張が 1993 &posix; に追加されました。
      Ports Collection
      の内のいくつかのアプリケーションはこれを使っています。</para>

    <programlisting>options          KBD_INSTALL_CDEV  # install a CDEV entry in /dev</programlisting>

    <para>キーボードデバイスノードを <filename>/dev</filename>
      に作成するにはこのオプションが必要です。</para>

    <indexterm>
      <primary>カーネルオプション</primary>
      <secondary>SMP</secondary>
    </indexterm>
    <programlisting>device          apic               # I/O APIC</programlisting>

    <para>このデバイスは、I/O APIC の割り込みを有効にします。
      ユニプロセッサおよび SMP カーネル両方で使用できますが、
      SMP カーネルでは必須です。
      マルチプロセッサに対応するには
      <literal>options SMP</literal> を追加してください。</para>

    <note>
      <para>このデバイスは &i386; アーキテクチャにのみ存在します。
	他のアーキテクチャでは、この行を含まないでください。</para>
    </note>

    <programlisting>device          eisa</programlisting>

    <para>システムが EISA マザーボードを持っている場合、
      この行を含めて下さい。これは EISA
      バスに接続されているすべてのデバイスの自動検出と設定を可能にします。</para>

    <programlisting>device          pci</programlisting>

    <para>システムが PCI マザーボードを持っている場合、この行を含めて下さい。
      これは PCI カードの自動検出と PCI から ISA
      バスへのゲートウエイを可能にします。</para>

    <programlisting># Floppy drives
device          fdc</programlisting>

    <para>これはフロッピーディスクコントローラです。</para>

    <programlisting># ATA and ATAPI devices
device          ata</programlisting>

    <para>このドライバはすべての ATA と ATAPI デバイスをサポートします。
      最近のマシンでは <literal>device ata</literal> 行を
      1 行書くだけですべての PCI ATA/ATAPI デバイスを検出することができます。</para>

    <programlisting>device          atadisk                 # ATA disk drives</programlisting>

    <para>ATA ディスクドライブには <literal>device ata</literal>
      と共にこの行が必要です。</para>

    <programlisting>device          ataraid                 # ATA RAID drives</programlisting>

    <para>ATA RAID ドライブには
      <literal>device ata</literal> と共にこのデバイスが必要です。</para>

    <programlisting><anchor xml:id="kernelconfig-atapi"/>device          atapicd                 # ATAPI CDROM drives</programlisting>

    <para>ATAPI CDROM ドライブには <literal>device ata</literal>
      と共にこの行が必要です。</para>

    <programlisting>device          atapifd                 # ATAPI floppy drives</programlisting>

    <para>ATAPI フロッピードライブには <literal>device ata</literal>
      と共にこの行が必要です。</para>

    <programlisting>device          atapist                 # ATAPI tape drives</programlisting>

    <para>ATAPI テープドライブには <literal>device ata</literal>
      と共にこの行が必要です。</para>

    <programlisting>options         ATA_STATIC_ID           # Static device numbering</programlisting>

    <para>この行はコントローラ番号を静的に割り当てます。
      このオプションがない場合、デバイス番号は動的に割り当てられます。</para>

    <programlisting># SCSI Controllers
device          ahb        # EISA AHA1742 family
device          ahc        # AHA2940 and onboard AIC7xxx devices
options         AHC_REG_PRETTY_PRINT    # Print register bitfields in debug
                                        # output.  Adds ~128k to driver.
device          ahd        # AHA39320/29320 and onboard AIC79xx devices
options         AHD_REG_PRETTY_PRINT    # Print register bitfields in debug
                                        # output.  Adds ~215k to driver.
device          amd        # AMD 53C974 (Teckram DC-390(T))
device          isp        # Qlogic family
#device         ispfw      # Firmware for QLogic HBAs- normally a module
device          mpt        # LSI-Logic MPT-Fusion
#device         ncr        # NCR/Symbios Logic
device          sym        # NCR/Symbios Logic (newer chipsets + those of `ncr')
device          trm        # Tekram DC395U/UW/F DC315U adapters

device          adv        # Advansys SCSI adapters
device          adw        # Advansys wide SCSI adapters
device          aha        # Adaptec 154x SCSI adapters
device          aic        # Adaptec 15[012]x SCSI adapters, AIC-6[23]60.
device          bt         # Buslogic/Mylex MultiMaster SCSI adapters

device          ncv        # NCR 53C500
device          nsp        # Workbit Ninja SCSI-3
device          stg        # TMC 18C30/18C50</programlisting>

    <para>このセクションでは、
      システムにない SCSI コントローラはコメントアウトして下さい。
      もし IDE しかないシステムならこれらすべてを削除できます。
      <literal>*_REG_PRETTY_PRINT</literal> 行は、
      対応するドライバに対するデバッグオプションです。</para>

    <programlisting># SCSI peripherals
device          scbus      # SCSI bus (required for SCSI)
device          ch         # SCSI media changers
device          da         # Direct Access (disks)
device          sa         # Sequential Access (tape etc)
device          cd         # CD
device          pass       # Passthrough device (direct SCSI access)
device          ses        # SCSI Environmental Services (and SAF-TE)</programlisting>

    <para>システムにない SCSI 周辺機器はコメントアウトしてください。
      もし IDE しか持っていないならこれらを完全に削除できます。</para>

    <note>
      <para>USB &man.umass.4; ドライバ、およびその他のいくつかのドライバは、
	本当の SCSI デバイスではないにもかかわらず、
	SCSI サブシステムを利用します。
	そのようなドライバがカーネルコンフィグレーションに含まれている場合には、
	SCSI サポートを削除しないでください。</para>
    </note>

    <programlisting># RAID controllers interfaced to the SCSI subsystem
device          amr        # AMI MegaRAID
device          arcmsr     # Areca SATA II RAID
device          asr        # DPT SmartRAID V, VI and Adaptec SCSI RAID
device          ciss       # Compaq Smart RAID 5*
device          dpt        # DPT Smartcache III, IV - See NOTES for options
device          hptmv      # Highpoint RocketRAID 182x
device          hptrr      # Highpoint RocketRAID 17xx, 22xx, 23xx, 25xx
device          iir        # Intel Integrated RAID
device          ips        # IBM (Adaptec) ServeRAID
device          mly        # Mylex AcceleRAID/eXtremeRAID
device          twa        # 3ware 9000 series PATA/SATA RAID

# RAID controllers
device          aac        # Adaptec FSA RAID
device          aacp       # SCSI passthrough for aac (requires CAM)
device          ida        # Compaq Smart RAID
device          mfi        # LSI MegaRAID SAS
device          mlx        # Mylex DAC960 family
device          pst        # Promise Supertrak SX6000
device          twe        # 3ware ATA RAID</programlisting>

    <para>サポートされる RAID コントローラです。
      システムがこれらのどれも持っていない場合には、
      すべてをコメントアウトもしくは削除してください。</para>

    <programlisting># atkbdc0 controls both the keyboard and the PS/2 mouse
device          atkbdc     # AT keyboard controller</programlisting>

    <para><literal>atkbdc</literal> キーボードコントローラは
      AT キーボードおよび PS/2 スタイルポインティングデバイスの
      I/O サービスを提供します。
      &man.atkbd.4; および &man.psm.4;
      はこのコントローラを必要とします。</para>

    <programlisting>device          atkbd      # AT keyboard</programlisting>

    <para>&man.atkbd.4; ドライバ。
      &man.atkbdc.4; コントローラと協調して動作し、
      AT キーボードコントローラに接続された AT 84 キーボードや
      AT 拡張キーボードへのアクセスを提供します。</para>

    <programlisting>device          psm        # PS/2 mouse</programlisting>

    <para>マウスが PS/2
      マウスポートに接続するタイプならこのデバイスを使って下さい。</para>

    <programlisting>device          kbdmux        # keyboard multiplexer</programlisting>

    <para>標準のキーボードマルチプレクサのサポート。
      システムが 2 つ以上のキーボードを用いなければ、
      この行を削除してもかまいません。</para>

    <programlisting>device          vga        # VGA video card driver</programlisting>

    <para>&man.vga.4; ビデオカードドライバです。</para>

    <programlisting>device          splash     # Splash screen and screen saver support</programlisting>

    <para>起動時のスプラッシュスクリーンおよびスクリーンセーバが必要とします。</para>

    <programlisting># syscons is the default console driver, resembling a SCO console
device          sc</programlisting>

    <para>&man.sc.4; は SCO に類似したデフォルトのコンソールドライバです。
      殆どのフルスクリーンのプログラムは <filename>termcap</filename>
      のようなターミナルデータベールライブラリにアクセスするので、
      <literal>sc</literal> を使うか <literal>VT220</literal>
      互換のコンソールドライバである <literal>vt</literal>
      を使うかは重要ではありません。
      ログイン時、このコンソールでフルスクリーンプログラムが動かないときは
      <envar>TERM</envar> 変数を <literal>scoansi</literal> に設定して下さい。</para>

    <programlisting># Enable this for the pcvt (VT220 compatible) console driver
#device          vt
#options         XSERVER          # support for X server on a vt console
#options         FAT_CURSOR       # start with block cursor</programlisting>

    <para>これは VT220 互換のコンソールドライバで、
      VT100/102 と後方互換性があります。
      <literal>sc</literal> とハード的に互換性がないラップトップでも問題なく動きます。
      ログイン後、<envar>TERM</envar> を
      <literal>vt100</literal> 又は <literal>vt220</literal>
      と設定して下さい。
      <literal>vt100</literal>
      は仮想的にすべてのプラットフォームで有効であるため、
      <literal>sc</literal> デバイス用の
      <filename>termcap</filename> や <filename>terminfo</filename>
      のエントリが無い、ネットワーク上の多くの異なったマシンに接続する際に、
      このドライバは有用です。</para>

    <programlisting>device          agp</programlisting>

    <para>システムが AGP カードを搭載している場合には、
      この行を含めてください。
      AGP および (ボードが機能を持っている場合には) AGP GART
      に対応します。</para>

    <programlisting># Add suspend/resume support for the i8254.
device           pmtimer</programlisting>

    <para>APM および ACPI といった電源管理イベントのためのタイマデバイスドライバです。</para>

    <programlisting># PCCARD (PCMCIA) support
# PCMCIA and cardbus bridge support
device          cbb               # cardbus (yenta) bridge
device          pccard            # PC Card (16-bit) bus
device          cardbus           # CardBus (32-bit) bus</programlisting>

    <para>PCMCIA サポート。ラップトップを使っているなら必要でしょう。</para>

    <programlisting># Serial (COM) ports
device          sio               # 8250, 16[45]50 based serial ports</programlisting>

    <para>これらは &windows; では <filename>COM</filename>
      と呼ばれているシリアルポートです。</para>

    <note>
      <para>もしシステムが内蔵モデムを <filename>COM4</filename> に、
	シリアルポートを <filename>COM2</filename>
	に設定している場合、モデムの IRQ を 2 に変更してください。
	もしマルチポートシリアルカードを持っていて、
	<filename>/boot/device.hints</filename>
	に追加する正しい数値に関する情報がほしい場合は、
	マニュアルページ &man.sio.4; を参照して下さい。
	ビデオカードのいくつかは、特に S3 チップベースのものは、IO
	アドレスを <literal>0x*2e8</literal> と言う形式で表現します。
	多くの安価なシリアルカードは 16 ビットの IO
	アドレス空間を完全にデコードしないので、
	これらのカードを使った場合衝突が起こり、
	事実上 <filename>COM4</filename> ポートを使用不可能にします。</para>

      <para>各々のシリアルポートは固有の IRQ を必要とします。
	<filename>COM3</filename> と <filename>COM4</filename>
	用のデフォルト IRQ は利用できません。
	例外は、共有割り込み番号をサポートするマルチポートカードを使っている場合です。</para>
    </note>

    <programlisting># Parallel port
device          ppc</programlisting>

    <para>ISA バスパラレルポートインタフェースです。</para>

    <programlisting>device          ppbus      # Parallel port bus (required)</programlisting>

    <para>パラレルポートバスのサポートを提供します。</para>

    <programlisting>device          lpt        # Printer</programlisting>

    <para>パラレルポートプリンタのサポートを追加します。</para>

    <note>
      <para>上の 3 つはすべてパラレルプリンタを利用可能にするために必要です。</para>
    </note>

    <programlisting>device          ppi        # Parallel port interface device</programlisting>

    <para>汎用I/O (<quote>geek port</quote>) + IEEE1284 I/O です。</para>

    <programlisting>#device         vpo        # Requires scbus and da</programlisting>

    <indexterm><primary>zip ドライブ</primary></indexterm>
    <para>Iomega の Zip ドライブ用です。<literal>scbus</literal>
      と <literal>da</literal> サポートが必要です。
      EPP 1.9モードを使うと最高の性能が得られます。</para>

    <programlisting>#device         puc</programlisting>

    <para>&man.puc.4; glue ドライバがサポートしている
      <quote>dumb</quote> シリアル、
      またはパラレル PCI カードをシステムが持っているのであれば、
      このデバイスを有効にしてください。</para>

    <programlisting># PCI Ethernet NICs.
device          de         # DEC/Intel DC21x4x (<quote>Tulip</quote>)
device          em         # Intel PRO/1000 adapter Gigabit Ethernet Card
device          ixgb       # Intel PRO/10GbE Ethernet Card
device          txp        # 3Com 3cR990 (<quote>Typhoon</quote>)
device          vx         # 3Com 3c590, 3c595 (<quote>Vortex</quote>)</programlisting>

    <para>PCI ネットワークカードのドライバです。
      システムにないものはコメントアウトするか削除して下さい。</para>

    <programlisting># PCI Ethernet NICs that use the common MII bus controller code.
# NOTE: Be sure to keep the 'device miibus' line in order to use these NICs!
device          miibus     # MII bus support</programlisting>

    <para>MII バスサポートはいくつかの PCI 10/100 イーサネット NIC、
      すなわち MII に従うトランシーバや MII
      のようなトランシーバ制御インタフェースを実装するもの、に必要となります。
      カーネルコンフィギュレーションに <literal>device miibus</literal>
      を追加することで、汎用 miibus API のサポートと、
      特定のドライバを必要としない場合に利用される汎用のものを含むすべての
      PHY ドライバが導入されます。</para>

    <programlisting>device          bce        # Broadcom BCM5706/BCM5708 Gigabit Ethernet
device          bfe        # Broadcom BCM440x 10/100 Ethernet
device          bge        # Broadcom BCM570xx Gigabit Ethernet
device          dc         # DEC/Intel 21143 and various workalikes
device          fxp        # Intel EtherExpress PRO/100B (82557, 82558)
device          lge        # Level 1 LXT1001 gigabit ethernet
device          msk        # Marvell/SysKonnect Yukon II Gigabit Ethernet
device          nge        # NatSemi DP83820 gigabit ethernet
device          nve        # nVidia nForce MCP on-board Ethernet Networking
device          pcn        # AMD Am79C97x PCI 10/100 (precedence over 'lnc')
device          re         # RealTek 8139C+/8169/8169S/8110S
device          rl         # RealTek 8129/8139
device          sf         # Adaptec AIC-6915 (<quote>Starfire</quote>)
device          sis        # Silicon Integrated Systems SiS 900/SiS 7016
device          sk         # SysKonnect SK-984x &amp; SK-982x gigabit Ethernet
device          ste        # Sundance ST201 (D-Link DFE-550TX)
device          stge       # Sundance/Tamarack TC9021 gigabit Ethernet
device          ti         # Alteon Networks Tigon I/II gigabit Ethernet
device          tl         # Texas Instruments ThunderLAN
device          tx         # SMC EtherPower II (83c170 <quote>EPIC</quote>)
device          vge        # VIA VT612x gigabit ethernet
device          vr         # VIA Rhine, Rhine II
device          wb         # Winbond W89C840F
device          xl         # 3Com 3c90x (<quote>Boomerang</quote>, <quote>Cyclone</quote>)</programlisting>

    <para>MII バスコントローラコードを利用するドライバです。</para>

    <programlisting># ISA Ethernet NICs.  pccard NICs included.
device          cs         # Crystal Semiconductor CS89x0 NIC
# 'device ed' requires 'device miibus'
device          ed         # NE[12]000, SMC Ultra, 3c503, DS8390 cards
device          ex         # Intel EtherExpress Pro/10 and Pro/10+
device          ep         # Etherlink III based cards
device          fe         # Fujitsu MB8696x based cards
device          ie         # EtherExpress 8/16, 3C507, StarLAN 10 etc.
device          lnc        # NE2100, NE32-VL Lance Ethernet cards
device          sn         # SMC's 9000 series of Ethernet chips
device          xe         # Xircom pccard Ethernet

# ISA devices that use the old ISA shims
#device         le</programlisting>

    <para>ISA イーサネットドライバです。
      どのカードがどのドライバによりサポートされているかの詳細は、
      <filename>/usr/src/sys/<replaceable>arch</replaceable>/conf/NOTES</filename>
      を参照して下さい。</para>

    <programlisting># Wireless NIC cards
device          wlan            # 802.11 support</programlisting>

    <para>標準の 802.11 サポート。ワイヤレスネットワークではこの行が必要です。</para>

    <programlisting>device          wlan_wep        # 802.11 WEP support
device          wlan_ccmp       # 802.11 CCMP support
device          wlan_tkip       # 802.11 TKIP support</programlisting>

    <para>802.11 デバイスの暗号化サポート。
      暗号化および 802.11i セキュリティプロトコルを使うシステムでは、
      これらの行が必要です。</para>

    <programlisting>device          an         # Aironet 4500/4800 802.11 wireless NICs.
device          ath             # Atheros pci/cardbus NIC's
device          ath_hal         # Atheros HAL (Hardware Access Layer)
device          ath_rate_sample # SampleRate tx rate control for ath
device          awi        # BayStack 660 and others
device          ral        # Ralink Technology RT2500 wireless NICs.
device          wi         # WaveLAN/Intersil/Symbol 802.11 wireless NICs.
#device         wl         # Older non 802.11 Wavelan wireless NIC.</programlisting>

    <para>ワイヤレスカードのサポートです。</para>

    <programlisting># Pseudo devices
device   loop          # Network loopback</programlisting>

    <para>TCP/IP の汎用ループバックデバイスです。
      これは<emphasis>必須</emphasis>です。</para>

    <programlisting>device   random        # Entropy device</programlisting>

    <para>暗号化されたセキュア乱数ジェネレータです。</para>

    <programlisting>device   ether         # Ethernet support</programlisting>

    <para><literal>ether</literal>
      はイーサネットカードを持っているシステムでのみ必要です。
      汎用イーサネットプロトコルコードを含みます。</para>

    <programlisting>device   sl            # Kernel SLIP</programlisting>

    <para><literal>sl</literal> は SLIP サポートを提供します。
      SLIP は設定のより簡単な、モデム-モデム間の接続にはより適していてより高機能な
      PPP に殆ど取って代わられています。</para>

    <programlisting>device   ppp           # Kernel PPP</programlisting>

    <para>これはダイアルアップ接続用のカーネル PPP サポートです。
      他にも <literal>tun</literal> を利用し、
      デマンドダイアリングのような柔軟性と機能を提供するユーザーランドのアプリケーションとして実装された
      PPP が存在します。</para>

    <programlisting>device   tun           # Packet tunnel.</programlisting>

    <para>これはユーザーランド PPP ソフトウエアにより利用されます。
      詳細はこのハンドブックの <link linkend="userppp">PPP</link>
      章を参照して下さい。</para>

    <programlisting><anchor xml:id="kernelconfig-ptys"/>
device   pty           # Pseudo-ttys (telnet etc)</programlisting>

    <para>これは <quote>疑似ターミナル</quote> 或いはシミュレートされたログインポートです。
      これは入ってくる <command>telnet</command> と
      <command>rlogin</command> セッション、
      <application>xterm</application> やその他の
      <application>Emacs</application>
      のようなアプリケーションにより利用されます。</para>

    <programlisting>device   md            # Memory <quote>disks</quote></programlisting>

    <para>メモリディスク疑似デバイス。</para>

    <programlisting>device   gif           # IPv6 and IPv4 tunneling</programlisting>

    <para>この行は IPv6 over IPv4 トンネル、IPv4 over IPv6 トンネル、
      IPv4 over IPv4 トンネル、IPv6 over IPv6 トンネルを提供します。
      <literal>gif</literal> デバイスは
      <quote>auto-cloning (自動複製)</quote> し、
      必要に応じてデバイスノードを作成します。</para>

    <programlisting>device   faith         # IPv6-to-IPv4 relaying (translation)</programlisting>

    <para>この疑似デバイスは自分宛に送られたパケットを受け取り、
      IPv4/IPv6 変換デーモンに渡します。</para>

    <programlisting># The `bpf' device enables the Berkeley Packet Filter.
# Be aware of the administrative consequences of enabling this!
# Note that 'bpf' is required for DHCP.
device   bpf           # Berkeley packet filter</programlisting>

    <para>このバークレーパケットフィルタ疑似デバイスは、
      ネットワークインタフェースを、
      イーサネットのようなブロードキャストネットワーク上ですべてのパケットを拾うことのできる
      promiscuous モードに設定できるようにします。
      これらのパケットはディスクに取り込むこともできますし、
      &man.tcpdump.1; を使ってチェックをすることもできます。</para>

    <note>
      <para>&man.dhclient.8; も &man.bpf.4; デバイスを使います。
	DHCP を使っているなら、これはコメントアウトしないでください。</para>
    </note>

    <programlisting># USB support
device          uhci          # UHCI PCI-&gt;USB interface
device          ohci          # OHCI PCI-&gt;USB interface
device          ehci          # EHCI PCI-&gt;USB interface (USB 2.0)
device          usb           # USB Bus (required)
#device         udbp          # USB Double Bulk Pipe devices
device          ugen          # Generic
device          uhid          # <quote>Human Interface Devices</quote>
device          ukbd          # Keyboard
device          ulpt          # Printer
device          umass         # Disks/Mass storage - Requires scbus and da
device          ums           # Mouse
device          ural          # Ralink Technology RT2500USB wireless NICs
device          urio          # Diamond Rio 500 MP3 player
device          uscanner      # Scanners
# USB Ethernet, requires mii
device          aue           # ADMtek USB Ethernet
device          axe           # ASIX Electronics USB Ethernet
device          cdce          # Generic USB over Ethernet
device          cue           # CATC USB Ethernet
device          kue           # Kawasaki LSI USB Ethernet
device          rue           # RealTek RTL8150 USB Ethernet</programlisting>

    <para>さまざまな USB デバイスのサポートです。</para>

    <programlisting># FireWire support
device          firewire      # FireWire bus code
device          sbp           # SCSI over FireWire (Requires scbus and da)
device          fwe           # Ethernet over FireWire (non-standard!)</programlisting>

    <para>Firewire デバイスのサポートです。</para>

    <para>より詳細な情報と、&os; によりサポートされる他のデバイスについては
      <filename>/usr/src/sys/<replaceable>arch</replaceable>/conf/NOTES</filename>
      を参照して下さい。</para>
      -->

  <!--
  This section refers to ancient hardware.
      <sect2>
        <title>大容量メモリ構成 (<acronym>PAE</acronym>)</title>
	<indexterm>
	  <primary>Physical Address Extensions
	    (<acronym>PAE</acronym>)</primary>
	  <secondary>large memory</secondary>
	</indexterm>

	<para>大容量のメモリを搭載したコンピュータは、
	  ユーザ＋カーネル仮想アドレス (<acronym>KVA</acronym>) 空間における
	  4 ギガバイトの制限を越えてメモリにアクセスする必要があります。
	  Intel は &pentium; Pro およびそれ以降の CPU において、
	  36-bit 物理アドレス空間に対応しました。</para>

	<para>&intel; &pentium; Pro およびそれ以降の CPU では、
	  Physical Address Extensions (<acronym>PAE</acronym>)
	  を用いて 64 ギガバイトまでのメモリの構成を可能にします。
	  &os; は、<option>PAE</option>
	  カーネルコンフィグレーションオプションを用いることで PAE に対応します。
	  現在すべてのバージョンの &os; で利用できます。
	  Intel のメモリアーキテクチャの制限により、
	  4 ギガバイト以上または以下の区別をしません。
	  4 ギガバイト以上に割り当てられたメモリは、
	  利用可能なメモリのプールに単純に追加されます。</para>

	<para><acronym>PAE</acronym> サポートをカーネルで有効にするには、
	  以下の行をカーネルコンフィグレーションファイルに追加してください。</para>

      <programlisting>options		    PAE</programlisting>

	<note>
	  <para>&os; の <acronym>PAE</acronym> のサポートは、
	    &intel; IA-32 プロセッサでのみ利用できます。
	    また、&os; における <acronym>PAE</acronym>
	    サポートは広くテストが行われているわけではないので、
	    &os; の他の機能と比較するとベータ品質に位置づけられます。</para>
	</note>

	<para>&os; における <acronym>PAE</acronym> サポートには、
	  以下のような制限があります。</para>

	<itemizedlist>
	  <listitem>
	    <para>プロセスは、4 ギガバイト以上の仮想メモリ空間にアクセスできません。</para>
	  </listitem>

	  <listitem>
	    <para>&man.bus.dma.9; インタフェースを用いないデバイスドライバは、
	      <acronym>PAE</acronym> が有効なカーネルにおいてデータの破損を引き起こす可能性があるため、
	      利用することは推奨されません。
	      そのため &os; で提供される <filename>PAE</filename>
	      カーネルコンフィグレーションファイルでは、<acronym>PAE</acronym>
	      が有効なカーネルで動作することが知られていないすべてのドライバが外されています。</para>
	  </listitem>

	  <listitem>
	    <para>いくつかの調整可能なシステムパラメータは、
	      利用可能な物理メモリによるメモリリソースを調整します。
	      <acronym>PAE</acronym> を必要とするような大きなメモリのシステムでは、
	      そのような調整可能なリソースが不必要に割り当てられることがあります。
	      そのような例のひとつが <option>kern.maxvnodes</option>
	      sysctl です。この sysctl は、カーネルで許される
	      vnode の最大数を調節します。
	      この sysctl や同様に変更可能なパラメータを適切な値に調整することをお奨めします。</para>
	  </listitem>

	  <listitem>
	    <para>カーネルバーチャルアドレス (<acronym>KVA</acronym>)
	      の枯渇を避けるため、<acronym>KVA</acronym> 空間を大きくとる、または、
	      激しく消費される特定のカーネルリソースの量を減らす必要があるでしょう。
	      <option>KVA_PAGES</option> カーネルオプションを用いて
	      <acronym>KVA</acronym> 空間を増やすことができます。</para>
	  </listitem>
	</itemizedlist>

	<para>パフォーマンスや安定性については、
	  &man.tuning.7; を調べることをお奨めします。
	  &man.pae.4; は、&os; の <acronym>PAE</acronym>
	  サポートに関する最新の情報を含んでいます。</para>
    </sect2>
-->
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-building">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルの構築とインストール</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムコンフィグレーションファイルを編集して保存したら、
      カーネルのソースコードを以下の手順でコンパイルしてください。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの構築</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">構築 / インストール</secondary>
      </indexterm>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のディレクトリに移動してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムコンフィグレーションファイルの名前を指定して新しいカーネルをコンパイルします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make buildkernel KERNCONF=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</replaceable></userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">指定したカーネルコンフィグレーションファイルでコンパイルされた新しいカーネルをインストールします。
	  以下のコマンドは、新しいカーネルを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel/kernel</filename> に、
	  今までのカーネルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel.old/kernel</filename>
	  という名前で保存します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make installkernel KERNCONF=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</replaceable></userinput></screen>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルを使うために、
	  システムをシャットダウンして再起動してください。
	  うまく行かない場合は、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig-noboot"/>
	  を参照してください。</para>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、カスタムカーネルを構築すると、
      すべてのカーネルモジュールが再構築されます。
      カーネルのアップデートをより早く行いたい、または、
      カスタムモジュールのみを構築したいといった場合は、
      カーネルの構築を開始する前に、以下のように
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> を編集してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">例として、以下の変数は、
      デフォルトのすべてのモジュールを構築する設定を変更し、
      構築するモジュール一覧を指定します。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MODULES_OVERRIDE = linux acpi</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、以下の変数は、構築を行わないモジュールを指定します。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">WITHOUT_MODULES = linux acpi sound</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">他の変数については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照してください。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel.old</filename></primary>
    </indexterm>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-trouble">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">問題が起きた場合には</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルを作る際に起こりうるトラブルは、
      次の 4 種類に分けられます。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">config</command> コマンドの失敗</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">config</command> で失敗した時には、
	    トラブルの起きた行番号が出力されます。
	    たとえば、次のように出力された場合には、
	    17 行目が正しく入力されているかどうか、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">NOTES</filename>
	    と比較して修正してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">config: line 17: syntax error</screen>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> コマンドの失敗</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> が失敗した場合には、
	    通常、カーネルコンフィグレーションファイルにおいて、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">config</command>
	    がとらえられなかったような間違いをしています。
	    コンフィグレーションファイルを見直してください。
	    それでも問題を解決することができなければ、
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions">FreeBSD general questions メーリングリスト</link>
	    へカーネルコンフィグレーションファイルを添付して送ってください。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kernelconfig-noboot">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">カーネルが起動しない</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルが起動しなかったり、
	    デバイスの認識をしない場合でもあわてないでください!
	    さいわい、FreeBSD
	    には利用できないカーネルから復帰する洗練されたメカニズムがあります。
	    FreeBSD のブートローダで起動したいカーネルを選択してください。
	    システムの起動メニューが表示されている時に、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">Escape to a loader prompt</quote>
	    オプションを選択するとアクセスできます。
	    プロンプトで
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">boot <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">kernel.old</replaceable></command>
	    か他の正常に起動するカーネルを入力してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">問題のないカーネルで起動した後、
	    コンフィグレー ションファイルを調べ、
	    再び構築を試みてください。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/messages</filename>
	    にはすべての成功した起動時のカーネルメッセージの記録があり、
	    これは問題を解決するための助けになる情報の一つでしょう。また、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は現在の起動時のカーネルメッセージを出力します。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの構築中にトラブルが起きた時には、
	      次回の構築で消されないように、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	      のコピーや他の正常に起動するカーネルを別の名前で保存するようにしてください。
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">kernel.old</emphasis>
	      は新しいカーネルをインストールする時に、
	      その一つ前にインストールした、
	      うまく動かないかもしれないカーネルで上書きされてしまうため、
	      起動するカーネルを保存しておくことは重要です。
	      できる限り早く以下のようにして、
	      正しく起動するカーネルを含むディレクトリ名に変更してください。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv /boot/kernel <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel.bad</replaceable></userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv /boot/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">kernel.good</replaceable> /boot/kernel</userinput></screen>
	  </note>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">カーネルは動きますが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は動きません!</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムユーティリティの構築されたバージョンと異るバージョンのカーネルをインストールした場合、
	    たとえば -CURRENT のソースから構築したカーネルを
	    -RELEASE システム上にインストールするような場合には、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vmstat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    のような多くのシステムステータスコマンドは動かなくなります。
	    修正するには、カーネルと同じバージョンのソースツリーで
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makeworld">world を再構築し、インストール</link>
	    してください。
	    カーネルとそれ以外で異なるバージョンを組み合わせてオペレーティングシステムを使用することは推奨されていません。</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42402
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="printing">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの利用</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Sean</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kelly</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      <!-- 30 Sept 1995 -->
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂:</contrib></author>
    </authorgroup>
  </info>

  

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">LPD スプーリングシステム</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
      は古いインパクトプリンタから最新のレーザープリンタまで幅広いプリンタが利用でき、
      実行しているアプリケーションから高品質な印刷出力が行えます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はネットワーク上のプリンタサーバとして動作するように設定することもできます。
      この機能は、他の FreeBSD コンピュータや、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> や
      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> ホストから印刷ジョブを受け取ることができます。
      FreeBSD は印刷ジョブを 1 つずつ処理することを保証します。
      また、どのユーザやマシンが最も多く印刷しているかの統計を取り、
      どの印刷物が誰の物か表示する
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">バナー</quote> ページの作成などを行うことができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読めば以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD プリントスプーラの設定方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">入力ドキュメントをプリンタが扱える印刷フォーマットへ変換するなどといった、
	  特別な印刷ジョブを別に取り扱うための印刷フィルタのインストール方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">印刷物へのヘッダやバナーの適用方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">他のコンピュータに接続されたプリンタで印刷する方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークに直接接続されたプリンタで印刷する方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">印刷ジョブの上限サイズや特定のユーザからの印刷拒否といった、
	  プリンタの制限の制御方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">印刷の統計とプリンタの使用状況の取得方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">印刷問題のトラブルシューティング方法。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読み始める前に以下を済ませておいてください。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルの設定とインストール方法について理解すること
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>)。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-intro-spooler">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でプリンタを使うために、それらを
      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステム、
      または単に <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> としても知られる
      Berkeley ラインプリンタスプーリングシステムで動作するように設定できます。
      これは FreeBSD での標準的なプリンタ制御システムです。
      この章では、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> を紹介し、
      その設定方法について説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたがすでに <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
      やその他のプリンタスプーリングシステムに詳しいのなら、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-intro-setup">基本的な設定</link>
      まで読み飛ばしてもかまいません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
      はホストのプリンタに関するあらゆることを制御します。
      ここで言う制御としては、次のことがあげられます。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ホストに接続されたプリンタ、
          あるいはネットワーク上の他ホストに接続されたプリンタに対するアクセス制御を行ないます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルをプリントする要求に対して許可を与えます。
	  この要求は特に<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ジョブ</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary></indexterm>と呼ばれています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">各々のプリンタの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">キュー</emphasis>を管理することにより、
	  複数のユーザがあるプリンタに対して同時にアクセスすることを防ぎます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</emphasis>
	  (<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バナー</emphasis>または
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バースト</emphasis>ページとしても知られています)
	  をプリントすることができます。
	  これにより、
	  プリントアウトの山の中から自分がプリントしたジョブを見つけやすくなります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートに接続したプリンタ用に通信パラメータを管理します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク経由で他のホスト上の
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  スプーラにジョブを送ることができます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">様々なプリンタ言語やプリンタの能力に応じてジョブの形式を整えるため、
	  特別なフィルタを起動することができます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの使用に対して課金を行なうことができます。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>)
      を通して、専用のフィルタプログラムを用いることにより、
      多種多様なプリンタ機器に対して、上述の機能の全部または一部を
      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> システムに行なわせることができます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-intro-why">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">どうしてスプーラを使うべきなのか</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのシステムを利用するのがあなた一人だけだとしても、
	スプーラは有用ですし、使用すべきです。その理由は以下のとおりです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    はジョブをバックグラウンドで処理します。
            データがプリンタに送信されるまで待つ必要がなくなります。</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    ではジョブをフィルタを通してプリントすることが簡単にできます。
            これにより、印刷物のヘッダに時刻や日付を入れたり、
            特別なファイル形式
	    (<application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application></primary></indexterm>
	    の DVI ファイルなど)
            をプリンタが処理できる形式に変更することができ、
            これらの作業を手動で行なう必要がなくなります。</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">プリント処理を行なうフリー、
            または商用のプログラムのほとんどは、
            システムのスプーラとやりとりするように作られています。
            スプーリングシステムをセットアップすることで、
            今後加えるかもしれない、あるいは、
            すでに持っている別のソフトウェアをより簡単にサポートすることができるでしょう。</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-intro-setup">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">基本的な設定</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
      スプーリングシステムを用いてプリンタを使用するためには、
      プリンタ機器と <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
      用ソフトウェアの両方を準備する必要があります。
      本文書では次の二段階のレベルに分けて説明をします。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタを接続する方法、
	  プリンタにどのように通信するかを
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に指示する方法や、
          プレインテキストをプリンタで印字する方法については、
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-simple">プリンタの簡単な設定</link>をご覧ください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">様々な形式のファイルを印字する方法、
          ヘッダページを印字する方法、
          ネットワーク経由でプリンタに印字する方法、
          プリンタを制御する方法、
          プリンタの使用に対する課金を行なう方法については<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced">プリンタ設定上級編</link>をご覧ください。</para>
      </listitem>
    </itemizedlist>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-simple">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ設定導入編</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、プリンタ機器やプリンタを使用するための
        <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	用ソフトウェアを設定する方法について述べます。
        この節の概要は次のとおりです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-hardware">プリンタ機器の設定</link>では、
            プリンタをコンピュータに接続するためのヒントがいくつか書かれています。</para>
        </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-software">ソフトウェアの設定</link>では、
            <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> のスプーラ設定ファイル
            (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>)
            の設定方法について書かれています。</para>
        </listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データをプリンタに送るのにコンピュータのローカルインタフェースではなく、
        ネットワークプロトコルを使用する場合は、
        <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-net-if">
        ネットワークにおけるデータストリームインタフェースを持つプリンタ</link>をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節のタイトルは <quote xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ設定導入編</quote> ですが、
        実際の設定はかなり複雑です。
        プリンタをコンピュータに接続し、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	スプーラを起動させることは一番困難な作業です。
        ヘッダページを出力させたり課金したりするオプションの設定は、
        一度プリンタがうまく動くようになればとても簡単です。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-hardware">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ機器の設定</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、プリンタに PC
          を接続するための様々な方法について説明しています。
          ここでは、ポートやケーブルの種類、
          FreeBSD がプリンタとの通信に必要なカーネルコンフィグレーションについても言及しています。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">もしプリンタが既に接続されていて、
          他のオペレーティングシステム上でプリンタからの印字に成功している場合は、
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-software">ソフトウェアの設定</link>まで読み飛ばすことが多分できるでしょう。</para>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-ports">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">ポートとケーブル</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">今日 PC 用に売られているプリンタには通常、
	    次の 3 つのインタフェースのうち、どれか
	    1 つ以上がついてきます。</para>

          <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</secondary></indexterm>インタフェース
		(RS-232 または COM ポートとも呼ばれます) は、
		コンピュータにあるシリアルポートを使ってプリンタにデータを送信します。
                シリアルインタフェースはコンピュータ業界で共通して使用されています。
                そのケーブルは容易に手に入りますし、簡単に自作することもできます。
                シリアルインタフェースの場合は時々、
		特別なケーブルや何か複雑な通信方式選択の設定が必要になることがあります。
		ほとんどの PC のシリアルポートは通信速度が最大で
		115200 bps であり、
		大きな画像を印刷するのには実用的ではありません。</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">パラレル</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">パラレル</secondary></indexterm>インタフェースではプリンタにデータを送信するために、
                コンピュータにあるパラレルポートを使用します。
		パラレルインタフェースは PC 業界ではよく使われており、
		RS-232 シリアルよりも速いです。
                ケーブルの入手は容易ですが、
                自作するのはシリアルよりも困難です。
                パラレルインタフェースには通常、通信方式の選択はなく、
                設定は極めて単純です。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルインタフェースは
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">セントロニクス</quote><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">セントロニクス</primary><see xmlns:xlink="http://www.w3.org/1999/xlink">パラレルプリンタ</see></indexterm>
		インタフェースとして知られています。
                これは、プリンタ用のコネクタタイプとして採用された後に名付けられました。</para>
            </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">USB<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">USB</secondary></indexterm>
		インタフェースは、Universal Serial Bus
		(汎用シリアルバス) の略で、パラレルや RS-232
		シリアルよりさらに速く動作します。
		ケーブルは単純で安価です。USB は、印刷目的には RS-232
		シリアルやパラレルよりも向いていますが、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
		システムでは十分対応されていません。
		この問題を回避する手としては、多くのプリンタがそうですが、
		USB とパラレルの両方のインタフェースを備えたプリンタを購入することが挙げられます。</para>
	    </listitem>
          </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルインタフェースでは、普通は
	    (コンピュータからプリンタへの)
	    単方向通信のみを行なうのに対して、
	    シリアルおよび USB インタフェースは双方向通信を行ないます。
	    FreeBSD でも IEEE1284 準拠のケーブルを使えば、
	    最近のパラレルポート (EPP や ECP)
	    とプリンタの多くで双方向通信を行なうことができます。</para>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PostScript</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポート経由のプリンタとの双方向通信には、
	    通常 2 つの方法のどちらかが使われます。一つ目の方法は、
	    プリンタが使用しているプロプライエタリな言語を話す
	    FreeBSD 用に作成されたプリンタドライバを使うものです。
	    これはインクジェットプリンタではよく使われる方法で、
	    インクの残量やその他の状態の情報を知らせるのに使えます。
	    二つ目の方法は、プリンタが <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    に対応している時に使われます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    ジョブは、実際にはプリンタに送信されるプログラムです。
	    印字作業を行う必要は必ずしありませんし、
	    プログラムの結果を直接コンピュータに返してもよいのです。
            <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタでは双方向通信を使って
            <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プログラムのエラーや紙づまりといった問題をコンピュータに報告します。
            ユーザはそれらの情報を知りたいと思うかも知れません。
            また、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタで課金作業をもっとも効率よく行なうためには、
            双方向通信が必要となります。
            この方法ではまず、プリンタの現在のページカウント
            (起動してから今まで何枚の紙を印字したか) の情報を得ます。
            次に、ユーザのジョブを実行し、終了後、再びページカウントを得ます。
            この二つの数を差によって、
            課金対象となる紙の枚数を知ることができるのです。</para>
	</sect4>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-parallel">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポート</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをパラレルインタフェースを使って接続する場合は、
            セントロニクスケーブルでプリンタとコンピュータを接続してください。
            詳しい説明はプリンタやコンピュータに付属する説明書に書かれているはずです。</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">その際、
            どのパラレルポートを使用したかを覚えておいてください。
	    FreeBSD では最初のポートは <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppc0</filename>、
	    二番目が <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppc1</filename> であり、
            三番目以降も同様に続きます。
	    プリンタのデバイス名にも同じ形式が使われており、
	    最初のパラレルポートに接続されたプリンタは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename> などとなります。</para>
        </sect4>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-serial">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポート</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルインタフェースを使ってプリンタを使う場合は、
            適切なシリアルケーブルでプリンタとコンピュータを接続してください。
            詳しい説明はプリンタ、コンピュータ、あるいは両方に付属する説
            明書に書かれているはずです。</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">適切なシリアルケーブル</quote> が良くわからないときは、
            次のどれかを試してみてください。</para>

          <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">モデム</emphasis>用ケーブルでは、
                それぞれのピンは他方のコネクタの対応するピンと線でつながっています。
                このタイプのケーブルは <quote xmlns:xlink="http://www.w3.org/1999/xlink">DTE-DCE</quote>
                間ケーブルとしても知られています
                (訳注:
                日本ではストレートケーブルという名前で売られています)。</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデム</emphasis>用ケーブル<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデム用ケーブル</primary></indexterm>では、
                あるピンは対応するピンとを接続していますが、
                あるピン
                (たとえば、データ送信用とデータ受信用のピン)
                が交差して接続したり、
                いくつかのピンは内部で短絡していたりします。
                このタイプのケーブルは、
                <quote xmlns:xlink="http://www.w3.org/1999/xlink">DTE-DTE</quote> 間ケーブルと呼ばれています
                (訳注: 日本ではクロスケーブルという名前で売られています)。</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">A <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">シリアルプリンタ</emphasis>用ケーブルは、
                ある特定のプリンタで必要とされるものです。
                ヌルモデムケーブルと似ていますが、
                内部で短絡させる代わりに、
                ある信号を他方側に送るために使用しています。</para>
            </listitem>
          </itemizedlist>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ボーレート</primary></indexterm>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">パリティ</primary></indexterm>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">フローコントロールプロトコル</primary></indexterm>
          <para xmlns:xlink="http://www.w3.org/1999/xlink">この他に、
            プリンタ用の通信パラメータを設定する必要があります。
            通常、プリンタのフロントパネルや DIP スイッチによって制御します。
            コンピュータとプリンタの双方で設定できる最高の通信速度
            [bps] (ビット/秒、
            <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ボーレート</emphasis>と示されているときもある)
            を選んでください。そして、データビット (7 または 8)、
            パリティ (偶/奇/なし)、ストップビット (1 または 2)
            を選んでください。
            そして、フローコントロールの有無
            (制御なし、または XON/XOFF (<quote xmlns:xlink="http://www.w3.org/1999/xlink">イン・バンド</quote>
            または
            <quote xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア</quote> フローコントロールとも呼ばれる))
            を選びます。
            以下に続くソフトウェアの設定のために、
            ここでの設定を覚えておいてください。</para>
        </sect4>
      </sect3>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-software">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">本節では FreeBSD の <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	スプーリングシステムで印字をおこなうために
	必要となるソフトウェアの設定について説明しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">本節の概要は次のようになります。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタで使用するポートのために、必要があれば、
	    カーネルの書き変えをおこないます。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-kernel">カーネルの変更</link>」で、
	    このためにしなくてはならないことを説明しています。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポートを使用している場合は、
	    パラレルポートのための通信モードを設定します。
	    詳細は、
	    「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-parallel-port-mode">
	      パラレルポートの通信モードを設定する</link>」
	    で説明しています。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムからプリンタにデータが送ら
	    れているかをテストします。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-testing">プリンタとの通信状況を調べる</link>」で、
	    どのようにテストするかの提案をいくつかおこなっています。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>を変更し、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> の設定をおこないます。
	    この節で、どのように変更するかを説明しています。</para>
	</step>
      </procedure>

      <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-kernel">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの変更</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムのカーネルの
	  コンパイルをおこなうことによって、
	  指定されたデバイスが機能するようになります。シリアル、
	  または、パラレルインタフェースをプリンタで使用する場合、
	  必要なデバイスがこの指定の中に含まれていなくてはなりません。
	  したがって、
	  必要なデバイスがカーネルに組み込まれていない場合、
	  追加のシリアル、または、パラレルポートをサポートするために、
	  カーネルの再コンパイルが必要となるかもしれません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートが現在使用しているカーネルで
	  サポートされているかどうかを調べるためには、
	  次のように入力します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">grep sioN /var/run/dmesg.boot</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>
	  はシリアルポートの番号を示し、この番号は 0 から始まります。
	  次のような出力があった場合、
	  カーネルはそのポートをサポートしています。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">sio2 at port 0x3e8-0x3ef irq 5 on isa
 sio2: type 16550A</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポートが現在使用しているカーネルで
	  サポートされているかどうかを調べるためには、
	  次のように入力します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">grep ppcN /var/run/dmesg.boot</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>
	  はパラレルポートの番号を示し、この番号は 0 から始まります。
	  次のような出力があった場合、
	  カーネルはそのポートをサポートしています。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/8 bytes threshold</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記の出力が得られない場合、プリンタを使うため、
	  オペレーティングシステムにパラレル、または、
	  シリアルポートを認識し、使用できるようにするためには
	  カーネルを変更する必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートをサポートさせるには、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">
	    FreeBSD カーネルのコンフィグレーション</link>」の節をご覧く
	  ださい。パラレルポートをサポートさせる場合も、その節と、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">あわせて</emphasis>、
	  この節に続く節もご覧ください。</para>
	</sect4>
      </sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-parallel-port-mode">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポートの通信モードを設定する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルインタフェースを使用している場合、FreeBSD では、
	    割り込み駆動型にするか、
	    プリンタとの通信の状況をカーネルに監視させるかのいずれかを選択できます。
	    FreeBSD の汎用プリンタデバイスドライバ
	    (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>) は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppbus</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> システムを利用しています。
	    これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    ドライバを使ってパラレルポートのチップセットを制御します。</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC
		カーネルでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">割り込み駆動</emphasis>方式がデフォルトになっています。
		この方式では、
		オペレーティングシステムはプリンタがデータを受け付けられるかどうかを調べるために、
		IRQ ラインを一つ使用します。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">監視</emphasis>方式では、
		オペレーティングシステムにプリンタがもっとデータを受け付けられるかどうかを繰り返し尋ねるように指示します。
		そして、受け付けるという応答を受けたとき、
		カーネルはさらなるデータを送信します。</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">割り込み駆動方式は一般的にいくらか高速になりますが、貴重な
	    IRQ ラインを一つ消費します。
	    HP の新しいプリンタの一部には、明らかに何かしらのタイミングの問題
	    (まだ正確にはわかっていません)
	    で割り込みモードでは正常に動作しないものがあると言われています。
	    これらのプリンタにはポーリングモードが必要になります。
	    どちらかうまく機能する方を使ってください。
	    一部のプリンタはどちらの方式でも動作しますが、
	    割り込みモードでは苦痛を感じるほど低速です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">通信モードを設定するためには 2 つの方法があります。
	    1 つはカーネルを変更することで、もう一つは
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムを使用する方法です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> カーネルを設定することによって、
	      通信モードを変更する。</emphasis></para>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションファイルを変更します。
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ppc0</literal> のエントリを探してください。
		2 番目のパラレルポートを設定するときは、代わりに
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ppc1</literal> を使います。
		以下、3 番目のポートは <literal xmlns:xlink="http://www.w3.org/1999/xlink">ppc2</literal> となっていきます。</para>

	      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">割り込み駆動方式にする場合は、
		    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
		    ファイルの以下の行を編集して、
		    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable> を適切な
		    IRQ 番号に置き換えてください。</para>

		  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hint.ppc.0.irq="<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>"</programlisting>

		  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの設定ファイルには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
		    ドライバも入れなければなりません。</para>

		  <screen xmlns:xlink="http://www.w3.org/1999/xlink">device ppc</screen>

		</listitem>

		<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">ポーリングモードを使用する場合は、
		    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
		    ファイルの以下の行を削除してください。</para>

		  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hint.ppc.0.irq="<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>"</programlisting>

		  <para xmlns:xlink="http://www.w3.org/1999/xlink">場合によっては、これだけでは FreeBSD
		    でポートをポーリングモードにするには十分ではないことがあります。
		    多くの場合これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">acpi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバと併せて動作します。
		    これはデバイスのプローブとアタッチを行うので、
		    プリンタポートへのアクセスモードを制御できます。
		    問題を修正するために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">acpi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
		    の設定を確認してください。</para>
		</listitem>
	      </itemizedlist>
	    </step>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルをセーブし、config プログラムを起動し、
		カーネルの構築、インストールをおこないます。そして、
		リブートしてください。詳細は、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">
		  FreeBSDカーネルのコンフィグレーション</link>」を参照
		してください。</para>
	    </step>
	  </procedure>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">
	      で通信モードを設定する場合</emphasis></para>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lptN</literal>
		をイベント駆動方式に設定する場合は、
		次のように入力します。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lptcontrol -i -d /dev/lptN</userinput></screen>
	    </step>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lptN</literal>
		を監視方式に設定する場合は、次のように入力します。
	      </para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lptcontrol -p -d /dev/lptN</userinput></screen>
	    </step>
	  </procedure>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのコマンドを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.local</filename>
	    ファイルに追加
	    しておくと、システムをブートする度に通信モードを設定する
	    ことができます。詳細については、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をご覧ください。</para>
	</sect3>

	<sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-testing">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタとの通信状況を調べる</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングシステムの設定に進む前に、オペレーティング
	    システムがプリンタにデータを送ることに成功しているかどうか
	    を確かめるべきでしょう。これにより、印字がうまくいかないと
	    き、プリンタとの通信が問題なのか、スプーリングシステムが問
	    題なのかを分けて調べることがかなり容易になります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをテストするためには、
	    プリンタに何かのテキストを送
	    信してみます。送信した文字をすぐに印字してくれるプリンタに
	    は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使うと有用です。このコマンドは印
	    字可能な 96 文字の ASCII 文字すべてを 96 行生成します。</para>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PostScript</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> (または他の言語に対応した) プリンタの場合
	    は、もっと巧妙なテストが必要になります。次のような、簡単な
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プログラムを使えば十分でしょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">%!PS
100 100 moveto 300 300 lineto stroke
310 310 moveto
/Helvetica findfont 12 scalefont setfont
(Is this thing working?) show
showpage</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> コードはファイルに保存し、
            以降の節で例として示されているように利用することができます。</para>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PCL</primary></indexterm>
	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このドキュメントでプリンタ用言語を参照するときは、
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> のような言語を仮定しており、Hewlett Packard
	      の PCL は考慮していません。PCL は非常に機能的なの
	      ですが、
	      プレインテキストにエスケープシーケンスを混ぜること
	      ができます。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ではプレインテキストを直接印字
	      することはできません。
	      このような種類のプリンタ言語に対しては、
	      特別な対応をおこなわなければなりません。</para>
	  </note>

	  <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-checking-parallel">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポートのプリンタとの接続を調べる</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD がパラレル<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">パラレル</secondary></indexterm>ポートに接続されたプリ
	      ンタと通信できているかどうかを調べる方法について説明し
	      ています。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">
		パラレルポートのプリンタをテストするために
	      </emphasis></para>

	    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になります。</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタにデータを送ります。</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタがプレインテキストを印字できる場合、
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使います。
		      次のように入力してください。</para>

		    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lptest &gt; /dev/lptN</userinput></screen>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable>
		      はパラレルポートの番号で、番号は
		      0 から始まります。</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> か他のプリンタ
		      言語を使用している場合、そのプリンタに簡単なプロ
		      グラムを送信してください。次のように入力します。
		    </para>

		    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat &gt; /dev/lptN</userinput></screen>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、一行一行、
		      プログラムを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">慎重に</emphasis>入力して
		      下さい。RETUREN または ENTER キーを入力してしま
		      うと、その行は編集できなくなります。プログラムの
		      入力が終わったら、CONTROL+D か、あなたが設定して
		      いるファイル終了のキーを押してください。</para>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしくは、プログラムを入力したファイルがある
		      場合は、次のように入力してください。</para>

		  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat file &gt; /dev/lptN</userinput></screen>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">file</replaceable>
		      はプログラムが格納されていて、
		      プリンタに送信するファイルの名前です。</para>
		  </listitem>
		</itemizedlist>
	      </step>
	    </procedure>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで何かが印刷されるはずです。
	      印字されたテキストがおかしくても心配は無用です。
	      それについては、後で修正します。</para>
	  </sect4>

	  <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-checking-serial">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートのプリンタとの接続を調べる</title>

            <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
              <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
              <secondary xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</secondary>
            </indexterm>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD がシリアルポートに接続されたプリ
	      ンタと通信できているかどうかを調べる方法について述べられ
	      ています。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">
		シリアルポートのプリンタをテストするために
	      </emphasis></para>

	    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になります。</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
		  ファイルを編集します。次のエントリを加えてください。
		</para>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">printer:dv=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/port</filename>:br#<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bps-rate</replaceable>:pa=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">parity</replaceable></programlisting>

                <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">bit/秒</primary></indexterm>
                <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポート</primary></indexterm>
                <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">パリティ</primary></indexterm>
		<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable>
		  シリアルポート (<literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyu0</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyu1</literal> など) のデバイスエントリで、
		  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bps-rate</replaceable>は
		  プリンタとの通信の転送速度[bit/秒]、
		  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">parity</replaceable>はプリ
		  ンタとの通信で必要とされるパリティ
		  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">even</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">odd</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">none</literal>、
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">zero</literal>のいずれか) を表わしていま
		  す。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">次の例は、
		  プリンタをシリアルケーブルでパリティなし、転送速度
		  19200 bps で第 3 番目のシリアルポートに接続した場
		  合です。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">printer:dv=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu2</filename>:br#19200:pa=none</programlisting>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドでプリンタと接続します。
		  次のように入力してください。</para>

		<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tip printer</userinput></screen>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">これがうまくいかなかった場合は、
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>を編集して、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyuN</filename>
		  の代わりに
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaaN</filename>
		  を試してみてください。</para>
	      </step>

	      <step xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタにデータを送ります。</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタがプレインテキストを印字できる場合、
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使います。
		      次のように入力してください。</para>

		    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">$lptest</userinput></screen>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> か他のプリンタ言語を使用している場合、
		      そのプリンタに簡単なプログラムを入力します。
		      一行一行、プログラムを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">慎重に</emphasis>入力してください。
		      バックスペースキーや他の編集用のキーは、
		      プリンタの制御コードに割り当てられているかもしれません。
		      プログラムが終了したことをプリンタに伝えるための特別なファイル終了キーを
		      入力する必要があるかもしれません。
		      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタの場合、
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">CONTROL+D</literal> を入力します。</para>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしくは、プログラムを入力したファイルがある場合は、
		      次のように入力してください。</para>

		    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&gt;file</userinput></screen>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">file</replaceable>
		      はプログラムが格納されているファイル名です。
		      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドでファイルを送信した後は、
		      ファイル終了を表わすキーを入力する必要があります。</para>
		  </listitem>
		</itemizedlist>
	      </step>
	    </procedure>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで何かがプリントされることでしょう。
	      印字されたテキ
	      ストがおかしくても心配しなくても構いません。
	      それについては、後で修正します。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-printcap">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スプーラに許可を与える:
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイル</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここまでで、プリンタはコンピュータに接続され、(必要なら)
	  プリンタと通信できるようにカーネルを変更し、
	  簡単なデータをプリンタに送信することができているはずです。
	  これで、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> にプリンタへのアクセスを
	  制御させる設定をおこなう準備が整いました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> の設定は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> を編集することでおこないます。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムは
	  スプーラが使われる毎にこのファイルを参照します。
	  そのため、ファイルを更新するとすぐにその変更が反映されます。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ケイパビリティ</secondary>
        </indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">printcap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> ファイルの書式は簡単です。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  の編集はお好みのテキストエディタをお
	  使いください。このファイルの書式は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/misc/termcap</filename> や
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
	  といった他のケイパビリティファイルと一致しています。
	  この書式
	  についての詳細な情報については
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cgetent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">スプーラの単純な設定法は、
	  次のステップでおこないます。</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタに名前 (と簡単な別名 2 〜 3 個) を付け、それを
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルに記述します。
	      これについては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-naming">
		プリンタに名前を付ける</link>」
	      を参照してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal> の項目を追加することで、
	      ヘッダページ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</primary></indexterm>の出力を禁止します (デフォルトは許可)。
	      これについては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-no-header-pages">
		ヘッダページの印字を禁止する</link>」
	      を参照してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">スプール用のディレクトリを作成し、その位置を
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal> 項目で指定します。これについては、
	      「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-spooldir">
		スプーリングディレクトリの作成</link>」
	      を参照してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタを使用するために <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	      エントリを設定し、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> 項目でそのエントリを指定します。
	      これについては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-device">
		プリンタデバイスの特定</link>」 を参照してください。
	      プリンタをシリアルポートに接続した場合は、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal>
	      の項目を設定する必要があります。こちらについては、
	      「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-commparam">
		スプーラのための通信パラメータの設定</link>」
	      を参照してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プレインテキスト用の入力フィルタのインストールをおこないます。
	    「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-textfilter">テキストフィルタのインストール</link>」
	      を参照してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	      コマンドで何かを印字することで設定のテストをおこないます。
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-trying">印字してみよう</link> と
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-troubleshooting">トラブルシューティング</link>
	    を参照してください。</para>
	  </step>
	</procedure>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタのような、
	    プリンタ言語を使用しているプリンタには、
	    プレインテキストを直接印字させることができません。
	    上にアウトラインを示し、
	    以下の節で説明する簡単な設定方法の説明では、
	    そのようなプリンタを設置している場合は、
	    プリンタが認識できるファイルだけを印字の対象としているという
	    仮定をしています。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くの場合、
	  利用者はシステムに設置されているプリンタすべてで
	  プレインテキストが印字できることを期待しています。
	  印字作業をおこなうために <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  のインタフェースを利用するプログラムでも、
	  通常、そのような仮定を置きます。
	  プリンタ言語を使用するプリンタを設置しており、
	  そのプリンタ言語で記述されたジョブと、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">これに加えて</emphasis>、
	  プレインテキストのジョブも印字できるようにしたいならば、
	  上で示した簡単な設定方法に加えて、
	  さらなる設定をおこなうことを強くお勧めします。すなわち、
	  自動的にプレインテキストから <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> (もしくは、
	  他のプリンタ言語)
	  に変換するプログラムをインストールしてください。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-if-conversion">
	    プレインテキストのジョブを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    プリンタで印字する</link>」
	  で、それをどのようにおこなえばよいのかが説明されています。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    日本語を印字したい場合は、プリンタ言語を使用し
	    ていない「日本語プリンタ」についても、
	    プリンタ固有のエスケープシーケンスを送る必要があります。
	    また、漢字コードをプリン
	    タが設定しているものに変換したりする必要があり、
	    各プリンタ毎に、日本語用のフィルタが必要になります。</para>
	</note>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-naming">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタに名前を付ける</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最初の (簡単な) ステップで、プリンタの名前を考えます。
	    プリンタには別名をいくつか付けることもできるので、
	    機能的な名前
	    でも風変わりな名前でもどちらを選んでもまったく
	    問題はありません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">少なくとも1つのプリンタには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の中で、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> という別名を持たせるべきでしょう。
	    この名前はデフォルトのプリンタ名になっています。
	    ユーザが環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">PRINTER</envar> を設定しておらず、
	    かつ、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> コマンドのコマンドラインで
	    プリンタの名前が指定されていない場合、<literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal>
	    がデフォルトのプリンタ名となり、
	    そのプリンタに出力されます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それから、これは共通の慣習ですが、
	    プリンタの最後の別名には、
	    メーカーやモデル名を含むプリンタの完全な名称をつけることに
	    なっています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">名前と別名のいくつかを決めたら、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルに設定します。
	    プリンタ名は一番左のカラムから書き始めます。
	    別名はそれぞれ縦棒によって区切られ、
	    最後の別名の後ろにコロンを置きます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、2 台のプリンタ (Diablo 630 ラインプリンタと
	    Panasonic KX-P4455 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> レーザライタプリンタ) が定義
	    されている <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    のスケルトンを記しています。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose
#
rattan|line|diablo|lp|Diablo 630 Line Printer:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、最初のプリンタに <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal>
	    という名前と別名として、<literal xmlns:xlink="http://www.w3.org/1999/xlink">line</literal>、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">diablo</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> そして
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Diablo 630 Line Printer</literal>
	    が付けられています。別名とし て <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal>
	    があるので、このプリンタはデフォルトのプリンタとなっ
	    ています。2 番目は <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> と名付けられ、
	    別名として、<literal xmlns:xlink="http://www.w3.org/1999/xlink">ps</literal> と
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">PS</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">S</literal>、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">panasonic</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">Panasonic KX-P4455
	      PostScript v51.4</literal> が付けられています。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-no-header-pages">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページの印字を禁止する</title>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
            <primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary>
            <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</secondary>
          </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムでは、
	    デフォルトでジョブ毎に
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</emphasis>を印字します。
	    ヘッダページにはジョブを要求したユーザ名、
	    ジョブが送られたホスト名、そして、ジョブの名前が素晴
	    らしい大きな文字で印字されています。
	    残念なことに、この余分なテキストすべてが、
	    簡単なプリンタ設定法のデバッグの際に紛れ込んできてしまいます。
	    このため、ヘッダページの出力を禁止しておきます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページの出力を禁止するには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    にあるプリンタのエントリに <literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal>
	    の項目を追加します。次に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal> を加えた
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の例を示します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - no header pages anywhere
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この書式を正しく使うための注意をしておきます。
	    最初の行は左端のカラムから始めます。
	    それに続く行は字下げします。最後の行以外のすべての行は、
	    行末にバックスラッシュを記述します。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-spooldir">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリの作成</title>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタスプール</primary></indexterm>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーラの簡単な設定の次のステップでは、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリ</emphasis>を作成します。
	    プリンタに送られるジョブは、
	    その印字が終了するまでこのディレクトリに置かれます。また、
	    他のたくさんのスプーラもこのディレクトリにファイルを置きます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">様々な事情によりスプーリングディレクトリは、通常、慣例
	    として <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool</filename> の下に置きます。
	    また、スプーリングディレクトリの内容は
	    バックアップをする必要はありません。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkdir</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> によってディレクトリを
	    作るだけでスプーリングディレクトリの復旧は完了します。
	  </para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリの名前は、これも慣例ですが、
	    次のようにプリンタの名前と同じにします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/spool/printer-name</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、ネットワーク上に使用可能なプリンタがたく
	    さんあるならば、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    で印字するための専用のディレクトリにスプーリングディレクトリを置きたくなるかもしれません。
	    例に出てきたプリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> と
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> について、この方式を採用すると、
	    次のようになります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/spool/lpd</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/spool/lpd/rattan</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /var/spool/lpd/bamboo</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">各ユーザが印字するジョブのプライバシを守りた
	      いと考えているならば、スプーリングディレクトリを保護し
	      て、これを誰からでもアクセスできないようにしたいと思う
	      かもしれません。スプーリングディレクトリは、
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">daemon</systemitem> ユーザと
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">daemon</systemitem> グループに所有され、
	      読み込み、書き込み、検
	      索可能であり、他からはアクセスできないようにするべきで
	      す。例題のプリンタに対して、次のようにすることにしましょ
	      う。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown daemon:daemon /var/spool/lpd/rattan</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown daemon:daemon /var/spool/lpd/bamboo</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 770 /var/spool/lpd/rattan</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 770 /var/spool/lpd/bamboo</userinput></screen>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルで、
	    これらのディレクトリの位置を
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に伝える必要があります。
	    スプーリングディレクトリのパス名は <literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal>
	    項目で指定します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - added spooling directories
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ名が最初のカラムから始まっており、
	    そのプリンタに関して記述される他の項目は字下げされていること、
	    各行がバックスラッシュで終わっていることに注意してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal>
	    によりスプーリングディレクトリが指定されていない場合、
	    スプーリングシステムは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd</filename>
	    をデフォルト値として使用します。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-device">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタデバイスの特定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-hardware">プリンタ機器の設定</link>
	    の節では、FreeBSD でプリンタとの通信に使用されるポートおよび
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	    ディレクトリ内のエントリを特定します。
	    そして、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> にその情報を伝えます。
	    印字するジョブを受け取ると、スプーリングシステムは、
	    (プリンタにデータを渡す義務がある)
	    フィルタプログラムに代わって指定されたデバイスをオープンします。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルで
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> 項目を使って
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> エントリを記入します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでの例では、<literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal>
	    は 1 番目のパラレルポートに、<literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	    は 6 番目のシリアルポートに接続されていることにしましょう。
	    このとき、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> には
	    次のようになります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - identified what devices to use
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> でプリンタの
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> 項目が指定されていない場合は、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    はデフォルトとして <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lp</filename>
	    を使用します。<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lp</filename> は、現在の
	    FreeBSD には存在していません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">設置したプリンタがパラレルポートに
	    接続されている場合は、
	    「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-textfilter">
	      テキストフィルタのインストール</link>」
	    まで読み飛ばしてください。
	    そうでない場合は、次節の説明に続いてください。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-commparam">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">スプーラのための通信パラメータの設定</title>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
            <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
            <secondary xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</secondary>
          </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートにプリンタを接続した場合、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    は、プリンタにデータを送信するフィルタプログラムに代わり、
	    通信速度やパリティ、
	    その他のシリアル通信パラメータを設定することができます。
	    このことによる利点は、</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		を編集するだけで、
		様々な通信パラメータを試してみることができます。
		フィルタプログラムを再コンパイルする必要はありません。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングシステムで、
		シリアル通信の設定が異なっているかもしれない複数のプリンタに
		同じフィルタプログラムを使うことが可能になります。</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の項目で、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> で指定された
	    デバイスのシリアル通信パラメータを制御できます。</para>

	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">
		  br#bps-rate</literal></term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスの通信速度を
		  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bps-rate</replaceable> に設定します。
		  ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bps-rate</replaceable> は 50,
		  75, 110, 134, 150, 200, 300, 600, 1200, 1800, 2400,
		  4800, 9600, 19200, 38400, 57600, 115200 [bit/秒]
		  のいずれかです。</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#stty-mode</literal></term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスをオープンした後にターミナルデバイスのオプションを設定します。
		  利用できるオプションについては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">stty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を参照してください。</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> で指定されたデバイスをオープンするとき、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal>
	    で指定されたデバイスの特性を設定します。
	    特に関係があるのは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">parenb</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">parodd</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">cs5</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">cs6</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">cs7</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">cs8</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">cstopb</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">crtscts</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ixon</literal>
	    モードです。
	    これらは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">stty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルページで説明されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">例題のプリンタで6番目のシリアルポートに接続された
	    プリンタの設定を追加してみましょう。
	    通信速度は 38400bps に設定します。
	    モードとして、<literal xmlns:xlink="http://www.w3.org/1999/xlink">-parenb</literal> でパリティ無し、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">cs8</literal> で 8 ビットキャラクタ、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">clocal</literal> でモデム制御無し、
	    そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">crtscts</literal>
	    でハードウェアフロー制御を設定します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:</programlisting>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-textfilter">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">テキストフィルタのインストール</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</secondary>
	  </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここまでで、
	    プリンタにジョブを送るために使うテキストフィルタを
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に設定する準備が整いました。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">テキストフィルタ</emphasis>とは、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">入力フィルタ</emphasis>としても知られていますが、
	    印字するジョブがあるときに
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> が起動するプログラムです。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    がプリンタのためにテキストフィルタを起動するとき、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    はフィルタの標準入力からプリントするジョブを入力し、
	    フィルタの標準出力に項目 <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal>
	    で指定されたプリンタデバイスを接続します。フィルタは、
	    標準入力からジョブを読み込み、
	    プリンタのための必要な変換をおこなった後、
	    その結果を標準出力に出力する、
	    これにより印字がなされることを期待されています。
	    テキストフィルタについての更に詳しい情報については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-filters">
	      フィルタはどのように機能しているか</link>」
	    をご覧ください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでの簡単なプリンタ設定では、
	    プリンタにジョブを送るため、<command xmlns:xlink="http://www.w3.org/1999/xlink">/bin/cat</command>
	    を実行するだけの簡単なシェルスクリプトで間に合います。
	    FreeBSD に標準で付属している <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	    というフィルタでは、バックスペース文字を使った
	    下線引きの動作をおこなう文字ストリームをうまく扱うことができない
	    プリンタのための代替処理をおこなってくれます。
	    もちろん、
	    他のどんなフィルタプログラムを使っても構いません。
	    フィルタ <filename xmlns:xlink="http://www.w3.org/1999/xlink">lpf</filename> については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-lpf">テキストフィルタ
	      lpf</link>」で詳しく説明します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最初に、簡単なテキストフィルタであるシェルスクリプト
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>
	    を作ってみましょう。
	    次のテキストをお好みのテキストエディタでファイルに
	    書き込んでください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.

/bin/cat &amp;&amp; exit 0
exit 2</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、このファイルを実行可能にします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 555 /usr/local/libexec/if-simple</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">LPD
	    にこのテキストフィルタを使うことを設定するためには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> に
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal> 項目を使って指定します。これまでの
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の例のプリンタ 2 台に、
	    このフィルタを加えてみましょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - added text filter
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\ :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:</programlisting>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">if-simple</filename>
	      スクリプトのコピーが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/printing</filename>
	      ディレクトリにあります。</para>
	  </note>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> の起動</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">lpd_enable</literal> 変数に従って
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc</filename> から実行されます。この変数の
	    デフォルト値は <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO</literal> です。まだ
	    そうしていなかったならば</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">lpd_enable="YES"</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に追加して
	    計算機を再起動するか、そのまま <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を
	    起動してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpd</userinput></screen>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-trying">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">印字してみよう</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">簡単な <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    設定も終わりにたどり着きました。
	    残念ながら、設定はこれでおしまいというわけではありません。
	    なぜなら、さらに、設定をテストし、
	    すべての問題点を解決しなくてはならないからです。
	    設定をテストするために、
	    何かを印字してみましょう。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> システムで印字をするためには、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使います。このコマンドは、
	    印字するためのジョブを投入する働きをします。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを
	    「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-testing">
	      プリンタとの通信状況を調べる</link>」で紹介した、
	    あるテスト用のテキストを生成してくれる
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> プログラムと一緒に使うこともできます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">簡単な <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      設定のテスト</emphasis></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次のように入力してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lptest 20 5 | lpr -Pprinter-name</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable>
	    は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    で指定したプリンタ名 (もしくはその別名) です。デフォルト
	    のプリンタを使用する場合は、
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> 引数を付けないで
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を打ち込んでください。もう一度述べますが、
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> を期待しているプリンタをテストするならば、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使う代わりに <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> で書かれた
	    プログラムをプリンタに送ってください。
	    プログラムを送るためには、プログラムをファイルに格納して、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr file</command>
	    と打ち込みます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタの場合、
	    送信したプログラムによる結果が得られるでしょう。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使った場合は、
	    以下のような結果が見られるでしょう。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">!"#$%&amp;'()*+,-./01234
"#$%&amp;'()*+,-./012345
#$%&amp;'()*+,-./0123456
$%&amp;'()*+,-./01234567
%&amp;'()*+,-./012345678</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">更にプリンタをテストしたい場合は、
	    (言語ベースのプリンタのための) もっと大きなプログラムを送信するか、
	    引数を変えて
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を実行します。たとえば、<command xmlns:xlink="http://www.w3.org/1999/xlink">lptest
	      80 60</command> で、それぞれ 80 文字の行を 60
	    行生成します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタがうまく動かなかった場合は、次の節、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-troubleshooting">
	      トラブルシューティング</link>」をご覧ください。</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ設定上級編</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、特殊な形式のファイルを印字するためのフィルタ、
      ヘッダページ、ネットワーク越しのプリンタへの印字、そして、
      プリンタ使用の制限や課金について説明しています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-filter-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	は、ネットワークプロトコル、キュー、アクセス制御などの
	印刷にかかわるさまざまな点を扱いますが、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">実際の</emphasis>作業のほとんどは
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</emphasis>によっておこなわれています。
	フィルタは、プリンタと通信し、
	プリンタのデバイス依存性や特殊な要求を扱うプログラムです。
	簡単なプリンタ設定では、
	プレインテキストのためのフィルタをインストールしました。
	このプレインテキストフィルタは、
	ほとんどのプリンタで機能する極めて単純なものでした
	(「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-textfilter">
	  テキストフィルタのインストール</link>」を参照)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、形式変換やプリンタ課金、特定のプリンタの癖、
	など をうまく利用するためには、
	フィルタがどのように機能するかという
	ことを理解しておくべきです。これらの側面を扱うことは、
	最終的には、フィルタの責任であるからです。
	そして、これは悪い情報ですが、ほとんどの場合において、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">あなた自身</emphasis>が
	フィルタを供給する必要があるということです。また都合のよいことには、
	たくさんのフィルタが一般的に利用できるということです。
	もしフィルタがなかったとしても、
	普通はフィルタを作るのは簡単です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD にも、プレインテキストを印字させることができる
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/lpr/lpf</filename>
	というフィルタが 1 つ付いています
	(このフィルタはファイルに含まれるバックスペースやタブを扱います。
	また、課金をすることもできますが、
	できることはこれだけしかありません)。
	いくつかのフィルタとフィルタの構成要素は
        FreeBSD Ports Collection にもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節で述べることは次の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-filters">
	      フィルタはどのように機能しているか</link>」では、
	    印字の過程におけるフィルタの役割を概説します。
	    この節を読むことで、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    がフィルタを使うときに、<quote xmlns:xlink="http://www.w3.org/1999/xlink">見えないところで</quote>
	    何が起こっているかが理解できるでしょう。このことを知っておくと、
	    プリンタそれぞれに様々なフィルタをインストールしたときに
	    遭遇するかもしれない問題を予期したり、
	    デバッグするときに役立つでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    は、すべてのプリンタがデフォルトでプレインテキストを印字できることを期待しています。
	    これは、プレインテキストを直接印字できない <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    (または他の言語対応の) プリンタで問題になります。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-if-conversion">
	      プレインテキストのジョブを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	      プリンタで印字する</link>」 で、
	    この問題を克服する方法について述べます。
            <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタをお持ちの方は、
            この節をお読みになることをおすすめします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    は様々なプログラムのための有名な出力形式です。
	    <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> のコードを直接書いてしまう人すらいます。
	    残念ながら、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタは高価です。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-ps">非 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタによる
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> のシミュレート</link>」節では、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    データを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">非 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    プリンタ</emphasis>に受けつけさせ、印字させるために、
	    どのようにしてプリンタ用のテキストフィルタをさらに変更すればよいのか、
	    ということについて説明しています。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	    プリンタを持っていない方は、
	    この節をお読みになることをおすすめします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-convfilters">
	      変換フィルタ</link>」では、
	      図形や組版データといった特定のファイル形式を、
	      プリンタが理解できる形式へ変換する作業を自動的におこなわせる方法について述べます。
	      この節を読むと、troff のデータを印字するには <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	      -t</command>, または、<application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application> DVI を印字するには
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -d</command>、
	    ラスタイメージデータを印字するには <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -v</command>、
	    などといったようにユーザが入力することができるように
	    プリンタの設定をおこなうことができます。
	    この節もお読みになることをお薦めします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-of">出力フィルタ</link>」
	    では、あまり使われない <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	    の機能のすべて、すなわち、
	    出力フィルタに関することが記述されています。ヘッダページ
	    (「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages">
	      ヘッダページ</link>」参照) を印字させていない場合は、
	    多分、この節は飛ばしても構わないでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-lpf">テキストフィルタ
	      lpf</link>」では、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	    についての説明が、ほぼ完全におこなわれています。これは
	    FreeBSD に付属するラ インプリンタ (または、
	    ラインプリンタのように動作するレーザプリンタ) のための、
	    単純なテキストフィルタです。
	    プレインテキストを印字したことに対して課金をおこなう方法が
	    至急必要な場合、もしくは、バックスペース文字を印字しようと
	    すると煙を発するプリンタを持っている場合は、絶対に
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> を検討するべきです。</para>
	</listitem>
      </itemizedlist>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下で述べられているさまざまなスクリプトは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/printing</filename>
	  ディレクトリにあります。</para>
      </note>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-filters">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">フィルタはどのように機能しているか</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">既に言及したように、フィルタとは、プリンタにデータを送る際に、
	  デバイスに依存した部分を取り扱うために <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  によって起動される実行プログラムです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  がジョブ中のファイルを印字しようとするとき、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  はフィルタプログラムを起動します。このとき、
	  フィルタの標準入力を印字するファイルに、
	  標準出力をプリンタに、そして、標準エラー出力を
	  エラーログファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> 内の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">lf</literal> 項目で指定されたファイル、または、
	  指定されていない場合は、デフォルトとして
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/console</filename>)
	  にセットします。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">troff</command></primary>
        </indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  が起動するフィルタと、その引数が何であるかは、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルの内容と、ジョブの起動時にユーザが指定した
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドの引数に依存しています。
	  たとえば、ユーザが <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -t</command> と入力した場合は、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は出力先のプリンタ用の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">tf</literal> 項目で指定されている troff
	  用のフィルタを起動させるでしょう。
	  ユーザがプレインテキストの印字を指示したときは、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal> で指定されたフィルタが起動されるでしょう
	  (このことはほとんどの場合にあてはまります。
	  詳細については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-of">
	    出力フィルタ</link>」をご覧ください)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  で指定可能なフィルタは次の3種類があります。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">テキストフィルタ</emphasis>
	      (<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> のドキュメントでは紛らわしいことに
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">入力フィルタ</emphasis>と呼んでいますが)
	      は一般のテキストの印字を扱います。これはデフォルトのフィルタと
	      考えてください。<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      では、すべてのプリンタに対して、
	      デフォルトでプレインテキストが印字できることを期待しています。
	      さらに、バックスペースやタブを正しく扱い、また、
	      他の特殊な文字が入力されてもプリンタに混乱を来さないように
	      するのはテキストフィルタの仕事であると考えています。

	      プリンタの使用に対して課金をしなくてはならない環境にあ
	      るときは、テキストフィルタが印字したページ数を数える作
	      業もしなくてはなりません。この作業は、通常、印字した行
	      数を数え、これをプリンタが 1 ページ当たりに印字できる行
	      数と比較することでおこなわれます。

	      テキストフィルタは、次のような引数を付けて起動されます。</para>

	      <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
		<command xmlns:xlink="http://www.w3.org/1999/xlink">filter-name</command>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink">-c</arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-w <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">width</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-l <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">length</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-i <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">indent</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-n <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">login</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-h <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">host</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">acct-file</replaceable></arg>
	      </cmdsynopsis>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、</para>

	      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -l</command>
		      によってジョブが入力されたときに与えられます。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">width</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		      で指定された <literal xmlns:xlink="http://www.w3.org/1999/xlink">pw</literal> (page width)
		      項目の値が与えられます。デフォルトは、
		      132 です。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">length</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> (page length)
		      項目で指定された値が与えられます。
		      デフォルトは 66 です。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">indent</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -i</command>
		      によって与えられた字下げの量で、
		      デフォルトは 0 です。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">login</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを印字したユーザのアカウント名が
		      与えられます。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">host</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブが入力されたホスト名が
		      与えられます。</para>
		  </listitem>
		</varlistentry>

		<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">acct-file</replaceable></term>
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">af</literal>
		      項目で指定されている課金データファイル
		      の名前が与えられます。</para>
		  </listitem>
		</varlistentry>
	      </variablelist>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタ</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</secondary></indexterm>は、
	      特定のファイル形式をプリンタ
	      が紙に印字できるようなものに変換します。たとえば、
	      プリンタで ditroff 組版データを直接印字することはできません。
	      しかし、ditroff データをプリンタが消化し、
	      印字することができる形式へ変換するために、ditroff
	      ファイル用フィルタをインストールすることができます。
	      「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-convfilters">
		変換フィルタ</link>」
	      で、これらに関するすべてについて説明します。
	      プリンタの課金をする必要がある場合は、
	      変換フィルタでも印字ページを数える作業が必要となります。

	      変換フィルタは次の引数をとって起動されます。</para>

	      <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
		<command xmlns:xlink="http://www.w3.org/1999/xlink">filter-name</command>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-x <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">pixel-width</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-y <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">pixel-height</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-n <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">login</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-h <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">host</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">acct-file</replaceable></arg>
	      </cmdsynopsis>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">pixel-width</replaceable> は、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">px</literal> 項目で指定された値
	      (デフォルトは 0)、
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">pixel-height</replaceable> は、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">py</literal> 項目で指定された値
	      (デフォルトは 0) です。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">出力フィルタ</emphasis>は、
	      テキストフィルタが指定されて
	      おらず、かつ、
	      ヘッダページの出力が許可されている場合にのみ使われます。
	      「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-of">
		出力フィルタ</link>」で、これらのことについて説明します。
	      出力フィルタに対する引数は次の 2 つだけです。</para>

	      <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
		<command xmlns:xlink="http://www.w3.org/1999/xlink">filter-name</command>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-w <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">width</replaceable></arg>
		<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-l <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">length</replaceable></arg>
	      </cmdsynopsis>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<option xmlns:xlink="http://www.w3.org/1999/xlink">-w</option> と <option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option> は、
	      テキストフィルタの場合と同じです。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">フィルタは、次に示す終了状態をもってプログラムを
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">exit</emphasis> するべきです。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">exit 0</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">フィルタがファイルを正常に印字した場合。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">exit 1</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">フィルタはファイルの印字に失敗したが、
		<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		に再度ファイルの印字を試みて欲しい場合。
		この終了状態で終了した場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		はフィルタを再スタートします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">exit 2</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">フィルタはファイルの印字に失敗し、かつ、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		に再出力を試みて欲しくない場合。この場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		はそのファイルを放棄します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD に付属するテキストフィルタ
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/lpr/lpf</filename> は、FORM FEED
	  文字が送られたときやプリンタ使用に対する課金をどのようにするかを決定するために、
	  ページ幅やページ長の引数を利用します。また、
	  課金用のエントリを作成するため、ログイン名、ホスト名、
	  課金ファイル名の引数を利用します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、フィルタの購入を検討しているならば、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  と互換性があるかどうかを確認してください。もしそうならば、
	  上述の引数リストをサポートしていなければなりません。
	  一般向けの使用のためにフィルタを作成する計画をしている場合は、
	  同じ引数リストと終了コードをサポートしてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-if-conversion">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">プレインテキストのジョブを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタで印字する</title>
        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータと <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> (または、他の言語に対応した)
	  プリンタをあなたしか使用しない場合は、プリンタにプレ
	  インテキストを絶対に送らない、そして、
	  プリンタにプレインテキストを送りたがっている
	  様々なプログラムの機能を決して使わないことにしてください。そうすれば、
	  この節に書かれたことに心を煩わせる必要はまったくなくなります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  とプレインテキストの両方のジョブをプリンタへ送りたいと思っている場合は、
	  プリンタ設定についての要求が増えるでしょう。
	  両者をプリンタへ送信するためには、
	  到着したジョブがプレインテキストであるか
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> であるかを検出するテキストフィルタが必要です。
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> のジョブはすべて <literal xmlns:xlink="http://www.w3.org/1999/xlink">%!</literal>
	  で始まらなければならないことになっています
	  (他のプリンタ言語に関しては、
	  プリンタのドキュメントをご覧ください)。
	  ジョブの最初の 2 文字がこれならば、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> であることが分かります。
	  したがって、
	  ジョブのそれ以降の部分をプリンタに直接送ることができます
	  (訳注: <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> では、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">%</emphasis>
	  以降はコメントとして扱われるので、最初の <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">%!</emphasis> の行を読み捨てても問題はない)。
	  最初の2文字が <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">%!</emphasis> でない場合は、
	  フィルタはテキストを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> に変換し、
	  その結果を使って印字をおこないます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この作業をどうやってやればよいのでしょうか。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</secondary>
        </indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートにプリンタを接続した場合は、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> をインストールすることをお勧めします。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> 用のフィルタで、
	  プリンタとの双方向通信をおこないます。
	  このフィルタでは、プリンタからの冗長な情報を得ることで、
	  プリンタの状況を示すファイルが更新されていきます。
	  したがって、ユーザや管理者は
	  (<errorname xmlns:xlink="http://www.w3.org/1999/xlink">トナー残量少</errorname>や
	  <errorname xmlns:xlink="http://www.w3.org/1999/xlink">紙詰まり</errorname>といった)
	  プリンタの状況を正確に知ることができます。しかし、
	  もっと重要なことは、<command xmlns:xlink="http://www.w3.org/1999/xlink">psif</command>
	  と呼ばれるプログラムが含まれているということです。
	  このプログラムは、
	  入力されたジョブがプレインテキストかどうかを検出し、
	  これを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> に変換するために、<command xmlns:xlink="http://www.w3.org/1999/xlink">textps</command>
	  (<command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> に付属する別のプログラム)
	  を呼び出します。そして、このジョブをプリンタに送るために、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> が使われます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> は FreeBSD Ports Collection
	  に含まれています (<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">Ports Collection</link>
          を参照してください)。
	  紙のサイズに合わせて
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">print/lprps-a4</package> または
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">print/lprps-letter</package> port
	  をインストールしてください。<command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command>
	  をインストールした後は、<command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command>
	  の一部である <command xmlns:xlink="http://www.w3.org/1999/xlink">psif</command>
	  プログラムのパス名を指定するだけです。Ports Collection から
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> をインストールしたときは、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の中のシリアル接続した
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタのエントリに対して、次を使ってください。
	</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">:if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  にプリンタをリード・ライトモードでオープンさせるために、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rw</literal> 項目も指定すべきです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポート接続の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタの場合 (すなわち、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> が
	  必要としているプリンタとの双方向通信ができない)、
	  テキストフィルタとして次のシェルスクリプトを使うことができます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  psif - Print PostScript or plain text on a PostScript printer
#  Script version; NOT the version that comes with lprps
#  Installed in /usr/local/libexec/psif
#

IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
   #
   #  PostScript job, print it.
   #
   echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\004" &amp;&amp; exit 0
   exit 2
else
   #
   #  Plain text, convert it, then print it.
   #
   ( echo "$first_line"; cat ) | /usr/local/bin/textps &amp;&amp; printf "\004" &amp;&amp; exit 0
   exit 2
fi</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記のスクリプトにおいて、<command xmlns:xlink="http://www.w3.org/1999/xlink">textps</command>
	  はプレインテキストから <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  へ変換するために別にインストールしたプログラムです。
	  テキストから <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> へ変換するのには、
	  お好みのどんなプログラムでも使うことができます。FreeBSD
	  Ports Collection (<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">Ports Collection</link>
	  を参照してください) には、<literal xmlns:xlink="http://www.w3.org/1999/xlink">a2ps</literal>
	  と呼ばれるテキストから
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> に変換するプログラムが入っています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-ps">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">非 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタによる <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  のシミュレート</title>
        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">PostScript</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">エミュレーション</secondary>
        </indexterm>
        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  は質の高い組版と印字をおこなうための
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">事実上の</emphasis>標準です。しかしながら、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  は、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">高価な</emphasis>標準です。ありがたいことに、
	  Aladdin Enterprises から
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> と呼ばれる、
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> 互換の動作をするフリーのプログラムが出されていて、
	  FreeBSD で動きます。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> はほとんどの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ファイルを読むことができ、
	  これらの各ページを多くのブランドの非 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタを含む
	  様々なデバイス用に変換することができます。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> をインストールし、
	  プリンタ用の特別なテキストフィルタを使うことによって、
	  非 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタをあたかも本物の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  プリンタであるかのように動作させることができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> は FreeBSD Ports Collection に入っています。
	  複数のバージョンがありますが、最も良く使われているバージョンは <package xmlns:xlink="http://www.w3.org/1999/xlink">print/ghostscript-gpl</package> です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタをシミュレートさせる場合は、
	  テキストフィルタに <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  ファイルを印字しようとしているかどうかを検出させます。
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ファイルでない場合は、
	  フィルタはそのファイルを直接プリンタに送ります
	  (訳注: テキストファイルを直接印字できない場合は、もちろん、
	  変換フィルタを通す必要があります)。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> の場合は、
	  まず、<application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application> を使い、
	  ファイルをそのプリンタが理解できる形式へ変換します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次の例のスクリプトは、Hewlett Packard DeskJet 500
	  プリンタ用 のテキストフィルタです。
	  他のプリンタで用いるときは、<option xmlns:xlink="http://www.w3.org/1999/xlink">-sDEVICE</option>
	  引数を <command xmlns:xlink="http://www.w3.org/1999/xlink">gs</command> (<application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>)
	  コマンドに変えてください (<command xmlns:xlink="http://www.w3.org/1999/xlink">gs -h</command>
	  と入力すると、現在インストールされている <application xmlns:xlink="http://www.w3.org/1999/xlink">Ghostscript</application>
	  でサポートされているデバイスのリストが得られます)。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  ifhp - Print Ghostscript-simulated PostScript on a DeskJet 500
#  Installed in /usr/local/libexec/ifhp

#
#  Treat LF as CR+LF (to avoid the "staircase effect" on HP/PCL
#  printers):
#
printf "\033&amp;k2G" || exit 2

#
#  Read first two characters of the file
#
IFS="" read -r first_line
first_two_chars=`expr "$first_line" : '\(..\)'`

if [ "$first_two_chars" = "%!" ]; then
    #
    #  It is PostScript; use Ghostscript to scan-convert and print it.
    #
    /usr/local/bin/gs -dSAFER -dNOPAUSE -q -sDEVICE=djet500 \
      -sOutputFile=- - &amp;&amp; exit 0

else
    #
    #  Plain text or HP/PCL, so just print it directly; print a form feed
    #  at the end to eject the last page.
    #
    echo "$first_line" &amp;&amp; cat &amp;&amp; printf "\033&amp;l0H" &amp;&amp;
    exit 0
fi

exit 2</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal> 項目を通して、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  にこのフィルタを教えてやる必要があります。</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">:if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/ifhp</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これでおしまいです。<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr plain.text</command>
	  とか <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr whatever.ps</command>
	  と入力してみましょう。どちらも正常に印字されるはずです。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    日本語を印字する場合は、
	    日本語対応の Ghostscript が必要です。日本語対応版の
	    Ghostscript も Ports Collection に入っています。</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-convfilters">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-simple">プリンタ設定導入編</link>」
	  に書かれた簡単な設定が完了したら、最初に、
	  やってみたいと思うことは、多分 (プレイン ASCII テキストに加えて)
	  好みのファイル形式のための変換フィルタをインストールすることでしょう。
	  </para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">なぜ、変換フィルタをインストールするのか?</title>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
            <primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application></primary>
            <secondary xmlns:xlink="http://www.w3.org/1999/xlink">DVI ファイルの印刷</secondary>
          </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタによって、
	    様々な種類のファイルを印字することが簡単になります。たとえば、<application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application>
	    組版システムでたくさんの仕事をしたと仮定しましょう。
	    そして、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタが接続 されているとします。
	    すると、<application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application> で DVI ファイルを作成する度に、DVI
	    ファイルを印字するために、
	    これを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ファイルに変換する必要があります。
	    このコマンドは次のようになるでしょう。</para>

          <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dvips seaweed-analysis.dvi</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr seaweed-analysis.ps</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">DVI ファイル用の変換フィルタがインストールしてあると、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に変換を肩代わりさせることで毎回毎回
	    おこなわなければならなかった面倒な変換作業を省くことができます。
	    つまり、DVI を生成したら、
	    次のようなコマンドを入力するだけで、これが印字されます。
	  </para>

          <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -d seaweed-analysis.dvi</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に DVI
	    ファイルの変換をさせるためには、
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option> オプション を指定します。
	    変換オプションのリストは「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lpr-options-format">
	      整形と変換に関するオプション</link>」
	    に載せてあります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変化のオプションのそれぞれをプリンタに
	    サポートさせるためには、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタ</emphasis>をインストールし、
	    そのパス名を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    の中で指定しなくてはなりません。変換フィルタは、
	    プレインテキストを印字する代わりに、フィルタはファイルを
	    プリンタが理解できる形式に変換するところを除けば、
	    「プリンタの簡単な設定」で説明したテキストファイル
	    (「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-textfilter">
	      テキストフィルタのインストール</link>」 を見て下さい)
	    に似ています。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">どの変換フィルタをインストールすべきか?</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">使いたいと思う変換フィルタをインストールすべきです。
	    DVI のデータを頻繁に印字するならば、DVI 変換フィルタ
	    をインストールするのが適切でしょう。印字しなくてはなら
	    ない troff を大量に抱えている場合は、多分、
	    troff フィルタが欲しくなるはずです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次の表は、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> で動作するフィルタと、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    ファイルでのエントリする項目、そして、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr</command>
	    コマンドで呼び出す方法をまとめたものです。</para>

	  <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイル形式</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>項目</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lpr</command> オプション</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">cifplot</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DVI</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">df</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">plot</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">gf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-g</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">ditroff</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">nf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-n</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">FORTRAN text</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">troff</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">raster</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">vf</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option></entry>
		</row>
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">プレインテキスト</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">if</literal></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">なし、<option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option>、または
		    <option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option></entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">先の例のように、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -d</command>
	    を使うためには、出力先のプリンタの
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> 内のエントリで、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">df</literal>
	    項目が必要であることが分かります。</para>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">FORTRAN</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">反論はあるかも知れませんが、FORTRAN テキストや plot
	    のような形式は、多分、廃れてていくでしょう。
	    あなたのサイトで、自前のフィルタをインストールするだけで、
	    プリントオプションのいくつか、あるいは、
	    全部に新しい意味を与えることができます。たとえば、
	    Printerleaf ファイル (Interleaf
	    デスクトップパブリッシングプログラムによるファイル)
	    を直接印字したいとします。
	    そして、Printerleaf 用の変換フィルタを
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">gf</literal> 項目で
	    指定したパスにインストールすれば、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	      -g</command> の意味は <quote xmlns:xlink="http://www.w3.org/1999/xlink">Printerleaf
	    ファイルを印字する</quote> 意味だとユーザに教えることができます。
	    </para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタのインストール</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタは FreeBSD
	    の基本システムのインストールとは別にインストールするプログラムなので、
	    変換フィルタは、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local</filename>
	    ディレクトリの下に置くべきでしょう。
	    フィルタは <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> だけが実行する特別なプログラム、
	    すなわち、一般ユーザが実行する必要すらないプログラムなので、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec</filename>
	    ディレクトリに置くのが普通です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタを使用可能にするためには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    の目的のプリンタの適切な項目に
	    フィルタがあるパス名を指定します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">DVI 変換フィルタをプリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	    のエントリに加えてみましょう。プリンタ
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> の <literal xmlns:xlink="http://www.w3.org/1999/xlink">df</literal>
	    項目を新たに加えた <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    ファイルの例を以下に再掲します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - added df filter for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:\
        :df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">DVI フィルタは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename> という
	    名前のシェルスクリプトです。
	    このスクリプトは次のようになっています。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
#  Invoked by lpd when user runs lpr -d
#
exec /usr/local/bin/dvips -f | /usr/local/libexec/lprps "$@"</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトでは、<command xmlns:xlink="http://www.w3.org/1999/xlink">dvips</command>
	    をフィルタモード (引数 <option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option>) で、
	    標準入力上で起動しています。標準入力は印字するジョブです。
	    それから、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタ用フィルタ
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> (これについては「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-if-conversion">
	      プレインテキストのジョブを <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	      プリンタで印字する</link>」 を参照してください) を
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に与えられた引数を付けて起動します。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command>
	    はこれらの引数を印字されたページ分の課金をおこなうために使われます。
	    </para>

	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタのその他の例</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変換フィルタのインストールには決まったステップがないので、
	    この節では、例をもっと挙げることにします。
	     これを自分でフィルタを作る際のガイドにしてください。
	    適当な例があったら、それをそのまま使ってください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次のスクリプト例は、Hewlett Packard LaserJet III-Si
	    のための、raster (ええと・・実は、GIF ファイル)
	    用の変換フィルタです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  hpvf - Convert GIF files into HP/PCL, then print
#  Installed in /usr/local/libexec/hpvf

PATH=/usr/X11R6/bin:$PATH; export PATH

giftopnm | ppmtopgm | pgmtopbm | pbmtolj -resolution 300 \
    &amp;&amp; exit 0 \
    || exit 2</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、GIF ファイルから PNM (portable anymap)
	    形式に変換し、次に PGM (portable graymap) 形式に変換してから、
	    LaserJet/PCL-互換データに変換しています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上記のフィルタを使うプリンタのためのエントリを付け加えた
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    ファイルは次のようになります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpif</filename>:\
        :vf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpvf</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次のスクリプトは、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタ
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> のための groff 組版システムの
	    troff データのための変換フィルタです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops | /usr/local/libexec/lprps "$@"</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上記のスクリプトではプリンタとの通信をおこなうため、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> をまた利用しています。
	    プリンタがパラレルポートに接続されている場合は、代わりに、
	    次のスクリプトを使うかもしれません。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  pstf - Convert groff's troff data into PS, then print.
#  Installed in /usr/local/libexec/pstf
#
exec grops</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これで完成しました。次に、フィルタを使用可能にするため
	    に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	    に加える必要があるエントリを示します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">:tf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/pstf</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例をみたら、FORTRAN のベテランは赤面するかもしれません。
	    この FORTRAN テキストフィルタは、
	    プレインテキストを直接印字できるすべてのプリンタで利用できます。
	    このフィルタをプリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal>
	    にインストールすることにしましょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
# hprf - FORTRAN text filter for LaserJet 3si:
# Installed in /usr/local/libexec/hprf
#

printf "\033&amp;k2G" &amp;&amp; fpr &amp;&amp; printf "\033&amp;l0H" &amp;&amp; exit 0
exit 2</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、このフィルタを使用可能にするため、以下の行を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> のプリンタ
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal> のエントリに加えます。</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">:rf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hprf</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これが最後の、そして、若干複雑な例です。前に紹介した
	    LaserJet プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal> に、DVI
	    フィルタを加える ことにしましょう。最初に、
	    簡単な部分をおこないます。すなわち、DVI フィルタの位置を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> に書き加えます。
	  </para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">:df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpdf</filename>:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、難しい部分であるフィルタの作成をおこないます。
	    このために、DVI から LaserJet/PCL
	    への変換プログラムが必要です。FreeBSD の Ports Collection
            (<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">Ports Collection</link>
	    を参照してください) には、それがあります。
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">dvi2xx</package> というのがその port の名前です。
	    これをインストールすると、必要なプログラム
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">dvilj2p</command> が使えます。このプログラムは
	    DVI を LaserJet IIp、LaserJet III、そして LaserJet 2000
	    の互換コードへ変換してくれます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dvilj2p</command> はフィルタ
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">hpdf</command> を極めて複雑にしています。
	    なぜなら、<command xmlns:xlink="http://www.w3.org/1999/xlink">dvilj2p</command>
	    は標準入力からデータを読み込むことができないからです。
	    このプログラムを働かせるためには、ファイル名が必要です。
	    もっと悪いことに、ファイル名は <filename xmlns:xlink="http://www.w3.org/1999/xlink">.dvi</filename>
	    で終わっている必要があり、標準入力の代わりに、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fd/0</filename> を使うのは問題があります。
	    この問題は、(<filename xmlns:xlink="http://www.w3.org/1999/xlink">.dvi</filename> で終わる)
	    一時的なファイル名から<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fd/0</filename> に
	    (シンボリックな) リンクを張る
	    ことで回避することができます。これで、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">dvilj2p</command>
	    に強制的に標準入力からデータを読み込ませることができます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もう1つの問題は、一時的なリンクを張るために
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename>
	    ディレクトリを使うことができないという事実です。
	    シンボリックリンクはユーザ、グループが <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">bin</systemitem>
	    であるユーザに所有されています。フィルタはユーザ
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">daemon</systemitem> として起動します。そして、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename>
	    ディレクトリはスティッキービットが立っています。
	    フィルタはリンクを作ることができます。しかし、
	    リンクは別のユーザに所有されているため、
	    作業が終了したとき、このリンクを削除することができません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その代わりに、シンボリックリンクは現在の作業ディレクトリ、
	    すなわち、スプーリングディレクトリ
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal> 項目で指定する) に作ることにします。
	    フィルタが作業するにはここの場所は完璧な場所で、なぜなら、
	    特に、スプーリングディレクトリのディ スクの空き容量は
	    (ときどき) <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename>
	    ディレクトリよりもたくさんあるからです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に示すのが最後のフィルタです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  hpdf - Print DVI data on HP/PCL printer
#  Installed in /usr/local/libexec/hpdf

PATH=/usr/local/bin:$PATH; export PATH

#
#  Define a function to clean up our temporary files.  These exist
#  in the current directory, which will be the spooling directory
#  for the printer.
#
cleanup() {
   rm -f hpdf$$.dvi
}

#
#  Define a function to handle fatal errors: print the given message
#  and exit 2.  Exiting with 2 tells LPD to do not try to reprint the
#  job.
#
fatal() {
    echo "$@" 1&gt;&amp;2
    cleanup
    exit 2
}

#
#  If user removes the job, LPD will send SIGINT, so trap SIGINT
#  (and a few other signals) to clean up after ourselves.
#
trap cleanup 1 2 15

#
#  Make sure we are not colliding with any existing files.
#
cleanup

#
#  Link the DVI input file to standard input (the file to print).
#
ln -s /dev/fd/0 hpdf$$.dvi || fatal "Cannot symlink /dev/fd/0"

#
#  Make LF = CR+LF
#
printf "\033&amp;k2G" || fatal "Cannot initialize printer"

#
#  Convert and print.  Return value from dvilj2p does not seem to be
#  reliable, so we ignore it.

#
dvilj2p -M1 -q -e- dfhp$$.dvi

#
#  Clean up and exit
#
cleanup
exit 0</programlisting>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-autoconv">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">自動変換: その他の変換フィルタ</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここまでに述べてきたフィルタによって、
	    印字環境の能率が上がったことと思います。しかし、
	    これはどのフィルタを使うかを (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のコマンドライン上で)
	    ユーザが指定しなくてはならないという代価を支払って実現されています。
	    コンピュータの事情にあまり詳しくないユーザにとって、
	    フィルタのオプションを指定させられるということは
	    いらいらさせられるものになるでしょう。更に悪いことに、
	    間違ったフィルタオプションを指定されると、
	    間違った形式のファイルがそのフィルタに適用されることになり、
	    その結果、何百枚もの紙を吐き出すことになるかもしれません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そのような結果になるならば、
	    変換フィルタをインストールするよりもむしろ、
	    テキストフィルタ (これがデフォルトフィルタなので)
	    に印字するよう要求されたファイルの形式を検出させ、自動的に、
	    適切な変換フィルタを起動するようにしたいと思うかもしれません。
	    ここでは <command xmlns:xlink="http://www.w3.org/1999/xlink">file</command>
	    コマンドのようなツールを役立たせることができます。
	    もちろん、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの</emphasis>
	    ファイル形式の違いを見分けることは難しいことでしょう。
	    そして、もちろん、それらのファイルに対しては、
	    変換フィルタを提供するだけで済ますこともできるのです。</para>

          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">apsfilter</primary></indexterm>
          <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
            <primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary>
            <secondary xmlns:xlink="http://www.w3.org/1999/xlink">フィルタ</secondary>
            <tertiary xmlns:xlink="http://www.w3.org/1999/xlink">apsfilter</tertiary>
          </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Ports Collection には、<command xmlns:xlink="http://www.w3.org/1999/xlink">apsfilter</command>
	    (<package xmlns:xlink="http://www.w3.org/1999/xlink">print/apsfilter</package>)
	    と呼ばれる自動変換をおこなうテキストフィルタがあります。
	    このフィルタは プレインテキスト、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>, DVI
	    など、ほとんどすべてのファイル形式を検出し、適当な変換をおこなった後、
	    データを印字することができます。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-of">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">出力フィルタ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムでは、
	  ここまでにまだ取り上げていないフィルタ形式、
	  出力フィルタをサポートしています。出力フィルタは、
	  テキストフィルタのように、
	  プレインテキストのみを印字するために意図されたものですが、
	  非常に簡単化されています。テキストフィルタを用いずに、
	  出力フィルタを使っている場合は、次のようになります。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      はジョブ中の各ファイルに一度ではなく、
	      ジョブ全体に対して一度だけ出力フィルタを起動します。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は出力フィルタに対し、
	      ジョブ中のファイルの先頭や末尾を特定するための対策を
	      一切おこなっていません。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      はユーザのログイン名やホスト名をフィルタに渡しません。
	      したがって、課金の処理をおこなうことは考えていません。
	      実際、出力フィルタには、以下2つの引数しか与えられません。</para>

	    <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">filter-name</command>
	      <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-w<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">width</replaceable></arg>
	      <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">-l<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">length</replaceable></arg>
	    </cmdsynopsis>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">width</replaceable>
	      は対象となるプリンタの <literal xmlns:xlink="http://www.w3.org/1999/xlink">pw</literal> 項目、
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">length</replaceable> は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> 項目に指定された数です。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">出力フィルタの簡便さに誘惑されてはいけません。もし、
	  ジョブ中のそれぞれのファイルに別のページ番号を付加しようとしても、
	  出力フィルタは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">うまく動作しないでしょう</emphasis>。
	  そのような動作を期待しているならば、
	  (入力フィルタとしても知られている) テキストフィルタを使ってください。
	  詳しくは、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-textfilter">
	    テキストフィルタのインストール</link>」をご覧ください。
	  さらに、出力フィルタは、実のところ、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">もっと複雑</emphasis>になっています。まず、
	  特殊なフラグ文字を検出するために、
	  フィルタに送られてくるバイトストリームを検査する必要があります。
	  また、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> に代わって、
	  自分自身にシグナルを送らなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、ヘッダページの印字をおこないたくて、
	  エスケープシーケンスやヘッダページを印字できるようにするその他の初期化文字列を送信する必要がある場合は、
	  出力ファイルが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必要</emphasis>です。
	  (しかし、
	  ヘッダページを要求したユーザに対して課金しようとするのもまた無駄なことです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  は出力フィルタにユーザやホストの情報を渡しません)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">1 台のプリンタに対し、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  では出力フィルタとテキストやその他のフィルタを両方使うことができます。
	  このような場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> はヘッダページ (「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages">
	    ヘッダページ</link>」 を参照してください)
	  だけを印字させるために、出力フィルタを起動させます。
	  それから <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> では、出力フィルタに 2 バイトの文字
	  (ASCII 031 の次に ASCII 001) を送ることで、
	  出力フィルタが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">自分自身を停止する</emphasis>ことを期待しています。
	  2 バイト (031, 001) が出力フィルタに送られたとき、
	  出力フィルタは自分自身にシグナル <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGSTOP</literal>
	  を送ることによって停止するはずです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> がその他のフィルタを動かし終わると、
	  出力フィルタにシグナル <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGCONT</literal>
	  を送って、出力フィルタを再起動します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">出力フィルタがあり、
	  テキストフィルタが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ない</emphasis>場合、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  はプレインテキストジョブを扱う場合に、
	  出力フィルタを使います。前述したように、出力フィルタでは、
	  ジョブ中の各ファイルの間に
	  FORM FEED 文字や紙を送る他の文字を入れることはしません。
	  この動作は多分、
	  あなたが求めているものとは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">異なっている</emphasis>でしょう。
	  ほとんどの場合において、テキストフィルタが必要なはずです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">プログラム <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> は、
	  テキストフィルタの項で既に紹介しましたが、
	  出力フィルタとしても動作させることができます。もし、
	  簡便で極悪な出力フィルタが必要で、かつ、
	  バイトストリームを検査したりシグナルを送るコードを書きたくないときには、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> をお試しください。
	  あるいは、プリントが要求する初期化コードを送るために、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  をシェルスクリプトに包んで使うこともできます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-lpf">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">テキストフィルタ <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command></title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">プログラム <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/lpr/lpf</filename> は、
	  FreeBSD の バイナリ配布に付属しているテキストフィルタ
	  (入力フィルタ) で、出力を字下げしたり (<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	    -i</command> でジョブが入力さ れたとき)、
	  文字を未処理のままプリンタに送ったり (<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	    -l</command> でジョブが入力されたとき)、
	  ジョブ中のバックスペースやタブの印字位置を調節したり、
	  印字したページに対して課金したりすることができます。また、
	  このフィルタは出力フィルタとしても動作させることができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  フィルタは多くの印字環境において使用することに適しています。
	  このフィルタには、プリンタに初期化文字列を送る機能はありませんが、
	  必要とされる初期化をおこない、それから
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  を実行させるためのシェルスクリプトを作成するのはたやすいことです。
	  </para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ページ課金</primary></indexterm>
        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">課金</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</secondary>
        </indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> に対して、
	  印字ページへの課金を正確におこなわせるためには、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルの中の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pw</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal>
	  の項目に正確な値を入れておく必要があります。これらの値は、
	  どのくらいの量のテキストがページにフィットするか、また、
	  ユーザのジョブが何ページあるのかを調べるために使われます。
	  プリンタの課金についての詳しい情報については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-acct">
	    プリンタの利用に対する課金</link>」をご覧ください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-header-pages">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが管理するシステムのユーザが
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">たくさん</emphasis>おり、
	ユーザ全員が様々なプリンタを使用する場合、多分、
	必要悪である<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</emphasis>を
	印字させることを検討したいと思うかもしれません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">バナーページ</primary>
        <see xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</see>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページは、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バナー</emphasis> とか
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バーストページ</emphasis> としても知られていますが、
	出力されたジョブが誰によるものなのかを特定させる働きがあります。
	印字結果の山の中において、
	ユーザのジョブによって印字された本物のドキュメント部分よりも際立たせるために、
	ヘッダページは、通常、多分、縁が装飾されている大きな太文字で印字されます。
	ヘッダページにより、
	ユーザは自分が出したジョブがどこにあるのかをすばやく見つけることができます。
	ヘッダページの欠点は、明らかに、すべてのジョブに対して、
	紙が 1 枚余分に印字されるということです。
	この紙の有効期間は短く、2 〜 3 分も続きません。最終的に、
	これらの紙は再利用紙入れの中かくずの山に入れられることでしょう
	(ヘッダページはジョブ中の各ファイル毎に印字されるのではなく、
	ジョブ毎に印字されるということに注意してください。したがって、
	紙の消費はそれほどひどくはないかもしれません)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">もし</emphasis>、
	プリンタがプレインテキストを直接印字できるならば、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	システムは印字物に対して自動的にヘッダページを付けることができます。
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタを使っている場合は、
	ヘッダページを生成する外部プログラムが必要になります。これについては、
	「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages-ps"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  プリンタでのヘッダページ</link>」をご覧ください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-header-pages-enabling">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページの印字を許可する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-simple">プリンタ設定導入編
	  </link>」節では、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルの <literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal> (``suppress header'' :
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダを供給しない</quote> という意味) を指定して、
	  ヘッダページの印字を止めていました。
	  プリンタでのヘッダページの印字を許可するには、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal> 項目を取り除くだけでよいのです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">とても簡単そうに見えるけど、本当かな?</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それは本当です。
	  プリンタに初期化文字列を送るための
	  出力フィルタを用意しなくてはならないかもしれません。次に、Hewlett
	  Packard PCL 互換プリンタの例を挙げます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  hpof - Output filter for Hewlett Packard PCL-compatible printers
#  Installed in /usr/local/libexec/hpof


printf "\033&amp;k2G" || exit 2
exec /usr/libexec/lpr/lpf</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">of</literal>
	  項目に出力フィルタのパス名を指定してください。
	  詳細については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-of">出力フィルタ</link>」節
	  をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、以前紹介したプリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal>
	  のための <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルの例を示します。ここでは、
	  ヘッダページの印字を許可し、上記の出力フィルタを追加しました。
	</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpif</filename>:\
        :vf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpvf</filename>:\
        :of=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpof</filename>:</programlisting>

	<!-- kuriyama - literallayout? -->
	<!-- si006 - now literal -->
	<para xmlns:xlink="http://www.w3.org/1999/xlink">さて、ユーザが <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal>
	  からジョブを印字させたとき、
	  それぞれのジョブ毎にヘッダページが印字されます。
	  もし、ユーザが印字物を探すのに時間を費やしたいと思うなら、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -h</command> によってジョブを入力することで、
	  ヘッダページの印字を止めることができます。
	  これ以外の
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のオプションについては、
	  「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lpr-options-misc">
	    ヘッダページ用オプション</link>」節をご覧ください。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> では、ヘッダページの最後に、
	    FORM FEED 文字が印字されます。
	    プリンタに紙排出をさせるために、別な文字、
	    もしくは、別な文字列が利用されている場合は、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> 中の
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ff</literal> 項目で指定することができます。</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-header-pages-controlling">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページを制御する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページの印字が許可されていると、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">長いヘッダ</emphasis>を作ります。これには、
	  紙全面に大きな文字でユーザ名、ホスト名、
	  ジョブ名が書かれています。次に、このヘッダページの例を示
	  します (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">kelly</systemitem> がジョブ名
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">outline</quote> を <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem>
	  というホストから印字 された場合)。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink">      k                   ll       ll
      k                    l        l
      k                    l        l
      k   k     eeee       l        l     y    y
      k  k     e    e      l        l     y    y
      k k      eeeeee      l        l     y    y
      kk k     e           l        l     y    y
      k   k    e    e      l        l     y   yy
      k    k    eeee      lll      lll     yyy y
                                               y
                                          y    y
                                           yyyy


                                   ll
                          t         l        i
                          t         l
       oooo    u    u   ttttt       l       ii     n nnn     eeee
      o    o   u    u     t         l        i     nn   n   e    e
      o    o   u    u     t         l        i     n    n   eeeeee
      o    o   u    u     t         l        i     n    n   e
      o    o   u   uu     t  t      l        i     n    n   e    e
       oooo     uuu u      tt      lll      iii    n    n    eeee









      r rrr     oooo     ssss     eeee
      rr   r   o    o   s    s   e    e
      r        o    o    ss      eeeeee
      r        o    o      ss    e
      r        o    o   s    s   e    e
      r         oooo     ssss     eeee







                                              Job:  outline
                                              Date: Sun Sep 17 11:04:58 1995</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> はこのテキストの終わりに
	  FORM FEED 文字を加えます
	  ので、ジョブは新しいページから開始されます (ただし、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  で出力先のプリンタのエントリに <literal xmlns:xlink="http://www.w3.org/1999/xlink">sf</literal>
	  (suppress form feeds) が指定されているときはこ
	  の限りではありません)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">お望みならば、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  に<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">短いヘッダページ</emphasis>を出力させることもできます。
	  この場合は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルの中で
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">sb</literal> (short banner) を指定してください。
	  ヘッダページは次のようになります。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink">rose:kelly  Job: outline  Date: Sun Sep 17 11:07:51 1995</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  はヘッダページを最初に印字し、次にジョブの印字をおこないます。
	  この順番を逆にするときは、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> で <literal xmlns:xlink="http://www.w3.org/1999/xlink">hl</literal>
	  (header last) を指定してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-header-pages-accounting">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページに対する課金</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  に備わっているヘッダページ出力機能を使うと、
	  入力されたジョブに対して課金をおこなうことができても、
	  ヘッダページは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">無料</emphasis>で提供しなくてはならない、
	  という特有のやり方を強要されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">なぜでしょうか。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">出力フィルタは単なる外部プログラムなので、
	  課金をするための制御をおこなうとすれば、
	  それはヘッダページを印字するときですが、出力フィルタには、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名とホスト名</emphasis>
	  の情報や課金情報を格納するファイルがどれな
	  のかということが知らされません。それゆえ、出力ファイルには、
	  誰にプリンタ利用の課金をおこなえばよいのかが分からないのです。
	  テキストフィルタやその他の変換フィルタ
	  (これらのフィルタはユーザやホストの情報が知らされます)
	  が出力ページの枚数に <quote xmlns:xlink="http://www.w3.org/1999/xlink">1 ページ分水増しする</quote> だけでは十分ではありません。
          なぜなら、ユーザは
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -h</command> に
	  よってヘッダページの出力を止めることができるからです。
	  やみくもに 1 ページを水増しすると、
	  印字されてもいないヘッダページに対する
	  料金をとることになります。基本的に、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	   -h</command> は環境に優しい心を持つユーザに好まれるオプションですが、
	  これを使うように奨励することもできません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">各々のフィルタに独自のヘッダページを生成させる
	  (その結果、ヘッダページに課金することができる)
	  という方法<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">でも十分であるとはいえません</emphasis>。
	  この場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> はフィルタに
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> の情報を送りませんので、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	    -h</command>
	  によってヘッダページを印字しないオプションを選択したとしても、
	  依然としてヘッダページは印字され、
	  その分の課金がおこなわれてしまいます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">では、どのような選択肢があるのでしょうか。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページへの課金に関しては、
	  次のことができます。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> のやり方を受け入れ、
	      ヘッダページは無料とする。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</application> などの
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> の代替品をインストールする。
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      と入れ替えが可能な他のスプーリングソフトウェアに関しては、
              <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lpd-alternatives">標準スプーラの代替品</link>
              をご覧ください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <!-- kuriyama - more para -->
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スマートな</emphasis>
	      出力フィルタを作成する。通常、
	      出力フィルタはプリンタを初期化するか、
	      単純な文字列変換をする程度の働きしかしません。
	      (テキスト (入力) フィルタがない場合)
	      出力フィルタはヘッダページとプレインテキストの印字をおこなうのに適しています。

	      プレインテキストを印字するためのテキストフィルタがない場合、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      はヘッダページを印字するためだけの目的で出力フィルタを起動します。
	      そして、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      が生成するヘッダページのテキストを解析することにより、
	      出力フィルタはヘッダページに課金するために必要なユーザ名と
	      ホスト名を取得することができます。この方式の唯一の問題点は、
	      出力フィルタは課金情報を格納するデータファイルの名前を知ることが
	      できないということです
	      (<literal xmlns:xlink="http://www.w3.org/1999/xlink">af</literal> 項目で指定されたファイル名は
	      出力ファイルに渡されません)。しかし、既知の
	      名前の課金データファイルを使うのならば、
	      その名前を出力フィルタのプログラム中に埋め込むことができます。

	      解析の手順を簡単にするためには、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	      で <literal xmlns:xlink="http://www.w3.org/1999/xlink">sh</literal> 項目
	      (短いヘッダを指定) を使うとよいでしょう。

	      そしてまた、
	      ここまでの方法は少なからぬトラブルを生じさせるかもしれません。
	      そうなれば、もちろんユーザはヘッダページを無料で
	      提供してくれる気前のよいシステム管理者に感謝することでしょう。
	    </para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-header-pages-ps">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタでのヘッダページ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これまでに述べたように、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  ではプレインテキストのヘッダページをたくさんのプリンタに合うように生成することができます。
	  残念ながら、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタは、
	  プレインテキストを直接印字することができません。ですから、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> のヘッダページ機能はまったく、
	  あるいはほとんどの場合、役に立ちません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページを出力するための自明な方法の1つに、
	  すべての変換フィルタとテキストフィルタにヘッダページを生成させる方法があります。
	  フィルタは、
	  適切なヘッダページを生成するために、
	  ユーザ名とホスト名の引数を使うべきです。この方法の欠点は、いつでも、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -h</command>
	  によってジョブが入力された場合でさえも、
	  ヘッダページが印字されるということです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この方法で試してみましょう。次のスクリプトは、3 つの引数
	  (ユーザ のログイン名、ホスト名、ジョブ名) をとり、簡単な
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> 用 のヘッダページを生成します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  make-ps-header - make a PostScript header page on stdout
#  Installed in /usr/local/libexec/make-ps-header
#

#
#  These are PostScript units (72 to the inch).  Modify for A4 or
#  whatever size paper you are using:
#
page_width=612
page_height=792
border=72

#
#  Check arguments
#
if [ $# -ne 3 ]; then
    echo "Usage: `basename $0` &lt;user&gt; &lt;host&gt; &lt;job&gt;" 1&gt;&amp;2
    exit 1
fi

#
#  Save these, mostly for readability in the PostScript, below.
#
user=$1
host=$2
job=$3
date=`date`

#
#  Send the PostScript code to stdout.
#
exec cat &lt;&lt;EOF
%!PS

%
%  Make sure we do not interfere with user's job that will follow
%
save

%
%  Make a thick, unpleasant border around the edge of the paper.
%
$border $border moveto
$page_width $border 2 mul sub 0 rlineto
0 $page_height $border 2 mul sub rlineto
currentscreen 3 -1 roll pop 100 3 1 roll setscreen
$border 2 mul $page_width sub 0 rlineto closepath
0.8 setgray 10 setlinewidth stroke 0 setgray

%
%  Display user's login name, nice and large and prominent
%
/Helvetica-Bold findfont 64 scalefont setfont
$page_width ($user) stringwidth pop sub 2 div $page_height 200 sub moveto
($user) show

%
%  Now show the boring particulars
%
/Helvetica findfont 14 scalefont setfont
/y 200 def
[ (Job:) (Host:) (Date:) ] {
200 y moveto show /y y 18 sub def
} forall

/Helvetica-Bold findfont 14 scalefont setfont
/y 200 def
[ ($job) ($host) ($date) ] {
        270 y moveto show /y y 18 sub def
} forall

%
%  That is it
%
restore
showpage
EOF</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そして、変換フィルタやテキストフィルタがそれぞれ、
	  最初にこのスクリプトを起動することで、
	  ヘッダページが出力され、それから、
	  ユーザのジョブの印字をおこないます。次に、
	  このドキュメントの始めのほうで紹介した DVI 変換フィルタを、
	  ヘッダページを印字するように変更したものを示します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  psdf - DVI to PostScript printer filter
#  Installed in /usr/local/libexec/psdf
#
#  Invoked by lpd when user runs lpr -d
#

orig_args="$@"

fail() {
    echo "$@" 1&gt;&amp;2
    exit 2
}

while getopts "x:y:n:h:" option; do
    case $option in
        x|y)  ;; # Ignore
        n)    login=$OPTARG ;;
        h)    host=$OPTARG ;;
        *)    echo "LPD started `basename $0` wrong." 1&gt;&amp;2
              exit 2
              ;;
    esac
done

[ "$login" ] || fail "No login name"
[ "$host" ] || fail "No host name"

( /usr/local/libexec/make-ps-header $login $host "DVI File"
  /usr/local/bin/dvips -f ) | eval /usr/local/libexec/lprps $orig_args</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このフィルタがユーザ名やホスト名を決定するために
	  引数リストをどのように解析しなくてはならないかという点に注意してください。
	  この解析方法は他の変換フィルタに対しても同様です。
	  しかしながら、テキストフィルタについては、
	  引数の設定が少し異なっています (これについては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-filters">
	    フィルタはどのように機能しているか</link>」
	  をご覧ください)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">前述の通り、上記の手法は、極めて単純なのにも関らず、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">lpr</literal>
	  で <quote xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページを印字しない</quote> オプション
	  (<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプション) が使えなくなっています。
	  ユーザが森林資源を (あるいは、
	  ヘッダページが課金されているならば、その僅かな金額を)、
	  節約したいと望んでいる場合でも、
	  すべてのフィルタがすべてのジョブ毎にヘッダページを印字
	  することになっているので、節約することはできません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブ毎に印字されるヘッダページを
	  ユーザが抑制できるようにするためには、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages-accounting">
	    ヘッダページに対する課金</link>」で紹介したトリックを
	  使う必要があります。すなわち、LPD
	  が生成するヘッダページの解析をおこない、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  版のヘッダページを出力させる出力フィルタを作るのです。
	  この場合、ユーザが <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -h</command> でジョブを入力すると、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> はヘッダページを生成しなくなり、また、
	  出力フィルタも起動されません。そうでないならば、
	  作成した出力フィルタが <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  からのテキストを読み込み、ヘッダページを印字する適当な
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> のコードがプリンタに送られるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタがシリアルポートに接続されている場合、
	  出力フィルタとして <command xmlns:xlink="http://www.w3.org/1999/xlink">lprps</command> を、
	  上記の動作をおこなうものとして <command xmlns:xlink="http://www.w3.org/1999/xlink">psof</command>
	  を使うことができます。ただし、<command xmlns:xlink="http://www.w3.org/1999/xlink">psof</command>
	  はヘッダページに対して課金をおこないませんので注意してください。
	</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-network-printers">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">リモートプリンタからの出力</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
        <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークプリンタ</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、ネットワーク越しの印字、すなわち、
	ジョブをリモートプリンタに送ることをサポートしています。
	リモートプリンタからの出力をするには、一般に、
	次の 2 つを参照してください。
      </para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストに接続されたプリンタにアクセスする方法。
	    プリンタがあるホストのシリアル、
	    または、パラレルインタフェースに接続されている場合、
	    ネットワーク上の他のホストからこのプリンタにアクセスできるように
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> を設定します。「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">リモートホストに
	      接続されたプリンタ</link>」
	    でどのようにするかを説明します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークに直接接続されているプリンタにアクセスする方法。
	    プリンタに、旧来のシリアル、または、
	    パラレルインタフェースに加えて (もしくは、これらに代わって)
	    ネットワーク用のインタフェースがある場合。
	    そのようなプリンタは次のように動作するでしょう。</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのプリンタが <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		のプロトコルを理解でき、リモートホストからのジョブを
		キューに入れることさえできる場合。この場合、
		プリンタは、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		が起動している一般のホストのように振る舞います。
		そのようなプリンタを設定するために、
		「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">
		  リモートホストに接続されたプリンタ</link>」
		と同様の手順をおこなってください。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのプリンタが、
	        データストリームによるネットワーク接続をサポートしている場合。
		この場合、ネットワーク上の1つのホストとしてプリンタを
		<quote xmlns:xlink="http://www.w3.org/1999/xlink">接続</quote> します。
		このホストは、ジョブをスプーリングする責任を負い、
		スプーリングされたジョブはプリンタに送られます。
		そのようなプリンタをインストールするためのいくつかの提案が
		「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-net-if">
		  ネットワークにおけるデータストリームの
		  インタフェースを持つプリンタ</link>」にあります。</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </itemizedlist>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-network-rm">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストに接続されたプリンタ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムでは
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  (または <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> 互換のシステム)
	  が起動している他のホストへジョブを送る機能が
	  始めからサポートされています。この機能により、
	  あるホストに接続されたプリンタへ、
	  他のホストからアクセスできるようになります。また、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  プロトコルを理解するネットワークインタフェースを持ったプリンタに対しても、
	  この機能は働きます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リモートプリンタへの出力を許可するためには、最初に、
	  あるホスト (これを、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリンタホスト</emphasis>と呼びます)
	  にプリンタを接続します。そして、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-simple"> プリンタ設定導入編</link>」
	  に書かれた簡単なプリンタの設定をおこなってください。
	  必要ならば、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced">プリンタ設定上級編</link>」
	  にある、更に進んだ設定をおこなってください。そして、
	  そのプリンタをテストしてうまく動作することを確認し、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  に許可した機能がうまく働くかどうかを見てください。さらに
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ローカルホスト</emphasis>が
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリンタホスト</emphasis>の <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  サービスの使用を許可されているか確認して下さい (「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-restricting-remote">
	    リモートホストからの利用を制限する
	  </link>」参照)。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク</secondary>
        </indexterm>
        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークプリンタ</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  互換のネットワークインタフェースを持つプリンタを使用している場合は、
	  そのプリンタ自身が以下で説明する
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリンタホスト</emphasis>になります。そして、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ名</emphasis>とは、
	  そのプリンタに設定した名前のことを指します。
	  これについては、プリンタ、および (または)、
	  プリンタのネットワークインタフェースに付属するドキュメントを参照してください。</para>

	<tip xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
            ヒューレット・パッカード社の Laserjet シリーズを使用している場合には、
            プリンタ名を <literal xmlns:xlink="http://www.w3.org/1999/xlink">text</literal> とすると、
            自動的に LF から CRLF への変換が行なわれます。
            そのため、<filename xmlns:xlink="http://www.w3.org/1999/xlink">hpif</filename> スクリプトは必要ありません。
          </para>
	</tip>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	  そのプリンタにアクセスしたいと思っている他ホストにおいて、
	  そのホストの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルに次にあげるエントリを作ります。</para>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">名前のエントリ。どんな名前でもよいのですが、簡単のため、多分、
	      プリンタホストで設定されたプリンタ名や別名と同じものを使いたいと思うでしょう。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal>
	      項目で指定されるデバイスは明示的に空にします
	      (<literal xmlns:xlink="http://www.w3.org/1999/xlink">:lp=:</literal> とします)。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリを作成し、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal> 項目でその位置を指定します。
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      では、プリンタホストにジョブを送信するまでの間、
	      このディレクトリにジョブを格納します。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rm</literal>
	      項目でプリンタホストの名前を指定します。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">rp</literal> 項目で
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プリンタホスト</emphasis>に接続したプリンタ名を指定します。</para>
	  </listitem>
	</orderedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これで終わりです。
	  変換フィルタやページの大きさやその他の事項を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  に加える必要はありません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	  リモートホストに接続されたプリンタで印字するための設定例を示します。
	  ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> には 2 台のプリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal>
	  が接続されています。これらのプリンタをホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem>
	  のユーザが使えるようにしましょう。最初に
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> を示します
	  (このファイルは、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages-enabling">
	    ヘッダページの出力を許可する</link>」
	  で参照することができます)。このファイルには、既に、プリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal> 用のエントリがありました。以下では、
	  これに、ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem>
	  にある2台のプリンタ用のエントリが加えられています。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host orchid - added (remote) printers on rose
#

#
#  teak is local; it is connected directly to orchid:
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/ifhp</filename>:\
        :vf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/vfhp</filename>:\
        :of=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/ofhp</filename>:

#
#  rattan is connected to rose; send jobs for rattan to rose:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:

#
#  bamboo is connected to rose as well:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem>
	  で必要となる作業はスプーリングディレクトリを作ることだけです。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 770 /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown daemon:daemon /var/spool/lpd/rattan /var/spool/lpd/bamboo</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これで、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> のユーザが
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	  で印字することができるようになりました。
	  たとえば、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> のユーザが次のように入力したとします。</para>

          <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -P bamboo -d sushi-review.dvi</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すると、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> の
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> システムは、
	  ジョブをスプーリングディレクトリ
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>
	  にコピーし、これが
	  DVI ファイルを印字するジョブであることを記録します。
	  ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> の <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	  スプーリングディレクトリに十分な容量が確保でき次第、
	  両者の <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は、ジョブのファイルを
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> に転送します。
	  このファイルは、そのすべてが印字されるまで、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem>
	  のキューに留まります。
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタなので)
	  DVI から <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> への変換は
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> でおこなわれます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-network-net-if">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークにおけるデータストリームの
	  インタフェースを持つプリンタ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタのネットワークインタフェースカードは、
	  2 種類に分類することができます。
	  1 つはスプーラをエミュレートするもの (高価) で、もう 1
	  つはシリアルやパラレルポートを使うように
	  プリンタにデータを送ることができるだけのもの (安価) です。この節では、
	  後者の使い方を説明します。前者のプリンタは、前節「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">
	    リモートホストに接続されたプリンタ</link>」
	  の方法が適用できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルでは、
	  シリアルかパラレルのインタフェースのどちらを使うのか、
	  そして、(シリアルインタフェースを使う場合)
	  そのボーレートはいくらであるか、フロー制御は使うのか、
	  タブのための遅延を加えるのか、
	  改行文字を変換するかなどの指定をおこなうことができます。
	  しかし、TCP/IP や他のネットワークポートからデータを受け取るプリンタを
	  接続するための指定をおこなうことはでき ません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク接続されたプリンタにデータを送るためには、
	  テキストフィルタと変換フィルタから呼び出すことができる
	  通信プログラムを開発する必要があります。以下に、
	  そのようなプログラムの例を示します。スクリプト
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">netprint</command> では、
	  標準入力から印字データをすべて受け取り、
	  ネットワーク接続されたプリンタにこれを送ります。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">netprint</command>
	  の最初の引数でプリンタのホスト名を、
	  2 番目の引数で接続するポート番号を指定します。
	  このプログラムでは単方向通信 (FreeBSD からプリンタ)
	  のみをサポートしていることに注意してください。
	  ネットワークプリンタの多くは双方向通信をサポートしていますので、
	  その恩恵 (プリンタの状態を得たり、
	  課金をおこなうなど) にあずかりたいと思われるかもしれません。
	</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/usr/bin/perl
#
#  netprint - Text filter for printer attached to network
#  Installed in /usr/local/libexec/netprint
#

$#ARGV eq 1 || die "Usage: $0 &lt;printer-hostname&gt; &lt;port-number&gt;";

$printer_host = $ARGV[0];
$printer_port = $ARGV[1];

require 'sys/socket.ph';

($ignore, $ignore, $protocol) = getprotobyname('tcp');
($ignore, $ignore, $ignore, $ignore, $address)
    = gethostbyname($printer_host);

$sockaddr = pack('S n a4 x8', &amp;AF_INET, $printer_port, $address);

socket(PRINTER, &amp;PF_INET, &amp;SOCK_STREAM, $protocol)
    || die "Can't create TCP/IP stream socket: $!";
connect(PRINTER, $sockaddr) || die "Can't contact $printer_host: $!";
while (&lt;STDIN&gt;) { print PRINTER; }
exit 0;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトは、
	  様々なフィルタが利用することができます。仮に、Diablo 750-N
	  ラインプリンタを持っており、
	  これがネットワークに接続されているとしましょう。
	  プリンタはポート番号 5100 にて印字するデータを受け取ります。
	  プリンタのホスト名は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">scrivener</systemitem> とします。このとき、
	  このプリンタのテキストフィルタは次のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
#  diablo-if-net - Text filter for Diablo printer `scrivener' listening
#  on port 5100.  Installed in /usr/local/libexec/diablo-if-net
#

exec /usr/libexec/lpr/lpf "$@" | /usr/local/libexec/netprint scrivener 5100</programlisting>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-restricting">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの利用に制約を与える</title>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">利用制限</secondary>
        </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">本節では、プリンタの利用に制約を与えるための情報を記しています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> システムでは、プリンタ (ローカル、
	リモートのいずれに接続されていても)
	にアクセスできる人を制限する機能、
	複数部のコピーの印字の可否を制御する機能、
	ジョブのサイズの最大値やプリンタキューに入る
	ジョブの最大個数を制御する機能を提供しています。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-restricting-copies">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">複数部のコピーの印字を制限する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  システムではユーザが複数部のコピーの印字を簡単におこなう
	  機能を提供しています。ユーザが、(たとえば) <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr
	    -#5</command> コマンドを使ってジョブを印字すると、
	  ジョブのそれぞれのファイルのコピーを 5 部得ることができます。
	  これがよい機能であると思うかどうかは人それぞれでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">複数部のコピーの印字によってプリンタが
	  必要以上に消耗してしまうと感じるならば、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルに <literal xmlns:xlink="http://www.w3.org/1999/xlink">sc</literal>
	  項目を加えてください。これにより、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の <option xmlns:xlink="http://www.w3.org/1999/xlink">-#</option>
	  オプションの使用が禁止されます。
	  このオプションが指定されているにも関らず、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-#</option> オプションを使うと、
	  次のようなメッセージが表示され、
	  このオプションの利用できない旨を伝えます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">lpr: multiple copies are not allowed</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストからプリンタをアクセスできる
	  設定にしている場合 (この 設定については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">
	    リモートホストに接続されたプリンタ</link>」
	  をご覧ください)、そのリモートホストの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> にも同じように
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">sc</literal>
	  項目を追加する必要があることに注意してください。
	  そうしないと、ユーザは別なホストから複数部のコピーの
	  印字をすることができてしまいます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例を使って説明しましょう。次に示す
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルは、ホスト
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> のものです。プリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> は極めて頑丈なので、
	  複数部のコピーの印字は許可されています。しかし、
	  レーザプリンタの <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	  はもう少しデリケートで、
	  このプリンタから複数部のコピーを印字することを <literal xmlns:xlink="http://www.w3.org/1999/xlink">sc</literal>
	  項目を追加することで禁止しています。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - restrict multiple copies on bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:sc:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:\
        :df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、orchid の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  にも <literallayout xmlns:xlink="http://www.w3.org/1999/xlink">sc</literallayout>
	  項目を追加する必要があります (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem>
	  でこの編集をおこなっているときに、ついでに、プリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal>
	  でも複数部のコピーの印字を禁止することにしましょう)。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host orchid - no multiple copies for local
#  printer teak or remote printer bamboo

teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/teak</filename>:mx#0:sc:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/ifhp</filename>:\
        :vf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/vfhp</filename>:\
        :of=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/ofhp</filename>:

rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :lp=:rm=rose:rp=rattan:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :lp=:rm=rose:rp=bamboo:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:sc:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sc</literal> 項目を指定することにより、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpr -#</command>
	  の使用を防ぐことができます。しかし、この状態では
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を複数回起動したり、
	  1 回のジョブで次のように同じファイルを複数個指定することを防ぐまでには至っていません。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr forsale.sign forsale.sign forsale.sign forsale.sign forsale.sign</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このような悪用を防ぐ方法は
	  (その指示を無視することも含めて) たくさんあります。
	  各自で調べてみてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-restricting-access">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタを使用できる人を限定する</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのプリンタを使用できる人を限定するには、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の
	  グループ権限のメカニズムを利用し、さらに、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> で <literal xmlns:xlink="http://www.w3.org/1999/xlink">rg</literal>
	  項目を指定することでおこないます。
	  あるプリンタにアクセスさせてもよいと思うユーザすべてを
	  グループのどれかに入れてください。そして、
	  そのグループ名を <literal xmlns:xlink="http://www.w3.org/1999/xlink">rg</literal> で指定します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このとき、そのグループに含まれないユーザ
	  (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> も含みます)
	  がプリントしようとすると、次のようなメッセージが表示されます。</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink">lpr: Not a member of the restricted group</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sc</literal> (suppress multiple copies :
	  複数部のコピーの印字を禁止する)
	  を指定するときと同様に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">rg</literal>
	  が指定されたプリンタがリモートホストからもアクセスでき
	  (この設定については、
	  「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">
	    リモートホストに接続されたプリンタ</link>」
	  をご覧ください)、かつ、
	  そのホストでもプリンタを使用できる人を限定するのが
	  妥当であると思う場合は、
	  そのホストの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> にも
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">rg</emphasis>
	  指定をおこなう必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal>
	  は誰でも利用できるが、<literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> はグループ
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">artists</systemitem>
	  に属している人のみが利用できるようにしてみましょう。
	  以下に、もうお馴染みとなったホスト
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  を示します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose - restricted group for bamboo
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:

bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:sc:rg=artists:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:\
        :df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これ以外の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイル
	  (ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> のもの)
	  はそのままにしておくことにします。もちろん、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> のユーザは全員
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> を利用することができます。これは、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem>
	  には特定のユーザのみにしかアクセスさせておらず、
	  そのユーザにはプリンタを利用させたいと思っているからなのかもしれませんし、
	  そうでないかもしれません。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">1台のプリンタを複数グループのユーザに利用させることはできません。</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-restricting-sizes">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">入力可能なジョブのサイズを制限する</title>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">たくさんのユーザからプリンタが利用される場合には、多分、
	  ユーザが印字要求を出すことができるファイルのサイズに
	  上限値を置く必要が生じるでしょう。結局のところ、
	  スプーリングディレクトリ
	  が置かれているファイルシステムの空き容量がその
	  上限値になる訳ですが、
	  あるユーザがこれを独占的に使用すること避けるために、
	  他ユーザからのジョブ用の空き容量を確保する必要もあります。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
          <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary>
          <secondary xmlns:xlink="http://www.w3.org/1999/xlink">制御</secondary>
        </indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> では、<literal xmlns:xlink="http://www.w3.org/1999/xlink">mx</literal>
	  項目を指定することにより、
	  ジョブ中の個々のファイルのサイズの上限値を制限する機能を提供しています。
	  指定される ファイルサイズの単位は BUFSIZ ブロックで、1
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">BUFSIZ</literal> ブロックは 1024バイトを表わします。この
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">mx</literal> 項目の値として 0 が指定されると、
	  ファイルサイズの制限はなくなります。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">mx</literal> が指定されない場合は、
	  デフォルトの制限として 1000 ブロックが使われます。
	</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この制限はジョブ中の各
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</emphasis>に対して適用されるものであり、
	    ジョブ全体のサイズ
	    を制限するものでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ところで、
	  プリンタに設定された上限値を超えるファイルサイズの
	  ファイルが入力された場合でも、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  はこれを拒否しません。その代わりに、このファイルは、
	  その先頭から上限値のファイルサイズまでしかキューに入れられません。
	  そして、その部分までが印字され、
	  残りの部分は捨てられます。
	  これが正しい動作といえるのかどうかは議論の余地があるところです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それでは、設定例に登場しているプリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> と  <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	  の印字可能なファイルサイズに制限を加えてみましょう。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">artists</systemitem>
	  グループの人達が作る <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ファイルのサイズは
	  巨大になる傾向があるので、上限値を 5M バイトとします。
	  それから、
	  プレインテキスト用のラインプリンタは無制限とします。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host rose
#

#
#  No limit on job size:
#
rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:mx#0:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:

#
#  Limit of five megabytes:
#
bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:\
        :df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename>:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この場合もそうですが、この制限はローカル (ホスト rose)
	  のユーザのみに適用されます。
	  リモートホストからプリンタを利用できるように設定している場合は、
	  そのリモートホストのユーザはこの制限を受けません。
	  これらのユーザにも制限を加える場合は、リモートホストの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の <literal xmlns:xlink="http://www.w3.org/1999/xlink">mx</literal>
	  を指定する必要があります。
	  リモートホストから印字するための詳しい情報については、
	  「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-network-rm">
	    リモートホストに接続されたプリンタ</link>」
	  を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストに接続されたプリンタへのジョブの
	  サイズを制限する特別な方法は他にもあります。これについては、
	  「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-restricting-remote">
	    リモートホストからの利用を制限する</link>」
	  を参照してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-restricting-remote">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストからの利用を制限する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムでは、
	  リモートホストから要求されたジョブの印字を制限するための方法がいくつか提供されています。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">ホストの制限</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルの <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		が印字要求を受け付けるリモートホストは、ファイル
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.equiv</filename> と
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.lpd</filename>
		によって制御することができます。<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		では、あるホストから印字の要求がきたとき、
		このホストの名前がこれら 2 つのファイルのどちらかに含まれている
		かどうかを調べます。これが含まれていない場合は、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		はこの要求を拒否します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのファイルの形式は単純です。
		各行にホストの名前を
		1つずつ書いていきます。ファイル
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.equiv</filename> の方は
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ruserok</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> プロトコルでも利用され、
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rsh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		といったプログラムの動作に影響するので注意が必要です。
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.equiv</filename>
		の記述は慎重におこないましょう。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">例として、以下にホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> の
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.lpd</filename> を示します。
	      </para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">orchid
violet
madrigal.fishbaum.de</programlisting>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> はホスト
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">violet</systemitem>
		そして <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">madrigal.fishbaum.de</systemitem>
		からの要求を受け付けることになります。
		その他のホストが <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">rose</systemitem> の
		<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> にアクセスしようとしても、
		<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> はそのジョブを拒否します
		(訳注: 拒否されるのは、そのホストが
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.equiv</filename>
		にも含まれていない場合です)。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">サイズの制限</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリがある
		ファイルシステムに残しておく必要がある
		空き容量の大きさを制御することができます。
		ローカルプリンタ用のスプーリングディレクトリに
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">minfree</filename>
		という名前のファイルを作成します。そして、
		そのファイルの中にリモートホストからのジョブの
		要求を受け付けるために必要な空き容量のディスクブロックサイズ
		(1 ディスクブロック = 512 バイト) を記します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、
		リモートホストのユーザにファイルシステムを満杯にされないことが保証されます。
		この機能を使うと、
		ローカルホストのユーザに対してある種の優先権を与えることもできます。
		ローカルホストのユーザは、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">minfree</filename>
		ファイルで指定された値よりもディスクの空き容量が下回った後でもずっと、
		ジョブをキューに入れることができるのです。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> 用の
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">minfree</filename> を作ってみましょう。
		このプリンタのスプーリングディレクトリを調べるために、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> を調べてみましょう。
		以下に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
		のエントリ部分を示します。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">bamboo|ps|PS|S|panasonic|Panasonic KX-P4455 PostScript v51.4:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/bamboo</filename>:sc:rg=artists:mx#5000:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyu5</filename>:ms#-parenb cs8 clocal crtscts:rw:mx#5000:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psif</filename>:\
        :df=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/psdf</filename>:</programlisting>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">スプーリングディレクトリは <literal xmlns:xlink="http://www.w3.org/1999/xlink">sd</literal>
		項目で指定されます。<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		がリモートホストからのジョブを受け付けるために必要な
		ファイルシステムの空き容量を 3M バイト
		(= 6144 ディスクブロック) にすることにしましょう。
	      </para>

              <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo 6144 &gt; /var/spool/lpd/bamboo/minfree
              </userinput></screen>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">利用ユーザの制限</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rs</literal> 項目を指定することで、
		ローカルプリンタを利用できるリモートホストのユーザを制限することができます。
		ローカルホストに接続されたプリンタ用のエントリに
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rs</literal> 項目が指定されている場合、
		<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		は、印字を要求したユーザのアカウントと同じログイン名が
		ローカルホストに登録されている<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">場合に限り</emphasis>、
		そのジョブを受け付けます。それ以外のジョブを
		<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は拒否します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">この機能は、(たとえば)
		複数の部署がネットワークを共有しており、
		この内のあるユーザが部署の境界を越えて活動している場合には特に有用です。
		そのようなユーザに対して、システムのアカウントを与えるだけで、
		これらのユーザは自分が所属する部署のシステムから
		そのシステムに接続されているプリンタを使用することができます。
		これらのユーザにはむしろ、
		プリンタの使用<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">だけ</emphasis>を認め、
		その他のコンピュータ資源を利用させたくないときは、
		それらのユーザにはホームディレクトリを与えず、
		ログインシェルはシェルとしては何の役にも立たない
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/false</filename> などを指定して、
		これらのユーザのアカウントはプリンタ用の <quote xmlns:xlink="http://www.w3.org/1999/xlink">形式的な</quote> ものとします。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-advanced-acct">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの利用に対する課金</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">課金</primary>
        <secondary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">という訳で、印字するためには料金をとることが必要です。
	取らない理由などありましょうか。紙やインクにはお金がかかります。
	そして、プリンタの維持費もかかります。
	プリンタには可動部分が搭載されており、
	これらの部分は壊れやすいという傾向があります。
	プリンタや、その利用形態、維持費について調査をし、1 ページ
	(1 フィート、1 メートルなど) 当たりにかかるコストを調べておいてください。
	これに基づき、プリンタの利用に対する課金を、実際に、
	どのように始めればよいのでしょうか。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、残念ながら、この部分に関しては <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	スプーリングシステムはほとんど役に立ちません。
	課金は使用しているプリンタの種類、印字するもののファイルの形式、
	プリンタの利用に対する課金での
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">あなた自身の</emphasis>要求に大きく左右されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">課金システムを実現するためには、プリンタのテキストフィルタ
	(プレインテキストのジョブに対して課金するため) と変換フィルタ
	(その他のファイル形式に対して課金するため) を変更して、
	印字したページを数えたり、
	プリンタに印字したページ数を取得するための要求を送る必要があります。
	ただし、出力フィルタのみを利用している場合は、
	課金をおこなうことができません。フィルタに関しては、
	「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-filter-intro">
	  フィルタ</link>」をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般に、課金方式には次の 2 つがあります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">定期的に課金する方法</emphasis>
	    はよく利用される方法です。この理由は、
	    恐らく比較的簡単に実現できるからです。
	    誰かがジョブを印字する度に、フィルタはそのユーザ名、
	    ホスト名、印字したページ数を課金データファイルに記録します。
	    毎月、毎学期、毎年、その他お好みの時期に、
	    各プリンタの課金用ファイルを集め、
	    それぞれのユーザが印字したページ数を合計して
	    その分の課金をおこないます。
	    次回の課金期間をデータを 0 にして課金を再開するために、
	    すべてのログファイルを削除します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">利用毎に課金する方法</emphasis>
	    はあまり利用されていません。これは、
	    実現するのが比較的難しいからです。この方式では、
	    プリンタを使用したらすぐに、
	    フィルタがユーザにその利用に対する課金をおこないます。
	    ディスククォータのように、課金作業は瞬時におこなわれます。
	    この方式では、ユーザのアカウントが赤字になる場合に、
	    ユーザが印字をおこなうことを拒否することができます。
	    また、ユーザに <quote xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ版 quota</quote> を調べたり、
	    調整したりする方法を提供したいと思うかもしれ ません。
	    これを実現するためには、ユーザとその quota を追跡するために、
	    あるデータベース用のコードが必要となります。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムでは、
	どちらの方式にも簡単に対応できます。(ほとんどの場合は)
	フィルタを用意しなければならないので、
	課金作業のためのコードも用意しなければなりません。
	しかし、明るい面もあります。
	それは、課金方式に関して、非常に大きな柔軟性が与えられたということです。
	たとえば、「定期的に課金する方法」か、
	「利用毎に課金する方法」のどちらかを選びまず、そして、
	どんな情報 (ユーザ名、ホスト名、ジョブのタイプ、印字された頁数、
	使用した紙の大きさ、印字をするために要した時間など)
	をログに記録するかを決めます。
	以上のことをおこなうには、上記の情報を保持するために、
	フィルタを変更しなくてはなりません。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">手軽なプリンタ課金方法</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には、「定期的に課金する方法」による課金を
	  すぐに設定できるように、2 個のプログラムを添付しています。
	  その内の1つはテキストフィルタ <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> で、
	  これについては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-lpf">
	    テキストフィルタ lpf</link>」をご覧ください。もう1つは、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で、
	  これはプリンタの課金データファイルからのエントリを集め、
	  これを合計するプログラムです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-filters">
	    フィルタはどのように機能しているか</link>」で述べたように、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  ではテキストフィルタや変換フィルタを起動しますが、
	  そのコマンドラインで使用している課金データファイルの名前が指定されます。
	  両フィルタはこの引数を使って、
	  どの課金データファイルのエントリに書き込めばよいのかを知ることができます。
	  このファイルの名前は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> 中の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">af</literal> 項目によって指定されます。
	  このファイルが絶対パ スで指定されない場合は、
	  スプーリングディレクトリからの相対パスとして扱われます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は、紙のページの幅と行数
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">pw</literal> と <literal xmlns:xlink="http://www.w3.org/1999/xlink">pl</literal> 項目で 指定される)
	  を引数として <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  を起動します。<command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> フィルタでは、
	  何ページ印字したかを決定するためにこれらの引数を使用します。
	  ファイルをプリンタに送った後、
	  課金情報を課金データファイルに書き込みます。
	  このファイルは次のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">2.00 rose:andy
3.00 rose:kelly
3.00 orchid:mary
5.00 orchid:mary
2.00 orchid:zhang</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">課金データファイルはプリンタ毎に分けて作るべきです。
	  これは、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  にはファイルをロックする機構が組み込まれていないためです。
	  したがって、<command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  が 2 つ起動されたとき、
	  同じファイルに同時に書き込みをおこなった場合、
	  お互いのエントリを破壊してしまうかもしれません。
	  課金用ファイルを各プリンタ毎に確実に分けるには、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> 中の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">af=acct</literal> 項目を使います。
	  そうすれば、それぞれの課金用ファイルがプリンタのスプーリングディレクトリに、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">acct</filename> という名称で作成されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの利用に対してユーザに課金する準備ができたら、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムを実行してください
	  (課金したいプリンタのスプーリングディレクトリに移動した後、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pac</command> と入力してください)。
	  次のような、ドル中心主義の課金リストが表示されます
	  (訳注: ドル中心主義という表現は、
	  表示がドルで出ることへの著者の皮肉でしょう。
	  セントがあるので小数点以下が表示されますが、
	  この機能も日本では邪魔ですね)。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">  Login               pages/feet   runs    price
orchid:kelly                5.00    1   $  0.10
orchid:mary                31.00    3   $  0.62
orchid:zhang                9.00    1   $  0.18
rose:andy                   2.00    1   $  0.04
rose:kelly                177.00  104   $  3.54
rose:mary                  87.00   32   $  1.74
rose:root                  26.00   12   $  0.52

total                     337.00  154   $  6.74</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が受け付ける引数には次のようなものがあります。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer</replaceable></option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"> プリンタ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer</replaceable>
		の利用に対する課金リストを作成します。
		このオプションは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		の <literal xmlns:xlink="http://www.w3.org/1999/xlink">af</literal>
		が絶対パスで指定されていた場合に限り、動作します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名のアルファベット順ではなく、
		課金額の低い順にリストを並べます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-m</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">課金データファイルにあるホスト名を無視します。
		このオプションを使用すると、ホスト
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">alpha</systemitem> のユーザ
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">smith</systemitem> とホスト
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">gamma</systemitem> のユーザ
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">smith</systemitem> は同一人物として扱われます。
		このオプションが指定されない場合は、
		両者は別なユーザとして扱います。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-p<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">price</replaceable></option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> の
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">pc</literal> 項目で指定された値、または、
		デフォルトの値 (2 セント) に代わり、紙1ページ、または、
		1フィート当たりの価格を指定します。
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">price</replaceable> として、
		浮動小数点数を指定することができます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">リストの並べる順番を逆順にします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">課金リストを作成し、
		課金データファイルを削除します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">name</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">…</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">names</replaceable>
		に対する課金情報のみを表示します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が生成するデフォルトのリストには、
	  各ホストのユーザ別に印字ページ数が表示されます。
	  (ユーザがサイト内のすべてのホストを使用できるため)
	  ホスト名の情報が意味を持たない場合、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">pac -m</command>
	  を実行してください。次のようなリストが得られます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">  Login               pages/feet   runs    price
andy                        2.00    1   $  0.04
kelly                     182.00  105   $  3.64
mary                      118.00   35   $  2.36
root                       26.00   12   $  0.52
zhang                       9.00    1   $  0.18

total                     337.00  154   $  6.74</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">課金額を決めるために、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  ファイルの <literal xmlns:xlink="http://www.w3.org/1999/xlink">pc</literal>
	  項目で指定された値 (デフォルト値は 200、すなわち 1
	  ページ当たり 2 セント)
	  を使います。この項目で、印字物に課金したい
	  ファと思う 1 ページ当たり、
	  または、1 フィート当たりの価格を 100 分の 1 セント単位で指定します。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を <option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option> オプション付きで起動すると、
	  この値を置き換えることができます。
	  この <option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option> オプションで指定する額の単位は、
	  100 分の 1 セント単位ではなく、ドル単位です。たとえば、次の指定では、
	  1 ページ当たりの単価が 1 ドル 50 セントになります。</para>

          <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pac -p1.50</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションを使うと、
	  実際の課金額を集計することができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、<command xmlns:xlink="http://www.w3.org/1999/xlink">pac -s</command>
	  を起動すると、課金情報は課金データ累計ファイルに保存されます。
	  このファイルの名前は、プリンタの課金データファイルの後ろに
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">_sum</literal> を付けたものとなります。そして、
	  課金データファイルは削除されます。次に
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pac</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が起動されると、
	  その時点までの累計金額を得るために、
	  課金データ累計ファイルが読み込まれ、
	  通常の課金データファイルからの情報に加算されます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">印字されたページ数をどのように数えるか?</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">課金を、リモートホストからの印字でさえも、
	  正確におこなうためには、
	  ジョブで使用された紙が何ページであるかを特定できる必要があります。
	  このことは、プリンタ利用に対する課金をおこなう上の根本的な問題です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">プレインテキストのジョブの場合、
	  問題を解決するのはさほど難しくはありません。
	  ジョブが何行であったかを数え、プリンタがサポートしている紙
	  1 ページに印字できる最大の行数と比較すればよいのです。
	  重ね打ちするために利用されるファイル中のバックスペース文字や、
	  物理的に複数の行に渡る長い論理行に対する取り扱いを忘れずにおこなってください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-lpf">テキストフィルタ
	    lpf</link>」で紹介した) テキストフィルタ
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command> では、課金をおこなうときに、
	  これらの取り扱いをおこなってくれます。
	  課金をおこなうために必要なテキストフィルタを作成している方は、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">lpf</command>
	  のソースコードが参考になるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これに対して、他のファイル形式の処理はどのようにすれば
	  よいのでしょうか。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">まず、DVI から LaserJet, または、DVI から <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  への変換の場合、フィルタが <command xmlns:xlink="http://www.w3.org/1999/xlink">dvilj</command> や
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">dvips</command> の 出力メッセージを解析することで、
	  何ページ分の変換がおこなわれたかを知ることができます。
	  他のファイル形式とその変換プログラムに関しても、
	  同様のことができるかもしれません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、この方式には問題点があります。それは、
	  変換されたページがすべて印字されるとは限らないということです。
	  たとえば、プリンタが紙詰まりを起こしたり、トナー切れになったり、
	  はたまた、爆発したりするかもしれません。
	  そのような状況により印字が途中で中止されたとしても、この方式では、
	  ユーザは全ページ分の料金を課されてしまうのです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それでは、どのような対策をたてることができるのでしょうか。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">正確な</emphasis>
	  課金をおこなうための唯一の<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">確実な</emphasis>方法は、
	  何ページ印字したのかを知らせることができるプリンタを入手し、
	  これをシリアルポートかネットワークに接続することです。
	  ほとんどすべての <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	  プリンタではこの概念がサポートされています。
	  他のプリンタも同様です (Imagen
	  レーザプリンタをネットワーク接続するなど)。
	  それぞれのプリンタのフィルタを、
	  ジョブを印字した後で印字ページ数を得るように変更してください。
	  そして、課金情報はここで得られた値<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">のみに</emphasis>
	  基づいて記録してください。行数を数えたり、
	  エラーが生じやすいファイルの調査は必要とされません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もちろん、
	  気前よく印字料金をすべて無料にすることもできます。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-using">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタを使う</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">使い方</secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD で設定したプリンタを使う方法について説明します。
      ここでは、ユーザレベルでのコマンドを概説します。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">印字をおこないます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタキューを調べます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></term>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタキューにあるジョブを削除します。</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lpc">プリンタの管理</link>」
      節で説明されている管理者用コマンド <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> もあり、
      プリンタやそのキューの制御のために用いられています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>、そして <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の 3
      コマンドは、<option xmlns:xlink="http://www.w3.org/1999/xlink">-P<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable></option>
      オプションをとり、これによって、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> のように操作の対象となる
      プリンタやキューを指定します。
      これによって、様々なプリンタに対してジョブを送る、
      取り消す、調査することができます。
      <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> が使われなかった場合は、これらのコマンドは
      <envar xmlns:xlink="http://www.w3.org/1999/xlink">PRINTER</envar> 環境変数で指定されたプリンタを使用します。
      そして、<envar xmlns:xlink="http://www.w3.org/1999/xlink">PRINTER</envar> 環境変数がなかった場合は、
      これらのコマンドはデフォルトのプリンタ
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal> を使います。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下では、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトプリンタ</emphasis>
      という用語が意味するプリンタは、<envar xmlns:xlink="http://www.w3.org/1999/xlink">PRINTER</envar>
      環境変数で指定されたプリンタ、もしくは、<envar xmlns:xlink="http://www.w3.org/1999/xlink">PRINTER</envar>
      環境変数がない場合は、<literal xmlns:xlink="http://www.w3.org/1999/xlink">lp</literal>
      という名前のプリンタです。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpr">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">印字する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを印字するためには、
	次のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr filename ...</userinput></screen>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">印刷</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより、
	入力されたファイルのそれぞれをデフォルトのプリンタ
	から印字します。ファイル名が与えられなかった場合、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	は標準入力から印字するデータを読み込みます。たとえば、
	次のコマンドにより、ある重要なシステムファイルが印字されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr /etc/host.conf /etc/hosts.equiv</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字させるプリンタを選択するためには、
	次のように入力します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -P printer-name filename ...</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> に、
	カレントディレクトリにあるファイルの詳細なリストを印字しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls -l | lpr -P rattan</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドではファイル名の指定がないので、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr</command> は標準入力から印字するデータ、
	この場合、<command xmlns:xlink="http://www.w3.org/1999/xlink">ls -l</command>
	コマンドの出力、を読み込みます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドでは、
	出力の整形を制御したり、ファイル変換を適用したり、
	複数部数のコピーを作成したり、
	などといた様々な幅広いオプションを受け付けることもできます。
	詳細については、
	「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lpr-options">
	  その他の印字オプション</link>」をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpq">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ジョブの処理状況を調べる</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使って印字をする場合、プリントしようと
	するデータは <quote xmlns:xlink="http://www.w3.org/1999/xlink">プリントジョブ</quote> と呼ばれる箱に一緒に置かれ、
	これが <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーリングシステムに送られます。
        プリンタにはそれぞれジョブ用のキューがあり、
	送られてきたジョブはあなたや他のユーザからの別のジョブと一緒にそのキューで並んで、
	処理される順番を待ちます。
	プリンタは到着順にこれらのジョブの印字をおこないます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトプリンタのキューの状態を表示するには、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と入力します。プリンタを指定するときは、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションを使います。たとえば、次のコマンド</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpq -P bamboo</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">は、プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	のキューの状態を表示します。この <command xmlns:xlink="http://www.w3.org/1999/xlink">lpq</command>
	コマンドの出力結果の例を次に示します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">bamboo is ready and printing
Rank   Owner    Job  Files                              Total Size
active kelly    9    /etc/host.conf, /etc/hosts.equiv   88 bytes
2nd    kelly    10   (standard input)                   1635 bytes
3rd    mary     11   ...                                78519 bytes</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	のキューに 3 つのジョブがあることが分かります。
	最初のジョブはユーザ kelly からのものであり、
        <quote xmlns:xlink="http://www.w3.org/1999/xlink">ジョブ番号</quote> 9 が割り当てられています。
	プリンタのすべてのジョブには一意なジョブ番号が付けられています。
	ほとんどの場合、このジョブ番号は無視することができますが、
	ジョブをキャンセルするときにはこの番号が必要になります。
	このことの詳細については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-lprm">ジョブの削除</link>
	」をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブ番号 9 のジョブは 2 つのファイルを処理します。すなわち、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	のコマンドラインに複数のファイル名が与えられたときは、
	1つのジョブとして扱われるのです。このジョブは、現在、
	アクティブジョブ (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Rank</quote>
	の欄の <literal xmlns:xlink="http://www.w3.org/1999/xlink">active</literal> という後に注目) になっています。
	これは、プリンタからそのジョブが現在印字されているはずであることを意味しています。
	2 番目のジョブでは、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドに標準入力からデータが与えられています。
	3番目のジョブはユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">mary</systemitem> から与えられました。
	このジョブのサイズはとても大きくなっています。
	彼女がプリントしようとしたファイルのパス名はここで表示させるには長すぎるため、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドはドットを 3 つだけ表示しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> からの出力で一番最初の行もまた有益な情報を与えています。
        この行から、プリンタが現在何をしているか (あるいは、少なくとも
	<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> がプリンタがしていると思っていること)
	が分かります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドは
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option> オプションもサポートしています。
	これにより、
	詳しい情報が表示されます。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">lpq -l</command> の実行例を次に示します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">waiting for bamboo to become ready (offline ?)
kelly: 1st                               [job 009rose]
       /etc/host.conf                    73 bytes
       /etc/hosts.equiv                  15 bytes

kelly: 2nd                               [job 010rose]
       (standard input)                  1635 bytes

mary: 3rd                                [job 011rose]
      /home/orchid/mary/research/venus/alpha-regio/mapping 78519 bytes</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lprm">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ジョブの削除</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字するようジョブを
	送った後で印字を中断したくなったときは、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドで、
	キューの中からそのジョブを削除することができます。
	大抵の場合、アクティブジョブでさえも
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使って削除することができますが、
	そのジョブの一部またはすべてが印字されてしまうかもしれません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトプリンタへのジョブを削除するためには、最初に、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使ってそのジョブ番号を調べます。
	すなわち、それから、
	次のように入力して、ジョブを削除します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lprm job-number</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">特定のプリンタへのジョブを削除するときは、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションを使ってそのプリンタを指定します。
	たとえば、プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal>
	のキューからジョブ番号 10 のジョブを削除するには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lprm -P bamboo 10</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドには略記法がいくつかあります。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">lprm -</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが (デフォルトプリンタへ)
	      送ったジョブをすべて削除します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">lprm <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable> が
	      (デフォルトプリンタへ) 送ったジョブをすべて削除します。
	      他のユーザのジョブを削除できるのはスーパユーザだけです。
	      あなたは、あなた自身のジョブしか削除することはできません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">lprm</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブ番号もユーザ名もシンボル
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-</option>も指定されないときは、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は現在のアクティブジョブを、
	      そのジョブを送ったのがあなた自身であるときに限り、
	      デフォルトプリンタから削除します。ただし、
	      スーパユーザは任意のアクティブジョブを削除することができます。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の略記法をデフォルトプリンタではなく
	特定のプリンタに対しておこなうときは、<option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>
	オプションでそのプリンタを指定するだけよいのです。たとえば、
	プリンタ <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> のキューへあなたが送ったジョブを
	すべて削除するためには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lprm -P rattan -</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク環境で作業をしている場合、
	  あるホストから送られたプリンタジョブは、これを送ったホストで
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lprm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使った場合に限って、
	  これを削除することができます。
	  他のホストで同じプリンタを使えたとしても、
	  このジョブを削除することはできません。
	  次の例では、他ホストからジョブを削除することを試みています。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -P rattan myfile</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rlogin orchid</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpq -P rattan</userinput>
Rank   Owner      Job  Files                          Total Size
active seeyan     12    ...                           49123 bytes
2nd    kelly      13   myfile                         12 bytes
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lprm -P rattan 13</userinput>
rose: Permission denied
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">logout</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lprm -P rattan 13</userinput>
dfA013rose dequeued
cfA013rose dequeued
	</screen>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpr-options">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">その他の印字オプション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドには、テキストの整形や、
	図や他のファイル形式の変換、複数部コピーの生成、
	ジョブの扱いなどを制御することができます。
	この節では、これに関するオプションについて記しています。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpr-options-format">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">整形と変換に関するオプション</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 用のオプションはジョブにおける
	  ファイルの整形の制御に関するものです。
	  このオプションは、ジョブにプレインテキストが含まれない場合や
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  ユーティリティを使ってプレインテキストを整形する場合に用いてください。</para>

        <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application></primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、プリンタ
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">bamboo</literal> に (<application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application> 組版システムによる)
	  DVI ファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">fish-report.dvi</filename> を印字しています。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -P bamboo -d fish-report.dvi</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは、
	  ジョブに含まれるすべてのファイルに対して適用されます。
	  したがって、1 つのジョブに (たとえば) DVI ファイルと ditroff
	  ファイルを混在させることはできません。その代わりに、
	  ファイルを形式毎に別々のジョブに分け、
	  それぞれのジョブでその形式用の変換オプションを使って印字してください。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option> と <option xmlns:xlink="http://www.w3.org/1999/xlink">-T</option>
	    を除くすべてのオプションを使用 するためには、
	    出力先プリンタ用の変換フィルタが必要です。たとえば、
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option> オプションを使用するには、DVI
	    用の変換フィルタが必要 です。詳細については、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-convfilters">
	      変換フィルタ</link>」で説明しています。</para>
	</note>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">cifplot ファイルを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">DVI ファイルを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FORTRAN プログラムを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-g</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">plot のデータを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-i <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">number</replaceable></option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">出力に対して、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">number</replaceable>
		カラム分の字下げをおこないます。
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">number</replaceable> が省略されると、
		8 カラム分字下げされます。
		このオプションはある変換フィルタと一緒の指定されたときのみに機能します。</para>

	      <note xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-i</option>
		  と数字の間に空白を入れてはいけません。</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">制御文字を含む文字通りのテキストデータを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-n</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ditroff (device independent troff) データを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-p</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字する前に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		によってプレインテキストを整形します。
		詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> をご覧ください。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-T <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">title</replaceable></option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドにより生成されるヘッダを、
		ファイル名の代わりに <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">title</replaceable> とする。
		このオプションは、<option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option>
		と一緒に使ったときのみ機能する。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">troff データを印字します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ラスタのデータを印字します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ls</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  のマニュアルを美しく整形したものをデフォルトプリンタで印字しています。
	</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">zcat /usr/share/man/man1/ls.1.gz | troff -t -man | lpr -t</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">zcat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドで
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ls</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルのソースファイルの圧縮を復元し、これを
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">troff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドに渡しています。
          これによりソースファイルが整形され
          GNU troff の形式となります。
          その結果は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に渡され、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> スプーラへジョブの要求が発せられます。
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> には
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-t</option> オプションが使われているため、
          スプーラでジョブを印字したときに GNU troff
          の形式から、デフォルトプリンタが解釈できる形式へと変換されます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpr-options-job-handling">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ジョブに関するオプション</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のオプションは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> によって、
	  そのジョブを特殊な扱いにするよう <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	  に指示するためのものです。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-# <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">copies</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブに含まれるファイルのそれぞれを
		1 部だけ印字するのではなく、
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">copies</replaceable>
		部のコピーを生成させるものです。管理者によっては、
		プリンタの消耗を避け、コピー機による複製を奨励するために
		このオプションの使用が禁止されているかもしれません。
		これに関しては、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-restricting-copies">
		  複数部のコピーの印字を制限する
		</link>」をご覧ください。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、デフォルトプリンタで
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">parser.c</filename> を 3 部コピーし、次に、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">parser.h</filename> を 3 部コピーしています。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">lpr -#3 parser.c parser.h</userinput></screen>

	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-m</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字ジョブが完了した後で、メールを送ります。
		このオプションを付けると、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		システムはジョブの処理が終了したときに、
		あなたのアカウントにメールを送ります。
		メールのメッセージには、ジョブが正常終了したのか、あるいは、
		何か異常があり、(しばしば)
		その異常が何であったのかが書かれています。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-s</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字ファイルをスプールディレクトリにコピーせず、
		代わりに、
		シンボリックリンクを作成するよう指示します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">印字させるジョブのサイズが大きいとき、
		このオプションを使うと便利かもしれません。このオプションにより、
		スプー ルディレクトリの容量が節約されます (それに、
		巨大なジョブのお陰でスプールディレクトリのあるファイルシステムの空き容量がなくなってしまうかもしれません)。
		さらに、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		がいちいちすべてのデータをコピーする必要がなくなりますので、
		時間の節約にもなります。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ただし、欠点もあります。<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		はオリジナルのファイルを直接参照するので、
		印字が終了するまでそのファイルを変更したり削除することができません。</para>

	      <note xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">リモートのプリンタで印字している場合、
		  <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application> は、結局のところ、
		  ローカルホストからリモートホストにファイルをコピーする必要があります。
		  したがって、<option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option>
		  オプションはローカルのスプーリングディレクトリの空き容量を節約するだけで、
		  リモート側では節約されません。
		  それでも、このオプションは有用です。</para>
	      </note>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-r</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ジョブに含まれるファイルを、
		スプーリングディレクトリに
		ファイルをコピーした後に削除します。もしくは、
		<option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option> オプションと一緒に使われた場合は、
		印字終了後に削除されます。
		このオプションの使用には十分注意して下さい。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpr-options-misc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページ用オプション</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のオプションにより、
	  ジョブのヘッダページに通常印字さ
	  れるテキストを
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に調整させることができます。
	  対象のプリンタからヘッダページが出力されない場合は、
	  これらのオプションは何の効力も持ちません。
	  ヘッダページの設定に関する情報については、
	  「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages">
	    ヘッダページ</link>」を参照してください。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-C <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">text</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページに印字されるホスト名を
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">text</replaceable> に置き換えます。なお、
		ホスト名の場所には、通常、
		ジョブの要求があったホストの名前が印字されます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-J <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">text</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページに印字されるジョブ名を
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">text</replaceable> に置き換えます。
		ジョブ名の場所には、通常、ジョブの最初のファイル名、
		または、標準入力からデータが印字されたときは
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">stdin</filename> が印字されます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-h</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ヘッダページの出力を禁止します。</para>

	      <note xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">サイトによっては、
		  そのヘッダページの生成方法により、
		  このオプションの効果が現れないかもしれません。
		  詳細は、「<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="printing-advanced-header-pages">
		    ヘッダページ</link>」をご覧ください。</para>
	      </note>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの管理</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの管理者として、プリンタの設置、設定、
	そして、それらのテストをおこなう必要がありました。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドにより、
	これまでとは別な管理方法がプリンタと対話的におこなわれます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> により、次のことが可能となります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの起動、停止をおこなう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">キューへの入力の許可、禁止をおこなう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのキューにあるジョブの順番を変更する。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初に用語に関する注意をしておきます。
	プリンタが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">停止している</emphasis>とは、
	キューの中にあるどのジョブも印字されることがない状態
	を言います。この状態においても、
	ユーザはまだジョブの要求をおこなうことができますが、
	これらのジョブはキューの中で、
	プリンタが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スタートする</emphasis>状態になるまで、
	あるいは、キューの内容が削除されるまで待たされることになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キューが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">禁止状態</emphasis>にあると、
	(<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 以外の)
	すべてのユーザがプリンタにジョブを要求することができません。
	キューが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">許可状態にある</emphasis>場合は、
	ジョブの入力が許可されます。
	キューが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">禁止状態にある</emphasis>場合でも、
	プリンタを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スタートす
	  る</emphasis>状態にすることは可能です。この場合は、
	キューが空になるまで、
	キュー内のジョブの印字が続けられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使用するには
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を持っている必要があります。
	一般のユーザも <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使うことはできますが、
	プリンタの状態を取得することとハングしたプリンタ
	を再スタートすることだけに使用が制限されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドに関する説明の要約を述べます。
	ほとんどのコマンドでは、操作対象となるプリンタを指定するため
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable> 引数を与えます。
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable> の代わりに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">all</literal> が与えられると、操作は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	内にある全プリンタに対しておこなわれることになります。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      abort printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のジョブをキャンセルし、プリンタを停止させます。
	      キューが許可状態にある場合は、
	      ユーザはまだジョブを入力することができます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      clean printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタのスプーリングディレクトリから、
	      ジョブの古いファイルを削除します。状況によって、
	      とりわけ、印字途中でエラーが発生していたり、
	      管理操作が頻発していた場合には、
	      ジョブで作られたファイルを <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      が完全に削除しないことがあります。このコマンドでは、
	      スプーリングディレクトリに入っていないファイルを見つけ出し、
	      それを削除しています。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      disable printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">キューに新しいジョブを入れることを禁止します。
	      プリンタが動作しているときは、
	      キューに残っているジョブの印字は続けられます。ただし、
	      キューが禁止状態にあったとしても、スーパーユーザ
	      (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>)
	      は常にジョブを入力することができます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは、
	      新しいプリンタやフィルタを設置している間に使用すると有用です。
	      すなわち、キューを禁止状態にしておくと、
	      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> によるジョブのみが入力されます。
	      そして、他のユーザは、テストが完了し、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">enable</command>
	      コマンドでキューが再度許可状態になるまで、
	      ジョブの入力はできなくなります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      down printer-name
	      message</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをダウンさせます。これは、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">disable</command> をおこなった後で、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">stop</command> をおこなった場合と等価になります。
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">message</replaceable> は、ユーザが
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpq</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドでプリンタのキューの状態を調べたり、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">lpc status</command>
	      でプリンタの状態を調べたときに、
	      プリンタの状況として表示されるメッセージです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      enable printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタのキューを許可状態にします。
	      ユーザはジョブの入力ができるようになりますが、
	      プリンタがスタートの状態になるまでは、
	      プリンタからは何も印字されません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      help command-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">command-name</replaceable>
	      コマンドのヘルプメッセージを表示します。
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">command-name</replaceable>
	      が指定されなかった場合は、
	      利用できるコマンドの要約が表示されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      restart printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをスタートさせます。通常のユーザは、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
	      がある異常な状況でハングしたときに限り、
	      このコマンドを使用することができます。しかし、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">stop</command>
	      または <command xmlns:xlink="http://www.w3.org/1999/xlink">down</command> コマンドにより、
	      停止状態にあるプリンタをスタートさせることはできません。
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">restart</command> コマンドは、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">abort</command> の後に <command xmlns:xlink="http://www.w3.org/1999/xlink">start</command>
	      をおこなったことと同じになります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      start printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをスタートさせます。
	      プリンタのキューにあるジョブを印字することでしょう。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      stop printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタを停止します。プリンタは、
	      現在のジョブを終了させ、そして、
	      キューにあるその他のジョブは印字しません。
	      プリンタが停止状態にあったとしても、まだ、
	      許可状態にあるキューに対して、ジョブを送ることができます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      topq printer-name
	      job-or-username</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable>
	      のキューに対して、ジョブ番号
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">job</replaceable> のジョブ、または、ユーザ
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">username</replaceable>
	      から送られたジョブを置き換えて、キューの先頭に持ってきます。
	      このコマンドに関しては、
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">printer-name</replaceable> の代わりに
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">all</literal>
	      を使用することはできません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	      up printer-name</command></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタをアップ状態にします。これの反対のコマンドが
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">down</command> です。<command xmlns:xlink="http://www.w3.org/1999/xlink">start</command>
	      の次に <command xmlns:xlink="http://www.w3.org/1999/xlink">enable</command>
	      をおこなったことと等しくなります。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインから上記のコマンドを入力すると、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	はこれを受け付けます。コマンドが入力されなかった場合は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は対話モードに入り、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">exit</command>、<command xmlns:xlink="http://www.w3.org/1999/xlink">quit</command>、
	または、
	ファイル終端文字が入力されるまでコマンドの入力ができます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-lpd-alternatives">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">標準スプーラの代替品</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このマニュアルを最初から通読されている方ならば、ここまでで、
      FreeBSD 付属の <application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
      スプーリングシステムに関して知っておくべきことすべてを学ばれたことと思います。
      多分、このシステムにあるたくさんの欠点について認識できたことでしょう。
      そこから
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">(FreeBSD 上で動作する)
      スプーリングシステムには他にどのようなものがあるのか</quote>
      という疑問が自然と湧いてきます。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
        <term xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">次世代 LPR</quote><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</primary></indexterm>
	    を称する<application xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</application> は、
	    PLP を完全に書き換えたものです。
            Patrick Powell と Justin Mason (PLP の主要な管理者)
	    が共同で <application xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</application> を作成しました。
            <application xmlns:xlink="http://www.w3.org/1999/xlink">LPRng</application> の本サイトは
            <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.lprng.org/">http://www.lprng.org/</uri>
            です。</para>
	</listitem>
      </varlistentry>
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</primary></indexterm> (the Common UNIX Printing
	    System) は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> ベースのオペレーティングシステムに対して、
	    移植性の高い印刷レイヤを提供します。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application> は Easy Software Products
	    によって、すべての <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> ベンダとユーザに、
	    標準的な印刷ソリューションを普及するために開発されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application>
	    は、プリントジョブとキューを管理する基盤として
	    Internet Printing Protocol (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPP</acronym>)
	    を使っています。機能は限定されますが、
	    ラインプリンタデーモン (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">LPD</acronym>)、
	    サーバーメッセージブロック　(<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMB</acronym>) や
	    AppSocket (JetDirect とも呼ばれています)
	    プロトコルにも対応しています。
	    CUPS は、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> に現実的なプリント機能を備えるため、
	    ネットワークプリンタの検索、
	    PostScript プリンタ記述言語 (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPD</acronym>)
	    に基づいた印刷オプションを追加します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application>
	    のメインサイトは <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cups.org/">http://www.cups.org/</uri> です</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">HPLIP</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">HPLIP</application><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">HPLIP</primary></indexterm>
	    (the HP <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Linux</trademark> Imaging and Printing system) は、
	    HP アプライアンス用に HP が開発した、
	    プリンタ、スキャナ、ファックスへの対応のためのプログラム群です。
	    このプログラムでは、印刷機能において
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">CUPS</application>
	    印刷システムをバックエンドとして利用しています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">HPLIP</application> のメインサイトは、
	    <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://hplipopensource.com/hplip-web/index.html">http://hplipopensource.com/hplip-web/index.html</uri>
	    です。</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>


	<sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="printing-troubleshooting">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lptest</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使った簡単なテストをおこなった結果、
	    正しい出
	    力を得られずに、以下に示すような出力が得られるかもしれません。</para>

	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">しばらくしたら出力される、または、
		紙の全体が出てこない</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタは上で示されたような印字を
		  おこなったのですが、しばらくして止まってしまい、
		  動かなくなってしまいました。
		  印字された結果をプリンタから取り出すためには、
		  プリンタにある PRINT REMAINING ボタン、または、FORM
		  FEED ボタンを押す必要があるようです。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">この場合は、
		  おそらくジョブはプリントをする前に
		  更にデータが送られてこないか待ち続けているのでしょう。
		  この問題を解決するためには、プリンタに FORM FEED
		  文字 (あるいは特定の必要な文字コード) を
		  送るテキストフィルタを使ってください。
		  プリンタ内部に残ったデータをプリンタにすぐに印字させるには、
		  普通はこれで十分です。
		  次のジョブが前のジョブの最終ページの中央の
		  どこかから印字を開始させないためにも、
		  紙の途中で印字のジョブが終了したかどうかを確認するのは有益です。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">シェルスクリプト
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>
		  を次のように変更して、プリンタへジョブを送信した後に
		  FORM FEED 文字を印字させるようにします。</para>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
# if-simple - Simple text input filter for lpd
# Installed in /usr/local/libexec/if-simple
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Writes a form feed character (\f) after printing job.

/bin/cat &amp;&amp; printf "\f" &amp;&amp; exit 0
exit 2</programlisting>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">階段効果</quote> が現れた</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">出力された紙には次のように印字されていました。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">!"#$%&amp;'()*+,-./01234
                 "#$%&amp;'()*+,-./012345
                                 #$%&amp;'()*+,-./0123456</screen>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">「階段効果」</emphasis>
		  の新たなる犠牲者になってしまいました。この原因は、
		  改行を表わすべき文字がなんであるか
                  の解釈が混乱していることにあります。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
		  スタイルのオペレーティングシステムでは、改行文字は
		  ASCII<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</primary></indexterm> コード 10 の line feed (LF)
		  の 1 文字が使われています。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MS-DOS</primary></indexterm>
		  や <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">OS/2</trademark><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OS/2</primary></indexterm> などは ASCII
		  コード 10の LF <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">と</emphasis>、ASCII コード
		  13 の文字 (carriage return または CR)
		  をペアで使います (訳注: Macintosh では CR
		  のみで表現されています)。大抵のプリンタでは、
		  改行を表わすために <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> の慣習にしたがいます。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で印字する場合、印字したテキストは LF
		  文字だけ が使われていました。プリンタでは LF
		  文字を見つけると、紙を 1 行分送り出しました。しかし、
		  次の文字を印字するた
		  めの紙の水平方向の位置は維持されました。すなわち、CR
		  文字が意味することは、
		  次の文字を印字する位置を紙の左端に動かすことです。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
		  がプリンタに動作をして欲しいと思っている動作を以下に示します。
		</para>

		<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
		  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
		    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		      <row xmlns:xlink="http://www.w3.org/1999/xlink">
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが CR を受け取ったとき</entry>
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">CR 動作 (復帰) をおこなう</entry>
		      </row>

		      <row xmlns:xlink="http://www.w3.org/1999/xlink">
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが LF を受け取ったとき</entry>
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">CR + LF 動作 (復帰、改行) をおこなう</entry>
		      </row>
		    </tbody>
		  </tgroup>
		</informaltable>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">このように動作させるための方法がいくつかあります。</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの文字の解釈を変えるために、
		      プリンタの設定スイッチかコントロールパネルを操作する方法。
		      どのようにして設定をするかはプリンタのマニュアルを参照してください。</para>

		    <note xmlns:xlink="http://www.w3.org/1999/xlink">
		      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
			以外のオペレーティングシステムを切り替えて使う場合、
			CR と LF 文字の解釈をそのオペレーティングシステムで使われているようにプリンタを
			<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">再設定</emphasis>する必要があるかもしれません。
			以下に示す解決方法のいずれかを
			選ぶのがよいかもしれませんね。</para>
		    </note>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">自動的に LF を CR+LF に変換してくれる
		      FreeBSD 用のシリアルドライバを入手する方法。
		      もちろん、このドライバはプリンタ専用に接続される
		      シリアルポート
		      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">のみ</emphasis>で動作します。
		      この機能を許可するためには、
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal> 項目を使い、
		      対象プリンタの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		      ファイルで<literal xmlns:xlink="http://www.w3.org/1999/xlink">onlcr</literal> モードを設定します。</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">LF
		      文字の扱いを一時的に変更するための
		      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">エスケープコード</emphasis>
		      をプリンタに送る方法。
		      プリンタがサポートしているかもしれないエスケープコード
		      については、
		      プリンタのマニュアルを参照してください。
		      適切なエスケープコードが見つかったら、
		      最初にそのコードを送り、次にプリントジョブを送信
		      するようにテキストフィルタを変更してください。
		    </para>

              <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PCL</primary></indexterm>
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、Hewlett Packard 社の PCL
		      エスケープコードに対応しているプリンタのための
		      テキストフィルタの例を示します。
		      このフィルタでは、プリンタ に
		      LF 文字を LF と CR の2文字として扱わせます。
		      その後に、プリンタにジョブを送ります。最後に、
		      ジョブの最終ページの紙を排出するため、FROM FEED
		      文字を送ります。このフィルタは Hewlett Packard
		      社のほとんどすべてのプリンタで機能するはずです。</para>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
#
# hpif - Simple text input filter for lpd for HP-PCL based printers
# Installed in /usr/local/libexec/hpif
#
# Simply copies stdin to stdout.  Ignores all filter arguments.
# Tells printer to treat LF as CR+LF.  Ejects the page when done.

printf "\033&amp;k2G" &amp;&amp; cat &amp;&amp; printf "\f" &amp;&amp; exit 0
exit 2</programlisting>

		    <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">orchid</systemitem> の
		      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		      の例を以下に示します。ここには、
		      一番目のパラレルポートにプリンタ
		      (Hewlett Packard LaserJet 3Si)
		      が一台接続されており、そのプリンタ名は
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">teak</literal> です。</para>

		    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
#  /etc/printcap for host orchid
#
teak|hp|laserjet|Hewlett Packard LaserJet 3Si:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/teak</filename>:mx#0:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/hpif</filename>:</programlisting>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <note xmlns:xlink="http://www.w3.org/1999/xlink">
		    <title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
		      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		         LF を CR+LF
			に置き換える cat コマンドを作る方法も当然考えられます。
			そして、このコマンドと、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">if-simple</emphasis> の cat
			の部分を置き換えればよいわけです。
			具体的にどのようにするかは、
			読者への練習問題としましょう。</para>
		    </note>
		  </listitem>
		</itemizedlist>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">各行が重ね書きされてしまった</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタは紙送りをまったくしませんでした。
		  テキストすべての行がある行の上で重ねて印字されてしまいました。
		</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">この問題は、
		  階段現象とは <quote xmlns:xlink="http://www.w3.org/1999/xlink">正反対</quote> な問題で、
		  ほとんどまれにしか起こりません。FreeBSD では行末として扱われる
		  LF  文字が、紙の左端に印字位置を復帰しますが、
		  紙送りはしない CR 文字として扱われています。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの設定スイッチかコントロールパネルを使って、
		  LF と CR
		  の文字を次のような解釈をするようにしてください。
		</para>

		<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
		  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
		    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		      <row xmlns:xlink="http://www.w3.org/1999/xlink">
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが受け取ったとき</entry>
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">プリンタがおこなう</entry>
		      </row>
		    </thead>

		    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		      <row xmlns:xlink="http://www.w3.org/1999/xlink">
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">CR</entry>
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">CR 動作 (復帰)</entry>
		      </row>

		      <row xmlns:xlink="http://www.w3.org/1999/xlink">
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">LF</entry>
			<entry xmlns:xlink="http://www.w3.org/1999/xlink">CR + LF (復帰、改行)</entry>
		      </row>
		    </tbody>
		  </tgroup>
		</informaltable>

		<note xmlns:xlink="http://www.w3.org/1999/xlink">
		<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">
		    LF を CR+LF
		    に置き換える cat コマンドを作る方法も当然考えられます。
		    そして、このコマンドと、
		    <filename xmlns:xlink="http://www.w3.org/1999/xlink">if-simple</filename> の cat
		    の部分を置き換えればよいわけです。
		    具体的にどのようにするかは、
		    読者への練習問題としましょう。</para>
		</note>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが文字を紛失してしまう</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">印字しているのですが、
		  各行の 2 〜 3 文字が印字されません。
		  プリンタを動かせば動かすほど、
		  もっとたくさんの文字が紛失されていき、
		  この問題は更に悪くなっていくかもしれませんでした。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">この問題は、
		  シリアルポートを通してコンピュータから送られてくるデータの速度に、
		  プリンタがついていけないことに起因します
		  (この問題は、パラレルポートに接続された
		  プリンタでは発生することはありません)。
		  この問題を克服する方法が2つあります。</para>

		<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが XON/XOFF のフロー制御をサポート
		      している場合は、項目 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal> で
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ixon</literal> モードをセットして、FreeBSD
		      にこの機能を使用させてください。</para>
		  </listitem>

		  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		    <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタが Request to Send / Clear to Send
		      ハードウェアハンドシェイク
		      (通称 <literal xmlns:xlink="http://www.w3.org/1999/xlink">RTS/CTS</literal>) をサポートして
		      いる場合は、項目 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal> で
		      <literal xmlns:xlink="http://www.w3.org/1999/xlink">crtscts</literal>
		      モードをセットして下さい。それから、
		      プリンタとコンピュータを接続しているシリアルケーブルが
		      ハードウェアフロー制御用に正しく配線されたものかどうかを確認してください。</para>
		  </listitem>
		</itemizedlist>
	      </listitem>
	    </varlistentry>


	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">プリンタは意味不明な文字列を印字した</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタはランダムなゴミのように
		  見えるものを印字しましたが、
		  意図したテキストは印字してくれませんでした。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">この問題は、通常、
		  シリアルポートに接続したプリンタでの
		  通信パラメータの誤りからくる前項とは別の症状です。
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">br</literal> 項目の通信速度と
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ms#</literal> 項目を再確認してください。
		  また、プリンタでの設定が
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
		  ファイルで設定した
		  内容と一致しているかどうかも確認してください。</para>

		<note xmlns:xlink="http://www.w3.org/1999/xlink">
		<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">
		    simple-if
		    のような単純なフィルタだけの状態で、
		    日本語を含むテキストを印字しようとした場合にも、
		    シリアルポート、パラレルポートの使用に関係なく、
		    このような症状は見られます。日本語プリンタの場合、
		    漢字コードそのもの
		    を送信しただけでその漢字を印字してくれるものは、
		    少なくとも訳者は見たことがありません。
		    漢字を印字するための制御
		    コードを別途送信するフィルタが必要となります。
		    また、そのようなフィルタを使用していても、
		    そのフィルタが想定してる漢字コードと異なった文書を
		    プリントしようとしたときもこのような症状は出ます。
		    もちろん、これはプリンタ用の
		    言語を持たないプリンタの話で、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> プリンタ
		    などにプレインテキストを送信しても、日本語対応、
		    非対応に関らず、意味不明な文字列が印字される
		    (もしくは、何も印字されない) ことでしょう。</para>
		</note>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">何も起きない</term>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">もしプリンタが何の動作もしないのであれば、
		  ハード的な問題ではなく、多分 FreeBSD
		  の中に問題があります。
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename> ファイルで、
		  デバッグしているプリンタのエントリに
		  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">lf</literal> 項目で) ログファイルを取るように
		  設定を追加してください。たとえば、プリンタ
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">rattan</literal> 用のエントリの項目
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">lf</literal> は次のようになります。</para>

		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">rattan|line|diablo|lp|Diablo 630 Line Printer:\
        :sh:sd=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/lpd/rattan</filename>:\
        :lp=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/lpt0</filename>:\
        :if=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/libexec/if-simple</filename>:\
        :lf=<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/rattan.log</filename></programlisting>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、もう一度印字をおこなってみます。そして、
		  発生したと思われるエラーメッセージを見るためにログファイル
		  (上記の例では、
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/rattan.log</filename>)
		  を調べます。そこで見られたメッセージを元に、
		  問題を解決してみてください。</para>

		<para xmlns:xlink="http://www.w3.org/1999/xlink">項目 <literal xmlns:xlink="http://www.w3.org/1999/xlink">lf</literal>
		  が指定されていない場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">LPD</application>
		  はデフォルトのログファイルとして
		  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/console</filename> を使います。</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>
	</sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r10823
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="linuxemu">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリ互換機能</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成と一部の更新: </contrib></author>
      <!-- 22 Mar 2000 -->
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Brian N.</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Handy</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">オリジナルの文書を執筆: </contrib></author>
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Rich</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Murphey</surname></personname></author>
    </authorgroup>
  </info>

  

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: はらだ きろう <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">kiroh@jp.FreeBSD.org</email>、1996 年 9 月 24 日</emphasis></para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリ互換機能</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ互換機能</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、Linux を含む Unix-like
      なオペレーティングシステムとのバイナリ互換機能を提供しています。
      現時点では、一体なぜ FreeBSD が Linux
      バイナリを実行できるようにならなければならないのか自問しているのではないでしょうか?
      答えはきわめて簡単です。
      Linux は現在コンピュータの世界では最も<quote xmlns:xlink="http://www.w3.org/1999/xlink">ホットなモノ</quote>なのでたくさんの会社や開発者たちが
      Linux のためだけに開発を行なっています。そのため、残された私たち
      FreeBSD ユーザは彼らに対して FreeBSD ネイティブなアプリケーションも出すように言うしかないのです。
      問題は、FreeBSD バージョンも出した場合にどれくらいの数のユーザーが使うのかわからない、
      ということであり、そのため Linux 版のみを開発しているということなのです。
      そこで FreeBSD では Linux バイナリ互換機能が役に立つのです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">簡単に言ってしまえば、この機能により全ての Linux アプリケーションの
      90% が修正なしに FreeBSD 上で起動できます。
      この中には <application xmlns:xlink="http://www.w3.org/1999/xlink">Star Office</application> や Linux 版の
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Netscape</application>、<application xmlns:xlink="http://www.w3.org/1999/xlink">Adobe Acrobat</application>、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">RealPlayer</application> 5 と 7、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">VMWare</application>、<application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application>、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">WordPerfect</application>、<application xmlns:xlink="http://www.w3.org/1999/xlink">Doom</application>、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Quake</application> などがあります。
      また、ある状況においては Linux バイナリを Linux で動かすよりも
      FreeBSD で動かすほうが良いパフォーマンスが出るという報告もあります。</para>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/proc</filename> ファイルシステム</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、いくつかの Linux に特有な OS の機能は FreeBSD ではサポートされていません。
      例えば、Linux の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/proc</filename> ファイルシステムを過度に使うような
      Linux バイナリは FreeBSD では動きません (FreeBSD の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/proc</filename>
      ファイルシステムとは異なるのです) し、
      仮想 8086 モードを有効にするような i386 特有の呼び出しも動きません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリ互換機能を有効にする方法。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">Linux 共有ライブラリを追加する方法。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">Linux アプリケーションを
	  FreeBSD システムにインストールする方法</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における Linux
	  互換機能の実装の詳細。</para></listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製ソフトウェアのインストール方法 (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-lbc-install">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">KLD (kernel loadable object)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリ互換機能は、デフォルトでは有効ではありません。
      この機能を有効にする最も簡単な方法は、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">linux</literal> KLD オブジェクト
      (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Kernel LoaDable object</quote>) を読み込むことです。
      コマンドプロンプトで <command xmlns:xlink="http://www.w3.org/1999/xlink">linux</command>
      と打つだけでモジュールを読み込むことができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux 互換機能を常に有効にする場合には、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に以下の行を追加してください。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">linux_enable="YES"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この設定により、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.i386</filename>
      では次のような操作が行なわれます。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Start the Linux binary compatibility if requested.
#
case ${linux_enable} in
[Yy][Ee][Ss])
	echo -n ' linux';	linux &gt; /dev/null 2&gt;&amp;1
	;;
esac
    </programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">望みの KLD モジュールがロードされているか確認したい時には
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldstat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを利用します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kldstat</userinput>
Id Refs Address    Size     Name
 1    2 0xc0100000 16bdb8   kernel
 7    1 0xc24db000 d000     linux.ko</screen>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネルオプション</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">LINUX</secondary>
    </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
      何らかの理由で Linux KLD をロードしたくない、
      あるいはロードできないような場合には、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">options  LINUX</literal>
      をカーネルの設定ファイルに指定して、
      Linux バイナリ互換機能をカーネルにスタティックリンクしてください。
      そして、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>
      の記述にしたがって新しいカーネルをインストールしてください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Linux ランタイムライブラリのインストール</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">Linux ライブラリのインストール</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="linuxemu-libs-port">linux_base</link>
	port を用いるか、もしくは <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="linuxemu-libs-manually">手動で</link> インストールします。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-libs-port">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">linux_base の port を用いたインストール</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ports collection</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ランタイムライブラリをインストールするには最も簡単な方法です。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/">Ports Collection</link> から他の port
	  をインストールするのと全く同じようにできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/emulators/linux_base</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install distclean</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これで Linux バイナリ互換機能が使えるはずです。
	  いくつかのプログラムはシステムライブラリのマイナーバージョンが違うと文句を言うかもしれませんが一般的には大した問題ではありません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-libs-manually">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">手動でのライブラリのインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">ports</quote> コレクションをインストールしていない場合、
	  代わりに手動でライブラリをインストールすることができます。
	  プログラムが必要とする Linux のシェアードライブラリとランタイムリンカが必要です。
	  また Linux ライブラリ用の <quote xmlns:xlink="http://www.w3.org/1999/xlink">shadow root</quote> ディレクトリ、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux</filename> を作成する必要があります。
	  FreeBSD で動作する Linux プログラムが使用するシェアードライブラリは、
	  まずこのファイルツリーから検索されます。例えば、
	  Linux のプログラムが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/lib/libc.so</filename>
	  をロードしようとした場合には、FreeBSD はまず
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/lib/libc.so</filename>
	  を開こうとします。これが存在しなかった場合には、次に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/lib/libc.so</filename> を試します。
	  シェアードライブラリは、Linux の <command xmlns:xlink="http://www.w3.org/1999/xlink">ld.so</command>
	  が報告するパスではなく、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/lib</filename>
	  以下にインストールする必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Linux のプログラムが必要とする
	  シェアードライブラリを探す必要があるのは、FreeBSD
	  のシステムに Linux
	  のプログラムをインストールする最初の数回だけでしょう。
	  それが過ぎれば、十分な Linux のシェアードライブラリがシステムにインストールされ、
	  新しくインストールした Linux のバイナリも余計な作業をせずに動作させることができるようになります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シェアードライブラリの追加</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">共有ライブラリ</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">linux_base</filename> port をインストールした後に、
	  アプリケーションが必要なライブラリが存在しないというエラーを出したらどうしたらよいでしょうか?
	  Linux のバイナリがどのシェアードライブラリを必要とし、
	  そしてどこで入手できるか、どのように探したらよいでしょうか?
	  基本的には、以下の 2 種類の方法があります (以下の手順に従う場合には、
	  必要なインストール作業をおこなう FreeBSD システム上で root
	  として作業をおこなう必要があります)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Linux システムにアクセス可能ならば、
	  そのアプリケーションがどういうシェアードライブラリを必要としているのか調べ、
	  単に FreeBSD にそのライブラリをコピーするだけです。
	  次の例を見てみましょう。</para>

	<informalexample xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FTP を使って Doom の Linux バイナリを取ってきて、
	    アクセスできる Linux システムに置いたとしましょう。
	    次のように <command xmlns:xlink="http://www.w3.org/1999/xlink">ldd linuxdoom</command> とするだけでどのシェアードライブラリが必要かチェックできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ldd linuxxdoom</userinput>
libXt.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libXt.so.3.1.0
libX11.so.3 (DLL Jump 3.1) =&gt; /usr/X11/lib/libX11.so.3.1.0
libc.so.4 (DLL Jump 4.5pl26) =&gt; /lib/libc.so.4.6.29</screen>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シンボリックリンク</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">最後のカラムに表示されているすべてのファイルを持って来て、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux</filename> の下に置き、
	  最初のカラムに示されるファイル名にシンボリックリンクを張ります。
	  すなわち、FreeBSD システムでは以下のようなファイルが必要となります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/usr/X11/lib/libXt.so.3.1.0
/compat/linux/usr/X11/lib/libXt.so.3 -&gt; libXt.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3.1.0
/compat/linux/usr/X11/lib/libX11.so.3 -&gt; libX11.so.3.1.0
/compat/linux/lib/libc.so.4.6.29 /compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</screen>

	  <blockquote xmlns:xlink="http://www.w3.org/1999/xlink">
	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初のカラムに表示されているファイルとメジャーバージョンが同じ
	        Linux シェアードライブラリを既にインストールしている場合は、
		新たにコピーする 必要はありません。
		既にあるライブラリで動作するはずです。
		ただ、新しいバージョンのものをコピーすることをお奨めします。
		新しいライブラリにシンボリックリンクを変更したら、
		古いライブラリは削除してかまいません。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/lib/libc.so.4.6.27
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.27</screen>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">従って、以上のようなライブラリがインストールされており、
	        新しいバイナリに対する <command xmlns:xlink="http://www.w3.org/1999/xlink">ldd</command>
	        の出力が以下のようになる場合を考えます。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink">libc.so.4 (DLL Jump 4.5pl26) -&gt; libc.so.4.6.29</screen>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">このように最後の番号が 1 つか 2 つ古いだけならば、普通は
	        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/lib/libc.so.4.6.29</filename>
	        をコピーする必要はありません。わずかに古いライブラリでもプログラムは動作するはずだからです。
	        もちろん、以下のように新しいライブラリと置き換えても構いません。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/lib/libc.so.4.6.29
/compat/linux/lib/libc.so.4 -&gt; libc.so.4.6.29</screen>
	    </note>
	  </blockquote>

	  <blockquote xmlns:xlink="http://www.w3.org/1999/xlink">
	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">シンボリックリンクのメカニズムは Linux
	      バイナリに<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">のみ</emphasis>必要なことに注意してください。
	      FreeBSD のランタイムリンカはメジャーリビジョン番号の一致したライブラリを検索するので、
	      ユーザが気にする必要はありません。</para>
	    </note>
	  </blockquote>
	</informalexample>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Linux の ELF バイナリのインストール</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ELF バイナリ</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ELF のバイナリを使うためには、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">マークをつける (branding)</quote> 作業が必要になります。
	マークのない ELF バイナリを実行しようとすると以下のようなエラーメッセージを受けとってしまうことでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./my-linux-elf-binary</userinput>
ELF binary type not known
Abort</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルが FreeBSD の ELF バイナリと Linux のバイナリとを
	見分けられるようにするためには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">brandelf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	ユーティリティを以下のようにして使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux my-linux-elf-binary</userinput></screen>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">GNU ツールチェイン</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">今では GNU のツールたちが
	ELF バイナリに自動的に適切なマークを付加するようになったので、
	今後はこの作業もだんだんと必要なくなってゆくでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ホストネームリゾルバの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DNS がうまく動作しなかったり、
	以下のようなエラーメッセージが表示され
	る場合は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/etc/host.conf</filename>
	ファイルを設定する必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">resolv+: "bind" is an invalid keyword resolv+:
"hosts" is an invalid keyword</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの内容を以下のように設定してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">order hosts, bind
multi on</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、order は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> を最初に検索し、
	次に DNS を検索するように指定します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/etc/host.conf</filename>
	がインストールされていない場合、
	Linux アプリケーションは FreeBSD の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/host.conf</filename> を使用しようとして、
	文法の違いによる警告を出力します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> を利用してネームサーバの設定をしていない場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">bind</literal> を削除してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-mathematicau">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica のインストール</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> 4.X 用に Murray Stokely
      がアップデートし、Bojan Bistrovic <email xmlns:xlink="http://www.w3.org/1999/xlink">bojanb@physics.odu.edu</email>
      がマージしました。</emphasis></para>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application></secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、<application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> 4.X Linux 版の FreeBSD
      へのインストールについて説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux 版の <application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> は
      FreeBSD においても完璧に動きます。
      ただ、実行する際に Linux ABI を用いる必要があることを
      FreeBSD に教えるために、Wolfram によって出荷されているバイナリにマーク付け
      (branded) をする必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> や
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica for Students</application> の Linux 版は Wolfram
      (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.wolfram.com/">http://www.wolfram.com/</link>)
      から直接注文することができます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリへのマーク付け (branding)</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux 用バイナリは Wolfram の <application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application>
	CD-ROM の <filename xmlns:xlink="http://www.w3.org/1999/xlink">Unix</filename> ディレクトリにあります。
	インストーラーを起動する前にこのディレクトリをローカルディスクにコピーし、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">brandelf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> により Linux バイナリにマークを付けます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /cdrom</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp -rp /cdrom/Unix/ /localdir/</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/Kernel/Binaries/Linux/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/FrontEnd/Binaries/Linux/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/Installation/Binaries/Linux/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/Graphics/Binaries/Linux/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/Converters/Binaries/Linux/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux /localdir/Files/SystemFiles/LicenseManager/Binaries/Linux/mathlm</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /localdir/Installers/Linux/</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./MathInstaller</userinput></screen>

       <para xmlns:xlink="http://www.w3.org/1999/xlink">また以下のようにすると、マーク付けされていない
	 ELF バイナリすべての扱いを、デフォルトで Linux
	 バイナリとすることが可能です。</para>

       <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl -w kern.fallback_elf_brand=3</userinput></screen>

       <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD システムに対して、
	 マーク付けされていない ELF バイナリが
	 Linux ABI を利用するように設定します。こうすることで、
	 CDROM から直接インストーラを実行することが可能になります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica パスワードの取得</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> を起動する前に Wolfram から自分の
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">マシン ID</quote> に対応したパスワードを取得しなければいけません。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">イーサネット</primary>
        <secondary xmlns:xlink="http://www.w3.org/1999/xlink">MAC アドレス</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一旦 Linux 互換ランタイムライブラリをインストールし、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application> を展開すれば Install ディレクトリにある
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mathinfo</command> プログラムを起動して
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">マシン ID</quote> を得ることができます。
	このマシン ID は、最初に見つかったイーサネットカードの MAC アドレスをベースに生成されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /localdir/Files/SystemFiles/Installation/Binaries/Linux</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mathinfo</userinput>
disco.example.com 7115-70839-20412</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">電子メールや電話、FAX などで Wolfram に登録する時にはこの
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">マシン ID</quote> を渡します。
	するといくつかの数字から構成されるパスワードが返されるので、
	他の <application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application>
	プラットホームでするのと全く同じように最初に
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application>
	を立ち上げる時にその情報を入力します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク経由での Mathematica フロントエンドの起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application>
	は標準フォントセットにない特別な記号
	(積分記号、総和記号、ギリシャ文字など)
	を表示するために特殊なフォントを使用します。
	X プロトコルは、これらのフォントが
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ローカルマシンに</emphasis>
	インストールされていることを要求します。
	これはつまり、ローカルマシンに (CD-ROM や <application xmlns:xlink="http://www.w3.org/1999/xlink">Mathematica</application>
	がインストールされているホストマシンから)
	そのフォントをコピーしなければならないということです。
	これらのフォントは通常、CD-ROM の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/cdrom/Unix/Files/SystemFiles/Fonts</filename> か、もしくはハードディスクの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/mathematica/SystemFiles/Fonts</filename>
	に置かれており、実際に使用されるフォントは <filename xmlns:xlink="http://www.w3.org/1999/xlink">Type1</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">X</filename> のサブディレクトリに格納されています。
	これらを利用するには次のような二つ方法があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つは、フォントファイルをすべて
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/X11/fonts/</filename>
	以下にある既存のフォントディレクトリにコピーする方法です。
	この場合、<filename xmlns:xlink="http://www.w3.org/1999/xlink">fonts.dir</filename> にフォント名を追加し、
	先頭行のフォント総数を変更することも必要になります。
	あるいは、フォントをコピーしたディレクトリで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mkfontdir</command> を実行するだけでもかまいません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの方法は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/X11/fonts/</filename>
	にフォントディレクトリごとコピーする方法です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/X11R6/lib/X11/fonts</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir X</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir MathType1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /cdrom/Unix/Files/SystemFiles/Fonts</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp X/* /usr/X11R6/lib/X11/fonts/X</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp Type1/* /usr/X11R6/lib/X11/fonts/MathType1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/X11R6/lib/X11/fonts/X</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkfontdir</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd ../MathType1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkfontdir</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、フォントパスに新しいフォントディレクトリを追加します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp+ /usr/X11R6/lib/X11/fonts/X</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp+ /usr/X11R6/lib/X11/fonts/MathType1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">xset fp rehash</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">XFree86 サーバを使用しているなら、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/XF86Config</filename>
	に加えることでこれらのフォントを自動的に読み込むことができます。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">フォント</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/X11R6/lib/X11/fonts/Type1</filename> という
	ディレクトリが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">存在していない</emphasis>場合には、
	上記例の <filename xmlns:xlink="http://www.w3.org/1999/xlink">MathType1</filename> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Type1</filename>
	とすることができます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-oracle">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle のインストール</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marcel</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Moolenaar</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄贈: </contrib></author>
	<!-- marcel@cup.hp.com -->
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application></secondary>
    </indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">このドキュメントでは Oracle 8.0.5 と Oracle 8.0.5.1 Enterprise Edition
	の Linux 版を FreeBSD にインストールするための手順を解説します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Linux 環境のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まずは Ports Collection から <filename xmlns:xlink="http://www.w3.org/1999/xlink">linux_base</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">linux_devtools</filename> をインストールしてください。
	これらの ports は FreeBSD 3.2 のリリース後にコレクションに加えられました。
	もし FreeBSD 3.2 もしくはそれよりも古いものを使っている場合は
	ports コレクションをアップデートしましょう。ついでに FreeBSD
	をアップデートするのもいいでしょう。もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">linux_base-6.1</filename>
	や <filename xmlns:xlink="http://www.w3.org/1999/xlink">linux_devtools-6.1</filename> でうまくいかなければ
	5.2 を試してみてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし賢いエージェント (intelligent agent) を起動したいなら
	Red Hat Tcl パッケージ <filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl-8.0.3-20.i386.rpm</filename>
	もインストールする必要があるでしょう。
	公式の RPM パッケージをインストールするには一般的に次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm package</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パッケージのインストール時にエラーが出てはいけません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 環境の構築</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Oracleをインストールする前に、適切な環境を設定する必要があります。
	このドキュメントでは、
	Oracle のインストールガイドに書いてあるようなことではなく
	FreeBSD で Linux 用 Oracle
	を動かすために<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">特別に</emphasis>必要なことのみを解説します。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-kernel-tuning">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのチューニング</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのチューニング</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Oracle インストールガイドにあるように、
	  シェアードメモリーの最大サイズを設定しなければいけません。
	  FreeBSD では <literal xmlns:xlink="http://www.w3.org/1999/xlink">SHMMAX</literal> を使わないようにしてください。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">SHMMAX</literal> は単に <literal xmlns:xlink="http://www.w3.org/1999/xlink">SHMMAXPGS</literal>
	  と <literal xmlns:xlink="http://www.w3.org/1999/xlink">PGSIZE</literal> から計算されるだけなのです。
	  従って、<literal xmlns:xlink="http://www.w3.org/1999/xlink">SHMMAXPGS</literal> を使うようにしましょう。
	  インストールガイドに記述されている他のオプションは使えます。
	  例えば以下のようにします。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのオプションを意図した Oracle
	  の使い方に合わせて設定してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、
	  次のオプションがカーネルのコンフィギュレーションファイルにあることも確認します。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options SYSVSHM #SysV shared memory
options SYSVSEM #SysV semaphores
options SYSVMSG #SysV interprocess communication</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-oracle-account">

	<title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 用アカウント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">他のアカウントを作るのと同じように Oracle 用のアカウントを作ります。
	  Oracle 用のアカウントに特別なのは Linux のシェルを割り当てるところだけです。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/shells</filename> に <literal xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/bin/bash</literal>
	  を加え、Oracle 用のアカウントに設定します。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-environment">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">環境設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">ORACLE_HOME</envar> や <envar xmlns:xlink="http://www.w3.org/1999/xlink">ORACLE_SID</envar>
	  といった通常の Oracle 用の変数の他に次の変数も設定しなければなりません。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">変数</entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	      </row>
	    </thead>
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">LD_LIBRARY_PATH</envar></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">$ORACLE_HOME/lib</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">CLASSPATH</envar></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">$ORACLE_HOME/jdbc/lib/classes111.zip</literal></entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">PATH</envar></entry>

		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/bin
/compat/linux/sbin
/compat/linux/usr/bin
/compat/linux/usr/sbin
/bin
/sbin
/usr/bin
/usr/sbin
/usr/local/bin
$ORACLE_HOME/bin</literal></entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">全ての環境変数は <filename xmlns:xlink="http://www.w3.org/1999/xlink">.profile</filename>
	  で設定することをお勧めします。
	  完璧なサンプルは以下の通りです。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:$ORACLE_HOME/bin
export PATH</programlisting>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストーラーを起動する前に、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp</filename>
	に <filename xmlns:xlink="http://www.w3.org/1999/xlink">.oracle</filename>
	という名前のディレクトリを作る必要がありますが、
	これは Linux エミュレーターにおけるちょっとした不整合のためです。
	このディレクトリは誰でもが書けるか、もしくは oracle ユーザーのものにしておきます。
	これで特に問題なく Oracle がインストールできるでしょう。
	もし問題が起こったら、まずは Oracle の配布物や設定をチェックしてください。
	Oracle のインストールが終わったら次の二つのサブセクションで解説するパッチを当てます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">よくあるトラブルは、TCP プロトコルアダプターが正しくインストールされていないことです。
	そのため、一切 TCP リスナーを起動することができないのです。
	次の操作はこの問題を解決するのに役立ちます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd $ORACLE_HOME/network/lib</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -f ins_network.mk ntcontab.o</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd $ORACLE_HOME/lib</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ar r libnetwork.a ntcontab.o</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd $ORACLE_HOME/network/lib</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -f ins_network.mk install</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一度 <filename xmlns:xlink="http://www.w3.org/1999/xlink">root.sh</filename> を起動するのを忘れないように!</para>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-patch-root">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">root.sh へのパッチ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Oracle をインストールする時、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  で行なう必要のあるいくつかの操作は <filename xmlns:xlink="http://www.w3.org/1999/xlink">root.sh</filename>
	  と呼ばれるシェルスクリプトに記録されます。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">root.sh</filename> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">orainst</filename>
	  ディレクトリにあります。次のパッチを root.sh に当てて
	  正しい場所にある <command xmlns:xlink="http://www.w3.org/1999/xlink">chown</command> コマンドを使うようにするか、
	  代わりに Linux ネイティブなシェルのもとでスクリプトを走らせましょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">CD-ROM からのインストールでない場合は <filename xmlns:xlink="http://www.w3.org/1999/xlink">root.sh</filename>
	  のソースにパッチを当ててもいいでしょう。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">rthd.sh</filename> という名前でソースツリーの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">orainst</filename> というディレクトリにあります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="linuxemu-patch-tcl">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">genclntsh へのパッチ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">genclntsh</command>
	  スクリプトは一つの共有クライアントライブラリを生成するのに用いられます。
	  これはデモを作る時に使われます。
	  PATH の定義をコメントアウトするために次のパッチを当ててください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</programlisting>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle の起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストラクションに従えば、Linux でと同じように
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application> を起動できるでしょう。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sapr3">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 (4.6B - IDES) のインストール</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Holger</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kipp</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Valentino</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Vaschetto</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">SGML への変換: </contrib></author>
      </authorgroup>
    </info>

    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3</application></secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">SAP サポートチームは、
      認定されたプラットフォームのみをサポートしているので、
      FreeBSD 上への SAP システムのインストールについてはサポートしていません。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preface">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">まえがき</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書は、<application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 4.6B IDES-System</application>
	with <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8.0.5</application> for
	Linux を FreeBSD 4.3 上にインストールする方法を、FreeBSD
	4.3-STABLE と <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8.0.5</application>
	のインストール方法と一緒に説明しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書では、重要な手順をすべて詳しく説明しようとしていますが、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application> および <application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3</application>
	のインストールの手引きを置き換えるものではありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">SAP</application> や <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application>
	に特有の質問については、<application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3</application> の
	Linux 版についてくる文書や <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application> と
	<application xmlns:xlink="http://www.w3.org/1999/xlink">SAP OSS</application>
	が出している資料をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="software">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">SAP のインストールには以下の CDROM を使いました。</para>
      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">名称</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">番号</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	</row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">KERNEL</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51009113</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">SAP Kernel Oracle /
	  Installation / AIX, Linux, Solaris</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">RDBMS</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51007558</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">Oracle / RDBMS 8.0.5.X /
	  Linux</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT1</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010208</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export / Disc
	  1 of 6</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT2</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010209</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export / Disc
	  2 of 6</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT3</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010210</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export /
	  Disc3 of 6</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT4</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010211</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export /
	  Disc4 of 6</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT5</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010212</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export /
	  Disc5 of 6</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT6</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">51010213</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDES / DB-Export /
	  Disc6 of 6</entry>
	</row>
	</tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">更に、<application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8 Server</application>
	(Pre-production バージョン 8.0.5 for Linux, カーネルバージョン
	2.0.33) の CD も使いましたが、これは必ずしも必要ではありません。
	また、もちろん FreeBSD 4.3-STABLE
	(4.3-RELEASE から間もない時期のものです) も利用しました。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sap-notes">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SAP ノート</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のノートは、<application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3</application>
	をインストールする前に読んでおくべき、
	もしくはインストールの際に役立つことが分かっているものです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">番号</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">題名</entry>
	</row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0171356</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">SAP Software auf Linux: grundlegenden
	  Anmerkungen</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0201147</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">INST: 4.6C R/3 Inst. on UNIX -
	  Oracle</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0373203</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">Update / Migration Oracle 8.0.5 --&gt;
	  8.0.6/8.1.6 LINUX</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0072984</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">Release of Digital UNIX 4.0B for
	  Oracle</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0130581</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP step DIPGNTAB terminates</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0144978</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">Your system has not been installed
	  correctly</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">0162266</entry> <entry xmlns:xlink="http://www.w3.org/1999/xlink">Questions and tips for R3SETUP on Windows
	  NT / W2K</entry>
	</row>
	</tbody>
	</tgroup>
      </informaltable>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="hardware-requirements">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア要件</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の機器であれば <application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3
	System</application> (4.6B) を動かすのに十分です。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">構成部品</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6B</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">4.6C</entry>
	</row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">プロセッサ</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">2 × 800MHz Pentium III</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">2 × 800MHz Pentium III</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">メモリ</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">1GB ECC</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">2GB ECC</entry>
	</row>
	<row xmlns:xlink="http://www.w3.org/1999/xlink">
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">ハードディスク容量</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">50-60GB (IDES)</entry>
	  <entry xmlns:xlink="http://www.w3.org/1999/xlink">50-60GB (IDES)</entry>
	</row>
	</tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">業務で利用するなら、大容量キャッシュメモリを備えた Xeon
	プロセッサ、高速なディスク (SCSI, ハードウェア RAID コントローラ)、
	USV および ECC-RAM を推奨します。
	ハードディスク容量が大きいのは、設定済みの IDES システムが、
	インストール時に 27 GB のデータベースファイルを作成するためです。
	通常、インストール後には一部のテーブル領域を拡張する必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">私は、800MHz の Pentium III を 2 個、Adaptec 29160
	Ultra160 SCSI アダプタ (40/80 GB DLT テープドライブと CDROM
	にアクセスするため)、Mylex AcelleRAID
	(2 チャンネル、ファームウェアバージョン 6.00-1-00、32MB RAM)
	を積んだデュアルプロセッサボードを使いました。Mylex RAID
	コントローラには 17GB のハードディスク 2 台 (ミラー) と
	36GB のハードディスク (RAID 5) 4 台が接続されています。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.3-STABLE のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、FreeBSD 4.3-STABLE をインストールしました。FTP
	経由のデフォルトインストールを行いました。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="install-via-ftp">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FTP 経由のインストール</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクイメージ kern.flp と mfsroot.flp を入手して、
	  フロッピーディスクに書き込んでください (私は
	  ftp7.de.freebsd.org から入手しました。
	  適切なミラーサイトを選んでください)。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=kern.flp of=/dev/fd0</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=mfsroot.flp of=/dev/fd0</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 つのイメージファイルそれぞれについて、
	  別のディスクを使うようにしてください。それから kern.flp
	  を書き込んだフロッピーディスクで起動して、指示に従ってください。
	  私は、次のようにディスクを分割しました。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">容量 (1kB ブロック)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">容量 (GB)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">マウントポイント</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0s1a</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1.016.303</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0s1b</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">6</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;swap&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0s1e</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.032.623</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/var</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da0s1f</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8.205.339</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">8</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/usr</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s1e</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">45.734.361</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">45</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/oracle</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s1f</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.032.623</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/sapmnt</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s1g</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2.032.623</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/usr/sap</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">はじめに、Mylex のソフトウェアで論理ドライブ
	  2 台を設定して初期化しなければなりませんでした。
	  このソフトウェアはボードに組み込まれていて、
	  PC 起動時に動かせます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このディスクの割り当て方は SAP
	  の推奨と少し異なることに注意してください。SAP は oracle (その他)
	  サブディレクトリを別途マウントするように提案していますが、
	  私は簡便であることを優先して、
	  実際にサブディレクトリとして作成するだけにしました。</para>

      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="getlatestsources">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">最新の STABLE のソースコードの入手</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.3-STABLE 以降では、
	  最新のソースコードは楽に手に入ります。それより前のバージョンの
	  FreeBSD では、/etc/cvsup
	  に自分で書いたスクリプトを置いていました。FreeBSD 4.3 で
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">CVSup</application> を設定するのは簡単です。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で以下を実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /etc/defaults/make.conf /etc/make.conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /etc/make.conf</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> ファイルで、
	  以下の項目を有効にしておかねばなりません。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">SUP_UPDATE=    yes
SUP=           /usr/local/bin/cvsup
SUPFLAGS=      -g -L 2
SUPHOST=       cvsup8.FreeBSD.org
SUPFILE=       /usr/share/examples/cvsup/stable-supfile
PORTSSUPFILE=  /usr/share/examples/cvsup/ports-supfile
DOCSUPFILE=    /usr/share/examples/cvsup/doc-supfile</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">SUPHOST</emphasis>
	  の値は適切なものに変更してください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/cvsup</filename>
	  にある supfile で十分でしょう。
	  もしもすべてのドキュメントを持ってくるのが嫌なら、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">DOCSUPFILE</emphasis>
	  の項は無効なままにしておいてください。
	  ここまでくれば、<application xmlns:xlink="http://www.w3.org/1999/xlink">cvsup</application>
	  を起動して stable
	  の最新のソースコードを入手するのはたやすいことです。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make update</userinput> </screen>

      </sect3>


      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makeworldandnewkernel">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command> と新しいカーネル</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最初にすべきことは、ソースコードのインストールです。root
	  ユーザで次の作業を行ってください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make world</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最後まで実行できたら、
	  新しいカーネルの作成と設定を行えます。
	  通常はここでカーネルコンフィグレーションファイルをカスタマイズします。
	  コンピュータに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">troubadix</systemitem> という名前をつけているので、
	  コンフィグレーションファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">troubadix</filename>
	  という名称にするのが自然です。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/i386/conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp GENERIC TROUBADIX</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi TROUBADIX</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この段階で、どのドライバを使うか、
	  使わないかといったことを決定できます。詳しい説明は、適当な文書や
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">LINT</filename> ファイルをご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、後述するパラメータをいれることもできます。
	  新しいカーネルを作成するには次のようにしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/i386/conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">config TROUBADIX</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/sys/compile/TROUBADIX</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make depend</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput> </screen>


	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command> が無事終わったら、
	  コンピュータを再起動して新しいカーネルを動かしてください。</para>

      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingthelinuxenviornment">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Linux 環境のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(2001 年 5 月 2 日時点の 4.3-STABLE 用に) 必要な
	RPM ファイルをダウンロードするのに多少問題があったので、
	以下の場所も (他がすべてだめで、ここが古くなってしまっていなければ)
	試してみるとよいかもしれません。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ftp7.de.freebsd.org/pub/FreeBSD/distfiles/rpm</para></listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ftp.redhat.com/pub/redhat/linux/6.1/en/os/i386/RedHat/RPMS</para></listitem>
      </itemizedlist>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installinglinuxbase-system">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Linux ベースシステムのインストール</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">まず、Linux のベースシステムを (root で)
	  インストールしなければなりません。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/emulators/linux_base</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make package</userinput> </screen>
      </sect3>


      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installinglinuxdevelopment">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Linux 開発環境のインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に、必要なら Linux 開発環境をインストールします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/devel/linux_devtools</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make package</userinput> </screen>

      </sect3>


      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingnecessaryrpms">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">必要な RPM のインストール</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">RPMs</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP プログラムを動かすには、pam
	  サポートが必要になります。
	  これが更に他の package を必要としているので、
	  私は結局いくつもの package をインストールすることになりました。
	  それでも、pam は足りない package があると文句をいうので、
	  強制的にインストールしたら動きました。
	  pam 以外にインストールした package が本当に必要なのか、pam
	  package をインストールするのに十分だったのかよくわかっていません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">なんにせよ、これが私がインストールした package 一覧です。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">cracklib-2.7-5.i386.rpm</para></listitem>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">cracklib-dicts-2.7-5.i386.rpm</para></listitem>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">pwdb-0.60-1.i386.rpm</para></listitem>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">pam-0.68-7.i386.rpm</para></listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらの package は、
	  以下のコマンドでインストールしました。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm &lt;package_name&gt;</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ただし、pam
	  パッケージは次のようにして強制的にインストールしました。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rpm -i --ignoreos --nodeps --root /compat/linux --dbpath /var/lib/rpm pam-0.68-7.i386.rpm</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application> が intelligent agent
	  を動作させるには、次の RedHat Tcl package を (FreeBSD
	  ハンドブックにあるように) インストールしなければなりませんでした。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl-8.0.5-30.i386.rpm</filename> (そうしないと、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application>
	  インストール中の再リンクがうまくゆきません)。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle</application>
	  の再リンクについては他にも問題がありますが、
	  私が理解している限りでは Oracle-Linux の問題で、FreeBSD
	  に特有のものではありません。</para>

      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="creatingsapr3env">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SAP/R3 環境の構築</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="filesystemsandmountpoints">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">必要となるファイルシステムとマウントポイントの作成</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">単純なインストールでは、
	  次のファイルシステムを作成すれば事足ります。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">マウントポイント</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">サイズ (GB)</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/oracle</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">45 GB</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/sapmnt</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2 GB</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/usr/sap</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">2 GB</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">また、私は FreeBSD が正しいパスを見付けられるように、
	  いくつかリンクを作成しました。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /compat/linux/oracle /oracle</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /compat/linux/sapmnt /sapmnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /compat/linux/usr/sap /usr/sap</userinput> </screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="creatingusersanddirectories">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザとディレクトリの作成</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3</application> には、
	  2 名のユーザと 3 つのグループが必要です。
	  ユーザ名は 3 文字からなる <application xmlns:xlink="http://www.w3.org/1999/xlink">SAP</application> システム ID (SID)
	  に準じています。SID の中には <application xmlns:xlink="http://www.w3.org/1999/xlink">SAP</application>
	  が予約しているものがあります
	  (たとえば <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">SAP</emphasis> や <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIX</emphasis>
	  です。すべて網羅した一覧は SAP のドキュメントをご覧ください)。
	  IDES のインストールでは、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">IDS</emphasis> を使いました。
	  したがって、次のグループができます (グループ ID
	  は異なっていてもかまいません。
	  これは単に私がインストールした時に使用した値です)。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">グループ ID</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">グループ名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">100</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">dba</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">データベース管理者</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">101</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">sapsys</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">SAP システム</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">102</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">oper</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">データベースオペレータ</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの Oracle のインストールでは、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">dba</systemitem> グループだけが使われます。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">oper</systemitem> グループとして、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">dba</systemitem> を使う人もいます。(詳しくは Oracle と
	  SAP のドキュメントを参照してください)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のユーザも必要になります。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="6">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ ID</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">一般名称</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">グループ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">追加グループ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1000</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">idsadm</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;sid&gt;adm</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">sapsys</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">oper</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">SAP 管理者</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1002</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">oraids</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ora&lt;sid&gt;</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">dba</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">oper</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">DB 管理者</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command> でユーザを追加するには、
	  以下の項目が必要になります
	  (シェルとホームディレクトリを控えてください)。
	  SAP 管理者については、</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Name: idsadm            &lt;sid&gt;adm
Password: ******
Fullname: SAP IDES Administrator
Uid: 1000
Gid: 101 (sapsys)
Class:
Groups: sapsys dba
HOME: /home/idsadm      /home/&lt;sid&gt;adm
Shell: /bin/sh</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そしてデータベース管理者については、</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Name: oraids          ora&lt;sid&gt;
Password: ******
Fullname: Oracle IDES Administrator
Uid: 1002
Gid: 100 (dba)
Class:
Groups: dba
HOME: /oracle/IDS     /oracle/&lt;sid&gt;
Shell: /bin/sh</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">dba</systemitem> と
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">oper</systemitem> の両方のグループを使っていたら、
	  ここには <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">oper</systemitem>
	  グループもいれるべきです。</para>

      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="creatingdirectories">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">ディレクトリ作成</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のディレクトリは、
	  普通は別のファイルシステムとして作成します。
	  どうするかは、あなたの要件に応じて決めてください。
	  結局はすべてが同じ RAID 5 におかれるので、
	  私は単なるディレクトリにしました。</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、一部のディレクトリに (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  ユーザで) 所有者と権限を設定しましょう。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 775 /oracle</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 777 /sapmnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown root:dba /oracle</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown idsadm:sapsys /compat/linux/usr/sap</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmow 775 /compat/linux/usr/sap</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">第二に、ユーザ ora&lt;sid&gt;
	  権限でディレクトリを作成します。
	  すべて /oracle/IDS のサブディレクトリになります。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su - oraids</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir mirrlogA mirrlogB origlogA origlogB</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir sapdata1 sapdata2 sapdata3 sapdata4 sapdata5 sapdata6</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir saparch sapreorg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">exit</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">第三段階では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">idsadm</systemitem> (&lt;sid&gt;adm)
	  ユーザ権限でディレクトリを作成します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su - idsadm</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/sap</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir IDS</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir trans</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">exit</userinput> </screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="entriesinslashetcslashservices">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">/etc/services 内の項目</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/services</filename>
	  にいくつか項目を必要としますが、FreeBSD
	  にインストールする場合は正しく設定されません。
	  次の項目を追加してください
	  (少なくとも、インスタンス番号に対応する項目が必要で、
	  この場合は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">00</emphasis> です。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">dp</emphasis>, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">gw</emphasis>,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">sp</emphasis> および <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ms</emphasis>
	  について
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">00</emphasis> から <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">99</emphasis>
	  まで項目を追加してもなんの問題もないでしょう)。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sapdp00  3200/tcp # SAP Dispatcher.      3200 + インスタンス番号
sapgw00  3300/tcp # SAP Gateway.         3300 + インスタンス番号
sapsp00  3400/tcp #                      3400 + インスタンス番号
sapms00  3500/tcp #                      3500 + インスタンス番号
sapmsIDS 3600/tcp # SAP Message Server.  3600 + インスタンス番号</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="necessarylocales">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">必要となるロケール</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ロケール</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP は、デフォルトの RedHat
	  のインストールでは入らないロケールを少なくとも
	  2 つ必要とします。
	  SAP は、必要な RPM を FTP
	  サーバからダウンロードする形で提供しています
	  (OSS アクセス契約している顧客でなければアクセスできません)。
	  必要な RPM の一覧は note 0171356 をご覧ください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">適切なリンクを (たとえば <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">de_DE</emphasis> と
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">en_US</emphasis> から) 作成するという手もありますが、
	  業務用システムでそうすることはお勧めしません
	  (いまのところ、IDES システムで問題なく動いてはいますが)。
	  必要なのは、次のロケールです。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">de_DE.ISO-8859-1
en_US.ISO-8859-1</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このロケールがないと、
	  インストール時になんらかの問題が起きるでしょう。
	  それを (たとえば CENTRDB.R3S ファイルで問題の段階を
	  OK にして) 無視してしまうと、追加でなにかしないと
	  SAP システムにログオンできないでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kerneltuning">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのチューニング</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのチューニング</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 システムには多くのリソースが必要です。
	  そのため、私はカーネルコンフィグレーションファイルに
	  以下のパラメータを追加しました。

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Set these for memory pigs (SAP and Oracle):
options MAXDSIZ="(1024*1024*1024)"
options DFLDSIZ="(1024*1024*1024)" # System V options needed.
options SYSVSHM #SYSV-style shared memory
options SHMMAXPGS=262144 #max amount of shared mem. pages
options SHMMNI=256 #max number of shared memory ident if.
options SHMSEG=100 #max shared mem.segs per process
options SYSVMSG #SYSV-style message queues
options MSGSEG=32767 #max num. of mes.segments in system
options MSGSSZ=32 #size of msg-seg. MUST be power of 2
options MSGMNB=65535 #max char. per message queue
options MSGTQL=2046 #max amount of msgs in system
options SYSVSEM #SYSV-style semaphores
options SEMMNU=256 #number of semaphore UNDO structures
options SEMMNS=1024 #number of semaphores in system
options SEMMNI=520 #number of semaphore indentifiers
options SEMUME=100 #number of UNDO keys</programlisting></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP についてくる文書に最小値が指定されています。Linux
	  に関する記述はないので、詳しいことは HP-UX (32-bit)
	  の節を参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingsapr3">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 のインストール</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="preparingsapcdroms">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">SAP CDROM の準備</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールの際にマウントしてアンマウントしなければならない
	  CDROM が山ほどあります。十分な数の
	  CDROM ドライブを持っていれば、
	  すべてマウントしてしまえばよいでしょう。私は、CDROM
	  の中身をそれぞれに対応するディレクトリにコピーすることにしました。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/&lt;cd-name&gt;</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、&lt;cd-name&gt; は <filename xmlns:xlink="http://www.w3.org/1999/xlink">KERNEL</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">RDBMS</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT1</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT2</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT3</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT4</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT5</filename>
	  および <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXPORT6</filename>
	  のいずれかです。すべてのファイル名を大文字にするか、
	  さもなければ、マウントする際に -g オプションをつけるべきです。
	  次のコマンドを使ってください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount_cd9660 -g /dev/cd0a /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp -R /mnt/* /oracle/IDS/sapreorg/&lt;cd-name&gt;</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">umount /mnt</userinput> </screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="runningtheinstall-script">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">インストールスクリプトの実行</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">まず、インストールディレクトリを用意しなければなりません。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /oracle/IDS/sapreorg</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir install</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd install</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その後、インストールスクリプトを起動すると、
	  関連するファイルがほぼすべてインストールディレクトリにコピーされます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/KERNEL/UNIX/INSTTOOL.SH</filename></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは、完全にカスタマイズされた SAP R/3
	  デモシステム付きの IDES のインストールなので、EXPORT CD は
	  3 枚ではなく 6 枚あります。この時点では、
	  インストールテンプレート CENTRDB.R3S
	  は標準の中心インスタンス (R/3 とデータベース)
	  をインストールするためのもので、
	  IDES 中心インスタンスをインストールするためのものではありません。
	  ですから、それに対応する CENTRDB.R3S ファイルを
	  EXPORT1 ディレクトリからコピーしてください。さもないと、
	  R3SETUP は EXPORT CD を 3 枚しか要求しません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="startr3setup">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP の起動</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">LD_LIBRARY_PATH
	  が正しく設定されていることを確認してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">export LD_LIBRARY_PATH=/oracle/IDS/lib:/sapmnt/IDS/exe:/oracle/805_32/lib</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールディレクトリから root ユーザで
	  R3SETUP を起動してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /oracle/IDS/sapreorg/install</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./R3SETUP -f CENTRDB.R3S</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">スクリプトがいくつか質問してきます
	  (デフォルトが括弧に囲まれて表示され、
	  その後に実際に入力します)。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">質問</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルト</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">入力</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter SAP System ID
	      (SAP システム ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[C11]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDS&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter SAP Instance Number
	      (SAP インスタンス番号を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[00]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter SAPMOUNT Directory
	      (SAPMOUNT ディレクトリを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapmnt]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter name of SAP central host
	      (SAP 中心ホストの名称を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[troubadix.domain.de]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter name of SAP db host
	      (SAP データベースホストの名称を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[troubadix]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Select character set
	      (文字集合を選択してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[1] (WE8DEC)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Oracle server version
	      (Oracle サーバのバージョンを入力してください)
	      (1) Oracle 8.0.5, (2) Oracle 8.0.6, (3) Oracle 8.1.5, (4) Oracle 8.1.6</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">1&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Extract Oracle Client archive
	      (Oracle クライアントアーカイブを展開しますか)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[1] (はい、展開します)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to KERNEL CD
	      (KERNEL CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/KERNEL</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to RDBMS CD
	      (RDBMS CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/RDBMS</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT1 CD
	      (EXPORT1 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT1</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT1 CD
	      (EXPORT1 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD4_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT2 CD
	      (EXPORT2 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT2</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT2 CD
	      (EXPORT2 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD5_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT3 CD
	      (EXPORT3 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT3</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT3 CD
	      (EXPORT3 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD6_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT4 CD
	      (EXPORT4 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT4</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT4 CD
	      (EXPORT4 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD7_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT5 CD
	      (EXPORT5 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT5</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT5 CD
	      (EXPORT5 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD8_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter path to EXPORT6 CD
	      (EXPORT6 CD へのパスを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/sapcd]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/sapreorg/EXPORT6</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Directory to copy EXPORT6 CD
	      (EXPORT6 CD をコピーするディレクトリ)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[/oracle/IDS/sapreorg/CD9_DIR]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter amount of RAM for SAP + DB
	      (SAP + DB に割り当てる RAM の合計を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"> </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">850&lt;ret&gt; (MB)</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Service Entry Message Server</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[3600]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Group-ID of sapsys
	      (sapsys のグループ ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[101]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Group-ID of oper
	      (oper のグループ ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[102]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Group-ID of dba
	      (dba のグループ ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[100]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter User-ID of &lt;sid&gt;adm
	      (&lt;sid&gt;adm のユーザ ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[1000]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter User-ID of ora&lt;sid&gt;
	      (ora&lt;sid&gt; のユーザ ID を入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[1002]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Number of parallel procs
	      (並列プロセスの数)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">[2]</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ret&gt;</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">CD をそれぞれ別の場所にコピーしないと、SAP
	  インストーラは (CD 内の <filename xmlns:xlink="http://www.w3.org/1999/xlink">LABEL.ASC</filename>
	  ファイルで識別される) 必要な CD を見つけられず、CD
	  を挿入 / マウントして承認するかマウントパスを入力するよう求めてくるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">CENTRDB.R3S</filename>
	  ファイルには、間違いがないわけではありません。
	  私の場合は、EXPORT4 を再度要求されました
	  (が、正しいキーを表示していたので
	  (6_LOCATION、それから 7_LOCATION など))、
	  正しい値を入力して進めて問題ありませんでした。
	  いらいらしないようにしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">後で触れるいくつかの問題を除けば、Oracle
	  データベースソフトウェアをインストールするところまでは
	  素直に進むはずです。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingoracle805">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8.0.5 のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux と Oracle DB で起こりうる問題についての SAP-Notes と
	Oracle の Readme を読むようにしてください。
	すべてではないにしても、
	ほとんどは互換性のないライブラリに起因しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Oracle のインストールについて詳しいことは、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="linuxemu-oracle.html">Oracle のインストール</link>
	の章をご覧ください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingtheoracle805withorainst">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">orainst による Oracle 8.0.5 のインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8.0.5</application>
	  を利用する予定なら、
	  無事に再リンクするのにライブラリがいくつか追加で必要です。
	  なぜなら、Oracle 8.0.5 は古い glibc (RedHat 6.0)
	  とリンクされていますが、RedHat 6.1 は新しい glibc
	  を利用しているからです。
	  ですから、リンクが行われることを保証するには、
	  次の追加パッケージをインストールしなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">compat-libs-5.2-2.i386.rpm</filename></para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">compat-glibc-5.2-2.0.7.2.i386.rpm</filename></para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">compat-egcs-5.2-1.0.3a.1.i386.rpm</filename></para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">compat-egcs-c++-5.2-1.0.3a.1.i386.rpm</filename></para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">compat-binutils-5.2-2.9.1.0.23.1.i386.rpm</filename></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">詳しくは、対応する SAP-Note や Oracle Readme
	  をご覧ください。他に選択肢がなければ
	  (私がインストールした時は、確認している暇がありませんでした)、
	  元のバイナリまたは再リンクされたバイナリを、
	  元の RedHat システムから持ってきて使うこともできるでしょう。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インテリジェントエージェントをコンパイルするために、
	  RedHat Tcl パッケージがインストールされていなければなりません。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl-8.0.3-20.i386.rpm</filename>
	  が入手できないなら、RedHat 6.1 用の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">tcl-8.0.5-30.i386.rpm</filename>
	  など新しいものでも構いません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">再リンク以外は、インストールは簡単です。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su - oraids</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">export TERM=xterm</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">export ORACLE_TERM=xterm</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">export ORACLE_HOME=/oracle/IDS</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /ORACLE_HOME/orainst_sap</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./orainst</userinput> </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのインストールが終わるまで、すべての画面で
	  Enter を押して承認してください。ただし、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Oracle On-Line Text Viewer</emphasis>
	  は現時点では Linux 版がないので選択を外してください。
	  その後、Oracle は利用可能な
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">gcc</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">egcs</command> や
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">i386-redhat-linux-gcc</command> ではなく、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">i386-glibc20-linux-gcc</command>
	  で再リンクしようとします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">時間が限られていたので、私は
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Oracle 8.0.5 PreProduction</application>
	  リリースのバイナリを利用することにしました。
	  最初 RDBMS-CD 収録のバージョンを動かそうとして失敗し、
	  その時点では正しい RPM
	  を見つけて利用するのはまるで悪夢のようだったからです。</para>

      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="installingtheoracle805preproduction">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Linux (Kernel 2.0.33) 用の
	  Oracle 8.0.5 Pre-Production リリースのインストール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これをインストールするのは簡単です。
	  CD をマウントして、インストーラを起動してください。
	  インストーラが Oracle ホームディレクトリの位置をたずねて、
	  そこにすべてのバイナリをコピーします。
	  もっとも、私はその前の RDBMS
	  インストールを試した時の残りを削除していませんでした。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この後、Oracle データベースは問題なく起動できました。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="continuewithsapr4installation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 のインストールの続行</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">idsamd</systemitem> (&lt;sid&gt;adm) ユーザと
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">oraids</systemitem> (ora&lt;sid&gt;) ユーザの環境設定を確認してください。
	両者とも、<filename xmlns:xlink="http://www.w3.org/1999/xlink">.profile</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.login</filename> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">.cshrc</filename>
	をもっていて、いずれも <command xmlns:xlink="http://www.w3.org/1999/xlink">hostname</command>
	を使っているはずです。
	そのシステムのホスト名が完全修飾名であれば、すべてのファイルで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">hostname</command> を
	<command xmlns:xlink="http://www.w3.org/1999/xlink">hostname -s</command> に変更する必要があります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="databaseload">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">データベースの読み込み</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その後、(exit を選択したかどうかによって) R3SETUP
	  を再起動または継続実行します。R3SETUP
	  は、テーブル領域を作成し、EXPORT1 から EXPORT6
	  までデータを R3load でデータベースに読み込みます
	  (これは IDES システムです。違う場合は、EXPORT1 から EXPORT3
	  だけになります)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">データベースの読み込みが完了したら
	  (数時間に渡るかもしれません)、何かパスワードを要求されます。
	  テスト用にインストールしたのであれば、
	  周知のデフォルトパスワードを使ってもよいでしょう
	  (セキュリティが問題になるなら、異なるものを使ってください!)。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">質問</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">入力</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Password for sapr3
	      (sapr3 のパスワードを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">sap&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Confirum Password for sapr3
	      (sapr3 のパスワードを再入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">sap&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Password for sys
	      (sys のパスワードを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">change_on_install&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Confirm Password for sys
	      (sys のパスワードを再入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">change_on_install&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Enter Password for system
	      (system のパスワードを入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">manager&lt;ret&gt;</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Confirm Password for system
	      (system のパスワードを再入力してください)</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">manager&lt;ret&gt;</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<literal xmlns:xlink="http://www.w3.org/1999/xlink">dipgntab</literal> で少し問題がありました。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="listener">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Listener</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のように、Oracle-Listener を <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">oraids</systemitem>
	  (ora&lt;sid&gt;) ユーザで起動してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">umask 0; lsnrctl start</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そうしないと、ソケットが正しいパーミッションにならないので、
	  ORA-12546 が発生するかもしれません。SAP note 072984
	  をご覧ください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="postinstallationsteps">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の手順</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="requestsapr3licensekey">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">SAP R/3 ライセンスキーの要求</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一時ライセンスは
	  4 週間だけ有効なので、これが必要になります。
	  オペレーティングシステムを正しく入力するようにしてください:
	  (X) Other (その他): <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.3 Stable</emphasis>。
	  まず、ハードウェアキーを入手してください。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">idsadm</systemitem> ユーザでログオンし、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">saplicense</command> を呼び出してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sapmnt/IDS/exe/saplicense -get</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">saplicense</command>
	  をオプションなしで起動すると、オプション一覧を出力します。
	  ライセンスキーを受け取ったら、
	  次のようにしてインストールできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sapmnt/IDS/exe/saplicense -install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そうしたら、次の値を入力します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">SAP SYSTEM ID   = &lt;SID, 3 chars&gt;
CUSTOMER KEY    = &lt;hardware key, 11 chars&gt;
INSTALLATION NO = &lt;installation, 10 digits&gt;
EXPIRATION DATE = &lt;yyyymmdd, usually "99991231"&gt;
LICENSE KEY     = &lt;license key, 24 chars&gt;</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="creatingusers">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの作成</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント 000 内でユーザを作成します
	  (クライアント 000 内で行わなければなりませんが、
	  ユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">sap*</systemitem> や <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">ddic</systemitem>
	  以外のユーザでなければならないタスクのためです)。
	  ユーザ名として、私は通常
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">wartung</replaceable> (または
	  英語で <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">service</replaceable>)
	  を選択しています。必要となるプロファイルは
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">sap_new</emphasis> と <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">sap_all</emphasis>
	  です。セキュリティを高めるため、
	  すべてのクライアントのデフォルトユーザのパスワードを変更すべきです
	  (ユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">sap*</systemitem> と <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">ddic</systemitem>
	  を含みます)。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtranssysprofileopermodesetc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">トランスポートシステム、プロファイル、操作モードなどの設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント 000 内で、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">ddic</systemitem> と sap*
	  以外のユーザについて、少なくとも次のことを行ってください。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">作業</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">トランザクション</entry>
	  </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">トランスポートシステムの設定。たとえば、
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スタンドアロントランスポートエンティティ</emphasis></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">STMS</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">システム用のプロファイルの作成・編集</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">RZ10</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">操作モードとインスタンスの維持管理</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">RZ04</entry>
	  </row>
	  </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのインストール後の手順は、それ以外も含めて
	  SAP インストールガイドにすべて書かれています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="editintsidsap">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Edit init&lt;sid&gt;.sap (initIDS.sap)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/oracle/IDS/dbs/initIDS.sap</filename>
	  ファイルには
	  SAP バックアッププロファイルが含まれます。ここで、
	  使用するテープの容量、
	  圧縮の種類などを定義しなければなりません。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">sapdba</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">brbackup</command>
	  と共に動かすため、以下の値を変更しました。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">compress = hardware
archive_function = copy_delete_save
cpio_flags = "-ov --format=newc --block-size=128 --quiet"
cpio_in_flags = "-iuv --block-size=128 --quiet"
tape_size = 38000M
tape_address = /dev/nsa0
tape_address_rew = /dev/sa0</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">説明:</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">compress</emphasis> 私が使っているテープは
	  HP DLT1 で、ハードウェア圧縮を行います。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">archive_function</emphasis>
	  この変数は、Oracle
	  のアーカイブログを保存する際のデフォルトの振る舞いを定義します。
	  新規のログファイルはテープに保存され、
	  保存済みのログファイルは再度保存された後、削除されます。
	  これは、もし、データベースを復旧しなければならなくなったのに、
	  アーカイブテープのどれかが駄目になっていたという場合にも問題を回避します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">cpio_flags</emphasis>
	  デフォルトはブロックサイズを 5120 バイトに設定する -B
	  が使われます。DLT テープについては、HP はブロックサイズに
	  32 キロバイト以上を推奨していますので、64 キロバイトに設定する
	  --block-size=128 を用いました。65535 より多くの
	  inode 番号があるので、--format=newc が必要になります。
	  最後のオプション --quiet は、<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	  が保存したブロック数を出力すると
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">brbackup</command> が文句をいうので必要になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">cpio_in_flags</emphasis>
	  は、データをテープから読み込むのに必要となるフラグです。
	  データ形式は自動的に認識されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">tape_size</emphasis>
	  これは通常、テープの raw (生の) 容量を表します。
	  (ハードウェア圧縮を利用しているので) 安全のため、</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">value</emphasis>
	  は実際の値よりもわずかに小さくしています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">tape_address</emphasis>
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command> と組み合わせて用いる巻き戻し不可なデバイス。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">tape_address_rew</emphasis>
	  cpio と組み合わせて用いる巻き戻し可能なデバイス。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">インストール後の設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下の SAP パラメータについてはインストール後に調整する必要があります。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名前</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	      </row>
	    </thead>
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ztta/roll_extension</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">250000000</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">abap/heap_area_dia</entry>
                <entry xmlns:xlink="http://www.w3.org/1999/xlink">300000000</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">abap/heap_area_nondia</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">400000000</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">em/initial_size_MB</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">256</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">em/blocksize_kB</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">1024</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ipc/shm_psize_40</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">70000000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP-Note 0013026:</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名前</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	      </row>
	    </thead>
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ztta/dynpro_area</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">2500000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP-Note 0157246:</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">名前</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">値</entry>
	      </row>
	    </thead>
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">rdisp/ROLL_MAXFS</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">16000</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">rdisp/PG_MAXFS</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">30000</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以上のパラメータと、1 ギガバイトのメモリを持つシステムでは、
	    以下のようなメモリ使用量となるでしょう。

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Mem: 547M Active, 305M Inact, 109M Wired, 40M Cache, 112M Buf, 3492K Free</programlisting></para>
	</note>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="problemsduringinstallation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール中の問題</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="indoraduringduringr3setup">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP 中の OSUSERSIDADM_IND_ORA エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この段階で R3SETUP がエラーを報告したら、CENTRDB.R3S
	  ファイルを編集します。[OSUSERSIDADM_IND_ORA]
	  という項目を探して、以下の値を変更します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">HOME=/home/idsadm (was empty)
STATUS=OK (had status ERROR)</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のように、R3SETUP を再起動します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./R3SETUP -f CENTRDB.R3S</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="indoraduringr3setup">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP 中の OSUSERDBSID_IND_ORA</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この段階で R3SETUP がエラーを報告する可能性もあります。
	  CENTRDB.R3S を編集して、[OSUSERDBSID_IND_ORA]
	  という項目を探し、その項目内の次の値を変更してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">STATUS=OK</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その後、R3SETUP を再起動します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./R3SETUP -f CENTRDB.R3S</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="oraviewvrffilenotfound">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Oracle のインストール中に oraview.vrf
	  ファイルがみつからないという (FILE NOT FOUND) エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールを開始する前に
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Oracle On-Line Text Viewer</emphasis>
	  の選択を外すのを忘れています。この選択肢は現在 Linux
	  にはないにもかかわらず、インストール対象に選ばれています。
	  Oracle のインストールメニューでこの製品を選択しているのを外して、
	  インストールを再開してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="textenvincalid">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP, RFC または SAPGUI 起動時に
	  TEXTENV_INVALID エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このエラーが起きた場合は、正しいロケールがありません。
	  SAP note 0171356 にインストールしておかなければならない
	  RPM が挙げられています (たとえば、RedHat 6.1 なら
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">saplocales-1.0-3</emphasis>,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">saposcheck-1.0-1</emphasis>)。R3SETUP
	  がこれに関係するエラーを出してもすべて無視して、対応する状態を
	  ERROR から OK に (CENTRDB.R3S で) 変更して R3SETUP
	  を再起動していると、SAP システムは正しく設定されず、
	  システムを起動できたとしても、<literal xmlns:xlink="http://www.w3.org/1999/xlink">sapgui</literal>
	  でシステムに接続することはできません。古い Linux 版 <literal xmlns:xlink="http://www.w3.org/1999/xlink">sapgui</literal>
	  で接続しようとすると、次のメッセージがでます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Sat May 5 14:23:14 2001
*** ERROR =&gt; no valid userarea given [trgmsgo. 0401]
Sat May 5 14:23:22 2001
*** ERROR =&gt; ERROR NR 24 occured [trgmsgi. 0410]
*** ERROR =&gt; Error when generating text environment. [trgmsgi. 0435]
*** ERROR =&gt; function failed [trgmsgi. 0447]
*** ERROR =&gt; no socket operation allowed [trxio.c 3363]
Speicherzugriffsfehler</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは、SAP R/3 がロケールを割り当てられないか、
	  正しく設定されていない
	  (データベーステーブルの一部の項目が不足している)
	  ためです。SAP に接続するためには、次の項目をファイル
	  DEFAULT.PFL に追加してください (note 0043288 参照)。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">abap/set_etct_env_at_new_mode =0
install/collate/active =0
rscp/TCP0B =TCP0B</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">SAP システムを再起動してください。
	  地域特有の言語設定が期待どおりに動かないかもしれませんが、
	  システムに接続できるはずです。
	  地域設定を修正 (して、適切なロケールを提供) したら、
	  これらの項目を DEFAULT.PFL から削除して
	  SAP システムを再起動してかまいません。</para>

      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ora-12546">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ORA-12546 エラー。リスナーの適切なパーミッションによる操作</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドを実行して、Oracle リスナーをユーザ
          <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">oraids</systemitem> で起動してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">umask 0; lsnrctl start</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そうしないと、
	  ソケットが正しいパーミッションになっていないという
	  ORA-12546 エラーを受け取るかもしれません。
	  SAP note 0072984 をご覧ください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dipgntabindind">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP 中の [DIPGNTAB_IND_IND] エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般的なことは SAP note 0130581 (R3SETUP の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">DIPGNTAB</literal> 段階での終了) をご覧ください。
	  この特定のインストール段階において、
	  なぜかインストールプロセスは、適切な SAP システム名
	  "IDS" を使うかわりに、空文字列 "" を使います。
	  ディレクトリにアクセスするのにパスを &lt;sid&gt;
	  (この場合は IDS) を使って生成するので、
	  これはちょっとした問題を起こすことがあります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sap/IDS/SYS/...
/usr/sap/IDS/DVMGS00</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">にアクセスするかわりに、
	  つぎのパスを使います。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sap//SYS/...
/usr/sap/D00i</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールを続けるため、
	  リンクと追加のディレクトリを作成します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> pwd
/compat/linux/usr/sap
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> ls -l
total 4
drwxr-xr-x 3  idsadm sapsys 512 May 5 11:20 D00
drwxr-x--x 5  idsadm sapsys 512 May 5 11:35 IDS
lrwxr-xr-x 1  root   sapsys 7 May 5 11:35 SYS -&gt; IDS/SYS
drwxrwxr-x 2  idsadm sapsys 512 May 5 13:00 tmp
drwxrwxr-x 11 idsadm sapsys 512 May 4 14:20 trans </screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この現象を解説している SAP notes (0029227 and 0008401)
	  があります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rfcrswboiniindind">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP 中の [RFCRSWBOINI_IND_IND] エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">CENTRDB.R3S</filename> で)
	  問題の段階の状態 (STATUS) を ERROR から OK に設定して
	  R3SETUP を再起動してください。
	  インストール後、レポート <literal xmlns:xlink="http://www.w3.org/1999/xlink">RSWBOINS</literal>
	  をトランザクション SE38 から実行しなければなりません。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">RFCRSWBOINI</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">RFCRADDBDIF</literal>
	  段階の詳細については
	  SAP note 0162266 をご覧ください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rfcraddbdifindind">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">R3SETUP 中の [RFCRADDBDIF_IND_IND] エラー</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">CENTRDB.R3S</filename> で)
	  問題の段階の状態 (STATUS) を ERROR から OK に設定して
	  R3SETUP を再起動してください。
	  インストール後、レポート <literal xmlns:xlink="http://www.w3.org/1999/xlink">RADDBDIF</literal> をトランザクション SE38
	  から実行しなければなりません。詳しくは
	  SAP note 0162266 をご覧ください。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">高度なトピックス</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリ互換機能がどのような仕組みなのか興味がある人はこのセクションを読んでください。
      以下の文章で説明されていることのほとんどは <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-chat">FreeBSD chat メーリングリスト</link> に投稿された
      Terry Lambert (<email xmlns:xlink="http://www.w3.org/1999/xlink">tlambert@primenet.com</email>) 氏のメール
      (Message ID: <literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;199906020108.SAA07001@usr09.primenet.com&gt;</literal>)
      をもとにしています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">どのように動くのでしょう?</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">execution class loader</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、“実行クラスローダ (execution class loader) ”
      と呼ばれる抽象的な機構を持っています。これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">execve</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
      システムコールへの楔という形で実装されています。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、シェルインタプリタやシェルスクリプトを実行するための
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">#!</literal> ローダを持った単一のプログラムローダではなく、
      ローダのリストを持っているのです。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">歴史的には、Unix プラットフォーム上の唯一のローダーがマジックナンバー
      (一般的にはファイルの先頭の 4 ないし 8 バイトの部分)
      の検査を行ないシステムで実行できるバイナリかどうかを検査し、
      もしそうならバイナリローダーを呼び出すというようになっていました。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、そのシステム用のバイナリでない場合には、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">execve</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> システムコールの呼び出しは失敗の戻り値を返し、
      シェルがシェルコマンドとして実行しようと試みていたわけです。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この仮定は<quote xmlns:xlink="http://www.w3.org/1999/xlink">現在利用しているシェルがどのようなものであっても</quote>変わりません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">後に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に変更が加えられ、先頭の 2 バイトを検査した結果
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">:\n</literal> であれば代わりに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">csh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を呼び出す、
      というようになりました (この変更は SCO が最初に行なったと思われます)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">現在の FreeBSD は、プログラムローダリストを走査します。
      その際、空白文字までの文字列をインタプリタとして認識する、
      通常の <literal xmlns:xlink="http://www.w3.org/1999/xlink">#!</literal> ローダを用いるため、
      該当するものが存在しなければ最終的に /bin/sh がロードされます。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ELF</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux ABI をサポートするため、FreeBSD は
      ELF バイナリを示すマジックナンバを確認します。
      (ただし、この段階では FreeBSD、Solaris、Linux、そしてその他の
      ELF イメージ形式を使っている OS を区別することはできません)。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ELF ローダは、特殊な<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">マーク (brand)</emphasis> があるかどうか探します。
      このマークとは、ELF イメージのコメントセクションのことです。
      SVR4/Solaris の ELF バイナリには、このセクションは存在しません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリを実行するためには、
      ELF バイナリに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">brandelf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で説明されている
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">Linux</literal> のマークが<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">付けられて</emphasis>いなければなりません。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">brandelf -t Linux file</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">上のようにすることで、指定されたファイルは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Linux</literal> のマークが付けられ、
	ELF ローダが認識できるようになります。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink">ELF</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">branding</secondary>
      </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ELF ローダが <literal xmlns:xlink="http://www.w3.org/1999/xlink">Linux</literal> マークを確認すると、
      ローダは <literal xmlns:xlink="http://www.w3.org/1999/xlink">proc</literal> 構造体内の
      ある一つのポインタを置き換えます。システムコールは全て、
      このポインタ (伝統的な Unix システムではこれは構造体の配列 <literal xmlns:xlink="http://www.w3.org/1999/xlink">sysent[]</literal>
      で、システムコールが含まれています) を通してインデックスされます。
      さらに、そのプロセスには Linux カーネルモジュールに必要な
      シグナルトランポリンコード (訳注:
      シグナルの伝播を実現するコード) 用の特殊なトラップベクタの設定や、
      他の (細かな) 調整のための設定が行なわれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux システムコールベクタは、
      さまざまなデータに加えて <literal xmlns:xlink="http://www.w3.org/1999/xlink">sysent[]</literal>
      エントリーのリストを含んでおり、それらのアドレスはカーネルモジュール内にあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Linux バイナリがシステムコールを発行する際、トラップコードは
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">proc</literal> 構造体を用いてシステムコール関数ポインタを
      解釈します。そして FreeBSD ではなく
      Linux 用のシステムコールエントリポイントを得るわけです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、Linux モードは状況に応じて<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム本来のルートマウントポイントを置き換えて</emphasis>ファイルの参照を行ないます。
      これは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">union</literal> オプションを指定してマウントされたファイルシステム
      (unionfs では<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません!</emphasis>)が行なっていることと同じです。
      ファイルを検索する際にはまず
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux/original-path</filename>
      ディレクトリを、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">それから</emphasis>見つけられなかったときにのみ、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/original-path</filename>
      を調べます。
      こうすることで、他のバイナリを要求するバイナリの実行を可能にしています
      (したがって、Linux 用プログラムツールは Linux ABI サポート環境下で完全に動作するわけです)。
      またこれは、もし対応する Linux バイナリが存在しない場合に
      Linux バイナリが FreeBSD バイナリをロードしたり、実行したりすることが可能であること、
      その Linux バイナリに自分自身が Linux 上で実行されていないことを
      気付かせないようにする目的で、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">uname</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/compat/linux</filename> ディレクトリに置くことができる、
      ということを意味します。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">要するに、Linux カーネルが FreeBSD カーネルの内部に存在しているわけです。
      カーネルによって提供されるサービス全ての実装の基礎となるさまざまな関数は
      FreeBSD システムコールテーブルエントリと
      Linux システムコールテーブルエントリの両方で共通に利用されています。
      これらにはファイルシステム処理、仮想メモリ処理、シグナル伝送、System V IPC
      などが含まれますが、
      FreeBSD バイナリは FreeBSD <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">グルー</emphasis> (訳注: glue;
      二者の間を仲介するという意味) 関数群、
      そして Linux バイナリは Linux <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">グルー</emphasis>関数群を用いる、
      という点だけが異なります (過去に存在したほとんどの OS は、
      自分自身のための<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">グルー</emphasis>関数群しか備えていません。
      前述したように、システムコールを発行する際、
      各々のプロセスの <literal xmlns:xlink="http://www.w3.org/1999/xlink">proc</literal> 構造体内にある、
      ローダによって動的に初期化されるポインタを参照してアドレスを得る代わりに、
      静的でグローバルな <literal xmlns:xlink="http://www.w3.org/1999/xlink">sysent[]</literal> 構造体の配列に
      システムコール関数のアドレスが直接格納されているのです)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、どちらを本来の FreeBSD ABI (訳注: Applications Binary Interface;
      同じ CPU を利用したコンピュータ間でバイナリを共有するための規約のこと)
      と呼ぶべきなのでしょうか?
      実は、どちらが本来のものであるかということを論ずることに意味はありません。
      基本的に、FreeBSD <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">グルー</emphasis>関数群はカーネルの中に静的にリンクされていて、
      Linux <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">グルー</emphasis>関数群は静的にリンクすることも、
      カーネルモジュールを介して利用することもできるようになっている、
      という違いがあるだけ (ただしこれは現時点においての話であり、
      将来のリリースで変更される可能性がありますし、
      おそらく実際に変更されるでしょう) です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あ、「でもこれは本当にエミュレーションと呼べるのか」って?
      答えは「いいえ」です。これは ABI の実装であり、
      エミュレーションとは異なります。エミュレータが呼び出されているわけではありません
      (シミュレータでもないことをあらかじめ断っておきましょう)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">では、これがよく <quote xmlns:xlink="http://www.w3.org/1999/xlink">Linux エミュレーション</quote>と呼ばれるのは何故でしょうか?
     それはもちろん FreeBSD の売りにするためでもあるのですが、
     実際には、次のような理由によります。
     この機能が初めて実装された頃、
     動作原理を説明する以外にこの機能を表現する言葉はありませんでした。
     しかし、コードをコンパイルしたりモジュールをロードしない場合、
     「FreeBSD 上で Linux バイナリを実行する」という表現は、
     厳密に考えると適切ではありません。
     そこで、その際にロードされているもの自身を表現する言葉 ― すなわち
     <quote xmlns:xlink="http://www.w3.org/1999/xlink">Linux エミュレータ</quote>が必要だったのです。</para>
    </sect2>
  </sect1>
</chapter>

  </part>

  <part xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="system-administration">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">システム管理</title>

    <partintro xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブックの以下の章は、
	FreeBSD のシステム管理の面について書かれています。
	各章のはじめでは、その章で学ぶ内容や
	実際に取り組む前に知っておくべきことについて説明します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">各章は、必要になった時に個別に参照できるように構成されています。
	どの順番で読んでも構いませんし、FreeBSD を使うのに、
	すべてを読み通す必要がある、というわけでもありません。</para>
    </partintro>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.32
     Waiting for:	1.55 ("soft-updates" referenced from disks).
     Waiting for:	1.80 ("config-network-setup" referenced from advanced-networking).
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="config-tuning">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">設定とチューニング</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Mike</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Smith</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">基にしたチュートリアルの執筆: </contrib></author>
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Matt</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Dillon</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">基にした tuning(7) の執筆: </contrib></author>
    </authorgroup>
  </info>

  

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">システムの設定と最適化</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムを正しく設定することは、
      メンテナンスや将来の更新の際の作業の量を減らします。
      この章では FreeBSD システムの管理上の設定の側面について記述します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">またこの章では FreeBSD システムのパフォーマンスを最適化する
      チューニングについても記述します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> の設定と
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename>
	  スタートアップシステムの基礎</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークデバイスに対する、仮想ホストの設定方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> ディレクトリ内のさまざまな設定ファ
	  イルの使い方</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</command> 変数を使った
	  FreeBSD のチューニング方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスク性能のチューニング方法と、カーネルの制限の変更方法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことをやっておくとよいでしょう。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Unix と FreeBSD の基本を理解する (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics"/>)。</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のソースコードを最新に保つこと
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="updating-upgrading"/>) と、
	  カーネルコンフィグレーションおよび構築の基礎
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>) に親しんでおく。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-core-configuration">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">中核となる設定</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">rc files</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename></secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムの設定情報が収められている主な場所は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> です。
      このファイルにはシステムの起動時にシステムの設定を行なうものをはじめ
      多岐に渡る設定情報が含まれています。
      そのファイル名はダイレクトに、それが <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc*</filename>
      ファイル群の設定情報であることを示しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">管理者は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults/rc.conf</filename>
      のデフォルトの設定を <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> ファイルにエン
      トリを作ることで上書きすべきです。
      デフォルトのファイルをそのまま <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
      にコピーするのはやめるべきです。
      それはデフォルト値であってサンプルではないのです。
      システム固有のすべての変更は <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> ファイ
      ルの中でするべきです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">管理の手間を減らす為、クラスター化されたアプリケーションには
      サイト共通の設定とシステム固有の設定を分離するさまざまな戦略が適用できます。
      推奨されるアプローチは、サイト共通の設定は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf.site</filename> のような別のファイルに置き、
      それをシステム固有の設定情報しか含ませない
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> からインクルードすることです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      によって読み込まれているので、これはじつに簡単に達成できます。
      たとえば、</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf:</para>
<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">	. rc.conf.site
	hostname="node15.example.com"
	network_interfaces="fxp0 lo0"
	ifconfig_fxp0="inet 10.1.1.1"</programlisting></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf.site:</para>
<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">	defaultrouter="10.1.1.254"
	saver="daemon"
	blanktime="100"</programlisting></listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf.site</filename> ファイルは
      <command xmlns:xlink="http://www.w3.org/1999/xlink">rsync</command> のようなプログラムを使うことで全システ
      ムに配布でき、一方 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename>
      ファイルはユニークなままを保つことができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や <command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command> 等で
      更新した場合 <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> ファイルは上書きされません。
      なのでシステムの設定情報が失われることもありません。</para>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-appconfig">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーションの設定</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">基本的に、インストールされたアプリケーションには独自の文法を持つ
      固有の設定ファイルがあります。
      これらのファイルがベースシステムから分離されているということは重要で、
      このためパッケージ管理ツールによる配置と管理が容易になっています。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">基本的に、それらのファイルは
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc</filename> にインストールされます。
      設定ファイルの数が多数にのぼるアプリケーションに対しては、
      それら用にサブディレクトリが作られます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、ports やパッケージがインストールされると
      設定ファイルのサンプルが一緒にインストールされます。
      大抵、識別のためにサフィックスとして
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">.default</quote> がついています。
      アプリケーションのための設定ファイルがまだ存在していなければ、
      .defaults ファイルをコピーすることで作成できます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/apache</filename>
      ディレクトリの例をご覧ください。</para>

<literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf
-rw-r--r--  1 root  wheel   2184 May 20  1998 access.conf.default
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf
-rw-r--r--  1 root  wheel   9555 May 20  1998 httpd.conf.default
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic
-rw-r--r--  1 root  wheel  12205 May 20  1998 magic.default
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types
-rw-r--r--  1 root  wheel   2700 May 20  1998 mime.types.default
-rw-r--r--  1 root  wheel   7980 May 20  1998 srm.conf
-rw-r--r--  1 root  wheel   7933 May 20  1998 srm.conf.default</literallayout>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルサイズの差から、<filename xmlns:xlink="http://www.w3.org/1999/xlink">srm.conf</filename>
      ファイルだけが変更されていることが分かります。
      後に apache を更新した時にも、
      この変更されたファイルは上書きされることはありません。</para>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-starting-services">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">サービスの起動</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サービス</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">一つのシステムでサービスをいくつも立ち上げているということは
      よくあることです。  それらには独自の立ち上げかたがあることがあり、
      それぞれ有利な点があります。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Ports collection やパッケージからインストールしたソフトウェアは
      しばしば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename> にスクリプトを置き、
      システムが起動した時には <option xmlns:xlink="http://www.w3.org/1999/xlink">start</option>、システムをシャッ
      トダウンする時には <option xmlns:xlink="http://www.w3.org/1999/xlink">stop</option> を引数にして実行します。
      これは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で実行すべき、または
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で起動することを期待されているシステム
      ワイドなサービスを起動する場合に推奨される方法です。
      これらのスクリプトはパッケージの一部としてインストール時に記録され、
      パッケージとともに削除されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename> にある
      一般的なスクリプトは次のようなものです。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
echo -n ' FooBar'

case "$1" in
start)
        /usr/local/bin/foobar
        ;;
stop)
        kill -9 `cat /var/run/foobar.pid`
        ;;
*)
        echo "Usage: `basename $0` {start|stop}" &gt;&amp;2
        exit 64
        ;;
esac

exit 0
    </programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトはその目的を果すべく起動時に <option xmlns:xlink="http://www.w3.org/1999/xlink">start</option>、
      シャットダウン時に <option xmlns:xlink="http://www.w3.org/1999/xlink">stop</option> をつけて呼ばれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">サービスの中には固有のポートに接続を受けたときに
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> から起動されるものもあります。
      これはメールリーダサーバ (POP や IMAP 等) の場合によくあります。
      これらのサービスは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename>
      ファイルを編集することで有効化されます。
      このファイルの編集に関する詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を見てください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの他に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
      による有効化/無効化がカバーされていないサービスもあります。
      それらは伝統的に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.local</filename>
      にコマンドを書き込むことで実行されていました。
      FreeBSD 3.1 にはデフォルトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.local</filename>
      は存在していません。  もし管理者によって作られていれば、
      その時は一般的なやりかたとして認められるべきでしょう。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.local</filename> は最後の場所と考えられているということを
      知っておいてください。  サービスを起動させるのにもっといい場所があるなら
      そこから始めてください。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
      でその他のコマンドを実行<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">しないでください</emphasis>。
      そのかわり、デーモンの起動やブート時のコマンド実行は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename> にスクリプトを配置してください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この他にサービスの起動に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を利用することもできます。
      このアプローチには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> がそのプロセスを
      <command xmlns:xlink="http://www.w3.org/1999/xlink">crontab</command> の所有者権限で実行したり、サービスが
      非特権ユーザによって立ち上げられ管理されるなどといった有利な点が
      いくつもあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の機能の利点を得ることができます。
      日時の指定を <literal xmlns:xlink="http://www.w3.org/1999/xlink">@reboot</literal> で置き換えることでジョブは
      システムがブートした直後、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が起動した時に実行されます。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-virtual-hosts">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">バーチャルホスト</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">バーチャルホスト</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ip aliases</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の非常にありふれた用途の一つにバーチャルサイトの
      ホスティングがあります。
      これは一つのサーバがネットワークには複数のサーバとして現れるものです。
      これは一つのネットワークインタフェイスに
      複数のアドレスを割当てることで実現されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークインタフェイスは <quote xmlns:xlink="http://www.w3.org/1999/xlink">真の</quote> アドレスを
      一つと <quote xmlns:xlink="http://www.w3.org/1999/xlink">別名</quote> のアドレスを複数持ちます。これらの別
      名は通常 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
      に別名のエントリを置くことで追加されます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">fxp0</filename> インタフェイスへの別名のエント
      リは以下の様なものです。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig_fxp0_alias0="inet xxx.xxx.xxx.xxx netmask xxx.xxx.xxx.xxx"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">別名のエントリは alias0 から始まり昇順に命名されなければなり
      ません (たとえば、_alias1, _alias2 の様になります)。設定プロセス
      は最初に欠けた番号のところで停まります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">別名のネットマスクの計算は重要ですが、幸いなことに非常に簡単です。
      個々のインタフェイスについてそのネットワークのネットマスクを正しく
      表現しているアドレスが必ず一つ必要です。
      そのネットワークに所属しているそれ以外のアドレスのネットマスクは
      すべて 1 でなければなりません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">例として、<filename xmlns:xlink="http://www.w3.org/1999/xlink">fxp0</filename> インタフェイスが二つ
      のネットワークに接続されているものを考えてみましょう。
      一つはネットマスクが 255.255.255.0 である
      10.1.1.0 ネットワークで、もう一つはネットマスクが 255.255.255.240 である
      202.0.75.16 ネットワークです。  システムは 10.1.1.0 には 10.1.1.1 として、
      202.0.75.20 には 202.0.75.17 として現れるようにします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のエントリはネットワークインタフェイスを上述の環境に正しく
      設定するものです。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> ifconfig_fxp0="inet 10.1.1.1 netmask 255.255.255.0"
 ifconfig_fxp0_alias0="inet 10.1.1.2 netmask 255.255.255.255"
 ifconfig_fxp0_alias1="inet 10.1.1.3 netmask 255.255.255.255"
 ifconfig_fxp0_alias2="inet 10.1.1.4 netmask 255.255.255.255"
 ifconfig_fxp0_alias3="inet 10.1.1.5 netmask 255.255.255.255"
 ifconfig_fxp0_alias4="inet 202.0.75.17 netmask 255.255.255.240"
 ifconfig_fxp0_alias5="inet 202.0.75.18 netmask 255.255.255.255"
 ifconfig_fxp0_alias6="inet 202.0.75.19 netmask 255.255.255.255"
 ifconfig_fxp0_alias7="inet 202.0.75.20 netmask 255.255.255.255"</programlisting>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-configfiles">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> のレイアウト</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定のための情報が含まれているディレクトリはたくさんあります。
	それぞれ以下のものを含んでいます。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">システム全般の設定情報。  ここにあるデータはシステム
	        固有のものです。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのシステム設定ファイル。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">追加的な <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の設定、他の MTA の設定ファイル。
	      </entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザモード、およびカーネルモードの ppp プログラムの設定。
	      </entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のデータのデフォルトの置場。通常
		boot ファイルはここに置かれ、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db</filename> に置かれた他のデータを
		参照するディレクティブを含みます。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされたアプリケーションの設定ファイル。
		アプリケーションごとのサブディレクトリを含んでいることがあります。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インストールされたアプリケーションの起動/停止スクリプト。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">永続的なシステム固有のデータファイル。 たとえば
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のゾーンファイル、データベースファイル等。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">hostname</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS</primary></indexterm>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> は FreeBSD に
	  インターネットドメインネームシステム (DNS)
	  にどのようにアクセスするかを指定します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename> の最もよくあるエントリは
	</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">nameserver</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">リゾルバが問い合わせるべきネームサーバの IP アドレス。
		  サーバはリストの順に 3 番目まで問い合わせられます。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">search</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名をルックアップするための検索リスト。
		  通常、ローカルなホスト名のドメインから決定されます。</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">domain</literal></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ローカルドメイン名。</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">基本的な <filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename>。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</programlisting>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">search</literal> オプションと
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">domain</literal> オプションは、
	  どちらか一方しか使ってはいけません。</para></note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP を利用している場合、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は通常
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename> を DHCP サーバから受け取っ
	  た情報で書き換えます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">hosts</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> は古きインターネットを
	  偲ばせるシンプルなテキストのデータベースです。
	  これはホスト名と IP アドレスをマッピングする DNS や NIS
	  と組み合わせて使われます。  LAN でつながれているローカルな計算機は、
	  名前引きを簡単にするために
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> サーバを立ち上げるかわりにここに書くことができます。
	  さらに <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
	  はインターネット名のローカルなレコードを提供し、
	  よくアクセスされる名前を外部に問い合わせるのを減らすためにも使えます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># $FreeBSD$
#
# Host Database
# This file should contain the addresses and aliases
# for local hosts that share this file.
# In the presence of the domain name service or NIS, this file may
# not be consulted at all; see /etc/nsswitch.conf for the resolution order.
#
#
::1                     localhost localhost.my.domain myname.my.domain
127.0.0.1               localhost localhost.my.domain myname.my.domain

#
# Imaginary network.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# According to RFC 1918, you can use the following IP networks for
# private nets which will never be connected to the Internet:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# In case you want to be able to connect to the Internet, you need
# real official assigned numbers.  PLEASE PLEASE PLEASE do not try
# to invent your own network numbers but instead get one from your
# network provider (if any) or from the Internet Registry (ftp to
# rs.internic.net, directory `/templates').
#</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> は、
          次のようなごく簡単なフォーマットになっています。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">[インターネットアドレス] [正式なホスト名] [別名1] [別名2] ...</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">例:</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">10.0.0.1 myRealHostname.example.com myRealHostname foobar1 foobar2</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これ以上の情報は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hosts</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をあたってください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ログファイルに関係する設定</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">log files</primary></indexterm>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">syslog.conf</filename></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">syslog.conf</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">syslog.conf</filename>
	  は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムのための設定ファイルです。
	  これはどのタイプの <command xmlns:xlink="http://www.w3.org/1999/xlink">syslog</command> メッセージを対応する
	  ログファイルに記録するかを指定します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># $FreeBSD$
#
#       Spaces ARE valid field separators in this file. However,
#       other *nix-like systems still insist on using tabs as field
#       separators. If you are sharing this file between systems, you
#       may want to use only tabs as field separators here.
#       Consult the syslog.conf(5) manual page.
*.err;kern.debug;auth.notice;mail.crit          /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# uncomment this to log all writes to /dev/console to /var/log/console.log
#console.info                                   /var/log/console.log
# uncomment this to enable logging of all log messages to /var/log/all.log
#*.*                                            /var/log/all.log
# uncomment this to enable logging to a remote log host named loghost
#*.*                                            @loghost
# uncomment these if you're running inn
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これ以上の情報は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslog.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> のマニュアルページに
	  あたってください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog.conf</filename></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog.conf</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog.conf</filename> は、通常
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> によって予定を決めて実行されるプログラム
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のための設定ファイルです。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、
	  ログファイルをいつ保存して再編するかを決定します。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile</filename> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile.0</filename>
	  に移され、<filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile.0</filename> は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile.1</filename> に、そして以下同様に移されます。
	  また、ログファイルを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 形式で保存することもできます。
	  この場合ファイル名は <filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile.0.gz</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">logfile.1.gz</filename> の様になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog.conf</filename>
	  はどのログファイルが管理され、どのくらいの期間保存され、
	  そしていつ touch されるかを指定します。
	  ログファイルはあるサイズに到達するか、ある決められた時刻・
	  日時で再編されあるいは保存されます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># configuration file for newsyslog
# $FreeBSD$
#
# filename          [owner:group]    mode count size when [ZB] [/pid_file] [sig_num]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これ以上の情報は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newsyslog</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルページに
	  あたってください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl.conf</filename></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">sysctl.conf</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl.conf</filename> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> によく似ています。
	値は<literal xmlns:xlink="http://www.w3.org/1999/xlink">変数=値</literal>のかたちでセットされます。
	指定された値はシステムがマルチユーザモードに移行した後でセットされます。
	すべての変数がこのモードで設定可能というわけではありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は <filename xmlns:xlink="http://www.w3.org/1999/xlink">sysctl.conf</filename> のサンプルで
        致命的なシグナルを記録しないように、また Linux プログラムに
	それらが実際は FreeBSD 上で動いていることを知らせる様に
	チューニングしています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">kern.logsigexit=0       # Do not log fatal signal exits (e.g. sig 11)
compat.linux.osname=FreeBSD
compat.linux.osrelease=4.3-STABLE</programlisting>

    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-sysctl">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">sysctl によるチューニング</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">sysctl によるチューニング</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は稼働中の FreeBSD
      システムに変更を加えるためのインタフェイスです。
      これには経験を積んだ管理者用の TCP/IP スタックや
      仮想メモリシステムのパフォーマンスを劇的に改善する
      先進的なオプションが含まれます。
      500 を越えるシステム変数を <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で読んだり
      セットしたりできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">本質的には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の機能は次の二つ、
      システムの設定を読むことと変更することです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">読み取り可能なすべての変数を表示するには以下のようにします。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl -a</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">個々の変数、たとえば
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxproc</varname> を読むには以下のようにします。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl kern.maxproc</userinput>
kern.maxproc: 1044</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">特定の変数をセットするには、直感的な文法
      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">変数</replaceable>=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">値</replaceable>
      を使ってください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl kern.maxfiles=5000</userinput>
kern.maxfiles: 2088 -&gt; 5000</screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">sysctl 変数の値は通常、文字列、数値、真偽値のいずれかです。
      (真偽値は yes の場合には <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal> で no の場合には
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal> です)。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-disk">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクのチューニング</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">sysctl 変数</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">vfs.vmiodirenable</varname></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">vfs.vmiodirenable</varname></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">vfs.vmiodirenable</varname> sysctl
	  変数のデフォルトは 1 (オン) で、
	  0 (オフ) または 1 (オン) にセットすることができます。
	このパラメータはディレクトリがシステムによってどのように
	キャッシュされるかを制御します。
	ほとんどのディレクトリは小さく、
	ファイルシステムにおいては単一フラグメント (典型的には 1K)
	であり、バッファキャッシュではさらに小さくなっています
	(典型的には 512 バイト)。
	しかしデフォルトモードで動作している時は、
	大量のメモリを搭載していても
	バッファキャッシュは固定数のディレクトリしかキャッシュしません。
	この sysctl をオンにすると、バッファキャッシュが VM ページキャッシュを、
	ディレクトリをキャッシュするために使うことを可能にします。
	これによる利点は、全てのメモリがディレクトリを
	キャッシュするのに使えるようになるということです。
	欠点は、キャッシュに使われる最小のメモリの大きさが 512 バイトではなく
	物理ページサイズ (大抵は 4K) になることです。
	多数のファイルを操作するサービスを稼動しているなら、
	常にこのオプションをオンにすることを推奨します。
	そのようなサービスには、web キャッシュや大規模なメールシステム、
	ニューズシステムなどが含まれます。
	このオプションは一般にメモリを消費しますが、
	性能を削減することはありません。
	ただし実験して調べてみるべきでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">hw.ata.wc</varname></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">hw.ata.wc</varname></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.3 では IDE のライトキャッシュがオフになりました。
	  これは IDE
	  ディスクへの書き込み帯域幅を減らしてしまうことになりますが、
	  ハードドライブベンダに起因するデータの一貫性に関する
	  重大な問題のために必要なことだと考えられました。
	  基本的には、書き込み完了時期について IDE
	  ドライブが嘘をつくという問題です。
	  IDE ライトキャッシュがオンであると
	  IDE ハードドライブはデータを順番に書きこまないばかりか、
	  ディスクの負荷が高い時にはいくつかのブロックの書き込みを
	  無期限に延期してしまいます。  クラッシュや電源故障の場合、
	  ファイルシステムの重大な破壊をもたらします。
	  したがって私たちはデフォルトを安全側に変更しました。
	  残念ながらこれは大変な性能の低下をもたらし、
	  私たちはあきらめてこのリリース後にオンに戻しました。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">hw.ata.wc</varname> sysctl 変数を見てデフォルトを
	  チェックしてみるべきです。
	  もし IDE ライトキャッシュがオフになっていたら、
	  hw.ata.wc カーネル変数を 1 に戻すことでオンに戻すことができます。
	  これはブート時にブートローダから行わなければなりません。
	  カーネルがブートした後に行っても効果はありません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">詳しくは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ata</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を見てください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトアップデート</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ソフトアップデート</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">tunefs</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tunefs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムはファイルシステムを細かくチュー
	ニングするのに使えます。このプログラムにはさまざまなオプションがありま
	すが、ここではソフトアップデートをオンオフすることだけを考えま
	す。以下の様にして切り替えます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> tunefs -n enable /filesystem
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> tunefs -n disable /filesystem</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムはマウントされているあいだは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tunefs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
        で変更することができません。  ソフトアップデートを有効にする
	いい機会はシングルユーザモードでどのパーティションもマウント
	されていない時です。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.5 からは、ファイルシステム生成時に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の <literal xmlns:xlink="http://www.w3.org/1999/xlink">-U</literal> オプションを使って
	ソフトアップデートを有効化できるようになりました。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトアップデートはメタデータの性能、
        主にファイルの作成と削除の性能を劇的に改善します。
	すべてのファイルシステムでソフトアップデートを有効にすることを推奨します。
	ソフトアップデートに関して、2 つの欠点を意識すべきです。
	1 つめは、ソフトアップデートはクラッシュ時におけるファイルシス
	テムの一貫性は保証しますが、
	物理ディスクの更新が何秒か (1 分に達することもあります!)
	遅れる可能性が高いことです。
	システムがクラッシュした場合、より多くの作業結果が消えてしまうかもしれません。
	2 つめは、ソフトアップデート
	はファイルシステムブロックを解放するのを遅らせるということです。
	あるファイルシステム (たとえばルートファイルシステム) が満杯近くの時に
	それに対する大規模な更新、たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">make installworld</command>
	をすると、空き領域を使い果たして更新が失敗してしまうことがあります。
      </para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="configtuning-kernel-limits">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Kernel 制限のチューニング</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">kernel 制限のチューニング</primary></indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">File/Process 制限</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfiles</varname></title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfiles</varname></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfiles</varname> はあなたのシステムの要求に
	  応じて増減させることができます。
	  この変数はあなたのシステムのファイル記述子の最大値を示します。
	  ファイル記述子テーブルが溢れるような時には、システムメッセー
	  ジバッファに頻繁に <literal xmlns:xlink="http://www.w3.org/1999/xlink">file: table is full</literal>
	  と表示されます。これは、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</command> コマンドで確認できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル、ソケット、パイプ (fifo) は
	  それぞれオープンされるとファイル記述子を一つ消費します。
	  大規模なプロダクションサーバでは
	  その時実行されているサービスの種類や数に応じては
	  あっさり数千のファイル記述子が必要になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfile</varname> のデフォルト値はカーネル
	  コンフィグレーションファイルの <option xmlns:xlink="http://www.w3.org/1999/xlink">MAXUSERS</option> オ
	  プションで決まります。<varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfiles</varname> は
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">MAXUSERS</option> の値に比例して増加します。
	  カスタムカーネルをコンパイルする際は、このカーネルコンフィグ
	  レーションオプションをシステムの利用法に合わせて設定するとよ
	  いでしょう。カーネルは、この数値からほとんどの制限の初期値を
	  決定します。業務用マシンに、実際に 256 名のユーザが一度に接
	  続することはないかもしれませんが、大規模なウェブサーバに必要
	  なリソースは同程度になります。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.5 からは、
	  カーネルコンフィグレーションファイルで
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">MAXUSERS</option> を <literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal>
	  に設定すると、システムの RAM
	  容量に基づいて適切なデフォルト値が選択されます。</para></note>
      </sect3>
    </sect2>
    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークの制限</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションオプション
	<option xmlns:xlink="http://www.w3.org/1999/xlink">NMBCLUSTERS</option> は、そのシステムで利用可能なネッ
	トワーク mbuf の量を決定します。通信量の多いサーバで MBUF の量
	が少ないと、FreeBSD の性能が低下してしまいます。クラスタ一つは
	およそ 2kB のメモリに対応しているので、1024 だとカーネルメモリ
	から約 2 MB をネットワークバッファに予約することになります。ど
	れだけ必要になるかを、簡単な計算で出すことができます。同時に最
	大 1000 接続までゆくウェブサーバがあり、それぞれの接続によって
	受信バッファ 16kB と送信バッファ 16kB が消費されるなら、ウェ
	ブサーバをまかなうのに 32MB 程度のネットワークバッファが必要
	になります。経験的に有用な値は、それを 2 倍したものなので、
	32MBx2 = 64MB/2K = 32768 になります。</para>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.65
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="boot">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の起動のプロセス</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">起動</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブートストラップ (bootstrap)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">計算機を起動しオペレーティングシステムをロードするプロセスは、
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">ブートストラッププロセス</quote>、
      もしくは単に <quote xmlns:xlink="http://www.w3.org/1999/xlink">起動</quote> と呼ばれます。
      FreeBSD の起動プロセスを使えば、
      システムをスタートするときに起きることを
      かなり柔軟にカスタマイズすることができます。
      同じ計算機にインストールされた
      別のオペレーティングシステムを選択することもできますし、
      同じオペレーティングシステムの違うバージョンを選択することも、
      インストールされた別のカーネルを選択することさえできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、指定できる設定オプションと FreeBSD
      の起動プロセスのカスタマイズ方法について詳しく述べます。
      この章では FreeBSD カーネルがスタートし、デバイスを検出し、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を起動するまでに起きることすべてを扱います。
      どの最中のことだかはっきりしていない人のために補足すると、
      テキストの色が明るい白から灰色に変わるまでに起きていることです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことが分かります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">どのように FreeBSD のブートストラップシステムが構成され、
	  そしてそれらが互いにどう関係しているのか</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">起動プロセスを制御するために FreeBSD
	  のブートストラップの各要素に付加できるオプション</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">device.hints</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の基本的な記述方法</para>
      </listitem>
    </itemizedlist>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">x86 限定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では Intel x86 システム上で動作する FreeBSD
	の起動プロセスだけを扱います。</para>
    </note>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-introduction">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">起動時の問題</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">計算機の電源を入れ、オペレーティングシステムをスタートさせるのには、
      おもしろいジレンマがあります。定義により、
      計算機は、オペレーティングシステムが起動するまでは、
      ディスクからプログラムを動かすことも含めて、
      何をどうすればよいかまったく知りません。
      では、計算機はオペレーティングシステムなしに
      ディスクからプログラムを実行することができず、
      オペレーティングシステムのプログラムがディスク上にあるのなら、
      どうやってオペレーティングシステムを起動するのでしょうか?</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この問題は<citetitle xmlns:xlink="http://www.w3.org/1999/xlink">ほらふき男爵の冒険</citetitle>
      という本の中に書かれている問題ととてもよく似ています。
      登場人物がマンホールの下に半分落っこちて、
      靴紐 (ブートストラップ) をつかんで自分を引っぱり、持ち上げるのです。
      計算機の黎明期には、<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ブートストラップ</firstterm>
      という用語でオペレーティングシステムをロードする
      機構のことを指していたのですが、
      いまはこれを縮めて <quote xmlns:xlink="http://www.w3.org/1999/xlink">ブート (起動)</quote> と言います。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</primary></indexterm>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">基本入出力システム
      (Basic Input/Output System)</primary><see xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</see></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">x86 ハードウェアでは、基本入出力システム
      (Basic Input/Output System: BIOS)
      にオペレーティングシステムをロードする責任があります。
      オペレーティングシステムをロードするために、
      BIOS がハードディスク上のマスターブートレコード
      (Master Boot Record: MBR) を探します。
      MBR はハードディスク上の特定の場所になければなりません。
      BIOS には MBR をロードし起動するのに十分な知識があり、
      オペレーティングシステムをロードするために必要な作業の残りは、
      場合によっては BIOS の助けを得た上で
      MBR が実行できることを仮定しています。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">マスターブートレコード
      (Master Boot Record: MBR)</primary></indexterm>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャ
      (Boot Manager)</primary></indexterm>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダ
      (Boot Loader)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">MBR 内部のコードは、
      通常<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャ</emphasis>と呼ばれます。
      とりわけユーザとの対話がある場合にそう呼ばれます。
      その場合は、通常もっと多くのブートマネージャのコードが、
      ディスクの最初の<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">トラック</emphasis>
      または OS のファイルシステム上におかれます
      (ブートマネージャは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダ</emphasis>
      と呼ばれることもありますが、
      FreeBSD はこの言葉を起動のもっと後の段階に対して使います)。
      よく使われるブートマネージャには、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">boot0</application> (<application xmlns:xlink="http://www.w3.org/1999/xlink">Boot Easy</application>
      とも呼ばれる FreeBSD 標準のブートマネージャ),
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Grub</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">GAG</application> や
      <application xmlns:xlink="http://www.w3.org/1999/xlink">LILO</application> 等があります
      (MBR 内に収まるのは <application xmlns:xlink="http://www.w3.org/1999/xlink">boot0</application> だけです)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスク上にインストールされているオペレーティングシステムが
      1 つであれば、標準の PC MBR で十分です。
      この MBR はディスク上の最初の起動可能な (アクティブな) スライスを探し、
      そのスライスにあるコードを起動してオペレーティングシステムの残りをロードします。
      デフォルトで <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> がインストールする MBR
      は、このような MBR です。<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/mbr</filename>
      を基にしています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスク上にオペレーティングシステムを複数インストールしているなら、
      別のブートマネージャ
      (複数のオペレーティングシステムの一覧を表示できて、
      起動するオペレーティングシステムを選択できるようなもの)
      をインストールするとよいでしょう。
      このようなブートマネージャの中から 2 つを次の節で説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ブートストラップシステムの残りは 3 段階に分かれます。
      第 1 ステージは MBR によって起動されるもので、
      MBR は計算機を特定の状態にするために必要なことだけ知っていて、
      第 2 ステージを起動します。
      第 2 ステージでは、第 3 ステージを起動する前に、
      もうちょっとやることができます。
      第 3 ステージでオペレーティングシステムのロード作業を完了します。
      起動作業がこれらの 3 段階に分かれているのは、
      PC の規格がステージ 1 とステージ 2
      で実行できるプログラムのサイズに制限を課しているからです。
      これらの作業をつなぎ合わせることによって、
      FreeBSD はより柔軟なローダ (loader) を提供しているのです。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル (kernel)</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">init</command></primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その後カーネルが起動し、デバイスの検出と初期化を開始します。
      そしてカーネルの起動が終わると、制御はユーザープロセスの
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> へ移されます。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> はまず
      ディスクが利用可能であることを確かめ、
      ファイルシステムのマウント、
      ネットワークで利用するネットワークカードのセットアップ、
      そして通常 FreeBSD システムで初期時に起動されるすべてのプロセスの起動、
      といったユーザーレベルでのリソース (資源) 設定を行ないます。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-blocks">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャと起動ステージ</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャ</primary></indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-boot0">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートマネージャ</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">マスターブートレコード (MBR)</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">MBR やブートマネージャのコードは起動プロセスの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">第
	0 ステージ</emphasis>と呼ばれることがあります。
	この節では前述の 2 つのブートマネージャ、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">boot0</application> と <application xmlns:xlink="http://www.w3.org/1999/xlink">LILO</application>
	について説明します。</para>

      <formalpara xmlns:xlink="http://www.w3.org/1999/xlink"><title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">boot0</application> ブートマネージャ</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のインストーラや <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">boot0cfg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  がデフォルトでインストールする
	  MBR は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/boot0</filename> を基にしています
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot0</filename> は非常に単純なプログラムです。
	  <abbrev xmlns:xlink="http://www.w3.org/1999/xlink">MBR</abbrev> にあるプログラムは、
	  スライステーブルと末尾の識別子 <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x55AA</literal> があるため、
	  446 バイトの大きさでなければならないという制限があるためです)。
	  ハードディスクに <application xmlns:xlink="http://www.w3.org/1999/xlink">boot0</application>
	  と複数のオペレーティングシステムをインストールした場合、
	  起動時に以下のような画面が出るでしょう。</para></formalpara>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-boot0-example">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot0</filename> のスクリーンショット</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">F1 DOS
F2 FreeBSD
F3 Linux
F4 ??
F5 Drive 1

Default: F2</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他のオペレーティングシステム、特に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> は、
	既存の MBR を自らの MBR で上書きしてしまうことで知られています。
	もしそうなってしまったら、
	もしくは既存の MBR を FreeBSD の MBR で置き換えたいのなら、
	次のコマンドを使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fdisk -B -b /boot/boot0 device</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">device</replaceable> は起動するデバイス名で、
	たとえば 1 番目の IDE ディスクは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename>、
	2 番目の IDE コントローラに接続されている 1 番目の IDE ディスクは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2</filename>、
	1 番目の SCSI ディスクは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">da0</filename>
	などとなります。
	MBR の設定をカスタマイズしたい場合は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">boot0cfg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を使ってください。</para>

      <formalpara xmlns:xlink="http://www.w3.org/1999/xlink"><title xmlns:xlink="http://www.w3.org/1999/xlink">LILO ブートマネージャ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このブートマネージャをインストールして FreeBSD
	  を起動するようにするには、まず Linux を起動して
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/lilo.conf</filename>
	  コンフィグレーションファイルに以下を追加してください。</para></formalpara>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">other=/dev/hdXY
table=/dev/hdX
loader=/boot/chain.b
label=FreeBSD</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記において、FreeBSD のプライマリパーティションとドライブを
	Linux の識別子を使って指定してください。
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> を Linux のドライブ文字に、また
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Y</replaceable> を Linux
	のプライマリパーティション番号に置き換えてください。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym> ドライブを使っているのであれば、
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/dev/hd</replaceable> を
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/dev/sd</replaceable>
	のように読み替えてください。
	同じドライブ上に両方のオペレーティングシステムが置いてあるなら、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">loader=/boot/chain.b</option> 行は不要です。
	これで <command xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/lilo -v</command>
	を実行するとシステムに新しい変更が反映されます。
	画面のメッセージを見て確認しておきましょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-boot1">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">起動ステージ 1 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/boot1</filename> と起動ステージ 2
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/boot2</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">概念上、第 1 ステージと第 2 ステージは
	ハードディスクの同じ領域上の同一のプログラムの部分部分です。
	スペースの制約のため 2 つに分割されていますが、
	いつも一緒にインストールされます。
	インストーラまたは <application xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</application>
	は、両者を 1 つにまとめたファイル
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/boot</filename> をコピーします (下記参照)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">第 1 ステージと第 2 ステージは、ファイルシステムの外部、
	起動スライスの最初のトラックに置かれ、
	先頭が最初のセクタにきます。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-boot0">boot0</link>
	またはその他のブートマネージャは、
	起動プロセスを続けるために必要なプログラムがそこにあると想定しています。
	使用されるセクタの数は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/boot</filename>
	の大きさから簡単に分かります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot1</filename> は
	512 バイトの大きさでなければならないという制限があるので、
	非常に単純なプログラムです。
	このプログラムは <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> を検索し、
	実行するため、そのスライスの情報を保持する FreeBSD
	の <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">BSD ラベル</firstterm>
	に関する最低限の情報だけを持っています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> はもう少し高機能です。
	これは FreeBSD のファイルシステム上でファイルを見つける能力を持ち、
 	実行するカーネルやローダを指定するための簡単なインタフェースを提供します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-loader">ローダ (loader)</link>
	はさらに高機能なもので、
	使いやすく簡単な起動設定が行なえる手段を提供します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> は通常それを起動します。
	以前の <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> には、
	カーネルを直接起動する機能しかありませんでした。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-boot2-example">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> のスクリーンショット</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">&gt;&gt; FreeBSD/i386 BOOT
Default: 0:ad(0,a)/boot/loader
boot:</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし仮にインストールされた <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot1</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot2</filename> を変更したいのであれば、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel -B diskslice</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">diskslice</replaceable>
	は起動するディスクとスライスで、
	たとえば最初の IDE ディスクの 1 番目のスライスは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0s1</filename> となります。</para>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Dangerously Dedicated Mode</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使うとき、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad0</filename> のようにディスク名だけを指定すると、
	  スライスを持たない危険な専用ディスクを作成してしまいます。
	  これはまず間違いなく、あなたがやりたいことではないでしょうから、
	  必ず <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Return</keycap> キーを押す前に
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを二重にチェックしてください。</para>
      </warning>
    </sect2>

  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-loader">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">起動ステージ 3 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader</filename></title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダ (boot-loader)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダは三段階の起動プロセスの最終段階です。
      ローダは通常、ファイルシステム上の
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader</filename>
      として存在しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダは、よりさまざまなコマンド群をサポートした
      強力なインタプリタによって提供される簡易組み込みコマンド群を利用することで、
      ユーザが利用しやすい設定手段となるように設計されています。</para>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-loader-flow">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ローダプログラムの処理の流れ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダは初期化の際にコンソールとディスクの検出を行ない、
	どのディスクから起動しているかを調べます。
	そして必要な変数を設定してからインタプリタを起動し、
	スクリプトからコマンドを送ったり手でコマンドを入力したりできます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ローダ</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ローダの設定</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダは次に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.rc</filename>
	を読み込み、通常、変数の標準値を定義した
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/defaults/loader.conf</filename>
	と、そのマシンにローカルな変数を定義した
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	を読み込みます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">loader.rc</filename>
	はそれらの変数にもとづき、
	選択されたモジュールとカーネルをロードします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダは最後に、標準設定で 10 秒のキー入力待ち時間を用意し、
	入力がなければカーネルを起動します。
	入力があった場合、簡易コマンド群が使えるプロンプトが表示され、
	ユーザは変数を調整したり、
	すべてのモジュールをアンロードしたり、
	モジュールをロードしたりすることができます。
	その後、最終的な起動や再起動へ移行します。</para>

    </sect3>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-loader-commands">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ローダの組み込みコマンド</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もっともよく使われるローダのコマンドを以下に示します。
	利用可能なコマンドをすべて知りたい場合、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">autoboot <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">seconds</replaceable></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">seconds</replaceable>
	      で与えられた時間内に入力がなければ、
	      カーネルの起動へと進みます。
	      カウントダウンを表示し、標準設定では 10 秒間です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">boot
	    <optional xmlns:xlink="http://www.w3.org/1999/xlink">-options</optional>
	    <optional xmlns:xlink="http://www.w3.org/1999/xlink">kernelname</optional></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すぐにカーネルの起動へ進みます。
	      オプション、カーネル名が指定されている場合は、
	      それらが使われます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">boot-conf</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのモジュールの設定を、
	      起動時と同じように変数にもとづいて自動的に行ないます。
	      このコマンドは、まず <command xmlns:xlink="http://www.w3.org/1999/xlink">unload</command> を行なって、
	      変数―普通 <envar xmlns:xlink="http://www.w3.org/1999/xlink">kernel</envar>
	      など―を変更した場合にのみ有効に働きます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">help
	    <optional xmlns:xlink="http://www.w3.org/1999/xlink">topic</optional></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.help</filename>
	      を読み込み、ヘルプメッセージを表示します。
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">topic</replaceable> に
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">index</literal> が指定された場合、利用可能な
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">topic</replaceable> を表示します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">include <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable>
	    …</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたファイル名のファイルを処理します。
	      ローダはファイルを読み込み、行単位で解釈します。
	      エラーが発生した場合、
	      include コマンドの実行はその時点で停止します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">load <optional xmlns:xlink="http://www.w3.org/1999/xlink">-t
	    type</optional>
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたファイル名のカーネル、
	      カーネルモジュール、あるいは
	      type に指定された種類のファイルをロードします。
	      ファイル名以降に指定された引数はファイルへと渡されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">ls <optional xmlns:xlink="http://www.w3.org/1999/xlink">-l</optional>
	    <optional xmlns:xlink="http://www.w3.org/1999/xlink">path</optional></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">指定された <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>
	      にあるファイルを表示します。
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">path</replaceable>
	      が指定されていなければ、ルートディレクトリを表示します。
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option>
	      が指定されていればファイルサイズも表示されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">lsdev <optional xmlns:xlink="http://www.w3.org/1999/xlink">-v</optional></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">モジュールがロード可能なすべてのデバイスを表示します。
	      もし <option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option> が指定されていれば、
	      より詳細な出力がされます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">lsmod <optional xmlns:xlink="http://www.w3.org/1999/xlink">-v</optional></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ロード済みのモジュールを表示します。
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option> が指定されていれば、
	      より詳細な内容が出力されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">more <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">LINES</varname>
	      行を表示するごとに停止しながら指定されたファイルを表示します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">reboot</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すぐにシステムを再起動します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">set <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">variable</replaceable></term>
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">set
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">variable</replaceable>=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">value</replaceable></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローダの環境変数を設定します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">unload</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのロード済みモジュールを削除します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect3>

    <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-loader-examples">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ローダの使用例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次にあげるのは、ローダの実践的な使用例です。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">普段使っているカーネルをシングルユーザモード<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモード</primary></indexterm>で起動します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">boot -s</userinput></screen>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">普段使っているカーネルとモジュールをアンロードし、
	    古い (もしくは別の) カーネルをロードします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">unload</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">load kernel.old</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kernel.GENERIC</filename> とすると、
	    インストールディスクに入っていた
	    generic カーネルを指定することができます。
	    また、直前にインストールされていたカーネル (たとえば、
	    カーネルを自分で設定したり、
	    アップグレードしたりした場合) を指定するには
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">kernel.old</filename><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">kernel.old</filename></primary></indexterm> とします。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">普段のカーネルで使っているモジュールを
	      指定したカーネルでロードする場合は、下のようにします。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">unload</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">set kernel="kernel.old"</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">boot-conf</userinput></screen></note>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの設定スクリプト (通常、
	    カーネル起動時に設定される内容を自動化するスクリプト)
	    をロードします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">load -t userconfig_script /boot/kernel.conf</userinput></screen>
	</listitem>
      </itemizedlist>
     </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-kernel">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネル起動時の応答</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル (kernel)</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">起動時の応答</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルが<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-loader">ローダ</link> (通常は)
      か<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-boot1">boot2</link>
      (ローダを迂回して) によってロードされると、
      起動フラグを調べます。
      もし起動フラグがあれば、それに応じて動作を調整します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-kernel-bootflags">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネル起動フラグ</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル (kernel)</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">起動フラグ</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">良く使われる起動フラグは次のとおりです。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-kernel-bootflags-list">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネル初期化中に、
	      ルートファイルシステムとしてマウントするデバイスを尋ねます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-C</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">CDROM から起動します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時にカーネルコンフィグレーションを行なう
	      UserConfig を実行します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモードで起動します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネル起動時により詳細な情報を表示します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">起動フラグはこの他にもあります。
	  それらについては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">boot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。
	</para></note>
    </sect2>

<!--    <sect2 id="boot-kernel-userconfig">
      <title>UserConfig: The Boot-time Kernel Configurator</title>

      <para> </para>
    </sect2> -->
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="device-hints">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Device Hints</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      
    </info>

    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">device.hints</primary>
    </indexterm>

    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD 5.0 以降の機能です。
      これ以前のバージョンには存在しません。</para></note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">起動プロセスの間に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">device.hints</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を読み込みます。
      このファイルにはカーネル起動の環境変数が格納されており、
      これらの環境変数は <quote xmlns:xlink="http://www.w3.org/1999/xlink">device hints</quote>
      と呼ばれることがあります。<quote xmlns:xlink="http://www.w3.org/1999/xlink">device hints</quote>
      はデバイスを設定するためにデバイスドライバが使用します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">device hints は <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-loader">ステージ 3 ブートローダ</link>
      でも設定できます。変数は
      <command xmlns:xlink="http://www.w3.org/1999/xlink">set</command> コマンドを用いて追加したり、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">unset</command> コマンドを用いて削除できます。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">show</command> コマンドを用いて一覧を見ることもできます。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename> に設定されている変数は
      このときに上書きすることができます。
      ローダで設定した device hints の効果は一時的なものであるため、
      次回起動するときには無効になります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システムが起動すると、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      コマンドでカーネル環境変数をダンプすることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
      は 1 行につき一つの変数を設定でき、行頭の <quote xmlns:xlink="http://www.w3.org/1999/xlink">#</quote>
      はその行がコメントであることを示しています。
      書式は次の通りです。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">hint.driver.unit.keyword="value"</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ステージ 3 ブートローダ で設定するときの書式は次の通りです。</para>
    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><userinput xmlns:xlink="http://www.w3.org/1999/xlink">set hint.driver.unit.keyword=value</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">driver</literal> はデバイスドライバの名前、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">unit</literal> はデバイスドライバのユニット番号、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">keyword</literal> はヒントキーワードです。
      キーワードは次の設定を指定します:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">at</literal>:
	  デバイスがどのバスに接続されているか指定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">port</literal>:
	  使用する <acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym>
	  ポートの開始アドレスを指定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">irq</literal>:
	  使用する IRQ を指定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">drq</literal>:
	  使用する DMA チャネルを指定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">maddr</literal>:
	  使用する物理メモリアドレスを指定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">flags</literal>:
	  デバイスに対してさまざまなフラグを設定します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">disabled</literal>:
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>
	  が設定されていると、そのデバイスは無効になります。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">デバイスドライバはこのリスト以外の変数を設定できるかもしれませんし、
      このリスト以外の変数を必要とするかもしれません。
      したがって、デバイスドライバのマニュアルを読むことをおすすめします。
      より多くの情報を知りたければ、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">device.hints</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>,
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kenv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      などのマニュアルを参照してください。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-init">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">init: プロセス制御の初期化</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">init</command></primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの起動が完了すると、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      というユーザプロセスに制御が移されます。
      これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/init</filename>、
      もしくは <command xmlns:xlink="http://www.w3.org/1999/xlink">loader</command> の
      <envar xmlns:xlink="http://www.w3.org/1999/xlink">init_path</envar> 変数で指定される場所にあります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-autoreboot">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">自動再起動 (automatic reboot)の動作</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">自動再起動では、
	システム上で利用できるファイルシステムの一慣性を確認します。
	もしそれに問題があって <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	がその不一致を修復できなければ、管理者に直接対処させるため
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> はシステムを<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-singleuser">シングルユーザモード</link>へと移行させます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-singleuser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモード</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモード</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">コンソール (console)</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このモードには、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-autoreboot">自動再起動</link>の処理中か、
	ユーザが起動時に <option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option> オプションを指定した場合、
	あるいは <command xmlns:xlink="http://www.w3.org/1999/xlink">loader</command> で
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">boot_single</envar>
	変数を設定することによって移行します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-multiuser">マルチユーザモード</link>から
	再起動オプション (<option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option>)
	や停止 (halt) オプション (<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>) なしで
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shutdown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を呼び出すとこのモードに移行します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	でシステムコンソール <literal xmlns:xlink="http://www.w3.org/1999/xlink">console</literal>
	が <literal xmlns:xlink="http://www.w3.org/1999/xlink">insecure</literal> に設定されている場合、
	システムはシングルユーザモードに移行する前に
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> のパスワードを入力するように求めます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-insecure-console">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の insecure コンソール</title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># name  getty                           type    status          comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
#
# 訳) console に "insecure" という印をつけると、シングルユーザモードへ移行する
# 際に init が root のパスワードを要求するようになります。
#
console none                            unknown off insecure</programlisting>
      </example>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">insecure</literal> コンソールとは、
	  あなた自身、コンソールが物理的に安全でないと考えていて、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  のパスワードを知る人だけがシングルユーザモードを
	  使えるようにしたいという意味であり、
	  コンソールを安全でない状態で使いたいという意味ではありません。
	  そのため、安全性を求めるならば
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">secure</literal> でなく
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">insecure</literal> を選んでください。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-multiuser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">マルチユーザモード</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">マルチユーザモード</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> がファイルシステムが正常であると判断するか、
	ユーザが<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot-singleuser">シングルユーザモード</link>を終了すると、
	システムはマルチユーザモードへ移行し、
	リソースの設定を始めます。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-rc">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">リソース設定 (rc)</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">rc ファイル群</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リソース設定システムはデフォルト設定を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults/rc.conf</filename> から、
	  そのシステム独自の細かな設定を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> から読み込みます。
	  そして <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	  に記述されるシステムファイルシステムをマウントし、
	  ネットワークサービスの開始、
	  さまざまなシステムデーモンの開始、
	  そして最後に、ローカルにインストールされた package
	  の起動スクリプトの実行へと進みます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">リソース設定システムに関する参考資料は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> にあります。
	  これはスクリプトそのものを調べることと同じくらい優れたものです。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="boot-shutdown">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">シャットダウン動作</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown</command></primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shutdown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      を用いてシステムを意図的にシャットダウンした場合、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.shutdown</filename>
      というスクリプトの実行を試みます。
      そして、すべてのプロセスへ <literal xmlns:xlink="http://www.w3.org/1999/xlink">TERM</literal>
      シグナルを送り、続いてうまく終了できなかったプロセスへ
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">KILL</literal> シグナルを送ります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">電源管理機能を持ったシステムで稼働している FreeBSD
      では <command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown -p now</command> コマンドによって、
      直ちに電源を落とすことができます。FreeBSD を再起動するには、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown -r now</command> を実行するだけです。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shutdown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行するには、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      であるか、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">operator</systemitem>
      グループのメンバでなければなりません。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">halt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">reboot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを利用することもできますが、
      より多くの情報を知るために、それらと <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">shutdown</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      のマニュアルページを参照してください。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">電源管理機能には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">acpi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	がカーネルに組み込まれているか、
	モジュールが読み込まれていることが必要です。</para>
    </note>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r42873
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="users">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザと基本的なアカウントの管理</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Neil</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Blakey-Milner</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
    </authorgroup>
    
  </info>

  

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、複数のユーザが同時にコンピュータを使えるようにします。
      スクリーンとキーボードの前に一度に座れるのはその中の一人だけですが
      ユーザは何人でもネットワークを通してログインできます。
      システムを使うためには、
      どのユーザもアカウントがなければなりません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、以下のことを説明します。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  システムにおけるさまざまな種類のユーザアカウントについて</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントを追加、削除および変更する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザやグループが利用できるリソースの上限を制御する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">グループの作成、
	およびグループにユーザをメンバとして追加する方法</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-introduction">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">アカウントの種類</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムへアクセスするには、
      かならずアカウントが使われ、
      また、プロセスもすべてユーザによって実行されるので、
      ユーザとアカウントの管理は、重要なものです。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">アカウントには大きく分けて三種類あります。
      システムアカウント (system accounts)、ユーザアカウント (user accounts)、
      そしてスーパーユーザ (superuser) です。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-system">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システムアカウント</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">システム</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムアカウントは、DNS、メール、
	ウェブサーバといった各種サービスを運用するために使われます。
	この目的は、セキュリティを確保するためです。
	もしすべてのサービスがスーパーユーザで実行されていると、
	それらのサービスはどんな動作でも可能となり、
	適切な制限を適用することができません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">daemon</systemitem></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">operator</systemitem></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムアカウントの具体例は、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">daemon</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">operator</systemitem>,
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">bind</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">news</systemitem> および
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">www</systemitem> といったものです。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">nobody</systemitem></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">nobody</systemitem>
	は通常の特権を持たないシステムアカウントです。
	しかし、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">nobody</systemitem>
	を利用するサービスが増えれば増えるほど、
	それに所属するファイルやプロセスも増え、
	その特権も大きくなるということを忘れないようにしてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-user">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウント</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">user</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントは、
	主に現実のユーザがシステムにアクセスする手段として用いられるものです。
	システムにアクセスするすべてのユーザは、
	それぞれ唯一のユーザアカウントを持つべきです。
	こうすることで管理者は誰が何を行なっているかがわかりますし、
	他の人の設定を壊してしまうようなことを避けることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのユーザは快適にシステムを利用するため、
	シェル、エディタ、キー設定、言語など、
	各自の環境をセットアップすることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システム上のどのアカウントにも、
	以下のような情報がなにかしら結び付けられています。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	    プロンプトに対して入力するユーザの名前です。
	    ユーザ名はそのシステムで一意でなければならず、
	    2 名のユーザに同じユーザ名をつけることはできません。
	    有効なユーザ名を作成するには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">passwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	    に記載されているいくつもの規則があります。
	    アプリケーションの上位互換性を保つために、
	    8 文字以下の小文字からなるユーザ名を使うことが推奨されています。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">パスワード</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれのユーザアカウントにはパスワードがあります。
	    パスワードは空白にもできますが、
	    行うべきではありません。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ ID (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym>)</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ ID (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym>) は、
	    FreeBSD システムがユーザを一意に識別するための数値です。
	    ユーザ名を指定できるコマンドは、
	    ユーザ名を <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym> に変換してから扱っています。
	    65535 より大きな UID は、32
	    ビット以上の整数に対応していないソフトウェアにおいて互換性の問題を引き起こす可能性があるので、
	    65535 以下の UID を使用することが推奨されています。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">グループ ID (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym>)</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">グループ ID (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym>) は、
	    ユーザが属する第一グループを一意に識別するための数値です。
	    グループは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym> ではなく、
	    ユーザの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym> に基づいて資源へのアクセスを制御する仕組みです。
	    これは、ある種の設定ファイルのサイズを大幅に小さくします。
	    ユーザは、複数のグループに所属できます。
	    65535 より大きな GID は、ソフトウェアに問題を引き起こす可能性があるので、
	    65535 以下の GID を使うことを推奨します。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラス</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラスはグループの仕組みを拡張したもので、
	    別々のユーザに対してシステムを調整する時に、
	    さらなる柔軟性を提供します。ログインクラスの詳細については、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="users-limiting"/> で説明します。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">パスワード変更時間</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、FreeBSD
	    は定期的にパスワードを変更することをユーザに強制しません。
	    これを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用してユーザごとに設定し、
	    一部またはすべてのユーザに、
	    一定の時間がたったらパスワードを強制的に変更させることができます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">アカウント失効時間</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、FreeBSD はアカウントを失効させません。
	    たとえば学校で生徒のアカウントがある場合など、
	    限られた期間だけのアカウントを作成するなら、
	    そのアカウントがいつ失効するか <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使って指定できます。
	    有効期間が経過したら、
	    そのアカウントのディレクトリやファイルは残っていますが、
	    システムへのログインはできなくなります。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの氏名</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ではユーザ名でアカウントを一意に識別しますが、
	    必ずしもユーザの本名を反映したものではありません。
	    この情報をアカウントに関連付けることもできます。
	    この情報は、コメントのように、空白、大文字、および
	    8 字以上で記載できます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ホームディレクトリ</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ホームディレクトリは、システム中のディレクトリへのフルパスです。
	    これはユーザがログインした時に作業を開始するディレクトリです。
	    一般的な慣習は、すべてのユーザのホームディレクトリを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/username</filename>
	    か <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/home/username</filename>
	    の下に置くことです。
	    各ユーザは、個人のファイルやサブディレクトリを、
	    ユーザのホームディレクトリに保存します。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ユーザシェル</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルは、
	    ユーザがシステムと対話するデフォルトの環境を提供します。
	    いろいろな種類のシェルがあり、
	    経験を積んだユーザはそれぞれ好みがあり、
	    それをアカウントの設定に反映できます。</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect2>

      <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-superuser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザアカウント</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザ (root)</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザアカウントは通常
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> と呼ばれ、
	システム管理を行なうために使われ、権限に制限がありません。
	そのため、このアカウントはメールのやりとり、システムの調査、
	プログラミングといった日常的な作業を行なうために使われるべきものではありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その理由は、スーパーユーザが通常のユーザアカウントと異なり、
	操作にまったく制限を受けないことによります。
	そのためスーパーユーザアカウントで操作を間違えると、
	システムに重大な影響を与えてしまう恐れがあるのです。
	ユーザアカウントでは、
	仮に操作を間違えてもシステムを壊してしまうようなことはできないようになっています。
	そのため、ユーザアカウントでログインし、
	高い権限が必要なコマンドを実行するときだけスーパーユーザになることが推奨されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザで実行するコマンドはいつでも、
	二回、三回と確認してください。
	なぜならスペースが多かったり、文字が欠けていたりするだけで、
	取り返しのつかないデータの破壊につながる可能性があるからです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザの権限を得るには、さまざまな方法があります。
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザとしてログインする方法もありますが、
      これはまったくお勧めできません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザの権限を手に入れるには、かわりに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      を使って下さい。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">-</literal> オプションをつけて実行すると、
      実行したユーザに root ユーザの環境が設定されます。
      このコマンドは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
      グループに入ってるユーザのみが実行でき、他のユーザは実行出来ません。
      また、実行時には <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      ユーザのパスワードを必要とします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例では、<command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command>
      を行うときにスーパーユーザの権限が必要なので、
      このコマンドを実行する時だけユーザはスーパーユーザになります。
      コマンドを実行したら、ユーザは <command xmlns:xlink="http://www.w3.org/1999/xlink">exit</command>
      を実行してスーパーユーザからログアウトし、
      通常のユーザアカウントの権限に戻ります。</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザ権限でプログラムをインストールする</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">configure</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su -</userinput>
Password:
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">exit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt></screen>
    </example>

     <para xmlns:xlink="http://www.w3.org/1999/xlink">1 人の管理者が一台のマシン、
       もしくは小規模なネットワークを管理する場合には、
       <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のフレームワークはうまく機能するでしょう。
       この代わりとなるのは、
       <package xmlns:xlink="http://www.w3.org/1999/xlink">security/sudo</package> package または port
       です。これはログ機能や、
       スーパーユーザの権限で実行できるユーザやコマンドを設定できます。</para>
  </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-modifying">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">アカウント情報の管理</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">変更</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には、
      ユーザアカウントを操作するのにさまざまなコマンドが用意されています。
      もっとも一般的なコマンドを以下に示し、
      それに続いて詳しい使用例を示します。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	<colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="2*"/>

	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">コマンド</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">要約</entry>
	  </row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインからユーザを追加するための推奨アプリケーション</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインからユーザを削除するための推奨アプリケーション</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザデータベースの情報を変更するための柔軟なツール</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">passwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのパスワードを変更する簡単なコマンドラインツール</entry>
	  </row>

	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントのあらゆる箇所を変更する強力で柔軟なツール</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-adduser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">追加</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/skel</filename></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">スケルトンディレクトリ</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、
        新しいユーザを登録するためのシンプルなプログラムです。
	ユーザを追加すると、
	このプログラムは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> を自動的に更新します。
	また、新規ユーザのホームディレクトリを作成し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/skel</filename>
	から、デフォルトで使用される設定ファイルをコピーします。
	また、新しく作成されたユーザに対して、
        ウェルカムメッセージをメールで送信することも可能です。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD におけるユーザの追加</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">adduser</userinput>
Username: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">jru</userinput>
Full name: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">J. Random User</userinput>
Uid (Leave empty for default):
Login group [jru]:
Login group is jru. Invite jru into other groups? []: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">wheel</userinput>
Login class [default]:
Shell (sh csh tcsh zsh nologin) [sh]: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">zsh</userinput>
Home directory [/home/jru]:
Home directory permissions (Leave empty for default):
Use password-based authentication? [yes]:
Use an empty password? (yes/no) [no]:
Use a random password? (yes/no) [no]:
Enter password:
Enter password again:
Lock out the account after creation? [no]:
Username   : jru
Password   : ****
Full Name  : J. Random User
Uid        : 1001
Class      :
Groups     : jru wheel
Home       : /home/jru
Shell      : /usr/local/bin/zsh
Locked     : no
OK? (yes/no): <userinput xmlns:xlink="http://www.w3.org/1999/xlink">yes</userinput>
adduser: INFO: Successfully added (jru) to the user database.
Add another user? (yes/no): <userinput xmlns:xlink="http://www.w3.org/1999/xlink">no</userinput>
Goodbye!
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>
      </example>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">入力したパスワードは画面に表示されませんので、
	  ユーザアカウントを作成する際には、
	  パスワードを間違えて入力してしまわないように注意してください。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-rmuser">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</command></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</command></primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">削除</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムから完全にユーザを削除するには、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使います。
	このコマンドは、次の手順を実行します。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたユーザの <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">crontab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	    エントリが存在する場合には削除。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたユーザの <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">at</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ジョブをすべて削除。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたユーザが所有するすべてのプロセスを強制終了。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルパスワードファイルから、
            指定されたユーザのエントリを削除。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたユーザのホームディレクトリを削除
            (ディレクトリの所有者が指定されたユーザのものだった場合)。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/mail</filename>
            から、指定されたユーザの到着メールファイルを削除。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename>
            のような一時ファイル保存領域から、
            指定されたユーザの所有するファイルを削除。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そして最後に、
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> にある
            すべてのグループから、指定されたユーザを削除します。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">指定されたユーザと同じ名前のグループで、
	      そのユーザが削除されると空のグループとなる場合は、
	      そのグループ自体が削除されます。
	      これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> によってユーザごとに作成される、
	      ユニークなグループに対応するものです。</para>
	  </note>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパユーザアカウントの削除に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を利用することはできません。
        スーパユーザアカウントの削除はほとんどすべての場合、
        大規模なシステムの破壊を意味するからです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、以下の例のような対話モードが使われます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">rmuser</command> による対話的なアカウントの削除</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rmuser jru</userinput>
Matching password entry:
jru:*:1001:1001::0:0:J. Random User:/home/jru:/usr/local/bin/zsh
Is this the entry you wish to remove? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>
Remove user's home directory (/home/jru)? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>
Updating password file, updating databases, done.
Updating group file: trusted (removing group jru -- personal group is empty) done.
Removing user's incoming mail file /var/mail/jru: done.
Removing files belonging to jru from /tmp: done.
Removing files belonging to jru from /var/tmp: done.
Removing files belonging to jru from /var/tmp/vi.recover: done.
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>
      </example>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-chpass">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">chpass</command></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">chpass</command></primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を用いて、
        パスワード、シェル、その他の個人情報といった、
        ユーザデータベース情報を変更できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパユーザ権限に限り、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を用い、
	他のユーザの情報やパスワードを変更できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ名の他にオプションを指定しないと、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> はユーザ情報を編集するエディタを表示します。
	ユーザがエディタを終了すると、
	ユーザデータベースが新しい情報に更新されます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スーパユーザでない場合は、
	  エディタを抜けた後にパスワードを聞かれます。</para>
      </note>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スーパユーザによる対話的な <command xmlns:xlink="http://www.w3.org/1999/xlink">chpass</command></title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">#Changing user database information for jru.
Login: jru
Password: *
Uid [#]: 1001
Gid [# or name]: 1001
Change [month day year]:
Expire [month day year]:
Class:
Home directory: /home/jru
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザは、この情報の限られた部分のみ変更が可能です。
        また、変更できるのはそのユーザ自身のアカウント情報のみです。
      </para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">通常のユーザによる対話的な <command xmlns:xlink="http://www.w3.org/1999/xlink">chpass</command></title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">#Changing user database information for jru.
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</screen>
      </example>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chfn</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chsh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> はいずれも、 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  へのリンクです。
          また、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypchpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypchfn</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypchsh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> も同様です。
          <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NIS</acronym> のサポートは自動的に行なわれますので、
          コマンドの先頭に <literal xmlns:xlink="http://www.w3.org/1999/xlink">yp</literal>
          をつける必要はありません。
	  NIS の設定については、
	  <!--  <xref linkend="network-servers"/> (cf. rev.1.48) -->
	  で説明されています。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-passwd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">passwd</command></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">passwd</command></primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">パスワードの変更</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">passwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は、
        ユーザが自分のパスワードを変更する通常の方法です。
        スーパユーザ権限では、
        他のユーザのパスワードを変更するのに使われます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">誤って、または不正なパスワードの変更を避けるため、
	  新しいパスワードを設定する前に、
	  もとのパスワードを入力しなければなりません。
	  スーパーユーザの権限でユーザのパスワードを変更する際には、
	  もとのパスワードを入力する必要はありません。</para>
      </note>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">自分のパスワードの変更</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">passwd</userinput>
Changing local password for jru.
Old password:
New password:
Retype new password:
passwd: updating the database...
passwd: done</screen>
      </example>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザ権限での他のユーザのパスワード変更</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">passwd jru</userinput>
Changing local password for jru.
New password:
Retype new password:
passwd: updating the database...
passwd: done</screen>
      </example>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
 	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chpass</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 同様、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">yppasswd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">passwd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> へのリンクになっていますので、
	  NIS はどちらのコマンドでも動作します。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-pw">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pw</command></title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pw</command></primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、ユーザやグループの作成、削除、
	変更および表示を行なうコマンドラインのユーティリティです。
	これは、システムユーザファイルやシステムグループファイルの
	フロントエンドとして働きます。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	はとても強力な一連のコマンドラインオプションを有しており、
	シェルスクリプトで使うのに向いていますが、新しいユーザは、
	この章で紹介されている他のコマンドに比べて難しいと感じるかもしれません。</para>
      </sect2>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-limiting">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザへの制限</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">制限</secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、
      個々のユーザが利用できるシステム資源の量を管理者が制限できる方法をいくつも用意しています。
      その種の制限は、ディスククォータ (quota)
      とその他の資源の制限の 2 つの章で説明します。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">クォータ (quotas)</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">クォータ</secondary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータ</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータは、ユーザが利用できるディスク容量を制限し、
      その都度計算しなくてもディスク使用量を簡単に確認できる手段も提供しています。
      クォータについては、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="quotas"/> で解説しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その他のリソースの制限とは、ユーザが消費できる
      CPU、メモリなどのリソースを制限する手段のことです。
      これはログインクラスを用いて定義されているもので、
      この後で解説しています。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename></primary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラスは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename>
      で定義します。詳細な説明は
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> に詳しく記載されています。
      各ユーザアカウントにはログインクラスが割り当てられていて
      (デフォルトでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal> です)、
      それぞれのログインクラスにはログインケーパビリティの集合が割り当てられています。
      ログインケーパビリティとは、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">名称=値</literal>
      の組のことで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">名称</replaceable>
      は周知の識別子、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">値</replaceable>
      は、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">名称</replaceable> に応じて処理される任意の文字列です。
      ログインクラスとケーパビリティを設定するのはどちらかといえば簡単なことで、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> でも説明されています。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は通常、直接 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename>
	から設定を読み込まず、
	より速く検索できる
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf.db</filename>
	データベースから読み込みます。<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename>
	を編集する時には <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf.db</filename>
	を次のコマンドを実行してアップデートする必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cap_mkdb /etc/login.conf</userinput></screen>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">リソースの制限は、
      2 つの点で標準的なログインケーパビリティと異なっています。
      第一に、どの制限についても、ソフト (現在の)
      リミットとハードリミットがあります。
      ソフトリミットは、ユーザやアプリケーションが調整できますが、
      ハードリミットを超えることはできません。
      ユーザはハードリミットを下げることはできますが、
      上げることはスーパユーザのみができます。
      第二に、ほとんどのリソースの制限は特定のユーザに対してプロセス毎に適用されるもので、
      そのユーザが利用するリソースの総量を制限するものではありません。
      ただし、この違いは制限を特別扱いすることで実現されるものであり、
      ログインケーパビリティフレームワークの実装によるものではありません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下が最もよく使われるリソースの制限になります。
      残りは、他のすべてのログインケーパビリティと並んで
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> に書かれています。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">coredumpsize</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プログラムが生成する core
	    ファイルのサイズ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">coredumpsize</primary></indexterm>にかかる制限は、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">filesize</literal> やディスククォータなどの、
	    ほかのディスク使用に関する制限<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">coredumpsize</secondary></indexterm>に従属します。
	    この制限は、ディスク領域の消費を制御するあまり厳しくない手段としてよく使われています。
	    ユーザは core ファイルを自分で生成するわけではなく、
	    削除しないことも多いので、
	    これを設定すれば大きなプログラムが異常終了してもディスクの空きがなくならずに済みます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cputime</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そのユーザのプロセスが消費できる CPU 時間<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">cputime</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">cputime</secondary></indexterm> の上限です。
	    これを超えたプロセスは、カーネルにより終了されます。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、消費される CPU <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">時間</emphasis>
	      についての制限であって、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">top</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ps</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	      のフィールドで表示される
	      CPU の割合に関するものではありません。</para>
	  </note>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">filesize</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザが所有できるファイルの大きさ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">filesize</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">filesize</secondary></indexterm>の上限です。<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="quotas">ディスククォータ</link> と違い、
	    この制限はユーザのファイルをすべてまとめた集合にではなく、
	    個々のファイルにかかります。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">maxproc</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザが実行できるプロセス数の上限<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">maxproc</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">maxproc</secondary></indexterm>です。
	    フォアグラウンドプロセスとバックグラウンドプロセスの両方を扱います。
	    この上限は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 変数
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxproc</varname>
	    で指定されたシステムの制限を超えることはできません。
	    同時に複数ログインすることや、
	    パイプライン実行することは便利なことが多いので、
	    この値をあまり小さな値に設定すると、
	    そのユーザの生産性が悪化する可能性があります。
	    大きなプログラムをコンパイルする場合のように、
	    タスクによっては複数のプロセスやプリプロセッサが実行されます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">memorylocked</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、1 つのプロセスが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mlock</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry>
	    によりメインメモリにロックされることを要求できるメモリ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">memorylocked</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">memorylocked</secondary></indexterm>の最大容量です。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">amd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のようなシステムで重要なプログラムは、
	    メインメモリへロックして、システムがスワップする際に、
	    ディスクのスラッシングを引き起こさないようにします。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">memoryuse</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、どの時点かを問わず、
	    あるプロセスが消費できる最大のメモリ容量<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">memoryuse</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">memoryuse</secondary></indexterm>です。
	    これは、メインメモリとスワップの使用量を合わせたものです。
	    メモリ消費を抑えるための包括的な制限ではありませんが、
	    手始めにはよいでしょう。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">openfiles</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、あるプロセスが開いておける最大のファイル数<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">openfiles</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">openfiles</secondary></indexterm>です。
	    FreeBSD では、ファイルはまた、ソケットや
	    IPC チャンネルを表わすのにも使われています。
	    ですから、あまり低い値に設定しないよう注意してください。
	    これに対応するシステム全体の制限は
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.maxfiles</varname> で定義されています。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sbsize</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、あるユーザが消費できるネットワークメモリ
	    (つまり mbuf<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">sbsize</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">sbsize</secondary></indexterm>) の上限の量です。ユーザは、
	    ネットワーク通信を制限するのに使えます。</para>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">stacksize</literal></term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、プロセスのスタックサイズ<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">stacksize</primary></indexterm><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに対する制限</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">stacksize</secondary></indexterm>の上限です。
	    あるプログラムが使用しうるメモリの量を制限するには、
	    これだけでは十分ではありません。
	    したがって、他の制限と組み合わせて使わなければなりません。</para>
	</listitem>
      </varlistentry>
    </variablelist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">リソースの制限を設定するにあたり、
      ほかにもいくつか覚えておかなければならないことがあります。
      以下は、一般的なこつやお勧め、さまざまなコメントになります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システム起動時に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc</filename>
	  から起動されたプロセスは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">daemon</literal>
	  ログインクラスに割り当てられます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムに付属していた
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename>
	  はほとんどの制限について妥当な値になっていますが、
	  すべてのシステムにおいてふさわしいというわけではありません。
	  制限をあまり緩くするとシステムを悪用しやすくしてしまいますし、
	  厳しくしすぎると生産性を悪化させてしまいます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> のユーザには、
	  他のユーザより多くのリソースを与えるべきかもしれません。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application>
	  そのものが多くのリソースを使うだけでなく、
	  より多くのプログラムを並行して使うことをユーザに促します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">多くの制限は個々のプロセスにかかるもので、
	  一人のユーザにまとめてかかるものではありません。
	  例えば、<varname xmlns:xlink="http://www.w3.org/1999/xlink">openfiles</varname> を 50 に設定することは、
	  ユーザが動かすそれぞれのプロセスが最大
	  50 個のファイルを開けるということです。
	  あるユーザが開けるファイルの総数は、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">openfiles</literal> の値に <literal xmlns:xlink="http://www.w3.org/1999/xlink">maxproc</literal>
	  をかけたものになります。
	  同じことがメモリ消費量にもあてはまります。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">リソースの制限と、ログインクラス、
      ログインケーパビリティ一般についての詳しい情報は、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cap_mkdb</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getrlimit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">2</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
      をご覧ください。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="users-groups">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">グループの管理</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">グループ</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/groups</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">グループ</secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">グループとは、ユーザを羅列したものです。
      グループは、グループ名と <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym> で識別されます。
      FreeBSD では、
      あるプロセスが何かするのを許可するかどうかをカーネルが判断する際に、
      プロセスの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym>
      とそのユーザが所属するグループの一覧を利用します。
      ほとんどの場合、ユーザもしくはプロセスの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym>
      は一覧の最初のグループを指しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">グループ名から <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym> への写像は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> にあります。
      これは、コロンで区切られた 4 項目からなるテキストファイルです。
      1 番目の項目はグループ名、
      2 番目は暗号化されたパスワード、
      3 番目が <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym>、
      4 番目がカンマで区切られたメンバの一覧です。
      文法についての完全な説明は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">group</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スーパーユーザは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename>
      をテキストエディタで編集できます。
      もしくは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使ってグループの追加や編集をできます。
      たとえば、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">teamtwo</systemitem>
      というグループを追加して、その存在を確認するには、
      次のように使います。</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> によるグループの追加</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupadd teamtwo</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupshow teamtwo</userinput>
teamtwo:*:1100:</screen>
    </example>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<literal xmlns:xlink="http://www.w3.org/1999/xlink">1100</literal> という番号は、
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">teamtwo</systemitem> の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GID</acronym> です。
      この時点では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">teamtwo</systemitem>
      にメンバはいません。
      以下のコマンドは、
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jru</systemitem> を <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">teamtwo</systemitem>
      のメンバに追加します。</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> により新しいグループにメンバを追加する</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupmod teamtwo -M jru</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupshow teamtwo</userinput>
teamtwo:*:1100:jru</screen>
    </example>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-M</option> の引数は、
      カンマで区切られた新しい (空の) グループに追加するもしくは存在するグループのメンバを置き換えるユーザの一覧です。
      ユーザにとっては、このグループのメンバーシップはパスワードファイルに記載されているプライマリのグループとは異なります。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の <option xmlns:xlink="http://www.w3.org/1999/xlink">groupshow</option> コマンドを使った時は、
      そのユーザはグループの一員として表示されませんが、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">id</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
      などのツールを使って情報を問い合わせれば、
      その情報を引き出せます。ユーザをグループに追加をする際に、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> しか扱わず、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename> から追加のデータを読んだりはしません。</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> によるグループへのユーザ追加</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupmod teamtwo -m db</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw groupshow teamtwo</userinput>
teamtwo:*:1100:jru,db</screen>
    </example>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<option xmlns:xlink="http://www.w3.org/1999/xlink">-m</option> の引数は、
      カンマで区切られたグループに追加するユーザの一覧です。
      前の例と異なり、これらのユーザはグループ一覧に追加され、
      グループのユーザ一覧を置き換えることはありません。</para>

    <example xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">グループに所属しているユーザを調べるための <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">id</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の使い方</title>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">id jru</userinput>
uid=1001(jru) gid=1001(jru) groups=1001(jru), 1100(teamtwo)</screen>
    </example>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jru</systemitem> は
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">jru</systemitem> グループと
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">teamtwo</systemitem> グループのメンバです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドや <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename>
      のフォーマットの詳細については、
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">group</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r15428
     Translation note: "fs-acl" section added in rev.1.118 is moved to
	handbook/basics in rev.1.134 and moved back to this file in
	rev.1.150. The traslation is already done in handbook/basics, so we
	should skip translating this section until rev.1.150.
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="security">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Matthew</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Dillon</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">本章の基にした security(7) マニュアルページの執筆: </contrib></author>
    </authorgroup>
  </info>

  
  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary></indexterm>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 日野 浩志 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hino@ccm.cl.nec.co.jp</email>、(jpman プロジェクトの成果を利用させ
    ていただきました)。</emphasis></para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、基本的なシステムセキュリティの考え方、
      覚えておくべき一般的なルールを紹介し、
      FreeBSD における高度な話題について簡単に説明します
      ここで扱う話題の多くは、
      一般的なシステムやインターネットセキュリティにもあてはまります。
      インターネットはもはや、誰もが親切な隣人であろうとする
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">友好的な</quote> 場ではありません。
      あなたのシステムを安全に保つことは、
      あなたのデータ、知的財産、時間、その他を、
      ハッカーやその同類から守るためには欠かせません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、
      システムとネットワークの整合性と安全性を確実にする仕組みと一連のユーティリティを提供しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  に関する基本的なシステムセキュリティの考え方</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">DES や MD5 のような、FreeBSD
	  で利用できるさまざまな暗号化手法について</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">代替認証システムである、
	  ワンタイムパスワード認証システム S/Key の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの代替認証システム Kerberos の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">IPFW で firewall を構築する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">IPsec の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で使われている SSH 実装である
	  OpenSSH の設定および使用方法</para>
      </listitem>
<!--
      <listitem>
	<para>How to configure and load access control extension
	  modules using the TrustedBSD MAC Framework.</para>
      </listitem>
-->

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACL</acronym> (アクセス制御リスト)
	  とは何か、またその使用法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、次のことが必要になります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD およびインターネットの基本概念の理解</para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-intro">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティとは、システム管理者をいつも悩ませる仕事の一つです。
      すべての BSD Unix マルチユーザシステムは、
      従来からいくつかのセキュリティ機構を備えていますが、
      ユーザを疑心暗鬼に陥らせないように追加のセキュリティ機構を構築し
      保守する仕事はおそらく、システム管理者としてもっとも大きな責務の一つでしょう。
      マシンの安全性に反映されるのは、管理者が作業したことだけです。
      またセキュリティ問題は、快適な環境に必要なものと競合します。
      一般に Unix システムは膨大な数のプロセスを同時に動作させることができ、
      そのプロセスの大部分は、サーバ 〓
      外部から接続し、通信するものとして動作します。
      かつてのミニコンとメインフレームがデスクトップにとってかわり、
      さらにコンピュータが相互に接続されたネットワークを形成するようになった今日、
      セキュリティは一層大きな関心事になってきています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティを実装するには、
      タマネギのように階層化する手法
      (a layered <quote xmlns:xlink="http://www.w3.org/1999/xlink">onion</quote> approach)
      が最適です。
      どうすれば良いのか簡単に説明すると、
      便利な機能と同じ数だけセキュリティの階層を作り、
      システムへの侵入を注意深く監視するのです。
      あなたはセキュリティを過度に厳重にしたり、
      侵入の監視に時間をとられたいとは思わないでしょう。
      この侵入の発見という部分は、
      あらゆるセキュリティ機構において最も重要な部分の一つなのです。
      たとえば、システムの各バイナリに
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">schg</literal> フラグ (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 参照)
      を設定するのは、大して意味がありません。
      フラグを設定すると一時的にバイナリが保護され、
      侵入してきた攻撃者によってシステムに加えられる変更のうち、
      容易に検出可能な変更は行なえなくなります。
      しかしその結果として、セキュリティ機構がその侵入者を検出することも
      まったくできなくなってしまうでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、システムセキュリティには、
      さまざまな形での攻撃に対処することとも関係しています。
      攻撃の中には <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      権限を奪おう (<quote xmlns:xlink="http://www.w3.org/1999/xlink">root 権限を破る</quote>) とはしないけれども、
      クラッシュやシステムの不安定状態を引き起こそうとするものもあります。
      このセキュリティ問題は、いくつかに分類することが可能です。</para>

    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害攻撃 (denial of service attack)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントの不正利用 (user account compromise)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アクセス可能なサーバを使った root 権限の不正利用</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントを経由した root 権限の不正使用</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">バックドアの設置</para>
      </listitem>
    </orderedlist>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">DoS 攻撃</primary>
      <see xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害 (DoS)</see>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">DoS 攻撃</secondary>
      <see xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害 (DoS)</see>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害 (DoS)</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害攻撃 (DoS 攻撃) とは、
      マシンから必要な資源を奪う行為です。
      通常、サービス妨害攻撃はそのマシンで実行されるサーバや
      ネットワークスタックを過負荷状態にしてマシンをクラッシュさせたり、
      マシンを使えなくしたりするような力任せの方法です。
      サービス妨害攻撃の中には、
      ネットワークスタックのバグを利用して、
      パケット一つでマシンをクラッシュさせようとするものもあります。
      後者には、カーネルにバグ修正を施すことによってのみ対応することができます。
      サーバプロセスに対する攻撃は、オプションを適切に指定することによって、
      攻撃されている状況でサーバプロセスの負荷上昇に限界を設定することで
      対応できる場合が多いです。これらに比べると、
      ネットワークへの力任せの攻撃への対応はずっと難しくなります。
      たとえば、偽造パケットによる攻撃 (spoof-packet attack) は、
      インターネットからシステムを切り離す以外の方法で
      防ぐことはほとんど不可能です。
      この攻撃によって、マシンを落としてしまうことはできないかもしれませんが、
      接続しているインターネット回線を飽和させてしまうことはできます。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">アカウント不正利用</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントの不正利用は、
      サービス妨害攻撃よりもずっとよくある問題です。
      このご時勢でも、自分たちのマシンで標準の
      <application xmlns:xlink="http://www.w3.org/1999/xlink">telnetd</application>,
      <application xmlns:xlink="http://www.w3.org/1999/xlink">rlogind</application>,
      <application xmlns:xlink="http://www.w3.org/1999/xlink">rshd</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</application>
      サーバを実行させているシステ
      ム管理者は多いのです。これらのサーバは、デフォルトでは、暗号化さ
      れたコネクション上で動作していません。その結果、抱えているユーザ
      数が標準くらいであれば、リモートログイン (そのシステムにログイン
      するには最も普通で便利な方法です) しているユーザのうち一人以上は、
      パスワードを覗き見られてしまうでしょう。システム管理者が注意深い
      人ならば、たとえログインが成功していたとしても、リモートアクセス
      ログを解析して、疑わしい送信元アドレスを探すものです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ひとたび攻撃者がユーザアカウントへのアクセス権を入手したら、
      攻撃者は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を破れると仮定するべきです。
      しかし、セキュリティを十分維持し、手入れの行き届いたシステムにおい
      ては、あるユーザアカウントへのアクセスが可能となっても、
      必ずしも攻撃者に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      へのアクセス権を与えるとは限りません。この違いは重要です。
      というのは、一般的に
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> へのアクセス権がなければ、
      攻撃者は自分の侵入の痕跡を隠蔽することができませんし、
      そのユーザのファイルを引っかき回したり、
      マシンをクラッシュさせたりするのがせいぜいです。
      ユーザアカウントの不正利用はめずらしいことではありません。
      なぜなら一般ユーザは、
      システム管理者ほど注意を払わない傾向があるからです。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">裏口 (バックドア)</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システム管理者は、あるマシン上で <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      権限を奪取する方法は、
      潜在的に何通りもあるということを心しておかねばなりません。
      攻撃者は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      のパスワードを知っているかもしれませんし、
      攻撃者が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      権限で実行されているサーバのバグを見つけ、
      ネットワーク接続を介して
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を破ることができるかもしれません。
      また、攻撃者は suid-root プログラムに存在するバグを知っていて、
      ユーザアカウントを破れば
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を奪取できるかもしれません。
      攻撃者があるマシン上で
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を破る方法を知ったならば、
      攻撃者は裏口を用意する必要がありません。
      これまでに発見され、ふさがれた <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      の穴の多くには、攻撃者が自分のしたことの痕跡を消そうとした作業が、
      かなりの割合で含まれています。
      そのため、ほとんどの攻撃者は裏口を作るのです。裏口は、
      攻撃者がたやすくシステムへの
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アクセスを再び得られるようにしますが、
      有能な管理者に侵入を検知する便利な手段を与えるものでもあります。
      攻撃者に裏口を作らせないようにするということは、
      セキュリティにとっては実際には良くないことかもしれません。
      なぜなら、攻撃者が最初に見つけて侵入してきたセキュリティホールは
      ふさがれないからです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティを改善する方法は、常に、
      タマネギの皮のように階層化する手法
      (a multi-layered <quote xmlns:xlink="http://www.w3.org/1999/xlink">onion peel</quote> approach)
      で実装されるべきです。これらは次のように分類できます。</para>

    <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	  とスタッフのアカウントの安全性を高める。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> の安全性を高める 〓
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で動作するサーバと
	  suid/sgid バイナリ。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントの安全性を高める。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">パスワードファイルの安全性を高める。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコア、raw デバイス、ファイルシステムの安全性を
	高める。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムに対して行なわれた、不適切な変更をすばやく検出す
	る。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">必要と思われる以上の対応をとる (paranoia)。</para>
      </listitem>
    </orderedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">本章の次の節では、上記の各項目についてより深く掘り下げていき
      ます。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="securing-freebsd">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSDの安全性を高める</title>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コマンド対プロトコル</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書を通して、コマンドまたはアプリケーションを指すのには
	<application xmlns:xlink="http://www.w3.org/1999/xlink">太字</application> を使います。
	たとえばプロトコルであると同時にコマンドでもある
	ssh などに対して使います。</para>
    </note>

  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
    <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">安全性を高める</secondary>
  </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の節では、本章の<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="security-intro">前節
      </link>でとりあげた FreeBSD システムの安全性を高める方法について
      述べます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="securing-root-and-staff">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	アカウントとスタッフアカウントの安全性を高める</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">su</command></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のアカウントの安全性を確保しないうちから
	スタッフのアカウントの安全性をうんぬんしてもしかたがありません。
	ほとんどのシステムでは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	アカウントに割り当てたパスワードが 1 つあり
	ます。まず最初にすべきことは、このパスワードは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いつで
	も</emphasis>不正利用の危険に晒されていると仮定することです。これは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のパスワードを消すべきだと言っているのではありません。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のパスワードは、マシンにコンソールからアクセスするのには、
	ほとんどいつでも必要なものです。ここで言いたいのは、コンソール
	以外からは、そして可能なら <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを実行する場合も
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	のパスワードを使えないようにするべきである、ということで
	す。たとえば、あなたが使っている pty が、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルで insecure と指定
	されているか確認してください。そうすると、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">telnet</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</command> 経由では
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で直接ログインできないようになります。
	これは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ssh/sshd_config</filename> を編集して
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">PermitRootLogin</literal> に <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO</literal>
	が設定されるようにすることで実現できます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sshd</application> のような、別のログインサービス
	を使っている場合でも同様に、直接 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	へログインすることを許し
	ていないかどうか確認してください。すべてのアクセス手段 〓
	たとえば FTP
	のようなサービスが、良くクラックの対象となることを考えましょう。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> への直接ログインは、
	システムコンソール経由でのみ可能であるべきなのです。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また当然、システム管理者として自分が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	になれるようにしておく必要が
	ありますから、そのための穴をいくつか開けておきます。し
	かし、それらの穴を動作させるには、さらに追加のパスワード認証が
	必要であるようにしておくことが重要です。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> でアクセス可能と
	する方法の一つとして、適切なスタッフアカウントを
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> 中の)
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに加えることがあります。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに入っているスタッフメンバは
	<command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> を使って
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になることが許されます。
	パスワードエントリにおいて、スタッフメンバを
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに置くことによって直接
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
	権限を与えてはいけません。スタッフメンバのアカウントは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">staff</systemitem> グループに所属させるべきで、その上で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> ファイルを通して
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに加えるべきです。実際に
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アクセスの必要なスタッフメンバのみ
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに置くようにすべきです。
	他の認証方法の場合、たとえば Kerberos を使用する場合には、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アカウントの
	Kerberos <filename xmlns:xlink="http://www.w3.org/1999/xlink">.k5login</filename> ファイルを使えば、誰も
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> グループに置く必要なく
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ksu</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	することを許可できます。このやり
	方はよりよい解決策なのかもしれません。なぜなら、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">wheel</literal> のメカニズムでは、侵入者がパスワード
	ファイルを手に入れ、スタッフアカウントのいずれか 1 つを破るこ
	とができると、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> を破ることがまだできてしまうからです。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem> のメカニズムを用いる方が、
	何もしないよりは良いのですが、
	必ずしも最も安全な選択肢とは限りません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スタッフのアカウント、また究極には
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アカウントの安全性
	を高める間接的な方法は、別のログインアクセスの方法を用いてスタッ
	フのアカウントの安全性を高め、その上でそのスタッフのアカウント
	の暗号化パスワードを <quote xmlns:xlink="http://www.w3.org/1999/xlink">アスタリスク化</quote>
	するものです。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vipw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使えば、暗号化されたパスワードを
	<quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal></quote> 1 文字に置き換えられます。
	このコマンドは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	ファイルとユーザ/パスワードデータベースを更新して、
	パスワード認証によるログインができないようにします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、次のスタッフアカウントを、</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">foobar:R9DT/Fa1/LV9U:1000:1000::0:0:Foo Bar:/home/foobar:/usr/local/bin/tcsh</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">こう変更します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">foobar:*:1000:1000::0:0:Foo Bar:/home/foobar:/usr/local/bin/tcsh</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化されたパスワードは
	<quote xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal></quote> と一致することがないので、
	この変更によって通常のログインはできなくなります。
	こうした後は、スタッフメンバは認証のために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kerberos</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や
	公開鍵 / 秘密鍵の組を用いる <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のような代わりとなる認
	証手段を利用しなければなりません。
	Kerberos のようなログイン機構を使う場合は、一般に Kerberos
	サーバを実行するマシンと自分のデスクトップワークステーションの安全性を確保しなければなりません。
	また ssh で公開鍵 / 秘密鍵の組を使う場合、
	一般に、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ログイン元</emphasis>マシン (通常は自分のワー
	クステーション) の安全性を確保しなければなりません。ここで、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で公開鍵 / 秘密鍵の組を生成する際、鍵の組
	をパスワードで防御することにより、鍵の組への防御層を追加するこ
	ともできます。スタッフアカウントのパスワードを
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">アスタリスク</quote> でつぶすことができると、
	管理者自身が設定
	した安全性の高い方法でしかスタッフメンバがログインできないこと
	も保証できます。こうして、多くの侵入者が使う重大なセキュリティ
	の穴である、
	安全性の低い無関係なマシンからネットワークを覗き見る方法を塞ぐようなセッションを提供する、
	安全性の高い暗号
	化されたコネクションを使うことを、スタッフメンバ全員に強制する
	ことができるのです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">より間接的なセキュリティの仕組みでは、制限の強いサーバから
	制限の弱いサーバへログインすることを前提としています。たとえば、
	メインマシンで、様々な種類のサーバを実行させている場合、ワーク
	ステーションではそれらのサーバを実行させてはなりません。ワーク
	ステーションを十分に安全にしておくためには、実行するサーバの数
	を、一つもサーバが実行されていないというくらいにまでできる限り
	減らすべきです。また、パスワードで保護されたスクリーンセーバを
	走らせておくべきです。ワークステーションへの物理的アクセスが与
	えられたとすると、もちろん言うまでもなく、攻撃者は管理者が設定
	したいかなる種類のセキュリティをもうち破ることができるのです。
	このことは、管理者として必ず考えておかねばならない問題ですが、
	システム破りの大多数は、ネットワーク経由でリモートから、ワーク
	ステーションやサーバへの物理的アクセス手段を持たない人々によっ
	て行われるという事実もまた、念頭に置いておく必要があります。
	</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos のような方法を使うことで、
	スタッフアカウントのパ
	スワードの変更もしくは停止を一箇所で行なうことと、スタッフメン
	バがアカウントを持つすべてのマシンに即時にその効果を及ぼすこと
	が可能となります。スタッフメンバのアカウントが危険に晒されたと
	きに、すべてのマシンでスタッフメンバのパスワードを即座に変更す
	る能力を過小評価してはいけません。パスワードが分散されている状
	況では、N 台のマシンでパスワードを変更すると、てんやわんやの事
	態を招く可能性があります。Kerberos を使用すると、パスワードの
	再発行に制限 (re-passwording restriction) を課することもできま
	す。この機能を使うことにより、ある Kerberos チケットをしばらく
	経つとタイムアウトにすることができるだけでなく、一定期間 ( 例
	えば、1 ヶ月に 1 回) 経つと、ユーザに新しいパスワードを選ぶよ
	うに要求することもできます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">root 権限で実行されているサーバと SUID/SGID バイナリの安全性を高める</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ntalk</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">comsat</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">finger</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">砂場 (sandbox)</primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sshd</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">telnetd</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">rshd</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">rlogind</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">用心深いシステム管理者は、自分に必要なサーバプロセスだけを
	過不足なく実行させるものです。サードパーティ製のサーバは、よくバグを持っ
	ていがちだということに注意して下さい。たとえば、古いバージョンの
	<application xmlns:xlink="http://www.w3.org/1999/xlink">imapd</application> や
	<application xmlns:xlink="http://www.w3.org/1999/xlink">popper</application>
	を実行させておくのは、全世界に万能の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	の切符を与えているようなものです。自分で注意深くチェックしていない
	サーバは、決して実行してはいけません。<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	で実行させる必要のあるサーバはほとんどありません。たとえば、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ntalk</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">comsat</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">finger</application> デーモンを、専用ユーザの
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">砂場 (sandbox)</firstterm> で実行させることができます。
	管理者が膨大な数の問題を経験していないのなら、
	この「砂場」は完
	璧ではありませんが、セキュリティに関するタマネギ的アプローチは
	ここでも成り立ちます。砂場で実行されているサーバプロセスを経由
	して侵入を果たすことができたとしても、攻撃者はさらに砂場から外
	に脱出しなければなりません。攻撃者が通過せねばならない層の数が
	増えれば増えるほど、それだけ攻撃者が侵入に成功する確率が減りま
	す。Root の抜け穴は歴史的に、基本システムサーバも含め、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限で実行されるほとんどすべてのサーバプロセスで発見されています。
	ユーザが <application xmlns:xlink="http://www.w3.org/1999/xlink">sshd</application> 経由でのみログインし、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">telnetd</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">rshd</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">rlogind</application> 経由でログインすることが決
	してないマシンを稼働させているのであれば、それらのサービスを停
	止させて下さい!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、今では <application xmlns:xlink="http://www.w3.org/1999/xlink">ntalkd</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">comsat</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">finger</application> は砂場で実行させることがデフォ
	ルトになっています。次に砂場で実行させるべきプログラムの候補と
	して、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> があります。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults/rc.conf</filename> ファイルには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> を砂場で実行するために必要な
	引数がコメントアウトされた形式で含まれています。新しいシステム
	をインストールしているか、それとも既存のシステムをアップグレー
	ドして使っているかに依存しますが、砂場として使用する特別のユー
	ザアカウントがインストールされていないかもしれません。用心深い
	システム管理者であれば、できるだけいつでも研究を怠らず、サーバ
	に砂場を仕込むものでしょう。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、砂場で実行しないサーバが他にいくつかあります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">popper</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">imapd</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</application> などです。これらのうちいくつか
	のサーバには代わりとなるものがありますが、代わりのものをインス
	トールするには、あなたが思うより多くの仕事が必要になるかもしれ
	ません (便利さという要素がまたも勝利を収めるわけです)。これら
	のサーバは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限で実行しなければばならないかもしれません。また、
	これらのサーバ経由で生じる侵入を検出するためには、他の仕組みに
	頼らなくてはならないかもしれません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限の潜在的な穴で他に大きなものには、シ
	ステムにインストールされた suid-root/sgid バイナリがあります。
	これらのバイナリは、<application xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</application> のように、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin</filename>
	に存在するものがほとんどです。100% 安全なものは存在しないとは
	いえ、システムデフォルトの siud/sgid バイナリは比較的安全とい
	えます。それでもなお、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	セキュリティホールがこれらのバイナリにときおり発見されています。
	1998 年に <application xmlns:xlink="http://www.w3.org/1999/xlink">xterm</application>
	(普通、suid 設定されています) を脆弱にしていた
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Xlib</literal> の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	セキュリティホールが見つかりました。
	安全である方がよいので、
	用心深いシステム管理者は残念に思いながらも、スタッフのみが実行
	する必要がある suid バイナリは、スタッフのみがアクセス可能な特
	別なグループに含めるように制限を加え、誰も使わない suid バイナ
	リは (<command xmlns:xlink="http://www.w3.org/1999/xlink">chmod 000</command> を実行して) 片付けてしまう
	でしょう。ディスプレイを持たないサーバは、一般的に
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xterm</application> のバイナリを必要としません。
	sgid バイナリもほとんど同様の危険な存在になり得ます。侵入者が
	kmem に sgid されたバイナリを破ることができた場合、その侵入者
	は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/kmem</filename> を読み出すことができるように
	なるでしょう。つまり、暗号化されたパスワードファイルを読み出す
	ことができるようになるので、パスワードを持つどのアカウントをも、
	潜在的な危険に晒すことになります。他にも、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">kmem</literal> グループを破った侵入者が pty を通して
	送られたキーストロークを監視できるという危険があります。キース
	トロークには、安全な方法でログインするユーザが使っている pty
	も含まれます。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">tty</systemitem> グループを破った侵入者は、ほぼ任意のユーザの
	tty へ書き込みができます。ユーザが端末プログラムやキーボードを
	シミュレーションする機能を持ったエミュレータを使っている場合、
	侵入者は潜在的に、結局そのユーザとして実行されるコマンドをユー
	ザの端末にエコーさせるデータストリームを生成できる可能性があり
	ます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="secure-users">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントの安全性を高める</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントは、普通、安全性を高めることが最も困難です。
	スタッフに対しては、とても厳格なアクセス制限を強制しパスワードを
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">アスタリスク</quote> で外すことができるでしょうが、
	管理者が
	持ちうる一般ユーザすべてのアカウントに対して同じことはできない
	かもしれません。管理者が十分に統率をとることができるなら、管理
	者は勝利し、ユーザのアカウントの安全を適切に確保できるかもしれ
	ません。それができないならば、よりいっそう気を配って一般ユーザ
	のアカウントを監視するよりほかありません。
	一般ユーザアカウントに対し ssh や Kerberos を利用することには、
	システム管理がさらに増えたりテクニカルサポートが必要に
	なるなどの問題があります。それでも、暗号化パスワードファイルと
	比較するとはるかに良い解です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">パスワードファイルの安全性を高める</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">できるだけ多くのパスワードを <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal> で外し、
	それらのアカウントのアクセスには
	ssh や Kerberos を使うようにすることが、唯一の確実な方法です。
	暗号化パスワードファイル
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/spwd.db</filename>) は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	でのみ読み出し可能だけれども、
	たとえ、侵入者が root の書き込み権限は得られなくとも、
	読み出しアクセス権限を得ることは可能かもしれません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティスクリプトで常にパスワードファイルの変更をチェッ
	クし、報告するようにすべきです (<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="security-integrity">ファイルの完全性のチェック</link>
	節参照)。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコア、raw デバイス、ファイルシステムの安全性を
      高める</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	の権限を破ると、攻撃者はほとんど何でもできますが、特に重宝さ
	れる特定の事柄もいくつかあります。たとえば、最近のカーネルは、組
	み込みのパケット覗き見デバイス (packet sniffing device) ドライ
	バを備えているものがほとんどです。FreeBSD では
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> デバイスと呼ばれています。侵入者
	は普通、侵入済みのマシンでパケット覗き見プログラムを実行させよ
	うと試みます。侵入者にわざわざそういう機能を提供する必要はない
	ので、ほとんどのシステムで <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	デバイスを組み込むべきではありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</command></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> デバイスを外しても、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/mem</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/kmem</filename>
	という悩みの種がまだ残っています。この問題に関しては、侵入者は
	raw ディスクデバイスに書き込
	むこともできます。ほかにも、モジュールローダ、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kldload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> とい
	う、別のカーネル機能があります。やる気まんまんの侵入者は、KLD
	モジュールを使って自分独自の <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	もしくはその他覗き見デバイス
	を動作中のカーネルにインストールできます。この問題を
	避けるため、システム管理者はカーネルをより高い安全レベル (
	securelevel)、少なくとも安全レベル 1 で実行させる必要がありま
	す。安全レベルは <command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</command> を使って
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.securelevel</varname>
	変数を操作して設定できます。ひとたび安全レベルに 1 を設定すると、raw デバ
	イスに対する書き込みアクセスは拒否され、たとえば
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">schg</literal> のような特別な
	<command xmlns:xlink="http://www.w3.org/1999/xlink">chflags</command> フラグの機能が
	強制されます。システム起動に関わる重要なバイナリやディレクトリ、
	スクリプトファイルなど、安全レベルが設定されるまでの間に実行さ
	れるすべてのものに対しても、確実に <literal xmlns:xlink="http://www.w3.org/1999/xlink">schg</literal>
	フラグを設定してください。この設定をやり過ぎても
	構いませんが、より高い安全レベルで動作している場合、システムの
	アップグレードがはるかに困難になります。システムをより高い安全
	レベルで実行させるようにするが、すべてのシステムファイルとディ
	レクトリに <literal xmlns:xlink="http://www.w3.org/1999/xlink">schg</literal>
	フラグを設定しないというところで妥協するという手もあります。
	もう一つの可能性としては、単純に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> を読み
	込み専用でマウントすることです。ここで特筆すべきことは、システ
	ムを守ろうとして厳しくしすぎると、侵入を検出するという非常に重
	要なことができなくなってしまうということです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="security-integrity">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの完全性のチェック: バイナリ、設定ファイルなど
      </title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ことこの問題に至ると、システム管理者にできることは、便利さ
	という要素がその醜い頭を上げない程度に、コアシステムの設定と制
	御ファイルを防御することだけです。たとえば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> にある
	大部分のファイルに <literal xmlns:xlink="http://www.w3.org/1999/xlink">schg</literal> ビットを設定するた
	めに <command xmlns:xlink="http://www.w3.org/1999/xlink">chflags</command> を使用するのは、おそらく逆効果
	でしょう。なぜなら、そうすることでファイルは保護できますが、侵
	入を検出する窓を閉ざしてしまうことにもなるからです。セキュリティ
	のタマネギの最後の層はおそらく最も重要なもの 〓 検出で
	す。セキュリティの残りのものは、突然の侵入を検出できなければ、
	まったく有用ではありません (あるいは、もっと悪ければ、安全性に
	対する間違った感覚を植え付けてしまいます)。タマネギの仕事の半
	分は、もう半分の検出側が攻撃者を攻撃の最中に捕えるようにするた
	めに、攻撃者を食い止めるのではなく侵入を遅らせることなのです。
	</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">侵入を検出する最も良い方法は、変更されていたり、消えていた
	り、入れた覚えがないのに入っているファイルを探すことです。変更
	されたファイルを探すのに最も良い方法は、もう一つの (しばしば中
	央に集められた)、アクセスが制限されたシステムから行なうもので
	す。さらに安全でアクセス制限されたシステム上でセキュリティ用ス
	クリプトを書けば、
	スクリプトは潜在的な攻撃者からはほぼ見えなくなります。
	これは重要なことです。この有効性を最大限に活用
	するためには、一般的に、アクセスの制限されたマシンから実際に使っている他のマシンへのかなりのアクセスを許可する必要があります。普
	通は、他のマシンからアクセス制限されたマシンへ読み込み専用の
	NFS エクスポートをしたり、アクセス制限されたマシンから他のマシンへ
	ssh 接続を行なうために、
	ssh 鍵のペアを作ったりすることで行います。
	ネットワークのトラフィックを別にして、NFS は最も可視性
	のない方法です 〓 各クライアント上のファイルシステムを、
	事実上検出されずに監視できるようになります。アクセス制限された
	サーバがスイッチを通してクライアントに接続されている場合、たい
	てい NFS がより良い選択肢です。アクセス制限されたサーバがハブ
	や、いくつかのルーティング層を通してクライアントに接続している場合、
	NFS は (ネットワークの面で) あまりにも危険なので、
	ssh の方が認証を行った跡は残りますが、良い方法でしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アクセス制限されたマシンに、監視しようとするクライアントシ
	ステムへの少なくとも読み込みのアクセス権を与えたら、次に実際に
	監視するためのスクリプトを書かなくてはいけません。NFS マウント
	をすれば、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">find</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md5</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> などの単純なシステムユー
	ティリティでスクリプトを書くことができます。少なくとも 1 日 1
	回、クライアントのファイルを直接 md5 にかけ、さらにもっと頻繁
	に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc</filename> にあるようなコントロール用
	ファイルを試験するのが一番です。アクセス制限されたマシンが正し
	いと知っている、基となる md5 情報と比べて違いが見つかった場合、
	システム管理者に調べて欲しいと悲鳴を上げるようにすべきです。優
	れたセキュリティ用スクリプトは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> などのシステムパーティション上で不適
	当に suid されたバイナリや、新たに作成されたファイルや削除され
	たファイルがないかどうかを調べるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NFS ではなく、ssh を使用する場合は、
	セキュリティ用スクリプトを書くのはずっと難しいことで
	す。スクリプトを動かすためには、クライアントに対してスクリプト
	を <command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command> しなくてはいけませんし、それは目に見
	えてしまいます。そして、安全のためには、スクリプトが使うバイナ
	リ (find など) を <command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command> する必要もあります。
	クライアントマシンの <application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application>
	クライアントはすでに攻撃されてしまっているかもしれません。
	結局のところ、安全でないリンク上の場合は
	ssh は必要かもしれませんが、ssh
	を扱うのはとても大変なことです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">優れたセキュリティ用スクリプトは、ユーザやスタッフメンバの
	アクセス設定ファイルの変更もチェックするものです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.rhosts</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">.shosts</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.ssh/authorized_keys</filename> など …
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">MD5</literal> チェックの範囲外になってしまうであろう
	ファイル群です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ用のディスク容量が非常に大きい場合は、パーティション
	上の各ファイルを見て回るのに大変な時間がかかるかもしれません。
	この場合は、マウントフラグを設定して、このパーティションに
	suid されたバイナリやデバイスを置けないようにするのが良い考え
	です。<literal xmlns:xlink="http://www.w3.org/1999/xlink">nodev</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">nosuid</literal>
	オプション (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照) が知るべきものでしょう。
	とにかく少なくとも週に 1 度はファイルシステムをスキャンするべきです。
	なぜなら、この層の目的は、侵入が成功したかどうかに関わらず、侵
	入があったことの検出をすることだからです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プロセスアカウンティング (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">accton</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照) は、
	マシンへの侵入を検出するためのメカニズムとして推奨できる、
	比較的オーバヘッドの少ないオペレーティングシステムの機能です。
	侵入を受けた後でも当該ファイルが無傷である場合に、侵入者が
	実際にどのようにしてシステムに侵入したかを追跡するのに特に役立ちます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、セキュリティスクリプトはログファイルを処理するよう
	にし、ログファイル自体もできるだけ安全性の高い方法で生成するよ
	うにすべきです 〓 リモート syslog は極めて有益になり得ま
	す。侵入者は自分の侵入の痕跡を覆い隠そうとしますし、また、ログ
	ファイルはシステム管理者が最初の侵入の時刻と方法を追跡してゆく
	ために極めて重要です。ログファイルを永久に残しておくための 1
	つの方法は、システムコンソールをシリアルポートにつないで走らせ、
	コンソールを監視している安全なマシンを通して絶えず情報を集める
	ことです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">偏執狂的方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">多少偏執狂的になっても決して悪いことにはなりません。原則的
	に、システム管理者は、便利さに影響を与えない範囲でいくつでもセ
	キュリティ機能を追加することができます。
	また、いくらか考慮した結果、
	便利さに<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">影響を与える</emphasis>セキュリティ機能を追加することもできます。
	より重要なことは、
	セキュリティ管理者はこれを多少混ぜこぜにして使うべきだということです。
	〓 もしあなたが、本文書に書かれている勧告をそのまま使用した場合は、
	予想される攻撃者はやはり本文書を読んでいるわけですから、
	あなたの防御策を教えてしまうことになります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害攻撃</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サービス妨害 (DoS)</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションではサービス妨害攻撃 (DoS 攻撃) を扱います。
	サービス妨害攻撃は、普通は、パケット攻撃です。ネットワークを飽
	和させる最先端の偽造パケット (spoofed packet) 攻撃に対してシス
	テム管理者が打てる手はそれほど多くありませんが、一般的に、その
	種の攻撃によってサーバがダウンしないことを確実にすることで、被
	害をある限度に食い止めることはできます。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバの fork の制限。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">踏み台攻撃の制限 (ICMP 応答攻撃、ping broadcast など)。
	  </para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの経路情報のキャッシュ。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">よくあるサービス妨害攻撃は、fork するサーバプロセスに対す
	るものです。これは、サーバにプロセス、ファイル記述子、メモリを
	マシンが死ぬまで食い尽くさせようとするものです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 参照) には、この種の攻撃を制限するオプションが
	いくつかあります。マシンがダウンすることを防止することは可能で
	すが、この種の攻撃によりサービスが中断することを防止することは
	一般的に言ってできないことに注意する必要があります。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	のマニュアルページを注意深く読んで下さい。特に、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option>, <option xmlns:xlink="http://www.w3.org/1999/xlink">-C</option>, <option xmlns:xlink="http://www.w3.org/1999/xlink">-R</option>
	オプションに注意して下さい。IP 偽造攻撃 (spoofed-IP attack) は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> の
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-C</option> オプションの裏をかけるので、
	一般にオプションを組み合わせて使用するべきであることに注意して下さ
	い。スタンドアロンサーバの中には、自分自身で fork を制限するパ
	ラメータを持っているものがあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Sendmail</application> には、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-OMaxDaemonChildren</option> オプションがあります。シ
	ステム負荷の値変化には遅れがあるので、sendmail の負荷限界指定
	オプションを使うよりも、このオプションを使う方がまともに動作す
	る可能性ははるかに高いです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の実行を開始する際に、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">MaxDaemonChildren</literal> パラメータを設定するべき
	です。その値は、通常見込まれる負荷を扱える程度に十分高いが、そ
	れだけの数の <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を操作しよう
	とするとマシンが卒倒してしまうほどには高くないような値に設定す
	るべきです。sendmail をキュー処理モード
	(<option xmlns:xlink="http://www.w3.org/1999/xlink">-ODeliveryMode=queued</option>) で実行することや、
	sendmail デーモン (<command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail -bd</command>) をキュー処
	理用プロセス (<command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail -q15m</command>) と別に実行す
	ることも、用心深いことと言えます。それでもなおリアルタイムでの
	配送を望むのであれば、<option xmlns:xlink="http://www.w3.org/1999/xlink">-q1m</option> のようにすることで、
	キュー処理をはるかに短い時間間隔で行うことができます。いずれに
	しても、<literal xmlns:xlink="http://www.w3.org/1999/xlink">MaxDaemonChildren</literal> オプションに合理
	的な値を確実に指定して、sendmail がなだれをうって失敗すること
	がないようにして下さい。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</application> は直接攻撃される可能性
	があるので、可能ならばいつでも <option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option> オプション
	を用いることを強く推奨します。これができないなら、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option> オプションを使って下さい。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</application> の逆 identd などの接
	続返し (connect-back) を行うサービスについては十分注意を払うよ
	うにするべきです。これらは直接攻撃を受ける可能性があります。こ
	ういう事情があるので、<application xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</application> の
	逆 ident 機能を使おうとは思わないのが一般的です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">境界ルータのところでファイアウォールを設けて、外部からのア
	クセスに対して内部サービスを防御するという考えは実によいもので
	す。この考えは、LAN の外部からの飽和攻撃を防ぐことにあり、内部
	サービスをネットワークベースの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限への攻撃から防御するこ
	とにはあまり考慮を払っていません。ファイアウォールは常に排他的
	に設定して下さい。つまり、<quote xmlns:xlink="http://www.w3.org/1999/xlink">ポート A, B, C, D と M から Z
	まで<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">以外</emphasis> のすべてにファイアウォールを設ける</quote>
	というふうにです。このようにすることで、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> (ゾーンのプライマリである場合)、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ntalkd</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> などのインターネットからア
	クセスできるサービスとして特に指定するもの以外の、小さい番号の
	ポートすべてをファイアウォールで防御することができます。ファイ
	アウォールをこの他のやり方 〓 つまり包含的もしくは受容的
	なファイアウォールとして設定しようとする場合、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">close</quote> することを忘れてしまうサービスがいくつか
	出てきたり、新しい内部サービスを追加したのにファイアウォールの
	更新を忘れたりする可能性がよく出てきます。ファイアウォール上の
	大きい番号のポートを開けておくことにより、小さい番号のポートを
	危険に晒すことなく受容的な動作を許すことができます。FreeBSD で
	は、<varname xmlns:xlink="http://www.w3.org/1999/xlink">net.inet.ip.portrange</varname> への
	<command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</command> (<command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl -a | fgrep
	portrange</command>) をいろいろ使用することで、動的バインドに使用される
	ポート番号の範囲を制御できることを記憶にとどめておいてください。
	これによりファイアウォールの設定を簡略化することもできます。
	たとえば、通常の first/last 範囲として 4000 から 5000 を、
	高位ポートの範囲として、49152 から 65535 を指定し、
	(いくつかのインターネットアクセス可能
	なポートをブロックから除外するのはもちろんですが) 4000
	より下のすべてのポートをブロックするという設定が考えられます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ICMP_BANDLIM</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また別のよくあるサービス妨害攻撃として、踏み台攻撃
	(springboard attack) と呼ばれるものがあります 〓 これは、
	あるサーバを攻撃し、そこ結果として生成される応答が自分自身、ロー
	カルネットワーク、そして他のマシンを過負荷に追い込むようにする
	攻撃です。この種の攻撃の中で最もありふれたものに、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ICMP ping broadcast 攻撃</emphasis>があります。攻撃
	者は、実際に攻撃したいマシンのアドレスを送信元アドレスに設定し
	た ping パケットを偽造して、対象の LAN のブロードキャストアド
	レスに向けてパケットを送信します。境界にあるルータがブロードキャ
	ストアドレスに対する ping パケットを握り潰すように設定されてい
	ない場合、LAN は、詐称された送信元アドレスに向けて応答パケット
	を生成するはめになり、犠牲となるマシンが飽和するところまで行っ
	てしまいます。攻撃者が同じトリックを異なるネットワーク上のいく
	つものブロードキャストアドレスに対して同時に使用した場合、とく
	にひどいことになります。これまでに、120 メガビット以上のブロー
	ドキャスト攻撃が観測されています。2 番目の踏み台攻撃は、ICMP
	エラー報告の仕掛けを狙うものです。攻撃者は ICMP エラー応答を生
	成するパケットを生成し、サーバの受信ネットワークを飽和させ、そ
	の結果としてサーバが送信ネットワークを ICMP 応答で飽和させてし
	まうようにすることができます。mbuf を消費し尽くさせることによ
	り、この種の攻撃でサーバをクラッシュさせることも可能です。サー
	バが生成した ICMP 応答を十分速く送信できない場合、とくにひどい
	ことになります。FreeBSD カーネルには、この種の攻撃の効果を抑制する
	<option xmlns:xlink="http://www.w3.org/1999/xlink">ICMP_BANDLIM</option>
	と呼ばれる新しいカーネルコンパイルオプション
	があります。踏み台攻撃の 3 つめの主要なクラスに属する攻撃は、
	udp echo サービスのような、特定の
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> 内部サービスに関連する
	ものです。攻撃者は、単に送信元アドレスがサーバ A の echo ポー
	トであり、送信先アドレスがサーバ B の echo ポートであるように
	UDP パケットを偽造します。ここでサーバ A, B はともにあなたの
	LAN に接続されています。この 2 つのサーバは、この一つのパケッ
	トを両者の間で互いに相手に対して打ち返しあいます。このようにし
	てパケットをほんのいくつか注入するだけで、攻撃者は両方のサーバ
	と LAN を過負荷状態にすることができます。同様の問題が内部
	<application xmlns:xlink="http://www.w3.org/1999/xlink">chargen</application> ポートにも存在します。
	有能なシステム管理者はこの手の
	inetd 内部テストサービスのすべてを無効にしておくものです。
	</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">偽造パケット攻撃は、カーネルの経路情報キャッシュに過負荷を
	生じさせるために用いられることもあります。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">net.inet.ip.rtexpire</varname>,
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">rtminexpire</varname>, <varname xmlns:xlink="http://www.w3.org/1999/xlink">rtmaxcache</varname>
	の <command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</command> パラメータを参照して下さい。でた
	らめな送信元 IP アドレスを用いた偽造パケット攻撃により、カーネ
	ルは、一時的なキャッシュ経路を経路情報テーブルに生成します。こ
	れは <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -rna | fgrep W3</command> で見ることがで
	きます。これらの経路は、普通は 1600 秒程度でタイムアウトになり
	ます。カーネルがキャッシュ経路テーブルが大きくなり過ぎたことを
	検知すると、カーネルは動的に <varname xmlns:xlink="http://www.w3.org/1999/xlink">rtexpire</varname>
	を減らしますが、<varname xmlns:xlink="http://www.w3.org/1999/xlink">rtminexpire</varname>
	より小さくなるようには決して減らしません。ここに問題が
	2 つあります。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">負荷の軽いサーバが突然攻撃された場合、カーネルが十分素
	    早く反応できないこと。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルが持続的攻撃に耐えられるほど十分
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">rtminexpire</varname> が低く設定されていないこと。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">自分のサーバが T3 もしくはそれより高速の回線でインターネッ
	トに接続されている場合、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を用いて
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">rtexpire</varname> と <varname xmlns:xlink="http://www.w3.org/1999/xlink">rtminexpire</varname>
	とを手動で上書きしておくことが思慮深いことといえます。どちらか
	一方でも 0 には決してしないで下さい (自分のマシンをクラッシュ
	させたくないのであれば)。両パラメータを 2 秒
	に設定すれば、攻撃から経路情報テーブルを守るには十分でしょう。
	</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos および SSH を用いたアクセスの問題</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command></primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたが、Kerberos と ssh を使いたいのだとしたら、
	両者に関して言っておかねばならない問題がいくつかあります。
	Kerberos V は大変優れた認証プロトコルですが、Kerberos 化された
	<application xmlns:xlink="http://www.w3.org/1999/xlink">telnet</application> や
	<application xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</application> は、バイナリストリームを扱う
	のに不向きになってしまうようなバグがあります。さらに、デフォル
	トでは、Kerberos は <option xmlns:xlink="http://www.w3.org/1999/xlink">-x</option> オプションを使わない限
	りセッションを暗号化してくれません。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application> では、デフォルトですべてを暗号
	化してくれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ssh はあらゆる場面でとても良く働いてくれます。
	ただし、デフォルトで暗号鍵を転送してしまうこと
	を除けばです。これはつまり、暗号鍵を持った安全なワークステーショ
	ンがあって、この暗号鍵で残りのシステムとアクセスできるようになっ
	ている場合に、安全でないマシンへ
	ssh 接続を行なうとあなたの暗号鍵を使えてしまうということです。
	実際の鍵そのものが見えてしまうわけではありませんが、
	ssh はあなたが login
	している間、転送用ポートを作ります。攻撃者が安全でないマシンの
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> を破ったら、このポートを使って暗号鍵を取得し、
	この暗号鍵でロックが外れる他のマシンへのアクセスを得てしまいます。
	</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">スタッフのログインには、Kerberos を組み合せた
	ssh を使用することを勧めます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application> は、Kerberos 対応機能と一緒
	にコンパイルできます。こうすると、見えてしまうかもしれない
	ssh 鍵をあまりあてにしないで良いようになります。
	また、それと同時に、Kerberos 経由でパスワードを保護することもできます。
	ssh 鍵は、安全なマシンからの自動化されたタスク
	(Kerberos はこの用途には不向きです) のみに使用するべきです。また、
	ssh の設定で鍵転送をしないようにするか、あるいは ssh が
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">authorized_keys</filename> ファイル中に書くことを許
	している <literal xmlns:xlink="http://www.w3.org/1999/xlink">from=IP/DOMAIN</literal> オプションを使用し
	て、特定のマシンからログインしてきたときのみ鍵が有効であるよう
	にすることも勧めます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="crypt">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">DES, MD5 と Crypt</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Bill</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Swingle</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
      </authorgroup>
      
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">crypt</secondary>
    </indexterm>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">crypt</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DES</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MD5</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 花井 浩之 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hanai@FreeBSD.org</email>,
	12 September 1996.</emphasis></para>
    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳改訂: 日野 浩志 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hino@ccm.cl.nec.co.jp</email>,
	12 March 2001.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Unix システムにおけるすべてのユーザは、そのアカウントに対応し
      た一つのパスワードを持っています。それらのパスワードはユーザ本人
      と本当のオペレーティングシステムのみが知っているべきであるという
      ことは明らかでしょう。それらのパスワードを秘密に保っておくために、
      パスワードは<quote xmlns:xlink="http://www.w3.org/1999/xlink">一方向ハッシュ</quote>として知られる方式で暗
      号化されます。一方向ハッシュとは、簡単に暗号化はできるが解読は難
      しいという方法です。言葉を換えると、先ほど明らかであると書いたの
      は実は正しくないのです: オペレーティングシステム自身は<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">
      本当は</emphasis>パスワードを知らないのです。その代わりに
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">暗号化された</emphasis>形でのみパスワードを知っていま
      す。<quote xmlns:xlink="http://www.w3.org/1999/xlink">素のテキスト</quote>としてパスワードを得る唯一の方法は、
      可能な限りのパスワード空間を検索するという力任せの方法です。
      </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">不幸なことに、Unix が生まれようとしているときにパスワードを
      安全な形で暗号化できる方式は DES (Data Encryption Standard)
      に基づいたものだけでした。このことは米国に住んでいるユーザにとって
      は大して問題ではありませんでしたが、DES のソースコードを米国外に
      輸出することはできないという問題がありました。そのために、
      FreeBSD は、米国の法律を守ることと、未だに DES を使っていた他の
      Unix 一族との互換性を保つこととを両立する方法を探し出す必要がありました。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">その解決方法は、米国のユーザは DES のライブラリをインストー
      ルして DES を使用できるが、米国外のユーザは国外に輸出可能な他の
      ひとつの暗号化方式を使用することができる、というように暗号化ライ
      ブラリを分割することでした。これが FreeBSD がデフォルトの暗号化
      方式として MD5 を使うようになったいきさつです。MD5 は DES よりも
      より安全であると考えられているため、DES をインストールする一番の
      理由は互換性を保つためといえます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化機構を理解する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.4 の前までは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">libcrypt.a</filename>
	は暗号化に使われるライブラリへのシンボリックリンクでした。
	FreeBSD 4.4 で <filename xmlns:xlink="http://www.w3.org/1999/xlink">libcrypt.a</filename>
	は設定可能なパスワード認証ハッシュライブラリを提供するようになりました。
	現在のところ、このライブラリは DES, MD5 および Blowfish
	ハッシュ関数に対応しています。デフォルトでは、FreeBSD
	はパスワードの暗号化に MD5 を利用します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がどの暗号化方式を使うようにセットアップされている
	かを判断するのは簡単です。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename> ファイルの中の暗号化さ
	れたパスワードを調べてみるのが一つの方法です。MD5 ハッシュで暗
	号化されたパスワードは、DES ハッシュで暗号化されたパスワードよ
	りも長く、<literal xmlns:xlink="http://www.w3.org/1999/xlink">$1$</literal>
	という文字で始まるという特徴を持っています。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">$2$</literal>
	で始まるパスワードは、Blowfish ハッシュ関数で暗号化されています。
	DES のパスワードはこ
	れといって識別可能な特徴は持っていませんが、MD5 のパスワードよ
	りは短く、そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">$</literal> という文字を含ま
	ない 64 文字のアルファベットを使って表現されているので、比較的
	短い文字列でドル記号で始まっていないものはおそらく DES のパス
	ワードでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新規パスワードがどちらのパスワード形式になるかは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename> の中の
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">passwd_format</quote> ログインケーパビリティによって制御されます。
	その値としては、<quote xmlns:xlink="http://www.w3.org/1999/xlink">des</quote>、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">md5</quote> または <quote xmlns:xlink="http://www.w3.org/1999/xlink">blf</quote> を設定することができます。
	ログインケーパビリティに関するより詳細な情報は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> マニュアルページをご覧ください。</para>

    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="skey">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">S/Key</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">S/Key</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">S/Key</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">S/Key は一方向ハッシュ関数を基にしたワンタイムパスワード方式
      です。FreeBSD では、互換性のために MD4 ハッシュを用いていますが
      他のシステムでは MD5 や DES-MAC を用いてます。S/Key は、バージョ
      ン1.1.5 以降のすべての FreeBSD に含まれていますし、FreeBSD 以外
      の数多くのシステムの上でも利用されています。S/Key は Bell
      Communications Research, Inc. の登録商標です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD バージョン 5.0 以降では、S/Key
      は機能的に同等な OPIE (Onetime Passwords In Everything)
      で置き換えられました。OPIE はデフォルトでは
      MD5 ハッシュを使用します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の説明では、三種類の異なる「パスワード」が使われます。
      まず一つ目は、あなたが普段使っている普通の
      Unix スタイルの、もしくは Kerberos
      のパスワードです。ここではこれを
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">Unix パスワード</quote> と呼ぶことにします。二つ目は、S/Key
      の <command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> プログラム、または
      OPIE の <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command> プログラムによって生成され、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>
      プログラムとログインプロンプトが受け付けるパスワードです。
      ここではこれを <quote xmlns:xlink="http://www.w3.org/1999/xlink">ワンタイムパスワード</quote>
      と呼ぶことにします。三つ目のパスワードは、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">key</command>/<command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command> (と場合により
      <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command>/<command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>)
      プログラムに対してユーザが入力する秘密のパスワードで、
      ワンタイムパスワードを生成するのに使われます。ここではこれを
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">秘密のパスフレーズ</quote> もしくは単に
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">パスフレーズ</quote> と呼ぶことにします。
      (訳注: ユーザが頭の中だけにしまっておくべきものが、
      この秘密のパスフレーズです。なお、原文ではこれを
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">password</quote> と表記していますが、
      混乱を避けるために訳文ではすべて
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">秘密のパスフレーズ</quote> に統一しています)。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">秘密のパスフレーズは、Unix
      パスワードと何の関連性もありません。
      両者を同一に設定することは可能ですが、お奨めしません。Unix
      パスワードは長さが 8 文字に制限されています (訳注: FreeBSD で
      DES を導入していない場合はもっと長いパスワードも認識されます)。
      これに対し、S/Key や OPIE
      では秘密のパスフレーズを好きなだけ長くすることができます
      (訳注: 実装上、<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> コマンドなどの
      バッファ長で制限されてしまう可能性があります。200 文字程度に押
      えておいた方がよいでしょう :-)。
      6 語から 7 語からなるパスフレーズがふつうです。ほとんどの部分で、
      S/Key や OPIE システムは Unix
      のパスワードシステムと完全に独立して動作するようになっています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">パスフレーズに加え、S/Key や OPIE
      システムにとって重要な 2 種類のデータがあります。一つは
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">シード (seed: 種)</quote> または
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">キー (key: 鍵)</quote> と呼ばれるもので、2 つの文字と
      5 つの数字で構成されます。もう一つは <quote xmlns:xlink="http://www.w3.org/1999/xlink">シーケンス番号 (iteration
      count)</quote> で、1 から 100 までの整数です。S/Key はここまで
      に述べたデータを利用してワンタイムパスワードを生成します。その方
      法は、まずシードと秘密のパスフレーズを連結し、それに対してシーケ
      ンス番号の回数だけ MD4/MD5 ハッシュを繰り返し計算します。
      そしてその結果を 6 つの短い英単語に変換します。
      認証システム (一次的には PAM)
      は、前回最後に受け付けたワンタイムパスワードを記録しています。
      そして、その前回
      のワンタイムパスワードと、ユーザが入力したワンタイムパスワードを
      1 回ハッシュ関数にかけた結果とが一致した場合に、このユーザは認証
      されます。一方向ハッシュ関数を使っているので、もし正しく認証され
      たワンタイムパスワードが一回盗聴されたとしても、次回以降に使われ
      る複数のワンタイムパスワードを生成することは不可能です。シーケ
      ンス番号はログインが成功するたびに一つずつ減らされて、ユーザとロ
      グインプログラムの間で同期が取られます。シーケンス番号が 1 まで
      減ったら、S/Key や OPIE を再度初期化する必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、それぞれのシステムで関連する
      3 つのプログラムについて説明します。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
      プログラムは、シーケンス番号と、シードと、
      秘密のパスフレーズを受け付けて、ワンタイムパスワード 1 つ、
      または一連のワンタイムパスワードの一覧を生成します。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>
      プログラムは、それぞれ S/Key と OPIE
      を初期化するのに使用され、また秘密のパスフレーズ、
      シーケンス番号やシードを変更するためにも使用されます。
      それぞれのプログラムを実行するには、秘密のパスフレーズか、
      または、シーケンス番号とシードとワンタイムパスワードの
      1 組かの、どちらかを与えます。
      <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinfo</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">opieinfo</command> プログラムは、
      それぞれに対応する認証ファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/skeykeys</filename>
      または <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/opiekeys</filename>)
      を調べて、プログラムを起動したユーザの現在のシーケンス番号とシードを表示します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書では、4 種類の異なる操作について説明します。
      1 つ目は、<command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> または
      <command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command> を信頼できる通信路上で利用して、
      最初にワンタイムパスワードを設定したり、
      秘密のパスフレーズやシードを変更する操作です。
      2 つ目は、同じことを行うために <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command>
      または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>
      を信頼できない通信路上で利用する操作です。
      この場合は信頼できる通信路経由の
      <command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
      を併用します。3 つ目は、<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> または
      <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
      を使い、信頼できない通信路を通じてログインする操作です。
      4 番目は、<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
      を使って複数のワンタイムパスワードを一気に生成する操作です。
      ここで生成した複数のワンタイムパスワードは、
      メモしたり印刷したりして携帯し、
      信頼できる通信路が一切ないところで利用することができます。
      (訳注: ワンタイムパスワードを記録した紙をなくさないこと!
       電話番号や
       IP アドレス、ユーザ名を一緒にメモしていたら最悪です!!)</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">信頼できる通信路での初期化</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">信頼できる通信路 (たとえばあるマシンのコンソール画面や、ssh
	を使っている時など) を利用しているときに、S/Key を初めて初期化
	すること、S/Key の秘密のパスフレーズを変更すること、またはシー
	ドを変更すること、をおこなうことができます。そのためには、まず
	あなた自身がログインし、<command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> コマンドを
	以下のようにパラメータなしで実行します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</userinput>
Adding unfurl:
Reminder - Only use this method if you are directly connected.
If you are using telnet or rlogin exit with no password and use keyinit -s.
        ) `keyinit' コマンドが出力する注意です。訳すと、
        ) 注意 - この動作モードはマシンに直接入力しているときのみ利用
        ) すること。もし今 telnet や rlogin を使っているなら、秘密のパ
        ) スフレーズを入力せずにこのままコマンドを終了し、かわりに
        ) keyinit -s を実行すること。
Enter secret password:
Again secret password:

ID unfurl s/key is 99 to17757
DEFY CLUB PRO NASH LACE SOFT</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OPIE では <command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>
	が代わりに使われます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd -c</userinput>
[grimreaper] ~ $ opiepasswd -f -c
Adding unfurl:
Only use this method from the console; NEVER from remote. If you are using
telnet, xterm, or a dial-in, type ^C now or exit with no password.
Then run opiepasswd without the -c parameter.
        ) `opiepasswd' コマンドが出力する注意です。訳すと、
        ) この手順はコンソール以外では利用しないでください。リモートからは
        ) 絶対に利用してはいけません。telnet, xterm またはダイアルアップで
        ) 利用している場合は、^C を入力するかパスワードを入れずに終了してく
        ) ださい。その後、opiepasswd を -c オプションなしで実行してください。
Using MD5 to compute responses.
Enter new secret pass phrase:
Again new secret pass phrase:
ID unfurl OTP key is 499 to4268
MOS MALL GOAT ARM AVID COED
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter new secret pass phrase:</prompt>
	または <prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter secret password:</prompt>
	というプロンプトに対して、
	あなたが考えた秘密のパスフレーズを入力します。このパスフ
	レーズはログインするときに使うものではなく、ログインするときに
	使うワンタイムパスワードを生成するために使うものであることを覚
	えておいてください。<quote xmlns:xlink="http://www.w3.org/1999/xlink">ID</quote> から始まる行は、
	1 回分のパラメータで、
	あなたのログイン名とシーケンス番号とシードです。
	(訳注: <command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> コマンドは
	次回にログインするときに使えるパラメータを参考のためにここで表示します)。
	システムにログインするときには、
	システム側が自動的にこれらのパラメータを表示してくれますから、
	これらのパラメータを
	覚えておく必要はありません。最後の行が、今述べたパラメータと入力
	された秘密のパスフレーズから計算されたワンタイムパスワードです。
	この例を実行した後、次にログインするときに打ち込むべきワンタイ
	ムパスワードがこれです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">信頼できない通信路での初期化</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">信頼できない通信路を使って秘密のパスフレーズを初期化または変更するためには、
	それとは別に <command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
	プログラムを実行するための信頼できる通信路を用意しておく必要があります。
	たとえばそれは、あなたが信頼できる Macintosh
	のデスクアクセサリや信頼できるマシンのシェルプロンプトだったり
	するでしょう。(訳注: ここでの通信路とはマシンそのものになりま
	す。信頼できるマシンとは、信頼できる人がしっかり管理しているマ
	シンということです)。他に準備しておくものとして、シーケンス番
	号 (100 は適切な値といえるでしょう) と、場合によっては自分で考
	えた、またはランダムに生成されたシードがあります。(あなたが
	S/Key を初期化しようとしているマシンへの) 信頼できない通信路を
	使うときには、<command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit -s</command> コマンドを以下のよ
	うに使用します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">keyinit -s</userinput>
Updating unfurl:
Old key: to17758
Reminder you need the 6 English words from the key command.
	) `keyinit' コマンドが出力する注意です。訳すと、
	) 注意 - skey コマンドの出力する 6 英単語が必要になります。
Enter sequence count from 1 to 9999: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">100</userinput>
Enter new key [default to17759]:
s/key 100 to 17759
s/key access password:
s/key access password:<userinput xmlns:xlink="http://www.w3.org/1999/xlink">CURE MIKE BANE HIM RACY GORE</userinput>
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OPIE では、<command xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</command>
	を使います。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">opiepasswd</userinput>

Updating unfurl:
You need the response from an OTP generator.
	) `opiepasswd' コマンドが出力する注意です。訳すと、
	) OTP 生成器の返す出力が必要になります。
Old secret pass phrase:
        otp-md5 498 to4268 ext
        Response: GAME GAG WELT OUT DOWN CHAT
New secret pass phrase:
        otp-md5 499 to4269
        Response: LINE PAP MILK NELL BUOY TROY

ID mark OTP key is 499 gr4269
LINE PAP MILK NELL BUOY TROY
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのシード (<command xmlns:xlink="http://www.w3.org/1999/xlink">keyinit</command> プログラム
	は困ったことにこれを <literal xmlns:xlink="http://www.w3.org/1999/xlink">key</literal>
	と呼んでいるのですが、混乱しないよう注意してください)
	で構わなければ、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Return</keycap>
	を押してください。次に、アクセスパスワードを入れる前に、あらか
	じめ用意しておいた信頼できる通信路(信頼できるマシンや信頼でき
	る S/Key デスクアクセサリなど) へ移って、先ほどと同じパラメータ
	を入力します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">key 100 to17759</userinput>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;秘密のパスフレーズ&gt;</userinput>
CURE MIKE BANE HIM RACY GORE</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OPIE では、</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">opiekey 498 to4268</userinput>
Using the MD5 algorithm to compute response.
Reminder: Don't use opiekey from telnet or dial-in sessions.
Enter secret pass phrase:
GAME GAG WELT OUT DOWN CHAT
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで信頼できない通信路の方に戻って、
	生成されたワンタイムパスワードをコピーして対応するプログラムに入力します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ワンタイムパスワードを一つ生成する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">S/Key または OPIE を初期化したら、
	ログイン時には以下のようなプロンプトが出てくるでしょう。</para>

<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">telnet example.com</userinput>
Trying 10.0.0.1...
Connected to example.com
Escape character is '^]'.

FreeBSD/i386 (example.com) (ttypa)

login: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;ユーザ名&gt;</userinput>
s/key 97 fw13894
Password: </screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OPIE については、</para>

<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">telnet example.com</userinput>
Trying 10.0.0.1...
Connected to example.com
Escape character is '^]'.

FreeBSD/i386 (example.com) (ttypa)

login: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;username&gt;</userinput>
otp-md5 498 gr4269 ext
Password: </screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは表示していませんが、S/Key と OPIE
	のプロンプトには便利な機能が備わっています。
	パスワードプロンプトに対して、何も入力せずに
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Return</keycap> を押すとエコーモードに切り替わります。
	つまりタイプした文字がそのまま見えるようになるのです。
	これは、紙に印刷していたりするワンタイムパスワードを
	手で入力しなければならない場合に特に役立つ機能です。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MS-DOS</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Windows</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MacOS</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	このログインプロンプトに対して入力するワンタイムパスワードを生成しなければなりません。
	これは、<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">opiekey</command>
	プログラムを使える信頼できるマシン上で行わなければなりません。
	(これらのプログラムには DOS や Windows, MacOS 版があります)。
	どちらも、コマンドラインからシーケンス番号とシードを指定しなければなりません。
	ログインしようとしているマシンのログインプロンプトから直接カットアンドペーストすると楽でしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">信頼できるシステムで</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">key 97 fw13894</userinput>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password:
WELD LIP ACTS ENDS ME HAAG</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OPIE では</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">opiekey 498 to4268</userinput>
Using the MD5 algorithm to compute response.
Reminder: Don't use opiekey from telnet or dial-in sessions.
Enter secret pass phrase:
GAME GAG WELT OUT DOWN CHAT</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでワンタイムパスワードが得られました。
	ログインを続けましょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">login: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;username&gt;</userinput>
s/key 97 fw13894
Password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;return to enable echo&gt;</userinput>
s/key 97 fw13894
Password [echo on]: WELD LIP ACTS ENDS ME HAAG
Last login: Tue Mar 21 11:56:41 from 10.0.0.2 ...</screen>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">複数のワンタイムパスワードを生成する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">都合によっては、信頼できるマシンや信頼できる通信路が一切確
	保できないようなところで S/Key を使う必要があるでしょう。この
	ような場合には、<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> コマンドを使って複数の
	ワンタイムパスワードをあらかじめ一気に生成し、紙に印刷して携帯
	していくことができます。たとえば</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">key -n 5 30 zz99999</userinput>
Reminder - Do not use this program while logged in via telnet or rlogin.
Enter secret password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">&lt;秘密のパスフレーズ&gt;</userinput>
26: SODA RUDE LEA LIND BUDD SILT
27: JILT SPY DUTY GLOW COWL ROT
28: THEM OW COLA RUNT BONG SCOT
29: COT MASH BARR BRIM NAN FLAG
30: CAN KNEE CAST NAME FOLK BILK</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-n 5</option> という引数によって 5 個のワンタイム
	パスワードを順に生成します。ここで <option xmlns:xlink="http://www.w3.org/1999/xlink">30</option> は、最
	後のシーケンス番号となるべき数字です。出力は普通に使う順番とは
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">逆</emphasis>に出力されていることに注意してください
	(訳注: 一番最初に使うワンタイムパスワードは一番最後に出力され
	たものです)。この結果をカットアンドペーストして
	<command xmlns:xlink="http://www.w3.org/1999/xlink">lpr</command> コマンドを使って印刷すると よいでしょう。
	もしあなたがセキュリティに偏執するなら、この結果を紙と鉛筆を使っ
	て手で書き移した方がよいかもしれません。ここで、出力の各行はシー
	ケンス番号とそれに対応する一回分のワンタイムパスワードです。
	消費済みの ワンタイムパスワードの行をペンで消していくと便利で
	しょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Unix パスワードの利用を制限する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/skey.access</filename>
	を使って Unix パスワードの利用を制限することができます。
	この場合の判
	断基準として、ログインを受け付ける際のホスト名、ユーザ名、端末
	のポート、IP アドレスなどが利用できます。この設定ファイルの詳
	細に関してはマニュアル <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">skey.access</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。マ
	ニュアルにはこの機能に関わるセキュリティについて、いくつかの警
	告が記述してあります。この機能を使ってセキュリティを高めようと
	するのならば絶対にこのマニュアルを読んでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/skey.access</filename> ファイルが存在
	しないならば (FreeBSD のデフォルト状態ではそうです)、すべての
	ユーザが Unix パスワードを利用することができます。逆に、もし
	ファイルが存在するならば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">skey.access</filename> ファ
	イルに明示的に記述されていない限り、すべてのユーザは S/Key の
	利用を要求されます。どちらの場合においても、そのマシンのコンソー
	ルからはいつでも Unix パスワードを使ってログインすることが可能
	です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下によく使われるであろう三種類の設定を含む設定ファイルの
	例を示します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">permit internet 192.168.0.0 255.255.0.0
permit user fnord
permit port ttyd0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめの行 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">permit internet</literal>) で、telnet
	などで接続するときの IP のソースアドレス (注意: これは偽造され
	るおそれがあります) が特定の値とマスクに一致している場合に、
	Unix パスワードの利用を許可することを指定しています。
	この設定自体はセキュリティを高めるための機能ではありません。そうでは
	なく、ログインの権利を持つ許可されたユーザに対して、現在そのユー
	ザが使っているネットワークが信頼できないと考えられるので S/Key
	を使うべきである、ということを気づかせるための機能であると考え
	てください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二行目 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">permit user</literal>)
	によって、ある特定のユーザ、この場合は
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">fnord</systemitem>、に対して、いつでも Unix
	パスワードの利用を許可するように指定しています。
	一般的にはこの設定をおこなうべきではありません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">key</command> プログラムがどうしても使えない環境にい
	る人や、ダム端末しかない環境にいる人、または何度教えても聞く耳
	を持たないような人をサポートする必要がある場合にのみ設定をおこ
	なってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">三行目 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">permit port</literal>) によって、ある特定
	の端末ポートからログインしようとするすべてのユーザに対して
	Unix パスワードの利用を許可するように指定しています。この設定
	はダイヤルアップ回線に対する設定として利用できるでしょう。
	</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kerberos">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Mark</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Murray</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Mark</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Dapoz</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">基にした文書の執筆: </contrib></author>
      </authorgroup>
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 有村 光晴 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">arimura@jp.FreeBSD.org</email>.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">Kerberosは、
      サーバのサービスによってユーザが安全に認証を受けられる
      ようにするための、ネットワークの付加システム及びプロトコルです。
      リモートログイン、リモートコピー、
      システム間での安全なファイルのコピ
      ーやその他のリスクの高い仕事がかなり安全に、
      そしてこれまでより制御 できるようになります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の文章は、
      FreeBSD用として配布されているKerberosをセットアップ
      する際のガイドとして読むことができます。しかし、
      完全な説明が必要な場合には、マニュアルページを読んだ方がよい
      でしょう。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos のインストール</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MIT</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos は選択が任意な FreeBSD のコンポーネントです。
	もっとも簡単なインストール方法は、FreeBSD
	のインストール時に <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application>
	で 'krb4' または 'krb5' 配布物を選択することです。
	そうすると、Kerberos の 'eBones' (KerberosIV) または
	'Heimdal' (Kerberos5) 実装がインストールされます。
	これらの実装が入っているのは、
	これがアメリカ合衆国およびカナダの外で開発されたものであるため、
	アメリカ合衆国からの暗号ソフトウェアの輸出が制限されていた時代でも
	アメリカ合衆国およびカナダ以外の国に住んでいるシステム所有者の手に入るものだったからです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほかに、MIT で実装された Kerberos が Ports Collection
	の <package xmlns:xlink="http://www.w3.org/1999/xlink">security/krb5</package>
	から利用できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">初期データベースの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この作業はKerberosサーバだけでおこないます。まず、
	古いKerberosの データベースが存在しないことを確認してください。
	ディレクトリ<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/kerberosIV</filename>に移って、
	次のファイルだけが 存在することをチェックします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /etc/kerberosIV</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls</userinput>
README          krb.conf        krb.realms</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし他のファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">principal.*</filename> や
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">master_key</filename>) が 存在する場合には、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">kdb_destroy</command>というコマンドで古い
	Kerberosデータベースを消してください。
	Kerberosが走っていなければ、
	単に余計なファイルを消せばよいです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、<filename xmlns:xlink="http://www.w3.org/1999/xlink">krb.conf</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">krb.realms</filename>を編集してKerberosの 管理領域
	(realm) を定義してください。
	ここでは管理領域が <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLE.COM</filename>
	で、サーバ名が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">grunt.example.com</systemitem>
	であるとします。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">krb.conf</filename>
	というファイルを次のように編集してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat krb.conf</userinput>
EXAMPLE.COM
EXAMPLE.COM grunt.example.com admin server
CS.BERKELEY.EDU okeeffe.berkeley.edu
ATHENA.MIT.EDU kerberos.mit.edu
ATHENA.MIT.EDU kerberos-1.mit.edu
ATHENA.MIT.EDU kerberos-2.mit.edu
ATHENA.MIT.EDU kerberos-3.mit.edu
LCS.MIT.EDU kerberos.lcs.mit.edu
TELECOM.MIT.EDU bitsy.mit.edu
ARC.NASA.GOV trident.arc.nasa.gov</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例にあるような他の管理領域は、実際には必要ありません。
	この例は複数の管理領域を認識する方法を示したものですので、
	これらの行は含めなくても結構です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">1行目はこのシステムが動いている管理領域の名前です。
	他の行は管理領域とホスト名のエントリです。
	行の1つめの単語が管理領域で、2つめがその管理領域の中で
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">鍵配布センター</quote>(Key Distribution Center)
	として働くホスト名です。ホスト名の次に <literal xmlns:xlink="http://www.w3.org/1999/xlink">admin
	server</literal> と書いてある場合には、そのホストが
	管理データベースサーバ (Administrative Database Server)
	も提供することを意味します。
	これらの単語について詳しく知りたい場合には Kerberos
	のマニュアルページをご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<filename xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLE.COM</filename> という管理領域に
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">grunt.example.com</systemitem>
	およびその他の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">.example.com</systemitem>
	ドメインのすべてのホストを追加しなければなりません。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">krb.realms</filename> は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat krb.realms</userinput>
grunt.example.com EXAMPLE.COM
.example.com EXAMPLE.COM
.berkeley.edu CS.BERKELEY.EDU
.MIT.EDU ATHENA.MIT.EDU
.mit.edu ATHENA.MIT.EDU</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一度注意しますが、他の管理領域を書く必要はありません。
	これらは複数の管理領域を認識できるようにマシンを設定する方法を
	示した例ですので、これらの行は消して構いません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">1行目は名前をつけた管理領域に <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">特定の</emphasis>
	システムを含めるための ものです。
	残りの行は名前をつけた管理領域にサブドメインのデフォルトの
	システムを含めるためのものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでデータベースを作成する準備ができました。
	この操作はKerberos サーバ (鍵配布センター) を起動するだけです。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">kdb_init</command>コ
	マンドを次のように実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kdb_init</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Realm name [default  ATHENA.MIT.EDU ]:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLE.COM</userinput>
You will be prompted for the database Master Password.
It is important that you NOT FORGET this password.

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key:</prompt> </screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで鍵を保存して、
	ローカルのマシンにあるサーバが取り出せるように します。
	それには<command xmlns:xlink="http://www.w3.org/1999/xlink">kstash</command>コマンドを使用します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kstash</userinput>

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key: </prompt>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで暗号化されたマスタパスワードが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/kerberosIV/master_key</filename>
	に保存されました。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">すべてが動くようにするための設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Kerberosを導入する <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">それぞれの</emphasis>
	システムのデータベースに、2つ のprincipal (主体名)
	を追加する必要があります。その名前は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">kpasswd</literal>と<literal xmlns:xlink="http://www.w3.org/1999/xlink">rcmd</literal>です。
	これら2つのprincipalは、個々 のシステムにおいて、
	システム名と同じ名前のインスタンスと組にして作成
	されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの <command xmlns:xlink="http://www.w3.org/1999/xlink">kpasswd</command> と
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rcmd</command> というデーモンによって、他の
	システムからKerberosのパスワードを変更したり、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rcp</command>や <command xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</command>,
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command>といったコマンドを実行したりできるよ
	うになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それでは実際にこれらのエントリを追加しましょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kdb_edit</userinput>
Opening database...

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key: </prompt>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">passwd</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Instance:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">grunt</userinput>

&lt;Not found&gt;, <prompt xmlns:xlink="http://www.w3.org/1999/xlink">Create [y] ?</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>

Principal: passwd, Instance: grunt, kdc_key_ver: 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- ここは「RANDOM」と入力してください
Verifying password

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- ここは「RANDOM」と入力してください

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Random password [y] ?</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>

Principal's new key version = 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Max ticket lifetime (*5 minutes) [ 255 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Attributes [ 0 ] ? </prompt>
Edit O.K.
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rcmd</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Instance:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">grunt</userinput>

&lt;Not found&gt;, <prompt xmlns:xlink="http://www.w3.org/1999/xlink">Create [y] ?</prompt>

Principal: rcmd, Instance: grunt, kdc_key_ver: 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- ここは「RANDOM」と入力してください
Verifying password

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- ここは「RANDOM」と入力してください

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Random password [y] ? </prompt>

Principal's new key version = 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Max ticket lifetime (*5 minutes) [ 255 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Attributes [ 0 ] ? </prompt>
Edit O.K.
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt>                  &lt;---- 何も入力しないと終了します</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サーバファイルの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、各マシンにおけるサービスを定義している、
	すべてのインスタンスを展開します。
	これには <command xmlns:xlink="http://www.w3.org/1999/xlink">ext_srvtab</command> というコマンドを使用します。
	このコマンドで作成されるファイルは、Kerberos
	の各クライアントの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/kerberosIV</filename>
	ディレクトリに<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">安全な方法で</emphasis>
	コピーまたは移動する必要があります。
	このファイルはそれぞれのサーバとクライアントに存在しなければならず、
	また Kerberos の運用において重要なものです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ext_srvtab grunt</userinput>

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key: </prompt>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Generating 'grunt-new-srvtab'....</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは一時的なファイルを作成するだけです。
	ファイル名をすべ てのサーバが読めるような
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">srvtab</filename> という名前に変更しな
	ければなりません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mv</command>コマンドを用いてシステムの場所に移動
	してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> mv grunt-new-srvtab srvtab</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのファイルがクライアントに配るためのもので、
	ネットワークが安全で はないと思われる場合には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">
	  client-new-srvtab</filename>
	を移動
	可能なメディアにコピーして物理的に安全な方法で運んでください。
	クラ
	イアントの<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/kerberosIV</filename>ディレクトリで、
	名前を <filename xmlns:xlink="http://www.w3.org/1999/xlink">srvtab</filename>に変更し、
	modeを600にするのを忘れないでください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv grumble-new-srvtab srvtab</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 600 srvtab</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">データベースへのユーザの追加</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、
	ユーザのエントリをデータベースに追加する必要があります。
	始めに、
	ユーザ<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem>のエントリを作成してみましょう。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">kdb_edit</command>
	を用いて次のように作成してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kdb_edit</userinput>
Opening database...

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key: </prompt>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">jane</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Instance:</prompt>

&lt;Not found&gt;, <prompt xmlns:xlink="http://www.w3.org/1999/xlink">Create [y] ?</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>

Principal: jane, Instance: , kdc_key_ver: 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- 安全なパスワードを入れてください
Verifying password

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- もう一度パスワードを入れてください

Principal's new key version = 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Max ticket lifetime (*5 minutes) [ 255 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Attributes [ 0 ] ? </prompt>
Edit O.K.
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt>                  &lt;---- 何も入力しないと終了します</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">すべてのテスト</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず始めにKerberosデーモンを起動する必要があります。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	ファイルを正しく編集してあれば、マシンを再
	起動することでに自動的にデーモンが起動します。
	これはKerberosサー バでのみ必要です。
	Kerberosクライアントは<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/kerberosIV</filename>か
	ら必要なものを自動的に入手します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kerberos &amp;</userinput>
Kerberos server starting
Sleep forever on error
Log file is /var/log/kerberos.log
Current Kerberos master key version is 1.

Master key entered.  BEWARE!

Current Kerberos master key version is 1
Local realm: EXAMPLE.COM
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kadmind -n &amp;</userinput>
KADM Server KADM0.0A initializing
Please do not use 'kill -9' to kill this job, use a
regular kill instead

Current Kerberos master key version is 1.

Master key entered.  BEWARE!</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さあ、これで上で作成した <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem>
	というIDのチケットを
	<command xmlns:xlink="http://www.w3.org/1999/xlink">kinit</command>コマンドで得ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kinit jane</userinput>
MIT Project Athena (grunt.example.com)
Kerberos Initialization for "jane"
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password:</prompt> </screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">klist</command> コマンドを用いてトークンを見て、
	きちんとチケットを持って いるかどうか確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">klist</userinput>
Ticket file:    /tmp/tkt245
Principal:      jane@EXAMPLE.COM

  Issued           Expires          Principal
Apr 30 11:23:22  Apr 30 19:23:22  krbtgt.EXAMPLE.COM@EXAMPLE.COM</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">passwd</command>
	コマンドを用いてパスワードを変更して、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">kpasswd</application> デーモンが Kerberos
	データベースに対して認証されるかどうかチェックして
	ください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">passwd</userinput>
realm EXAMPLE.COM
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Old password for jane:</prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password for jane:</prompt>
Verifying password
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password for jane:</prompt>
Password changed.</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> 特権の追加</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Kerberos は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限が必要な
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">各</emphasis> ユーザに対し、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> コマンドのパスワードをユーザ毎に
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">別のもの</emphasis> として持つことを可能にします。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> に <command xmlns:xlink="http://www.w3.org/1999/xlink">su</command>
	できる権利を与えられた id を追加します。これは、
	principal に付いている <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	というインスタンスに よって制御されています。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">kdb_edit</command>を用いて
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">jane.root</literal>というエントリを
	Kerberosデータベースに作成します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kdb_edit</userinput>
Opening database...

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter Kerberos master key: </prompt>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">jane</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Instance:</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">root</userinput>

&lt;Not found&gt;, Create [y] ? y

Principal: jane, Instance: root, kdc_key_ver: 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- 安全なパスワードを入れます
Verifying password

<prompt xmlns:xlink="http://www.w3.org/1999/xlink">New Password:</prompt>                    &lt;---- もう一回パスワードを入れます

Principal's new key version = 1
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ? </prompt>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Max ticket lifetime (*5 minutes) [ 255 ] ?</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">12</userinput> &lt;--- ここは短くしてください
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Attributes [ 0 ] ? </prompt>
Edit O.K.
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Principal name:</prompt>                  &lt;---- 何も入力しないと終了します</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">実際にトークンをもらって、
	ちゃんと働いているかどうか確認しましょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kinit jane.root</userinput>
MIT Project Athena (grunt.example.com)
Kerberos Initialization for "jane.root"
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password: </prompt></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.klogin</filename>
	ファイルにユーザを追加する必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat /root/.klogin</userinput>
jane.root@EXAMPLE.COM</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> してみましょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su</userinput>
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password: </prompt></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どのトークンを持っているか見てみましょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">klist</userinput>
Ticket file:	/tmp/tkt_root_245
Principal:      jane.root@EXAMPLE.COM

  Issued           Expires          Principal
May  2 20:43:12  May  3 04:43:12  krbtgt.EXAMPLE.COM@EXAMPLE.COM</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">他のコマンドの使用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここまでの例では、<literal xmlns:xlink="http://www.w3.org/1999/xlink">jane</literal> という principal
	を <literal xmlns:xlink="http://www.w3.org/1999/xlink">root</literal> とい
	うインスタンス付きで作成しました。
	これはユーザと同じ名前をprincipalと しており、
	Kerberosのデフォルトの値です;
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;username&gt;.</literal><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	という形式の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;principal&gt;.&lt;instance&gt;</literal>で、
	必要なエントリが <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> のホームディレクトリの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.klogin</filename> ファイルにあれば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">&lt;username&gt;</literal> が
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> に
	<command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat /root/.klogin</userinput>
jane.root@EXAMPLE.COM</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同様に、ユーザのホームディレクトリの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.klogin</filename>ファイルに次の
	ような行がある場合には</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat ~/.klogin</userinput>
jane@EXAMPLE.COM
jack@EXAMPLE.COM</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem> または <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jack</systemitem>
	という名前で (前述の<command xmlns:xlink="http://www.w3.org/1999/xlink">kinit</command> によって)
	認証されている <filename xmlns:xlink="http://www.w3.org/1999/xlink">EXAMPLE.COM</filename>
	という管理領域のユーザ なら誰でも<command xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</command> や
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">rcp</command>等によってこ
	のシステム (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">grunt</systemitem>)
	の<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem>のアカウントまたはファ
	イルにアクセスできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem> が他のシステムに
	Kerberos を用いて login します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kinit</userinput>
MIT Project Athena (grunt.example.com)
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password: </prompt>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rlogin grunt</userinput>
Last login: Mon May  1 21:14:47 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
	The Regents of the University of California.   All rights reserved.

FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、Jack が同じマシンの Jane
	のアカウントに login します。<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">jane</systemitem> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.klogin</filename> ファイルを前述のように設定しており、
	Kerberos では <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">jack</emphasis> という principal
	をインスタンスなしで設定してあります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kinit</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rlogin grunt -l jane</userinput>
MIT Project Athena (grunt.example.com)
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">Password: </prompt>
Last login: Mon May  1 21:16:55 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
	The Regents of the University of California.   All rights reserved.

FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="firewalls">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Gary</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Palmer</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Alex</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Nash</surname></personname></author>
      </authorgroup>
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 佐伯 隆司 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">saeki@jp.FreeBSD.org</email>.<!-- <br> -->
	11 November 1996.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールは、
      インターネットに参加している人はもちろんのこと、
      プライベートネットワークのセキュリティ向上のための
      アプリケーションを 探している人にとっても、
      ますます興味深くなりつつある分野です。
      このセクションではファイアウォールとは何か、
      ファイアウォールの使用法、
      そしてファイアウォールを構築するために FreeBSD のカーネルで
      提供されているファシリティ (機能)
      の使用法について説明したいと思います。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">社内のネットワークと <quote xmlns:xlink="http://www.w3.org/1999/xlink">巨大かつ信頼のおけない
	インターネット</quote>との間にファイアウォールを構築することで
	セキュリティ上のすべての問題が解決できると考える人がいます。
	ファイアウォールはセキュリティ上の問題を
	解決する助けになる場合もありますが、
	充分な設定がなされていないファイアウォールは、
	まったくファイアウォールを
	持たない場合よりもセキュリティ上の危険を増大させてしまいます。
	ファイアウォールにできることは、
	あなたのシステムにもう一つのセキュリティ層を
	追加することだけで、
	本気でアタックをしかけてくるクラッカーが内部ネットワークに
	侵入するのを妨げることはできません。
	ファイアウォールを侵入不可能と過信して
	内部のセキュリティをおろそかにすることは、
	単にクラッカーの仕事を少し簡単にするだけでしか
	ありません。</para>
    </note>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールとは何か ?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在インターネットで普通に使用されている
	ファイアウォールには 二つの異なるタイプがあります。一つは、
	厳密には <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> パケットフィルタリングルータ </emphasis>
	と 呼ばれるタイプのものです。これはマルチホームのホストマシン
	(複数の ネットワークに接続されているマシン) のカーネルが、
	ある規則にしたがって
	パケットを転送したりブロックしたりするものです。もう一つは、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> proxy (代理) サーバ </emphasis>
	として知られているタイプのものです。これは、
	おそらくはマルチホームのホストマシン上で、
	カーネルによるパケット転送を 禁止して、
	デーモンにより認証の提供とパケットの転送とを
	おこなうものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二つのタイプのファイアウォールを組み合わせて使用して、
	特定のマシン (<emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> 要塞ホスト </emphasis> と呼ばれる)
	だけが パケットフィルタリングルータを通して内部ネットワークへ
	パケットを送ることができるよう設定している
	サイトがしばしば存在します。proxy (代理)
	サービスは通常の認証機構よりもセキュリティを
	強化してある 要塞ホストで動作させます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は (IPFW として知られる)
	カーネルパケットフィルタ込みで提供されています。
	この節の残りでは、このフィルタについて集中して説明します。
	サードパーティから提供されるソフトウェアを使用することにより、
	Proxy サーバを FreeBSD 上に構築することができます。
	しかし、現在入手可能な
	proxy サーバはたいへんバラエティに富んでいるので、
	この節でそれらすべてをカバーすることはできません。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="firewalls-packet-filters">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタリングルータ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ルータとは、二つまたはそれ以上のネットワークの間で
	  パケットの転送をおこなう マシンのことです。
	  パケットフィルタリングルータは、そのカーネルの内部に、
	  一つ一つのパケットをルールリストと比較して
	  転送するかしないかを決める 特別なコードを持っています。
	  最近の IP ルーティングソフトウェアのほとんどは、内部に
	  パケットのフィルタリングをおこなうためのコードを持っていて、
	  デフォルトでは すべてのパケットを転送するようになっています。
	  このフィルタを有効にするためには、
	  パケットの通過を許すべきかどうかを決める
	  ルールを自分で定義する必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パケットを通すべきか通すべきでないかを決めるために、
	  パケットヘッダの内容にマッチするものが
	  ルールリストから探されます。マッチするルールが見つかると、
	  ルールアクションが実行されます。ルールアクションには、
	  パケットを捨てる、パケットを転送する、
	  またはパケットの発信元に ICMP
	  メッセージを送り返すというものがあります。
	  ルールの検索は先頭から順番におこなわれ、
	  通常は最初にマッチしたものだけが 適用されます。そのため、
	  このルールリストは<quote xmlns:xlink="http://www.w3.org/1999/xlink">ルールチェーン</quote>
	  と呼ばれることもあります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">パケットマッチングの基準は使用するソフトウェアに
	  よって異なりますが、通常はパケットの発信元 IP アドレス、
	  宛先 IP アドレス、発信元ポート番号、宛先ポート番号
	  (ポート番号はポートをサポートするプロトコルの場合のみ)、
	  パケットタイプ (UDP, TCP, ICMP など)
	  に基づくルールを指定することができます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="firewalls-proxy-servers">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Proxy サーバ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Proxy サーバとは通常のシステムデーモン
	  (<application xmlns:xlink="http://www.w3.org/1999/xlink">telnetd</application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</application>
	  など) を 特別なサーバで置き換えたマシンのことです。
	  これらのサーバは、
	  通常は中継をおこなって特定方向への接続だけを許すため、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">proxy サーバ </emphasis> と呼ばれます。(たとえば)
	  proxy telnet
	  サーバをファイアウォールホストで走らせておきます。
	  外部からユーザがファイアウォールに対して telnet
	  を実行すると、proxy telnet サーバが応答して、
	  何らかの認証機構を実行します。これを通過した後で、
	  内部ネットワークへのアクセスがおこなえるように なるのです。
	  (内部ネットワークからの信号は proxy
	  サーバがかわりに受け取り、外へ向けて送り出します)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Proxy サーバは通常、
	  普通のサーバより堅固に構築されていて、しばしば
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">使い捨て</quote>パスワードシステムなどを含む、
	  多様な認証機構を持っています。
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">使い捨て</quote>パスワードシステムとは、
	  どういうものなのでしょうか。仮に誰かが何らかの方法で、
	  あなたが使用したパスワードを手に入れたとします。しかし、
	  一度使用したことで、
	  そのパスワードは既に無効になっているのです。ですから、
	  そのパスワードをもう一度使用したとしても、あなたのシステムへ
	  アクセスすることはできないというわけです。
	  これらのサーバは中継をおこなうだけで、
	  実際のところサーバホスト自身への
	  アクセスをユーザに許してはいません。そのため、
	  何者かがセキュリティシステムに
	  侵入用の裏口を取り付けることは、
	  より困難になっています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">proxy サーバはアクセス制限の方法をいくつも持っていて、
	  特定のホスト
	  だけがサーバへのアクセス権を得ることができるように
	  なっていることがあります。
	  そして目的のマシンと通信できるユーザを制限するように
	  設定することもできます。もう一度言いますが、
	  どんなファシリティ (機能) が使えるかは、どんな proxy
	  サービスをおこなうソフトウェアを選ぶかに大きく
	  依存します。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW で何ができるか</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command></primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD とともに配布されている IPFW は、
	カーネル内部にあってパケットのフィルタリングとアカウンティングをおこなうシステムであり、
	ユーザ側のコントロールユーティリティである <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を含んでいます。
	ルーティングの決定をおこなう際に、これらは互いに協力して、
	カーネルで使用されるルールを定義したり、
	現在使用されているルールを問い合わせたりすることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPFW は互いに関連する二つの部分からなっています。
	ファイアウォールセクションは
	パケットフィルタリングをおこないます。また、IP
	アカウンティングセクションはファイアウォールセクションのものと
	似たルールに基づいてルータの使用を追跡します。これにより、
	(たとえば) 特定のマシンからルータへのトラフィックがどのくらい
	発生しているか調べたり、どれだけの WWW (World Wide Web)
	トラフィックが
	フォワードされているかを知ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPFW は、
	ルータではないマシンにおいても入出力コネクションの
	パケットフィルタリングのために使用することができるように設計されています。
	これは一般的な IPFW の使用法とは異なる特別な使い方ですが、
	こういった状況でも同じコマンドとテクニックが使用されます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で IPFW を有効にする</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command></primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">有効化</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPFW システムの中心となる部分はカーネル内部にあります。
	そのため、どのファシリティ (機能) を必要とするかによって、
	1 つまたは複数のオプションをカーネルコンフィグレーションファイルに追加し、
	カーネルを再コンパイルする必要があるでしょう。
	カーネルの再コンパイル方法の詳細については、
	「カーネルのコンフィグレーション」(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>)
	をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在、IPFW
	に関係するカーネルコンフィグレーションオプションは
	三つあります。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">options IPFIREWALL</literal></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタリングのためのコードを
	      カーネルに組み込みます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">
	      options IPFIREWALL_VERBOSE</literal></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を通じて
	      パケットのログを取るためのコードを有効にします。
	      フィルタルールでパケットのログを取るように指定しても、
	      このオプションが指定されていなければ、
	      ログを取ることはできません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">
	      options IPFIREWALL_VERBOSE_LIMIT=10</literal></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を通じて
	      ログを取るパケットの数をエントリ毎に制限します。
	      敵対的な環境においてファイアウォールの
	      動作のログを取りたいけれど、
	      syslog の洪水によるサービス拒絶攻撃に対し
	      無防備でありたくないという場合に、
	      このオプションを使用したいと思うことが
	      あるかもしれません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">チェーンエントリのログが指定された制限数に達すると、
	      そのエントリに関するログ取りは停止されます。
	      ログ取りを再開するには、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      ユーティリティを使用して
	      関連するカウンタをリセットする必要があります。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw zero 4500</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">4500 とは、
	      ログ取りを続行したいチェーンエントリの番号です。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">以前のバージョンの FreeBSD は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">IPFIREWALL_ACCT</literal> というオプションを
	持っていました。しかし、
	ファイアウォールコードがアカウンティングファシリティ (機能) を
	自動的に含むようになったため、
	現在では使用されることはなくなっています。</para></note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW の設定</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPFW ソフトウェアの設定は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	ユーティリティを通じておこないます。
	このコマンドの構文は非常に複雑に見えますが、
	一旦その構造を理解すれば比較的単純です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーティリティでは今のところ四つの異なる
	コマンドカテゴリが 使用されています: それは追加 / 削除、表示、
	フラッシュ、およびクリアです。追加 /
	削除はパケットの受け入れ、拒絶、ログ取りをどのようにおこなうか
	というルールを構築するのに使用します。表示はルールリスト
	(またはチェーン) と (アカウンティング用) パケットカウンタの
	内容を調べるのに使用します。
	フラッシュはチェーンからすべてのエントリを
	取り除くのに使用します。
	クリアは一つまたはそれ以上のアカウンティングエントリを
	ゼロにするのに 使用します。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW ルールの変更</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この形式での使用法は:
	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">-N</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">コマンド</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">index</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">アクション</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">log</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">プロトコル</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">アドレス</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">オプション</arg>
	  </cmdsynopsis>
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この形式で使用する際に有効なフラグは一つだけです。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-N</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">アドレスやサービス名を
		文字列に変換して表示します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> コマンド </emphasis>
	  は一意である限り短縮可能です。有効な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> コマンド
	  </emphasis> は</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">add</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール / アカウンティングルールリストに
		エントリを追加します。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">delete</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール /
		アカウンティングルールリストから
		エントリを削除します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以前のバージョンの IPFW では、
	  ファイアウォールエントリと
	  パケットアカウンティングエントリが別々に利用されていました。
	  現在のバージョンでは、それぞれのファイアウォールエントリ毎に
	  パケットアカウンティングエントリが備えられています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">index</emphasis> 値が指定されていると、
	  エントリはチェーン中の指示された位置に置かれます。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">index</emphasis> 値が指定されて いなければ、
	  エントリは (65535 番のデフォルトルールである
	  パケット拒絶を別にして) 最後のチェーンエントリの index に
	  100 を足した 位置 (チェーンの最後) に置かれます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルが <literal xmlns:xlink="http://www.w3.org/1999/xlink">IPFIREWALL_VERBOSE</literal>
	  つきでコンパイルされている場合、<literal xmlns:xlink="http://www.w3.org/1999/xlink">log</literal>
	  オプションはマッチしたルールを
	  システムコンソールに出力させます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">有効な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> アクション </emphasis> は:</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">reject</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">パケットを捨てます。ICMP ホスト /
		ポート到達不能パケットを (適切な方を)
		発信元へ送ります。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">allow</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常通りパケットを通過させます。(別名:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">pass</literal> および
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">accept</literal>)</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">deny</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">パケットを捨てます。発信元は ICMP メッセージによる
		通知を受けません (そのためパケットが
		宛先に到達しなかったように見えます)。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">count</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">このルールはパケットカウンタを更新するだけで、
		パケットを 通過させたり拒絶したりしません。
		検索は次のチェーンエントリから続けられます。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれの <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> アクション </emphasis>
	  は一意な先頭部分だけでも認識されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">指定可能な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> プロトコル </emphasis>
	  は以下の通りです。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">all</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">任意の IP パケットにマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">icmp</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ICMP パケットにマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">tcp</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">TCP パケットにマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">udp</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">UDP パケットにマッチします。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> アドレス </emphasis> の指定は:</para>
	<cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">from</arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address/mask</replaceable></arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable></arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">to</arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address/mask</replaceable></arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable></arg>
	  <arg xmlns:xlink="http://www.w3.org/1999/xlink">via <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">interface</replaceable></arg>
	</cmdsynopsis>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable> はポートをサポートする
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> プロトコル </emphasis> (UDP と TCP) の
	  場合にだけ指定可能です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">via</option> は必須ではなく、
	  特定のインタフェースを通ってきたパケット
	  だけにマッチするように、IP アドレスまたはローカル IP
	  インタフェースの ドメイン名、またはインタフェース名
	  (たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">ed0</filename>) を
	  指定することができます。
	  インタフェースユニット番号はオプションで、
	  ワイルドカードで指定することが できます。たとえば、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ppp*</literal> はすべてのカーネル PPP
	  インタフェースに マッチします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address/mask</replaceable> の指定は:

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address</replaceable></screen>

	  または

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">mask-bits</replaceable></screen>

	  または

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">address</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">mask-pattern</replaceable></screen>
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">IP
	  アドレスのかわりに有効なホスト名を指定することも可能です。
	  <option xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">mask-bits</replaceable></option>
	  はアドレスマスクで上位何ビットを１にするべきかを
	  示す十進数値です。たとえば次の指定、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">192.216.222.1/24</systemitem> はクラス C のサブネット
	  (この場合 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.216.222</systemitem>)
	  の任意のアドレスにマッチするマスクを作成します。
	  <option xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">mask-pattern</replaceable></option>
	  は与えられたアドレスと 論理 AND される IP アドレスです。
	  キーワード <literal xmlns:xlink="http://www.w3.org/1999/xlink">any</literal> は<quote xmlns:xlink="http://www.w3.org/1999/xlink">任意の IP
	  アドレス</quote>を指定するために
	  使用することができます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブロックするポート番号は以下のように指定します:

	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable><arg xmlns:xlink="http://www.w3.org/1999/xlink">,
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable><arg xmlns:xlink="http://www.w3.org/1999/xlink">,
		  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable><arg xmlns:xlink="http://www.w3.org/1999/xlink">…
		  </arg></arg></arg></arg>
	  </cmdsynopsis>

	  のように単独のポートまたはポートのリストを指定します。
	  または

	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable>-
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">port</replaceable></arg>
	  </cmdsynopsis>

	  のようにポートの範囲を指定します。
	  単独のポートとポートのリストを
	  組み合わせて指定することも可能ですが、
	  その場合は常に範囲の方を
	  最初に指定しなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用可能な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> オプション </emphasis> は:</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">frag</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">データグラムの最初の
		フラグメントでなければマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">in</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">入力途中のパケットであればマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">out</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">出力途中のパケットであればマッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">ipoptions <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">spec</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">IP ヘッダが <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">spec</replaceable>
		に指定された カンマで区切られた
		オプションのリストを含んでいればマッチします。
		サポートされている IP オプションのリストは:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">ssrr</literal> (ストリクトソースルート)、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">lsrr</literal> (ルーズソースルート)、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rr</literal> (レコードパケットルート)、
		そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">ts</literal> (タイムスタンプ) です。
		特定のオプションを含まないことを指定するには
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">!</literal> を先頭につけます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">established</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">パケットが既に確立されている TCP
		コネクションの一部であれば (つまり RST または ACK
		ビットがセットされていれば) マッチします。
		<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">established</emphasis>
		ルールをチェーンの最初の方に置くことで、
		ファイアウォールのパフォーマンスを向上させることが
		できます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">setup</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">パケットが TCP
		コネクションを確立しようとするものであれば (SYN
		ビットがセットされ ACK ビットはセットされていなければ)
		マッチします。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">tcpflags <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">flags</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">TCP ヘッダが <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">flags</replaceable>
		に指定された カンマで区切られたフラグの
		リストを含んでいればマッチします。
		サポートされているフラグは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">fin</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">syn</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">rst</literal>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">psh</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">ack</literal> と
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">urg</literal> です。
		特定のフラグを含まないことを指定するには
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">!</literal> を先頭につけます。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">icmptypes <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">types</replaceable></term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ICMP タイプが <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">types</replaceable>
		リストに 存在していればマッチします。
		リストはタイプの範囲または個々のタイプを
		カンマで区切った任意の組合せで指定できます。
		一般的に使用されている ICMP タイプは:
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal> エコーリプライ (ping リプライ)、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">3</literal> 相手先到達不可能、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal> リダイレクト、
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">8</literal> エコーリクエスト (ping
		リクエスト)、そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">11</literal> 時間超過
		(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">traceroute</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で使用されているように、TTL
		満了を示すのに使用されます) です。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW ルールリストの表示</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この形式での使用法は:
	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">-a</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">-t</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink">-N</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">l</arg>
	  </cmdsynopsis>
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この形式で使用する際に有効なフラグは三つあります。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-a</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">リスト表示の際にカウンタの値も表示します。
		このオプションは アカウンティングカウンタの
		内容を見る唯一の手段です。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-t</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">各チェーンエントリが最後に
		マッチした時刻を表示します。この時刻表示は
		  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ユーティリティで使用される入力形式と
		互換性がありません。</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">-N</term>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">(可能であれば)
		アドレスやサービス名を文字列に変換して表示します。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW ルールのフラッシュ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">チェーンをフラッシュするには:
	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">flush</arg>
	  </cmdsynopsis>
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに固定されているデフォルトルール (インデックス
	  65535 番)  以外の、
	  ファイアウォールチェーンの中のすべてのエントリを削除します。
	  デフォルトではすべてのパケットが拒絶されるので、
	  一旦これを実行すると、
	  パケットを許可するエントリがチェーンに追加されるまで、
	  あなたのシステムがネットワークから切り放されてしまいます。
	  そのため、
	  ルールのフラッシュをおこなうときは注意が必要です。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW パケットカウンタのクリア</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一つまたはそれ以上のパケットカウンタをクリアするためには:
	  <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</command>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">zero</arg>
	    <arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="opt"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">index</replaceable></arg>
	  </cmdsynopsis>
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">index</replaceable> が指定されていなければ、
	  すべてのパケットカウンタが クリアされます。
	  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">index</replaceable> が指定されていれば、
	  特定のチェーンエントリだけが クリアされます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</application> についてのコマンドの例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは、ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">evil.crackers.org</systemitem> から ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">nice.people.org</systemitem> の telnet ポートへの
	すべてのパケットを拒絶します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw add deny tcp from evil.crackers.org to nice.people.org 23</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例は、ネットワーク <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">crackers.org</systemitem> (クラス C) 全体から
	マシン <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">nice.people.org</systemitem>
	(の任意のポート) への 任意の TCP トラフィックを拒絶し、
	ログを取ります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw add deny log tcp from evil.crackers.org/24 to nice.people.org</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの内部ネットワーク (クラス C のサブネット) に対する
	X セッションを 張れないようにする場合、
	以下のコマンドで必要なフィルタリングがおこなえます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw add deny tcp from any to my.org/28 6000 setup</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アカウンティングレコードを見るには:

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw -a list</userinput></screen>

	または短縮形式で</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw -a l</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後にチェーンエントリがマッチした
	時刻を見ることもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw -at l</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタリングファイアウォールの構築</title>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下の提案は、ただの提案にすぎません:
	  必要な処理はそれぞれのファイアウォールで異なるため、
	  あなた独自の要求にあったファイアウォールを構築する方法を
	  ここで述べることはできないのです。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初にファイアウォールをセットアップするとき、
	コントロールされた環境でファイアウォールホストの
	設定がおこなえるような
	テストベンチセットアップが用意できない場合には、
	カーネルのログ取りを
	有効にしてログ取り版のコマンドを使用することを
	強くおすすめします。そうすることで、
	大した混乱や中断なしに問題となる範囲の特定と処置を
	素早くおこなうことができます。
	初期セットアップフェーズが完了してからであっても、
	アタックの可能性のあるアクセスをトレースしたり、
	要求の変化に応じてファイアウォールルールを
	変更したりできるので、`deny'
	に対するログ取りをおこなうことをおすすめします。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">accept</command>
	  コマンドでログを取っていると、
	  ファイアウォールをパケットが一つ通過する毎に 1
	  行のログが生成されるため <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">大量の</emphasis>
	  ログデータが発生します。そのため、大規模な FTP/HTTP
	  転送などをおこなうと、システムが非常に 遅くなってしまいます。
	  また、パケットが通過するまでにカーネルにより
	  多くの仕事を要求するため、パケットのレイテンシ (latency)
	  を増加させてしまいます。<application xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</application>
	  もログをディスクに記録するなど、より多くの CPU タイムを
	  使用し始め、実に容易に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log</filename>
	  が置かれているパーティションを溢れさせてしまう可能性があります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf.local</filename> か、もしくは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> によって有効化されるべきです。
	関連マニュアルページには、どのドアノブ (訳注:
	ポートや IP アドレスなど、
	ネットワークからの入口を示すもののこと)
	に手をつければ良いのかに
	ついての説明と、ファイアウォール設定の既定値のリストがあります。
	もし、設定の既定値を使わない場合には、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw list</command> とすることで、
	現在のルールセットを <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> から読み込める形で
	ファイルに出力できます。
	また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf.local</filename> や
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	によってファイアウォールを有効化しない場合には、
	すべての IP インタフェースが設定されるよりも前に、
	確実にファイアウォールの有効化が行なわれるようにすることが重要です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の問題は、ファイアウォールが実際には何を
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">する</emphasis> べきかです !
	これは外部からそのネットワークへのどんなアクセスを許したいか、
	また内部から外界へのアクセスを
	どのくらい許したいかに大きく依存します。
	いくつか一般的なルールを挙げると:</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">1024 番以下のポートへのすべての TCP
	    入力アクセスをブロックします。ここは finger, SMTP (mail)
	    そして telnet など、最もセキュリティに敏感な
	    サービスが存在する場所だからです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> すべての </emphasis> 入力 UDP
	    トラフィックをブロックします。これは UDP
	    を使用しているサービスで有用なものは極めて少ないうえ、
	    (Sun の RPC と NFS プロトコルのように)
	    有用なトラフィックであったとしても、
	    通常セキュリティに対する脅威となるためです。UDP
	    はコネクションレスプロトコルであるため、入力 UDP
	    トラフィックを拒絶することは すなわち出力 UDP
	    トラフィックに対する返答をも ブロックすることになるので、
	    このことはそれなりの不利益をもたらします。たとえば外部の
	    archie (prospero) サーバを使用している (内部の) ユーザに
	    とって問題となる可能性があります。もし archie
	    へのアクセスを許したければ、191 番と 1525 番のポートから
	    任意の UDP
	    ポートへ来るパケットがファイアウォールを通過することを
	    許可しなければなりません。123
	    番のポートから来るパケットは
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">ntp</application> パケットで、
	    これも通過の許可を考慮する必要がある
	    もう一つのサービスです。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">外部から 6000
	    番のポートへのトラフィックをブロックします。6000
	    番のポートは X11 サーバへのアクセスに使用されるポートで、
	    セキュリティに対する脅威となりえます。
	    (特に自分のワークステーションで  <command xmlns:xlink="http://www.w3.org/1999/xlink">xhost
	      +</command>
	    をおこなう癖を持っている人がいればなおさらです)。X11
	    は実際に 6000 番以降のポートを使用する可能性があるため、
	    通過許可に 上限を定めると、
	    そのマシンで走らせることのできる X ディスプレイの
	    個数が制限されます。RFC 1700 (Assigned Numbers)
	    で定義されているように、上限は 6063 です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">内部のサーバ (たとえば SQL サーバなど)
	    がどのポートを使用するかを チェックします。
	    それらのポートは通常、上で指定した 1-1024
	    番の範囲から外れていますので、
	    これらも同様にブロックしておくことは
	    おそらく良い考えです。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これとは別のファイアウォール設定に 関するチェックリストが
	CERT から 入手可能です。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/tech_tips/packet_filtering.html">http://www.cert.org/tech_tips/packet_filtering.html</link></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前にも述べたように、これはただの <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"> ガイドライン
	</emphasis> にすぎません。
	ファイアウォールでどのようなフィルタルールを使用するかは、
	あなた自身が 決めなければなりません。
	これまでのアドバイスに従ったにも関わらず、
	誰かがあなたのネットワークに 侵入してきたとしても、
	わたしたちは「いかなる」責任もとることはできません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipfw-overhead">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPFW のオーバーヘッドと最適化</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの人が IPFW
	がどのくらいのオーバヘッドをシステムに加えるかを知りたがっています。
	この答えは、使っているルールセットとプロセッサのスピードによってほぼ決まります。
	イーサネットを使っていてルールセットが少ないアプリケーションにとって答えは、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">その影響は無視できる程度</quote> です。
	実際の測定値を見ないと満足できない方は、引き続きお読みください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の測定は 486-66 (訳注: Intel 社製 CPU i486, 66MHz のこと)
	上で 2.2.5-STABLE を使用して行なわれました
	(IPFW はその後の FreeBSD のリリースで多少変更されていますが、
	現在も同程度の速度で動きます)。IPFW には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ip_fw_chk</literal> ルーチン内でかかる時間を測定して、
	1000 パケット毎に結果をコンソールに表示する変更が加えられています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれ 1000 ずつのルールからなる
	2 つのルールセットでテストが行なわれました。
	1 つ目のルールセットは最悪のケースを見るために、
	次のルールを繰り返しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw add deny tcp from any to any 55555</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、最終的にパケットが (ポート番号から)
	ルールにマッチしないことがわかるまでに IPFW
	のほとんどのパケットチェックルーチンが実行されるような、
	最悪の場合を示します。このルールを 999 個繰り返し並べた後に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">allow ip from any to any</literal>
	がきます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 つ目のルールセットは、
	なるべく早く確認が終了するように書かれたものです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ipfw add deny ip from 1.2.3.4 to 1.2.3.4</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このルールでは、発信元の IP アドレスが一致しないので、
	すぐに確認が終わります。前とおなじように、1000 個目のルールは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">allow ip from any to any</literal> です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前者のパケットあたりのオーバヘッドはおよそ 2.703 ms/packet
	または 1 つのルールにつき 2.7 マイクロ秒です。したがって、
	このルールにおけるパケット処理時間の理論的な限界は、
	毎秒約 370 パケットです。10 Mbps の Ethernet で
	1500 バイト程度のパケットサイズを仮定すると、
	バンド幅の利用効率は 55.5% が限界です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">後者では、それぞれのパケットがおよそ 1.172 ms
	または、1 つのルールにつき 1.2 マイクロ秒で処理されていました。
	パケット処理時間の理論的な限界は、
	毎秒約 853 パケットとなりますので、10 Mbps Ethernet
	のバンド幅を使い切ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このテストに使われたルールの数が多過ぎることと、
	その性質から、これは実際の状況を反映したものではありません。
	これらは上に示したタイミング情報を出すためだけに用いられたものです。
	効率の良いルールセットを作るためには、
	次のような事を考えればよいでしょう。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">established</literal> ルールは
	    TCP トラフィックの大半を処理するため、
	    先頭の方に持ってきてください。このルールの前には
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">allow tcp</literal>
	    という記述を置かないでください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">良く使われるルールを、
	    あまり良く使われないルールよりも前の方に
	    (もちろん<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールの許可設定を変えない範囲で</emphasis>)
	    持ってきてください。<command xmlns:xlink="http://www.w3.org/1999/xlink">ipfw -a l</command>
	    でパケット数の統計を取ることで、
	    どのルールが最もよく使われているかを調べられます。</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="openssl">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL</secondary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.0 では、OpenSSL ツールキットが基本構成の一部に
      含まれています。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.openssl.org/">OpenSSL</link> は、
      Secure Sockets Layer v2/v3 (SSLv2/SSLv3) や Transport Layer
      Security v1 (TLSv1) ネットワークセキュリティプロトコルと同様の
      多目的な暗号化ライブラリを提供します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、OpenSSL に含まれるアルゴリズムのひとつ
      (特に IDEA) は、合衆国内、その他の地域において、
      特許により保護されています。そのため、
      無制約な利用は許されません。IDEA は
      FreeBSD の OpenSSL 配布に含まれていますが、デフォルトではコンパ
      イルされません。もし IDEA を使いたいなら、そしてあなたがそのライ
      センス条項に合致するなら、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
      の中の <literal xmlns:xlink="http://www.w3.org/1999/xlink">MAKE_IDEA</literal> スイッチを有効にして、
      <command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command> でソースをリビルドしてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">現在は RSA アルゴリズムはアメリカとその他の国で自由に利用で
      きます。以前は特許により保護されていました。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</secondary>
    </indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソースコードのインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSL は <literal xmlns:xlink="http://www.w3.org/1999/xlink">src-crypto</literal> と
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">src-secure</literal> cvsup コレクションの一部です。
	FreeBSD のソースコードの取得と更新の詳細は、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors">FreeBSD
	  の入手</link>の項を参照して下さい。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipsec">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">IPsec</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Yoshinobu</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Inoue</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	<!-- 5 Mar 2000 -->
      </authorgroup>
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IPsec</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">IPsec</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 日野 浩志 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hino@ccm.cl.nec.co.jp</email>, 14 March
	2001.</emphasis></para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">終端文字</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節の、また他の節を通して、末尾に <quote xmlns:xlink="http://www.w3.org/1999/xlink">^D</quote>
	が置かれている例があることに気づかれるでしょう。
	これは、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Control</keycap> キーを押しながら
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">D</keycap> キーを押すことを意味しています。
	ほかによく使われる文字は <quote xmlns:xlink="http://www.w3.org/1999/xlink">^C</quote>
	で、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">Control</keycap>　キーを押しながら
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">C</keycap> を押すことを意味しています。</para>
    </note>

    <tip xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の IPsec 実装について説明した HOWTO は、他に
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.daemonnews.org/200101/ipsec-howto.html">http://www.daemonnews.org/200101/ipsec-howto.html</uri>
	と <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsddiary.org/ipsec.php">http://www.freebsddiary.org/ipsec.php</uri>
	があります。</para>
    </tip>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">IPsec 機構は、IP 層とソケット層に対して安全な通信を提供します。
      この節ではその使い方を説明します。実装の詳細に関しては <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../en_US.ISO8859-1/books/developers-handbook/ipv6.html">The
      Developers' Handbook</link> を参照してください。
      <!-- si006:2001/08/11 - developers handbook is not translated yet. -->
      </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">現在の IPsec の実装は、
      トランスポートモードとトンネルモードの両方に対応しています。
      しかし、トンネルモードにはいくつかの制限事項があります。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kame.net/newsletter/">http://www.kame.net/newsletter/
      </link> にはより総合的な例が載っています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで述べる機能を利用するには、以下のオプションをカーネルコ
      ンパイル時に指定する必要があることにご注意ください。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options          IPSEC              #IP security
options          IPSEC_ESP          #IP security (crypto; define w/IPSEC)</programlisting>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 におけるトランスポートモードの例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト A (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.2.3.4</systemitem>)
	とホスト B (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.6.7.8</systemitem>)
	との間に安全なチャネルを配置するために、
	セキュリティアソシエーションを設定しましょう。
	ここでは、少し込み入った例を示します。ホスト A からホストB
	へは old AH のみを使います。ホスト B からホスト A へは
	new AH と new ESP を組み合わせます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <quote xmlns:xlink="http://www.w3.org/1999/xlink">AH</quote>/<quote xmlns:xlink="http://www.w3.org/1999/xlink">new AH</quote>/<quote xmlns:xlink="http://www.w3.org/1999/xlink">ESP</quote>/<quote xmlns:xlink="http://www.w3.org/1999/xlink">new ESP</quote>
	に対応するアルゴリズムを決めないといけません。
	アルゴリズムの名前を知るには、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setkey</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページをご覧ください。ここでは、AH に
	MD5 を、new AH には new-HMAC-SHA1 を、new ESP には 8 バイト IV
	の new-DES-expIV を選びました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">鍵長はそれぞれのアルゴリズムに大きく依存します。たとえば、
	MD5 では鍵長は 16 バイトでなければなりませんし、new-HMAC-SHA1
	では 20 バイトでなければなりませんし、new-DES-expIV では
	8 バイトでなければなりません。ここではそれぞれ
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">MYSECRETMYSECRET</quote>,
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">KAMEKAMEKAMEKAMEKAME</quote>,
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">PASSWORD</quote> とします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、それぞれのプロトコルに対して SPI
	(セキュリティパラメータインデックス: Security Parameter Index)
	を割り当てます。3 種類のセキュリティヘッダ
	(ホスト A からホスト B に 1 つ、ホスト B から ホスト A に 2 つ)
	を生成するので、この安全なチャネルには 3 つの SPI
	が必要になることに注意してください。さらに、SPI は
	256 以上でなければならないことにも注意してください。
	ここではそれぞれ 1000, 2000, 3000 を割り当てます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
	           (1)
	ホスト A ------&gt; ホスト B

	(1)PROTO=AH
		ALG=MD5(RFC1826)
		KEY=MYSECRETMYSECRET
		SPI=1000

	           (2.1)
	ホスト A &lt;------ ホスト B
	         &lt;------
	           (2.2)

	(2.1)
	PROTO=AH
		ALG=new-HMAC-SHA1(new AH)
		KEY=KAMEKAMEKAMEKAMEKAME
		SPI=2000

	(2.2)
	PROTO=ESP
		ALG=new-DES-expIV(new ESP)
			IV length = 8
		KEY=PASSWORD
		SPI=3000
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、セキュリティアソシエーションを設定しましょう。ホスト
	A とホスト B の両方で、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setkey</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c
    add 10.2.3.4 10.6.7.8 ah-old  1000 -m transport -A keyed-md5 "MYSECRETMYSECRET" ;
    add 10.6.7.8 10.2.3.4 ah  2000 -m transport -A hmac-sha1 "KAMEKAMEKAMEKAMEKAME" ;
    add 10.6.7.8 10.2.3.4 esp 3000 -m transport -E des-cbc "PASSWORD" ;
    ^D</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">実際には、セキュリティポリシのエントリが定義されるまでは
	IPsec による通信は行われません。
	この例の場合、両方のホストを設定する必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
A で:

<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c
    spdadd 10.2.3.4 10.6.7.8 any -P out ipsec
	ah/transport/10.2.3.4-10.6.7.8/require ;
    ^D</userinput>

B で:

<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c
    spdadd 10.6.7.8 10.2.3.4 any -P out ipsec
	esp/transport/10.6.7.8-10.2.3.4/require ;
    spdadd 10.6.7.8 10.2.3.4 any -P out ipsec
	ah/transport/10.6.7.8-10.2.3.4/require ;
    ^D</userinput>


  ホスト A -------------------------------------&gt; ホスト B
  10.2.3.4                                       10.6.7.8
          |                                     |
          ========== old AH keyed-md5 ==========&gt;

          &lt;========= new AH hmac-sha1 ===========
          &lt;========= new ESP des-cbc ============
</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 におけるトランスポートモードの例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 を使ったもう一つの例。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト-A とホスト-B 間の TCP ポート番号 110 番の通信には、
	ESP トランスポートモードが推奨されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
              ============ ESP ============
              |                           |
          ホスト-A                      ホスト-B
          fec0::10 -------------------- fec0::11
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化アルゴリズムは blowfish-cbc で、その鍵は <quote xmlns:xlink="http://www.w3.org/1999/xlink">kamekame</quote>、
	認証アルゴリズムは hmac-sha1 で、その鍵は <quote xmlns:xlink="http://www.w3.org/1999/xlink">this is the test
	key</quote> とします。ホスト-A の設定は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd fec0::10[any] fec0::11[110] tcp -P out ipsec
	esp/transport/fec0::10-fec0::11/use ;
    spdadd fec0::11[110] fec0::10[any] tcp -P in ipsec
	esp/transport/fec0::11-fec0::10/use ;
    add fec0::10 fec0::11 esp 0x10001
	-m transport
	-E blowfish-cbc "kamekame"
	-A hmac-sha1 "this is the test key" ;
    add fec0::11 fec0::10 esp 0x10002
	-m transport
	-E blowfish-cbc "kamekame"
	-A hmac-sha1 "this is the test key" ;
    EOF</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そしてホスト-B の設定は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd fec0::11[110] fec0::10[any] tcp -P out ipsec
	esp/transport/fec0::11-fec0::10/use ;
    spdadd fec0::10[any] fec0::11[110] tcp -P in ipsec
	esp/transport/fec0::10-fec0::11/use ;
    add fec0::10 fec0::11 esp 0x10001 -m transport
	-E blowfish-cbc "kamekame"
	-A hmac-sha1 "this is the test key" ;
    add fec0::11 fec0::10 esp 0x10002 -m transport
	-E blowfish-cbc "kamekame"
	-A hmac-sha1 "this is the test key" ;
    EOF</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">SP の方向に注意してください。</para>
    </sect2>

   <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 におけるトンネルモードの例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 台のセキュリティゲートウェイ間のトンネルモード</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティプロトコルは old AH トンネルモード、すなわち
	RFC1826 で指定されるものです。認証アルゴリズムは <quote xmlns:xlink="http://www.w3.org/1999/xlink">this is the
	test</quote> を鍵とする keyed-md5 です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
                             ======= AH =======
                             |                |
     ネットワーク-A   ゲートウェイ-A    ゲートウェイ-B   ネットワーク-B
        10.0.1.0/24 ---- 172.16.0.1 ----- 172.16.0.2 ---- 10.0.2.0/24
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ-A における設定は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd 10.0.1.0/24 10.0.2.0/24 any -P out ipsec
	ah/tunnel/172.16.0.1-172.16.0.2/require ;
    spdadd 10.0.2.0/24 10.0.1.0/24 any -P in ipsec
	ah/tunnel/172.16.0.2-172.16.0.1/require ;
    add 172.16.0.1 172.16.0.2 ah-old 0x10003 -m any
	-A keyed-md5 "this is the test" ;
    add 172.16.0.2 172.16.0.1 ah-old 0x10004 -m any
	-A keyed-md5 "this is the test" ;

EOF</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例のように、もしポート番号フィールドを書かないと、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">[any]</literal> と同じ意味になります。<literal xmlns:xlink="http://www.w3.org/1999/xlink">-m</literal> は使用される SA
	のモードを指定します。<literal xmlns:xlink="http://www.w3.org/1999/xlink">-m any</literal>
	はセキュリティプロトコルのモードのワイルドカードを意味します。
	この SA をトンネルモードとトランスポートモードの両方で使用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そしてゲートウェイ-B では次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd 10.0.2.0/24 10.0.1.0/24 any -P out ipsec
	ah/tunnel/172.16.0.2-172.16.0.1/require ;
    spdadd 10.0.1.0/24 10.0.2.0/24 any -P in ipsec
	ah/tunnel/172.16.0.1-172.16.0.2/require ;
    add 172.16.0.1 172.16.0.2 ah-old 0x10003 -m any
	-A keyed-md5 "this is the test" ;
    add 172.16.0.2 172.16.0.1 ah-old 0x10004 -m any
	-A keyed-md5 "this is the test" ;

EOF</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">二台のセキュリティゲートウェイ間の SA の束の作成</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ-A とゲートウェイ-B の間では、
	AH トランスポートモードと ESP トンネルモードが要求されます。
	この例では、まず ESP トンネルモードが適用され、次に
	AH トランスポートモードが適用されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
                            ========== AH =========
                            |  ======= ESP =====  |
                            |  |               |  |
    ネットワーク-A     ゲートウェイ-A     ゲートウェイ-B     ネットワーク-B
    fec0:0:0:1::/64 --- fec0:0:0:1::1 ---- fec0:0:0:2::1 --- fec0:0:0:2::/64
</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 におけるトンネルモードの例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化アルゴリズムは 3des-cbc, ESP の認証アルゴリズムは
	hmac-sha1 とします。AH の認証アルゴリズムは hmac-md5 とします。
	ゲートウェイ-A での設定は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd fec0:0:0:1::/64 fec0:0:0:2::/64 any -P out ipsec
	esp/tunnel/fec0:0:0:1::1-fec0:0:0:2::1/require
	ah/transport/fec0:0:0:1::1-fec0:0:0:2::1/require ;
    spdadd fec0:0:0:2::/64 fec0:0:0:1::/64 any -P in ipsec
	esp/tunnel/fec0:0:0:2::1-fec0:0:0:1::1/require
	ah/transport/fec0:0:0:2::1-fec0:0:0:1::1/require ;
    add fec0:0:0:1::1 fec0:0:0:2::1 esp 0x10001 -m tunnel
	-E 3des-cbc "kamekame12341234kame1234"
	-A hmac-sha1 "this is the test key" ;
    add fec0:0:0:1::1 fec0:0:0:2::1 ah 0x10001 -m transport
	-A hmac-md5 "this is the test" ;
    add fec0:0:0:2::1 fec0:0:0:1::1 esp 0x10001 -m tunnel
	-E 3des-cbc "kamekame12341234kame1234"
	-A hmac-sha1 "this is the test key" ;
    add fec0:0:0:2::1 fec0:0:0:1::1 ah 0x10001 -m transport
	-A hmac-md5 "this is the test" ;

    EOF</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">異なる通信端での SA の作成</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト-A とゲートウェイ-A の間では
	ESP トンネルモードが要求されています。暗号化アルゴリズムは
	cast128-cbc で、ESP の認証アルゴリズムは hmac-sha1
	です。ホスト-A とホスト-B との間では
	ESP トランスポートモードが推奨されています。
	暗号化アルゴリズムは rc5-cbc で、ESP
	の認証アルゴリズムは hmac-md5 です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">
              ================== ESP =================
              |  ======= ESP =======                 |
              |  |                 |                 |
            ホスト-A        ゲートウェイ-A         ホスト-B
          fec0:0:0:1::1 ---- fec0:0:0:2::1 ---- fec0:0:0:2::2
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト-A での設定は次のようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">setkey -c &lt;&lt;EOF
    spdadd fec0:0:0:1::1[any] fec0:0:0:2::2[80] tcp -P out ipsec
	esp/transport/fec0:0:0:1::1-fec0:0:0:2::2/use
	esp/tunnel/fec0:0:0:1::1-fec0:0:0:2::1/require ;
    spdadd fec0:0:0:2::1[80] fec0:0:0:1::1[any] tcp -P in ipsec
	esp/transport/fec0:0:0:2::2-fec0:0:0:l::1/use
	esp/tunnel/fec0:0:0:2::1-fec0:0:0:1::1/require ;
    add fec0:0:0:1::1 fec0:0:0:2::2 esp 0x10001
	-m transport
	-E cast128-cbc "12341234"
	-A hmac-sha1 "this is the test key" ;
    add fec0:0:0:1::1 fec0:0:0:2::1 esp 0x10002
	-E rc5-cbc "kamekame"
	-A hmac-md5 "this is the test" ;
    add fec0:0:0:2::2 fec0:0:0:1::1 esp 0x10003
	-m transport
	-E cast128-cbc "12341234"
	-A hmac-sha1 "this is the test key" ;
    add fec0:0:0:2::1 fec0:0:0:1::1 esp 0x10004
	-E rc5-cbc "kamekame"
	-A hmac-md5 "this is the test" ;

    EOF</userinput></screen>
    </sect2>
 </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="openssh">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	<!-- 21 April 2001 -->
      </authorgroup>
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュアシェル (secure shell)
      はリモートマシンへのセキュアなアクセスに使われるネットワーク接続ツールの集合です。
      これは <command xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</command>,
      <command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">rcp</command>,
      <command xmlns:xlink="http://www.w3.org/1999/xlink">telnet</command> をそのまま置き換えて使えます。
      また、他のあらゆる TCP/IP 接続を
      ssh 経由でセキュアにトンネル/フォワードすることもできます。
      ssh はすべてのトラフィックを暗号化し、
      盗聴や接続の乗っ取り等のネットワークレベルの攻撃を事実上無効化します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH は OpenBSD プロジェクトによって維持管理されており、SSH v1.2.12
      に最新のすべてのバグ修正と更新を適用したものをベースにしています。
      OpenSSH クライアントは SSH プロトコル 1 と 2 の両方に互換性があります。
      OpenSSH は FreeBSD 4.0 以降ベースシステムに取り込まれています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH を使うことの利点</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">telnet</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	を使う場合、一般にデータはネットワークを平文で流れます。
	ネットワークをクライアントとサーバの間のどこかで盗聴することで
	あなたのユーザ/パスワード情報やセション中を流れるデータを盗むことが可能です。
	OpenSSH はこれらを予防する為にさまざまな認証と暗号化の方法を提供します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">sshd を有効にする</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">有効化</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> ファイルに
	以下の行を追加してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">sshd_enable="YES"</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に起動したときから
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application> デーモンが起動します。
	もしくは単に <application xmlns:xlink="http://www.w3.org/1999/xlink">sshd</application>
	デーモンを実行しても構いません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SSH クライアント</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ユーティリティは
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と同様に働きます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh user@example.com</userinput>
Host key not found from the list of known hosts.
Are you sure you want to continue connecting (yes/no)? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">yes</userinput>
Host 'example.com' added to the list of known hosts.
user@example.com's password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">*******</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインは <command xmlns:xlink="http://www.w3.org/1999/xlink">rlogin</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">telnet</command>
	でセッションを張った時と同様に続きます。
	SSH はクライアントが接続した時、
	サーバの信頼性の検証のために鍵指紋システム
	(key fingerprint system) を利用します。
	初めての接続の際にのみ、ユーザは <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> と入力することを要求されます。
	これ以降の login では保存されていた鍵指紋を照合することで検証されます。
	SSH クライアントは保存されていた鍵指紋が
	login しようとした際に送られてきたものと異なっていた場合には警告を表示します。
	指紋は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/known_hosts</filename> に、また
	SSH v2 指紋の場合は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/known_hosts2</filename>
	に保存されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、OpenSSH サーバは SSH v1 と SSH v2
	両方の接続を受け付けるように設定されています。
	クライアントはそのどちらかを選択できます。
	バージョン 2 は、旧バージョンよりも堅固で安全です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command> に、プロトコル v1 と v2
	についてそれぞれ、引数 <option xmlns:xlink="http://www.w3.org/1999/xlink">-1</option> または <option xmlns:xlink="http://www.w3.org/1999/xlink">-2</option>
	を渡すことで、利用するプロトコルを強制できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Secure copy</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">secure copy</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command></primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command> コマンドは
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rcp</command> と同様に働きます。
	安全な方法で行っているほかは、ローカルのファイルをリモートマシンへ、
	あるいはリモートマシンのファイルをローカルにコピーするのは同じです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink"> scp user@example.com:/COPYRIGHT COPYRIGHT</userinput>
user@example.com's password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">*******</userinput>
COPYRIGHT            100% |*****************************|  4735
00:00
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前回の例でこのホストの指紋がすでに保存されていれば
	この <command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command> を使う時に検証が行なわれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">scp</command> に渡される引数は、<command xmlns:xlink="http://www.w3.org/1999/xlink">cp</command>
	のものと似ており、ファイル (1 つまたは複数) が
	1 つめの引数になり、コピー先が 2 つめの引数になります。
	ファイルはネットワーク越しに SSH を通して送られるので、
	引数に指定するファイルには
	<option xmlns:xlink="http://www.w3.org/1999/xlink">user@host:&lt;path_to_remote_file&gt;</option>
	という形式をとるものがあります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システム全体の設定ファイルは、OpenSSH デーモン、
	クライアントの両方とも <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ssh</filename>
	ディレクトリにあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ssh_config</filename> はクライアントの動作設定、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sshd_config</filename>
	はデーモンの動作設定を行ないます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、<filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</filename> オプションの
	<option xmlns:xlink="http://www.w3.org/1999/xlink">sshd_program</option>
	(デフォルトは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/sshd</filename>) と
	<option xmlns:xlink="http://www.w3.org/1999/xlink">sshd_flags</option>
	により、詳細な設定が行えます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パスワードの代わりに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	を使ってユーザの認証用の RSA 暗号鍵を作ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</userinput>
Initializing random number generator...
Generating p:  .++ (distance 66)
Generating q:  ..............................++ (distance 498)
Computing the keys...
Key generation complete.
Enter file in which to save the key (/home/user/.ssh/identity):
Enter passphrase:
Enter the same passphrase again:
Your identification has been saved in /home/user/.ssh/identity.
...</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は認証に使う為の公開鍵と秘密鍵のペアを作ります。
	秘密鍵は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/identity</filename> に保存され、
	公開鍵は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/identity.pub</filename> に保存されます。
	公開鍵はリモートマシンの <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/authorized_keys</filename>
	にも置かなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでパスワードの代わり
	RSA 認証を使ってリモートマシンに接続できるようになったはずです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> でパスフレーズを使っている場合は、
	ユーザは秘密鍵を使うために毎回パスフレーズの入力を行なう必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同じ目的で、<command xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen -d</command>
	(FreeBSD FreeBSD-CURRENT では
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen -t dsa</command>)
	コマンドを使って SSH v2 DSA 鍵を生成することもできます。
	これは、SSH v2 セッション専用の DSA 公開/秘密鍵を生成します。
	公開鍵は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/id_dsa.pub</filename>
	に保存され、秘密鍵は <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/id_dsa</filename>
	に置かれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DSA 公開鍵はリモートマシンの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ssh/authorized_keys2</filename>
	内におきます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は
	複数のパスワード化された秘密鍵の管理に使われます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SSH トンネリング</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">トンネリング</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OpenSSH は暗号化されたセッションの中に他のプロトコルを
	カプセル化するトンネルを作ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で telnet
	用のトンネルを作成します。</para>

       <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh -2 -N -f -L 5023:localhost:23 user@foo.example.com</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command> コマンドは、
	次のオプションとともに利用します。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-2</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command> にプロトコルバージョン 2
	      を使うことを指示します。(古い ssh
	      サーバを使っているときには指定しないでください)</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-N</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">はトンネルだけでコマンドはないことを示します。
	      省略されると <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は通常のセッションを開始します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command>
	      にバックグラウンド実行を強制します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-L</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルトンネルを
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">localport:remotehost:remoteport</replaceable>
	      という形式で指定します。</para>
	  </listitem>
	  </varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">user@foo.example.com</option></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">リモートの SSH サーバです。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">SSH のトンネルは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem>
	の指定されたポートに listen
	するソケットを作ることで実現されています。
	SSH はローカルのホスト/ポートで受けた接続すべてを SSH
	接続経由で指定されたリモートホストのポートへ転送します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem> のポート
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">5023</replaceable>	がリモートマシンの
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem> のポート <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">23</replaceable>
	に転送されるようになっています。
 	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">23</replaceable> は telnet なのでこれは SSH
 	トンネルを通るセキュアな telnet セッションを作ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このようにして SMTP や POP3, FTP 等のセキュアではない TCP
	プロトコルをカプセル化することができます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">SSH を用いた SMTP 用の安全なトンネルの作成</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh -2 -N -f -L 5025:localhost:25 user@mailserver.example.com</userinput>

user@mailserver.example.com's password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">*****</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">telnet localhost 5025</userinput>
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 mailserver.example.com ESMTP</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  と別のユーザアカウントを組み合わせて使うことでより透過的で悩まずに済むような
	  SSH のトンネル環境を作ることができます。
	  パスワードを入力するところで暗号鍵を使い、
	  トンネルは別のユーザ権限で実行することが可能です。</para>
      </example>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">実用的な SSH トンネルの例</title>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">POP3 サーバへの安全な接続</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">仕事で、外部からの接続を受ける SSH サーバがあるとします。
	    同じオフィスのネットワークには、POP3
	    サーバが動いているメールサーバがあるとします。
	    ネットワークもしくはあなたの家とオフィスの間のネットワーク経路は、
	    完全に信頼できるものかもしれませんし、そうではないかもしれません。
	    そのため、電子メールは安全なやり方で見るようにしなければなりません。
	    解決策は、オフィスの SSH サーバへの SSH 接続を行い、
	    メールサーバへのトンネルを作成することです。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh -2 -N -f -L 2110:mail.example.com:110 user@ssh-server.example.com</userinput>
user@ssh-server.example.com's password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">******</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">トンネルが作成されて動作したら、
	    メールクライアントに対し <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem>
	    のポート 2110 に POP3 リクエストを送るように指示できます。
	    そこへの接続は、トンネルを経由して安全に
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mail.example.com</systemitem> に転送されます。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">厳格なファイアウォールをすり抜ける</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">内向けの接続をフィルタするだけでなく、
	    外向けの接続もフィルタして、
	    極端に厳しいファイアウォールルールを課すネットワーク管理者もいます。
	    リモートのマシンには、SSH 接続と web サーフィンのための
	    22 番および 80 番ポートにしか接続させてもらえないかもしれません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたは、それ以外の (もしかすると仕事に関係ない)
	    サービスにアクセスしたくなるかもしれません。
	    例えば、音楽ストリーミングを行う
	    Ogg Vorbis サーバといったものです。
	    この Ogg Vorbis サーバが 22 番または
	    80 番ポート以外でストリーミングを行っていたら、
	    あなたはそのサーバに接続できないでしょう。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">それに対する解決策は、
	    あなたが接続しているネットワークのファイアウォールの外部にあるマシンに対して
	    SSH 接続を行い、Ogg Vorbis
	    サーバへのトンネルに利用することです。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ssh -2 -N -f -L 8888:music.example.com:8000 user@unfirewalled.myserver.com</userinput>
user@unfirewalled.myserver.com's password: <userinput xmlns:xlink="http://www.w3.org/1999/xlink">*******</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ストリーミングクライアントを <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem>
	    の 8888 番ポートに向けると、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">music.example.com</systemitem>
	    の 8000 番ポートに転送され、
	    ファイアウォールをすり抜けられます。</para>
	</sect4>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">もっと詳しく知りたい人へ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.openssh.com/">OpenSSH</link></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">scp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-keygen</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-agent</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh-add</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sshd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sftp-server</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry></para>
    </sect2>
  </sect1>
<!--
  <sect1 id="mac">
    <sect1info>
      <authorgroup>
	<author>
	  <firstname>Robert</firstname>
	  <surname>Watson</surname>
	  <contrib>Sponsored by DARPA and Network Associates Laboratories.
	    Contributed by </contrib>
	</author>
      </authorgroup>
    </sect1info>
    <indexterm>
      <primary>MAC</primary>
    </indexterm>
    <title>Mandatory Access Control (MAC)</title>

    <para>FreeBSD 5.0 includes a new kernel security framework, the
      TrustedBSD MAC Framework.  The MAC Framework permits compile-time,
      boot-time, and run-time extension of the kernel access control
      policy, and can be used to load support for Mandatory Access
      Control (<acronym>MAC</acronym>), and custom security modules
      such as hardening modules.  The MAC Framework is currently
      considered to be an experimental feature, and should not yet
      be used in production environments without careful consideration.
      It is anticipated that the MAC Framework will be appropriate for
      more widespread production use by FreeBSD 5.2.</para>

    <para>When configured into a kernel, the MAC Framework permits
      security modules to augment the existing kernel access control
      model, restricting access to system services and objects.  For
      example, the &man.mac.bsdextended.4; module augments file system
      access control, permitting administrators to provide a
      firewall-like ruleset constraining access to file system objects
      based on user ids and group membership.  Some modules require
      little or no configuration, such as &man.mac.seeotheruids.4,
      whereas others perform ubiquitous object labeling, such as
      &man.mac.biba.4; and &man.mac.mls.4;, and require extensive
      configuration.</para>

    <para>To enable the MAC Framework in your system kernel, you must
      add the following entry to your kernel configuration:</para>

    <programlisting>options MAC</programlisting>

    <para>Security policy modules shipped with the base system may
     be loaded using &man.kldload.8; or in the boot &man.loader.8;
     They may also be compiled directly into the kernel using the
     following options, if the use of modules is not desired.</para>

    <para>Different MAC policies may be configured in different ways;
      frequently, MAC policy modules export configuration parameters
      using the &man.sysctl.8; <acronym>MIB</acronym> using the
      <varname>security.mac</varname> namespace.  Policies relying on
      file system or other labels may require a configuration step
      that involes assigning initial labels to system objects or
      creating a policy configuration file.  For information on how to
      configure and use each policy module, see its man page.</para>

    <para>A variety of tools are available to configure the MAC Framework
      and labels maintained by various policies.  Extensions have been
      made to the login and credential management mechanisms
      (&man.setusercontext.3;) to support initial user labeling using
      &man.login.conf.5;.  In addition, modifications have been made
      to &man.su.1;, &man.ps.1;, &man.ls.1;, and &man.ifconfig.8; to
      inspect and set labels on processes, files, and interfaces.  In
      addition, several new tools have been added to manage labels
      on objects, including &man.getfmac.8;, &man.setfmac.8;, and
      &man.setfsmac.8; to manage labels on files, and &man.getpmac.8; and
      &man.setpmac.8;.</para>

    <para>What follows is a list of policy modules shipped with FreeBSD
      5.0.</para>
    <sect2 id="mac-policy-biba">
      <title>Biba Integrity Policy (mac_biba)</title>
      <indexterm>
	<primary>Biba Integrity Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_biba.ko</para>
      <para>Kernel option: <literal>MAC_BIBA</literal></para>
      <indexterm>
	<primary>TCB</primary>
      </indexterm>
      <para>The Biba Integrity Policy (&man.mac.biba.4;) provides
	for hierarchical and non-hierarchical labeling of all system
	objects with integrity data, and the strict enforcement of
	an information flow policy to prevent corruption of high
	integrity subjects and data by low-integrity subjects.
	Integrity is enforced by preventing high integrity
	subjects (generally processes) from reading low integrity
	objects (often files), and preventing low integrity
	subjects from writing to high integrity objects.
	This security policy is frequently used in commercial
	trusted systems to provide strong protection for the
	Trusted Code Base (<acronym>TCB</acronym>).  Because it
	provides ubiquitous labeling, the Biba integrity policy
	must be compiled into the kernel or loaded at boot.</para>
    </sect2>
    <sect2 id="mac-policy-bsdextended">
      <title>File System Firewall Policy (mac_bsdextended)</title>
      <indexterm>
	<primary>File System Firewall Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_bsdextended.ko</para>
      <para>Kernel option: <literal>MAC_BSDEXTENDED</literal></para>
      <para> The File System Firewall Policy (&man.mac.bsdextended.4;)
	provides an extension to the BSD file system permission model,
	permitting the administrator to define a set of firewall-like
	rules for limiting access to file system objects owned by
	other users and groups.  Managed using &man.ugidfw.8;, rules
	may limit access to files and directories based on the uid
	and gids of the process attempting the access, and the owner
	and group of the target of the access attempt.  All rules
	are restrictive, so they may be placed in any order.  This policy
	requires no prior configuration or labeling, and may be
	appropriate in multi-user environments where mandatory limits
	on inter-user data exchange are required.  Caution should be
	exercised in limiting access to files owned by the super-user or
	other system user ids, as many useful programs and directories
	are owned by these users.  As with a network firewall,
	improper application of file system firewall rules may render
	the system unusable.  New tools to manage the rule set may be
	easily written using the &man.libugidfw.3; library.</para>
    </sect2>
    <sect2 id="mac-policy-ifoff">
      <title>Interface Silencing Policy (mac_ifoff)</title>
      <indexterm>
	<primary>Interface Silencing Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_ifoff.ko</para>
      <para>Kernel option: <literal>MAC_IFOFF</literal></para>
      <para>The interface silencing policy (&man.mac.ifoff.4;)
	prohibits the use of network interfaces during the boot
	until explicitly enabled, preventing spurious stack output
	stack response to incoming packets.  This is appropriate
	for use in environments where the monitoring of packets
	is required, but no traffic may be generated.</para>
    </sect2>
    <sect2 id="mac-policy-lomac">
      <title>Low-Watermark Mandatory Access Control (LOMAC)
	(mac_lomac)</title>
      <indexterm>
	<primary>Low-Watermark Mandatory Access Control</primary>
      </indexterm>
      <indexterm>
	<primary>LOMAC</primary>
      </indexterm>
      <para>Vendor: Network Associates Laboratories</para>
      <para>Module name: mac_lomac.ko</para>
      <para>Kernel option: <literal>MAC_LOMAC</literal></para>
      <para>Similar to the Biba Integrity Policy, the LOMAC
	policy (&man.mac.lomac.4;) relies on the ubiquitous
	labeling of all system objects with integrity labels.
	Unlike Biba, LOMAC permits high integrity subjects to
	read from low integrity objects, but then downgrades the
	label on the subject to prevent future writes to high
	integrity objects.  This policy may provide for greater
	compatibility, as well as require less initial
	configuration than Biba.  However, as with Biba, it
	ubiquitously labels objects and must therefore be
	compiled into the kernel or loaded at boot.</para>
    </sect2>
    <sect2 id="mac-policy-mls">
      <title>Multi-Level Security Policy (MLS) (mac_mls)</title>
      <indexterm>
	<primary>Multi-Level Security Policy</primary>
      </indexterm>
      <indexterm>
	<primary>MLS</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_mls.ko</para>
      <para>Kernel option: <literal>MAC_MLS</literal></para>
      <para>Multi-Level Security (<acronym>MLS</acronym>)
        (&man.mac.mls.4;) provides for hierarchical and non-hierarchical
        labeling of all system objects with sensitivity data, and the
        strict enforcement of an information flow policy to prevent
        the leakage of confidential data to untrusted parties.  The
        logical conjugate of the Biba Integrity Policy,
        <acronym>MLS</acronym> is frequently shipped in commercial
        trusted operating systems to protect data secrecy in
        multi-user environments.  Hierarchal labels provide support
        for the notion of clearances and classifications in
        traditional parlance; non-hierarchical labels provide support
        for <quote>need-to-know.</quote>  As with Biba, ubiquitous
        labeling of objects occurs, and it must therefore be compiled
        into the kernel or loaded at boot.  As with Biba, extensive
        initial configuration may be required.</para>
    </sect2>
    <sect2 id="mac-policy-none">
      <title>MAC Stub Policy (mac_none)</title>
      <indexterm>
	<primary>MAC Stub Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_none.ko</para>
      <para>Kernel option: <literal>MAC_NONE</literal></para>
      <para>The None policy (&man.mac.none.4;) provides a stub
	sample policy for developers, implementing all entry
	points, but not changing the system access control
	policy.  Running this on a production system would
	not be highly beneficial.</para>
    </sect2>
    <sect2 id="mac-policy-partition">
      <title>Process Partition Policy (mac_partition)</title>
      <indexterm>
	<primary>Process Partition Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_partition.ko</para>
      <para>Kernel option: <literal>MAC_PARTITION</literal></para>
      <para>The Partition policy (&man.mac.partition.4;) provides for a
	simple process visibility limitation, assigning labels to
	processes identifying what numeric system partition they
	are present in.  If none, all other processes are visible
	using standard monitoring tools; if a partition identifier
	is present, then only other processes in the same
	partition are visible.  This policy may be compiled into
	the kernel, loaded at boot, or loaded at run-time.</para>
    </sect2>
    <sect2 id="mac-policy-seeotheruids">
      <title>See Other Uids Policy (mac_seeotheruids)</title>
      <indexterm>
	<primary>See Other Uids Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_seeotheruids.ko</para>
      <para>Kernel option: <literal>MAC_SEEOTHERUIDS</literal></para>
      <para>The See Other Uids policy (&man.mac.seeotheruids.4;)
        implements a similar process visibility model to
        mac_partition, except that it relies on process credentials to
        control visibility of processes, rather than partition labels.
        This policy may be configured to exempt certain users and
        groups, including permitting system operators to view all
        processes without special privilege.  This policy may be
        compiled into the kernel, loaded at boot, or loaded at
        run-time.</para>
    </sect2>
    <sect2 id="mac-policy-test">
      <title>MAC Framework Test Policy (mac_test)</title>
      <indexterm>
	<primary>MAC Framework Test Policy</primary>
      </indexterm>
      <para>Vendor: TrustedBSD Project</para>
      <para>Module name: mac_test.ko</para>
      <para>Kernel option: <literal>MAC_TEST</literal></para>
      <para>The Test policy (&man.mac.test.4;) provides a regression
        test environment for the MAC Framework, and will cause a
        fail-stop in the event that internal MAC Framework assertions
        about proper data labeling fail.  This module can be used to
        detect failures to properly label system objects in the kernel
        implementation.  This policy may be compiled into the kernel,
        loaded at boot, or loaded at run-time.</para>
    </sect2>

  </sect1>
-->

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="fs-acl">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムアクセス制御リスト</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>

    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ACL</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットのようなファイルシステムの拡張と連携して、
      FreeBSD 5.0 以降ではファイルシステムアクセス制御リスト
      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>) によるセキュリティを提供しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">アクセス制御リストは、標準的な UNIX のパーミッションモデルを、
      非常に互換性の高い (POSIX.1e) やり方で拡張しています。
      この機能は、管理者がより洗練されたセキュリティモデルを利用し、
      その恩恵を受けられるようにします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS</acronym> ファイルシステム用の
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACL</acronym> サポートを有効にするには、
      次のオプションをカーネルに組み込まなければなりません。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options UFS_ACL</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしこのオプションが組み込まれていなければ、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
      に対応したファイルシステムをマウントしようとすると、
      警告が表示されます。このオプションは <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
      カーネルに含まれています。<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
      は、ファイルシステムの拡張属性が有効になっていることに依存しています。
      拡張属性は、次世代 UNIX ファイルシステムである <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym>
      でネイティブ対応されています。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS1</acronym> に拡張属性を付すように設定するのは、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym> よりも高いレベルの管理オーバヘッドが必要になります。
      また、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym>
      における拡張属性のパフォーマンスも大きく上がっています。
      その結果、アクセス制御リストを利用する上では、一般的には
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS1</acronym> よりも <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym>
      の方がおすすめです。</para></note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> は、マウント時の管理フラグ <option xmlns:xlink="http://www.w3.org/1999/xlink">acls</option>
      で有効にされます。これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に記述できます。
      マウント時のフラグは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tunefs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      を使って、ファイルシステムヘッダのスーパブロックにある
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> フラグを変更するという方法で、
      常に自動で設定されるようになります。一般的には、
      下記の理由からスーパブロックフラグを使う方がよいでしょう。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">マウント時に指定した <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> フラグは再マウント
	  (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> <option xmlns:xlink="http://www.w3.org/1999/xlink">-u</option>) 時に変更できません。完全に
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">umount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> した上で、新たに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  するしかありません。これは、起動後にルートファイルシステムで
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> を有効にできないことを意味します。
	  また、ファイルシステムを利用し始めた後では、
	  その配列を変えられないことも意味しています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スーパブロックフラグを設定すると、<filename xmlns:xlink="http://www.w3.org/1999/xlink">fstab</filename>
	  に記述されていなかったり、デバイスの順番が変わってしまっても、常に
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> が有効な状態でマウントされます。
	  こうすることで、ファイルシステムを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
	  を有効にしないままマウントしてしまい、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
	  が正しくないかたちで強制され、
	  セキュリティ問題につながることを防ぎます。</para>
      </listitem>
    </itemizedlist>

    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> の動作を変更して、まったく新たに
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を行わなくてもフラグを有効にできるようにすることも可能でしょう。
      しかし、我々は、うっかり <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
      を有効にしないでマウントしてしまうのを防ぐようにした方が望ましいと考えました。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> を有効にし、その後無効にしてから、
      拡張属性を取り消さないでまた有効にしてしまうと、
      鬱陶しい状態に自分で入り込んでしまえるからです。
      一般的には、一度ファイルシステムで <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym>
      を有効にしたら、無効にすべきではありません。そうしてしまうと、
      ファイル保護がシステムのユーザの意図と齟齬をきたす可能性があるばかりか、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> を再度有効にすると、
      それまでパーミッションが変更されてきたファイルに古い
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> を割り当ててしまい、
      予想しない動作につながることも考えられます。</para></note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> を有効にしたファイルシステムは、
      パーミッション設定の表示に <literal xmlns:xlink="http://www.w3.org/1999/xlink">+</literal> (プラス)
      記号がつきます。例えば、次のようになります。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">drwx------  2 robert  robert  512 Dec 27 11:54 private
drwxrwx---+ 2 robert  robert  512 Dec 23 10:57 directory1
drwxrwx---+ 2 robert  robert  512 Dec 22 10:20 directory2
drwxrwx---+ 2 robert  robert  512 Dec 27 11:57 directory3
drwxr-xr-x  2 robert  robert  512 Nov 10 11:54 public_html</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、ディレクトリ <filename xmlns:xlink="http://www.w3.org/1999/xlink">directory1</filename>,
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">directory2</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">directory3</filename>
      のすべてで <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACLs</acronym> が働いています。
      ディレクトリ <filename xmlns:xlink="http://www.w3.org/1999/xlink">public_html</filename> は対象外です。</para>
  </sect1>
</chapter>

<!--
    &chap.jails;
    &chap.mac;
    &chap.audit;
-->
    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.190
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="disks">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">ストレージ</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、FreeBSD におけるディスクの使用方法を説明します。
      これにはメモリディスク、ネットワークに接続されたディスク、
      および標準的な SCSI/IDE 記憶デバイスが含まれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、以下の分野について説明します。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">物理ディスク上のデータ構成
	について記述するために FreeBSD が使用する用語
	(パーティションおよびスライス) </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">システムにハードディスクを追加する方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">メモリディスクのような仮想ファイルシステムを設定する方法</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用できるディスク容量を制限するためにクォータを設定する方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">攻撃者から保護するためにディスクを暗号化する方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で CD や DVD を作成する方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">バックアップのためのさまざまな記憶メディアオプション</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で利用できるバックアッププログラムの使用方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクにバックアップする方法</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットとは何か、そしてそれを効果的に使用する方法</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-naming">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイス名</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、FreeBSD で対応している物理記憶デバイスとそれに対応するデバイス名のリストです。</para>

    <table xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disk-naming-physical-table">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">物理ディスクへの名前付け</title>

      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ドライブの種類</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ドライブのデバイス名</entry>
	  </row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDE ハードドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ad</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDE CD-ROM ドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">acd</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI ハードドライブおよび USB 大容量記憶デバイス</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">da</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI CD-ROM ドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cd</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">その他の非標準的 CD-ROM ドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ミツミ CD-ROM は <literal xmlns:xlink="http://www.w3.org/1999/xlink">mcd</literal>,
	      Sony CD-ROM は <literal xmlns:xlink="http://www.w3.org/1999/xlink">scd</literal>,
	      松下/パナソニック CD-ROM は <literal xmlns:xlink="http://www.w3.org/1999/xlink">matcd</literal>
	    </entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">フロッピードライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">fd</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI テープドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sa</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">IDE テープドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ast</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">フラッシュドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">DiskOnChip</trademark> フラッシュデバイスは
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">fla</literal></entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">RAID ドライブ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adaptec</trademark> AdvancedRAID は <literal xmlns:xlink="http://www.w3.org/1999/xlink">aacd</literal>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mylex</trademark>
	      は <literal xmlns:xlink="http://www.w3.org/1999/xlink">mlxd</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">mlyd</literal>,
	      AMI <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MegaRAID</trademark> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">amrd</literal>,
	      Compaq Smart RAID は <literal xmlns:xlink="http://www.w3.org/1999/xlink">idad</literal>,
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">3ware</trademark> RAID は<literal xmlns:xlink="http://www.w3.org/1999/xlink">twed</literal></entry>
	  </row>
	</tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-adding">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの追加</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">David</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">O'Brien</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
      
    </info>

    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">追加</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">現在一つしかドライブがない計算機に新しく SCSI
      ディスクを追加したいとしましょう。まずコンピュータの電源を切り、
      コンピュータやコントローラ、
      ドライブの製造元の説明書に従ってドライブを取り付けます。
      このあたりの手順は非常に多岐にわたるため、
      詳細はこの文書の範囲外です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザでログインします。
      ドライブの取り付け後は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/run/dmesg.boot</filename>
      を調べて新しいディスクが見つかっていることを確認しておきます。
      この例では、新しく付けたドライブは <filename xmlns:xlink="http://www.w3.org/1999/xlink">da1</filename> で、
      我々はそれを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/1</filename> にマウントしたいとしましょう
      (もし IDE ドライブを付けようとしているのなら、デバイス名は
      4.0 以前のシステムでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">wd1</filename>, ほとんどの 4.x
      システムでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1</filename> になるでしょう)。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">パーティション</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">スライス</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</command></primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は IBM-PC 互換のコンピュータで動くため、
      PC BIOS のパーティションを考慮に入れる必要があります。
      これは従来の BSD パーティションとは異なります。PC ディスクは 4 つまでの
      BIOS パーティションエントリを持つことができます。
      もしそのディスクを本当に FreeBSD 専用にしたい場合には
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">専用</emphasis> モードで用いることもできます。
      そうでない場合には、FreeBSD は PC BIOS
      パーティションのどれか一つの中に入れることになります。
      FreeBSD では、従来の BSD パーティションと混乱しないように
      PC BIOS パーティションのことを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">スライス</emphasis>と呼びます。
      また、別の OS がインストールされていたコンピュータで使われていたが
      FreeBSD 専用にするディスク上でもスライスを用いることができます。
      これは、他の OS の <command xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</command>
      ユーティリティを混乱させないためです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スライスの場合、ドライブは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s1e</filename>
      として加えられるでしょう。これは、SCSI ディスクでユニット番号は 1
      (二つめの SCSI ディスク), スライスは 1 (PC BIOS のパーティションが 1) で
      BSD パーティション <filename xmlns:xlink="http://www.w3.org/1999/xlink">e</filename>, と読みます。
      専用ディスクの場合だと単純に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1e</filename>
      として加えられるでしょう。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の利用</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application></primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの追加</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">su</primary></indexterm>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> の操作</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</command> の使い易いメニューを利用して、
	    新しいディスクのパーティション分けやラベル付けを行なうことができます。
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザでログインするか
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> コマンドを用いるかして root 権限を取得します。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">/stand/sysinstall</command> を実行して <literal xmlns:xlink="http://www.w3.org/1999/xlink">Configure</literal>
	    メニューに入ります。<literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Configuration Menu</literal>
	    の中でスクロールダウンして <literal xmlns:xlink="http://www.w3.org/1999/xlink">Fdisk</literal>
	    の項目を選びます。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</application> パーティションエディタ</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</application> では、ディスク全体を
	    FreeBSD で使うために <userinput xmlns:xlink="http://www.w3.org/1999/xlink">A</userinput> を入力します。
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">remain cooperative with any future possible operating systems</quote>
	    と聞かれたら <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal> と答えます。
	    <userinput xmlns:xlink="http://www.w3.org/1999/xlink">W</userinput> で変更をディスクに書き込みます。ここで
	    <userinput xmlns:xlink="http://www.w3.org/1999/xlink">q</userinput> と入力して FDISK エディタを抜けます。
	    次にマスタブートレコードについて聞かれます。
	    ここでは既に動いているシステムにディスクを追加しようとしているので
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">None</literal> を選びます。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクラベルエディタ</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BSD パーティション</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> を終了し、
	    もう一度起動する必要があります。同じ手順を踏んで今度は
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Label</literal> オプションを選択し、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Disk Label Editor</literal> に入ります。
	    ここでは従来の BSD パーティションを作成します。
	    一つのディスクは <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> から <literal xmlns:xlink="http://www.w3.org/1999/xlink">h</literal> までのラベルがついた最大
	    8 つのパーティションを持つことができます。
	    いくつかのパーティションラベルは特別な用途に用いられます。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> パーティションはルートパーティション
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename>) です。したがって、システムディスク
	    (つまり起動ディスク) のみに <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal>
	    パーティションがあるべきです。<literal xmlns:xlink="http://www.w3.org/1999/xlink">b</literal>
	    パーティションはスワップパーティションに用いられ、
	    複数のディスクにスワップパーティションを作ることができます。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal> は専用モードにおけるディスク全体、
	    もしくはスライスモードにおけるスライス全体を指します。
	    他のパーティションは汎用的に用いられます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> のラベルエディタ
	    は、ルートパーティションでもスワップパーティションでもないパーティションには、<literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal>
	    パーティションを採用しようとします。ラベルエディタでファイルシステムを作成するには
	    <userinput xmlns:xlink="http://www.w3.org/1999/xlink">C</userinput> を入力してください。
	    FS (ファイルシステム) かスワップかを聞かれたら
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">FS</literal> を選びマウントポイント
	    (たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename>) を入力します。
	    インストール後のモードでディスクを追加する場合、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> は
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> にエントリを追加しないため、
	    ここで指定するマウントポイントはそれほど重要ではありません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、ディスクに新しいラベルを書き込み、
	    そこにファイルシステムを作る準備が整いました。早速
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">W</command> を叩いて実行しましょう。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> からの、
	    新しいパーティションをマウントできない、
	    というエラーは無視してください。Label Editor から抜け、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> を終了します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">終了</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> を編集し、
	    新しいディスクのエントリを追加します。</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインユーティリティの利用</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スライスの利用</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このセットアップ方法では、
	  すでにコンピュータに他のオペレーティングシステムがインストールされていても
	  正しく協調動作することが可能で、他のオペレーティングシステムの
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</command> ユーティリティを混乱させることもありません。
	  新しいディスクにインストールする場合は、
	  この方法を用いることが推奨されています。
	  後述する <literal xmlns:xlink="http://www.w3.org/1999/xlink">専用モード</literal> は、
	  そうしなければならない理由がある時にのみ、
	  利用するようにしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=/dev/da1 bs=1k count=1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fdisk -BI da1</userinput> # 新しいディスクの初期化
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -B -w -r da1s1 auto</userinput> # ディスクにラベルを付ける
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -e da1s1</userinput> # 作成したディスクラベルを編集し、パーティションを追加する
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs /dev/da1s1e</userinput> # 作成したすべてのパーティションに対してこれを繰り返す
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/da1s1e /1</userinput> # パーティションをマウントする
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /etc/fstab</userinput> # <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に適切なエントリを追加する</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">IDE ディスクを使う場合は <filename xmlns:xlink="http://www.w3.org/1999/xlink">da</filename> の部分を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad</filename> とします。4.X より前のシステムでは、
	  (訳注: <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad</filename> ではなく)
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">wd</filename> としてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">専用モード</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OS/2</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しいドライブを他の OS と共有しない場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">専用</literal> モードを用いることもできます。
	  このモードはマイクロソフトの OS
	  を混乱させることを憶えておいてください
	  (しかし、それらによって壊されることはありません)。 一方、IBM の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">OS/2</trademark>
	  はどんなパーティションでも見つけたら理解できなくても
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">専有</quote> します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=/dev/da1 bs=1k count=1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -Brw da1 auto</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -e da1</userinput> # `e' パーティションの作成
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs -d0 /dev/da1e</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /etc/fstab</userinput> # /dev/da1e エントリの追加
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /1</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの方法は次の通り。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=/dev/da1 count=2</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel /dev/da1 | disklabel -BrR da1 /dev/stdin</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs /dev/da1e</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p /1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /etc/fstab</userinput> # /dev/da1e エントリの追加
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /1</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.1-RELEASE から、従来の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    プログラムは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    ユーティリティに置き換えられました。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> では、
	    使用されていない数多くのオプションやパラメタが削除されました。
	    たとえば <option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option> オプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    では取り除かれました。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    のマニュアルページを参照してください。</para></note>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="raid">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">RAID</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="raid-soft">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア RAID</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ccd">
	<info><title xmlns:xlink="http://www.w3.org/1999/xlink">Concatenated Disk Driver (CCD) の設定</title>
	  <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	    <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Christopher</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Shumway</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
	  </authorgroup>
	  <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	    <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Brown</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
	  </authorgroup>
	</info>

	

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">RAID</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア</secondary>
	</indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">RAID</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">CCD</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">大容量記録に関する解決法を選択する際にもっとも重視すべき要素は、
	  速度、信頼性、そして費用です。
	  三つを同時にバランスよく実現することは稀です。
	  通常、速くて信頼性のある大容量記録装置は高価であり、
	  費用を抑えようとすると速度または信頼性のどちらかが犠牲になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで例にあげるシステムの設計においては、
	  費用が最も重要な要素として、次に速度、最後に信頼性が選択されています。
	  このシステムでのデータ転送速度は結局のところネットワークによって制限されます。
	  信頼性は大変重要です。ただし、以下で説明する CCD ドライブは、
	  データ自体はすでに CD-R に完全にバックアップしてあるもの
	  (したがって交換は簡単にできます)
	  の、オンラインデータの役割をさせています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなた自身の要求事項を決定することは、
	  大容量記録に関する解決法を選択することの最初の段階です。
	  もしあなたの要求事項が費用より速度または信頼性を優先するなら、
	  解決法はこのシステムとは違うものになるでしょう。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ccd-installhw">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアのインストール</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">IDE システムディスクに加えて、Western Digital 製の
	    30GB, 5400RPM の IDE ディスク三台を使って、
	    以下に説明されているような約 90GB のオンラインストレージとなる
	    CCD ディスクを作成しました。各 IDE ディスクがそれぞれの
	    IDE コントローラとケーブルをもっていることが理想的ですが、
	    費用を最低限にするために、
	    IDE コントローラを追加していません。その代わり、それぞれの IDE
	    コントローラがマスタデバイスを一つ、
	    スレーブデバイスを一つ持つように、
	    ディスクはジャンパを使って設定されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">再起動の際に、システム BIOS
	    が接続されたディスクを自動的に検出するように設定されました。
	    より重要なことは、FreeBSD が再起動の際にそれらを検出することです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ad0: 19574MB &lt;WDC WD205BA&gt; [39770/16/63] at ata0-master UDMA33
ad1: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata0-slave UDMA33
ad2: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-master UDMA33
ad3: 29333MB &lt;WDC WD307AA&gt; [59598/16/63] at ata1-slave UDMA33</programlisting>

 	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がディスクをすべて検出しないときは、
	      ジャンパを正しく設定してあるか確認してください。多くの IDE
	      ドライブは <quote xmlns:xlink="http://www.w3.org/1999/xlink">ケーブルセレクト</quote>
	      ジャンパを持っています。
	      これはマスタ/スレーブの関係を設定するジャンパでは
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。ドライブの文書を参照して、
	      正しいジャンパ設定を見つけてください。</para></note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、ファイルシステムの一部分として、
	    それらをどのように接続するのかを考慮します。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vinum</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    <!-- Furukawa:2004/1/8
	    should be refer this after creating vinum/chapter.xml
	    (<xref linkend="vinum-vinum"/>)
	    -->
	    および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    の両方を検討すべきでしょう。この設定では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    を選択しました。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ccd-setup">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">CCD の設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバは、いくつかの同じディスクを使って、
	    一つの論理的ファイルシステムに連結することができます。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を使用するためには、カーネルが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    に対応している必要があります。
	    次の行をカーネルコンフィギュレーションファイルに追加して、
	    カーネルを再構築し、再インストールしてください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device   ccd     4</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">5.X システムでは、
	    上記の代わりに次の行を追加しなければなりません。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device   ccd</programlisting>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	      デバイスの数を指定する必要はありません。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	      デバイスドライバは自己複製するようになりました ―
	      新しいデバイスインスタンスは、
	      必要に応じてその都度自動的に作成されます。</para></note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 3.0 以降では、
	    カーネルモジュールを読み込んで
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> に対応することもできます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を設定するために、まず <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    を使用してディスクにラベルを書き込まなくてはなりません。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -r -w ad1 auto
disklabel -r -w ad2 auto
disklabel -r -w ad3 auto</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドはディスク全体を示す
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad1c</filename>,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad2c</filename> および
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ad3c</filename> に対するディスクラベルを作成します。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.1-RELEASE から、従来の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      プログラムは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      ユーティリティに置き換えられました。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> では、
	      使用されていない数多くのオプションやパラメタが削除されました。
	      たとえば <option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option> オプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      では取り除かれました。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      のマニュアルページを参照してください。</para></note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、ディスクラベルのタイプを変更します。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用してディスクラベルを編集してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -e ad1
disklabel -e ad2
disklabel -e ad3</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは <envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar>
	    環境変数に設定されているエディタ (一般的には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>)
	    でそれぞれのディスクの現在のディスクラベルを開きます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">変更されていないディスクラベルは以下のようになります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> で使用する <literal xmlns:xlink="http://www.w3.org/1999/xlink">e</literal>
	    パーティションを作成します。通常では <literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal>
	    パーティションの行をコピーすれば良いでしょう。しかし、
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">fstype</option> は <userinput xmlns:xlink="http://www.w3.org/1999/xlink">4.2BSD</userinput>
	    でなければ <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">なりません</emphasis>。
	    ディスクラベルは以下のようになるでしょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">8 partitions:
#        size   offset    fstype   [fsize bsize bps/cpg]
  c: 60074784        0    unused        0     0     0   # (Cyl.    0 - 59597)
  e: 60074784        0    4.2BSD        0     0     0   # (Cyl.    0 - 59597)</programlisting>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ccd-buildingfs">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムの構築</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ccd0c</filename>
	    デバイスノードはまだ存在していないかも知れません。
	    そのときは、次のコマンドを実行して作成してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev
sh MAKEDEV ccd0</programlisting>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.0 では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> が
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> 以下のデバイスノードを自動的に管理するので、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command>を使用する必要はありません。</para></note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのディスクにラベルを書き込んだので、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を構築してください。
	    これを行うためには、以下のようなオプションで
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使います。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig ccd0<co xml:id="co-ccd-dev"/> 32<co xml:id="co-ccd-interleave"/> 0<co xml:id="co-ccd-flags"/> /dev/ad1e<co xml:id="co-ccd-devs"/> /dev/ad2e /dev/ad3e</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">各オプションの使用法と意味は以下の通りです。</para>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-ccd-dev">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">一番目の引数は設定するデバイスです。この例の場合は
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ccd0c</filename> です。
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/</filename> の部分はオプションです。</para>
	    </callout>

	    <callout arearefs="co-ccd-interleave">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムに対するインタリーブです。インタリーブは、
		ディスクブロック内のストライプサイズを定義します。
		ディスクブロックは通常 512 バイトです。したがって 32
		インタリーブは 16,384 バイトとなります。</para>
	    </callout>

	    <callout arearefs="co-ccd-flags">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に対するフラグです。
		ドライブミラーリングを有効にしたい場合、
		ここにフラグを指定します。
		この設定では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> に対するミラーリングは提供しませんので、
		0 (ゼロ) を指定しています。</para>
	    </callout>

	    <callout arearefs="co-ccd-devs">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">この <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に対する最後の引数は、
		アレイ内に置くデバイスです。
		それぞれのデバイスに対する完全なパス名を使用します。</para>
	    </callout>
	  </calloutlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行すると <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> が設定されます。
	    これでファイルシステムをインストールすることが可能です。
	    オプションについて <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照するか、
	    次のように実行してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">newfs /dev/ccd0c</programlisting>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ccd-auto">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">自動的に設定する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に、再起動するたびに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    をマウントしたいと思うでしょう。これを行うために、
	    まず設定をしなければなりません。次のコマンドを用いて、
	    現在の設定を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ccd.conf</filename> に書き出します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig -g &gt; /etc/ccd.conf</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ccd.conf</filename> が存在すると、
	    再起動の際に <command xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc</command> スクリプトが
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig -C</command> を実行します。これにより、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> は自動的に設定された後、マウントされます。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモードで起動している場合には、
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> する前に、
	      アレイを設定するために次のコマンドを実行する必要があります。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ccdconfig -C</programlisting>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">自動的に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> をマウントするには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ccd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    のエントリ追加します。このように設定すると起動時にマウントされます。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ccd0c              /media       ufs     rw      2       2</programlisting>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="vinum">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Vinum ボリュームマネージャ</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">RAID</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェア</secondary>
	</indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">RAID</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">Vinum</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Vinum ボリュームマネージャは、
	  仮想ディスクドライブを実装したブロックデバイスドライバです。
	  Vinum は、ディスクハードウェアをブロックデバイスインタフェースから
	  分離し、データを配置します。
	  その結果、ディスク記憶装置を従来のスライスで扱うのと比較して、
	  柔軟性、性能および信頼性が向上しています。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vinum</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は RAID-0, RAID-1 および RAID-5 モデル、
	  そしてそれぞれの組合せを実装しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vinum</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の詳細については Vinum ボリュームマネジャ
	  <!-- Furukawa:2004/1/8
	  should be refer this after creating vinum/chapter.xml
	  <xref linkend="vinum-vinum"/>
	  -->
	  を参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="raid-hard">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア RAID</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">RAID</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェア</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、さまざまなハードウェア <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAID</acronym>
	コントローラにも対応しています。これらのデバイスはアレイを制御するための
	特別なソフトウェアを FreeBSD で必要することなく、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAID</acronym> サブシステムを制御します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カード上の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> を使用して、
	カードはそれ自身でディスク操作のほとんどを制御します。以下は
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">Promise IDE RAID</acronym>
	コントローラを使用した設定の簡単な説明です。
	このカードがインストールされ、システムが起動したときには、
	情報の入力を促すプロンプトを表示します。
	指示にしたがってカードの設定画面に進んでください。
	接続されたドライブを組み合わせるように設定することができます。
	設定後、ディスクは FreeBSD に対して単一のドライブのように見えます。
	他の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAID</acronym> レベルは適宜設定できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ATA RAID1 アレイの再構築</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はアレイ内の障害ディスクを動作中に交換できます。
	ただし、再起動前にそれを検知していることが必要です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/messages</filename> または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dmesg</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	の出力に次のような行があるでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ad6 on monster1 suffered a hard error.
ad6: READ command timeout tag=0 serv=0 - resetting
ad6: trying fallback to PIO mode
ata3: resetting devices .. done
ad6: hard error reading fsbn 1116119 of 0-7 (ad6 bn 1116119; cn 1107 tn 4 sn 11) status=59 error=40
ar0: WARNING - mirror lost</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用して詳細を調べてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol list</userinput>
ATA channel 0:
	Master:      no device present
	Slave:   acd0 &lt;HL-DT-ST CD-ROM GCR-8520B/1.00&gt; ATA/ATAPI rev 0

ATA channel 1:
	Master:      no device present
	Slave:       no device present

ATA channel 2:
	Master:  ad4 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

ATA channel 3:
	Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
	Slave:       no device present

<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol status ar0</userinput>
ar0: ATA RAID1 subdisks: ad4 ad6 status: DEGRADED</screen>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクを安全に取り外すために、
	    まずアレイから切り離します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol detach 3</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクを取り外します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スペアのディスクを取り付けます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol attach 3</userinput>
Master:  ad6 &lt;MAXTOR 6L080J4/A93.0500&gt; ATA/ATAPI rev 5
Slave:   no device present</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">アレイを再構築します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol rebuild ar0</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">再構築コマンドは完了するまで他の操作を受け付けません。しかし、
	    もう一つ別のターミナルを
	    (<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Alt</keycap>
	    <keycap xmlns:xlink="http://www.w3.org/1999/xlink">F<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></keycap></keycombo>
	    を押して) 開き、
	    次のコマンドを実行すると進行状態を確認することができます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dmesg | tail -10</userinput>
[output removed]
ad6: removed from configuration
ad6: deleted from ar0 disk1
ad6: inserted into ar0 disk1 as spare

<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">atacontrol status ar0</userinput>
ar0: ATA RAID1 subdisks: ad4 ad6 status: REBUILDING 0% completed</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">操作が完了するまでお待ちください。</para>
	</step>
      </procedure>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="creating-cds">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">光メディア (CD &amp; DVD) の作成と使用</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Mike</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Meyer</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">作成</secondary>
    </indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">CD は他の一般的なディスクと異なる様々な特徴を持っています。
	そもそもユーザが書き込むことができません。
	また遅延なしで連続的に読み出せるように、
	トラック間をヘッドが移動しないですむようにデザインされています。
	さらにこのサイズのメディアの中ではシステムをまたぐデータの
	移動が比較的簡単でもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">CD はトラックの概念を持っていますが、
	これはデータを連続的に読み出すためのものであってディスクの物理特性ではありません。
	FreeBSD で CD を作成するには、まず CD
	のトラックとなるデータファイルを用意し、
	そのトラックを CD に書き込みます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ISO 9660</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ISO 9660</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ISO 9660 ファイルシステムはこの様な差異を扱うべく設計されました。
	その結果、ファイルシステムは一般的に使用するのに差しつかえない程度に
	制限されて標準化されています。幸いなことに、ISO 9660
	ファイルシステムには拡張機構が提供されています。適切に書かれた CD は、
	拡張機構に対応したシステムでは拡張を利用して、そうでないシステムでは
	拡張機構を使用しない範囲で動作するようになっています。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package> プログラムは
	ISO 9660 ファイルシステムを含むデータファイルを作成するのに使われます。
	これには様々な拡張をサポートするオプションがあり、
	以下で説明します。 このソフトウェアは、ports の
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package>
	からインストールすることができます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">CD ライタ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">CD に書き込むためのツールは、お使いの CD ライタが ATAPI
	接続か否かにも依存します。ATAPI CD ライタなら、ベースシステムの一部である
	<command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command>
	プログラムを使います。SCSI や USB の CD ライタなら、ports の
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrecord</package>
	をインストールして
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command>
	プログラムを使うべきでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command>
	が対応しているドライブは限定されています。
	ドライブが対応されているかどうかを確認するには、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd.dk/ata/">CD-R/RW supported
	  drives</link> にある一覧を見てください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">CD ライタ</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI/CAM ドライバ</secondary>
	</indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X または FreeBSD 4.8-RELEASE
	  以降のバージョンを使用している場合、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="atapicam">ATAPI/CAM モジュール</link> を使用すると
	  ATAPI ハードウェア上で SCSI ドライブ用の
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command>
	  および他のツールを使用できるようになります。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mkisofs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package> は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	ファイルシステムの名前空間におけるディレクトリツリーのイメージとして
	ISO 9660 ファイルシステムを作成します。
	最も簡単な使い方は以下の通りです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs -o imagefile.iso /path/to/tree</userinput></screen>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ISO 9660</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/path/to/tree</replaceable>
	以下のディレクトリツリーのコピーである ISO 9660
	ファイルシステムを含んだ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">imagefile.iso</replaceable>
	ファイルを作成します。この過程において、ファイル名は標準的な ISO 9660
	ファイルシステムの制限に適合するようなファイル名に対応づけられ、
	ISO ファイルシステムでファイル名を文字化できないファイルは除外されます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">HFS</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">Joliet</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この制限を回避するために利用できるオプションはいくつもあります。
	特に <option xmlns:xlink="http://www.w3.org/1999/xlink">-R</option> オプションは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> システムで標準的な Rock Ridge
	拡張を有効にします。<option xmlns:xlink="http://www.w3.org/1999/xlink">-J</option> オプションは Microsoft
	のシステムで標準的な Joliet 拡張を有効にし、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-hfs</option> オプションは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Mac OS</trademark> で使用されている
	HFS ファイルシステムを作成するために使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でしか使わないのであれば、<option xmlns:xlink="http://www.w3.org/1999/xlink">-U</option>
	オプションを使用するとあらゆるファイル名制限を無効にできます。
	さらに <option xmlns:xlink="http://www.w3.org/1999/xlink">-R</option> オプションとともに使うことで
	FreeBSD と同一のファイルシステムイメージを作成できますが、
	これは ISO 9660 標準の多くを無視しています。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ブータブル (起動可能な) CDROM の作成</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に使われる最後のオプションは <option xmlns:xlink="http://www.w3.org/1999/xlink">-b</option> オプションです。
	これは <quote xmlns:xlink="http://www.w3.org/1999/xlink">El Torito</quote>	ブータブル CD
	を作成するのに使う起動イメージのありかを指定します。
	このオプションは引数として起動イメージへのパスを、
	CD に書き込まれるディレクトリツリーの頂点からの相対位置で取ります。
	したがって <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/myboot</filename> がブート可能な
	FreeBSD システムで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/myboot/boot/cdboot</filename>
	にブートイメージがあるならば、以下のようにすることで ISO 9660
	ファイルシステムのイメージを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/bootable.iso</filename>
	に作成することができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs -U -R -b boot/cdboot -o /tmp/bootable.iso /tmp/myboot</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この後、カーネルで <filename xmlns:xlink="http://www.w3.org/1999/xlink">vn</filename> (FreeBSD 4.X)
	または <filename xmlns:xlink="http://www.w3.org/1999/xlink">md</filename> (FreeBSD 5.X)
	が設定されていれば、
	ファイルシステムを以下のようにしてマウントすることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig -e vn0c /tmp/bootable.iso</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t cd9660 /dev/vn0c /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X および FreeBSD 5.X に対しては以下の通りです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -a -t vnode -f /tmp/bootable.iso -u 0</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t cd9660 /dev/md0 /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp/myboot</filename> が同一かどうか確認してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package>
      には挙動を細かく制御するために他にもたくさんのオプションがあります。
      特に、ISO 9660
      レイアウトの変更や Joliet および HFS ディスク作成などの
      詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mkisofs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルページをご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="burncd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">burncd</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">書き込み</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが持っているのが ATAPI CD ライタなら、CD に ISO
	イメージを書き込むために <command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command> コマンドが使えます。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command> はベースシステムの一部で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/burncd</filename> としてインストールされています。
	使い方はとても単純でオプションも少ししかありません。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">burncd -f cddevice data imagefile.iso fixate</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以上のコマンドは <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">imagefile.iso</replaceable>
	のコピーを <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">cddevice</replaceable> に書き込みます。
	デフォルトのデバイスは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acd0c</filename> です。
	書き込み速度や操作完了後に CD を自動的に取り出す方法、
	オーディオデータの書き込みなどのオプションについては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">burncd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を見てください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cdrecord">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが持っている CD ライタが ATAPI ではなければ、
	CD を書き込むのに <command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> を使う必要があります。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> はベースシステムの一部ではなく、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrtools</package> の port または
	適切な package を利用してインストールしなければなりません。
	なお、ベースシステムを変更するとバイナリに矛盾が発生し、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">コースター</quote> を作ってしまうおそれがあります。
	したがって、システムをアップグレードする度にこの port も作り直すか、
	あるいは<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="stable">FreeBSD の安定版を追いかけている</link>のならば、
	新しいバージョンが利用できるようになった時に ports
	をアップグレードする必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> にはたくさんのオプションがありますが、
	基本的な使い方は <command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command> よりもさらに簡単です。
	ISO 9660 イメージを書き込むには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord dev=device imagefile.iso</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> のトリッキーな部分は、使用する
	<option xmlns:xlink="http://www.w3.org/1999/xlink">dev</option> を見つけるところにあります。
	適切な設定を見つけるためには <command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> の
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-scanbus</option> フラグを使います。
	たとえば、以下のような結果が出力されるでしょう。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">CDROM</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">書き込み</secondary>
      </indexterm>
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord -scanbus</userinput>
Cdrecord 1.9 (i386-unknown-freebsd4.2) Copyright (C) 1995-2000 Jörg Schilling
Using libscg version 'schily-0.1'
scsibus0:
        0,0,0     0) 'SEAGATE ' 'ST39236LW       ' '0004' Disk
        0,1,0     1) 'SEAGATE ' 'ST39173W        ' '5958' Disk
        0,2,0     2) *
        0,3,0     3) 'iomega  ' 'jaz 1GB         ' 'J.86' Removable Disk
        0,4,0     4) 'NEC     ' 'CD-ROM DRIVE:466' '1.26' Removable CD-ROM
        0,5,0     5) *
        0,6,0     6) *
        0,7,0     7) *
scsibus1:
        1,0,0   100) *
        1,1,0   101) *
        1,2,0   102) *
        1,3,0   103) *
        1,4,0   104) *
        1,5,0   105) 'YAMAHA  ' 'CRW4260         ' '1.0q' Removable CD-ROM
        1,6,0   106) 'ARTEC   ' 'AM12S           ' '1.06' Scanner
        1,7,0   107) *</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リストにあるデバイスに対する適切な <option xmlns:xlink="http://www.w3.org/1999/xlink">dev</option>
	の値がここに示されています。あなたの CD ライタをこのリストから見つけ、
	カンマで区切られた 3 つの数値を <option xmlns:xlink="http://www.w3.org/1999/xlink">dev</option>
	の値として使ってください。この例では CRW デバイスは 1,5,0
	なので、適切な入力は <option xmlns:xlink="http://www.w3.org/1999/xlink">dev=1,5,0</option> となります。
	値を明示するもっと簡単な方法もあります。詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	を見てください。そこにはオーディオトラックを書き込む方法や、
	書き込み速度その他を操作する方法も書かれています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="duplicating-audiocds">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">オーディオ CD の複製</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">CD からオーディオデータを連続したファイルに展開し、ブランク CD
	にこれらのファイルを書き込むことで、オーディオ CD
	を複製することができます。
	この手順は ATAPI および SCSI ドライブの間で少し異なります。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">SCSI ドライブ</title>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav</command> を使用してオーディオを展開します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdda2wav -v255 -D2,0 -B -Owav</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</command> を使用して
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">.wav</filename> ファイルに書き出します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord -v dev=2,0 -dao -useinfo  *.wav</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="cdrecord"/> に説明されているように
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">2.0</replaceable>
	    が適切に指定されていることを確かめてください。</para>
	</step>
      </procedure>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI ドライブ</title>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI CD ドライバでは、それぞれのトラックを
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acddtnn</filename> のように利用できます。
	    ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">d</replaceable> はドライブ番号であり、
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">nn</replaceable> は二桁十進のトラック番号です。
	    一桁の場合 0 を前に付加する必要があります。
	    したがって、一番目のディスクの一番目のトラックは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acd0t01</filename>、二番目のトラックは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acd0t02</filename>、三番目のトラックは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/acd0t03</filename> などとなります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">適切なデバイスファイルが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	    に存在することを確かめてください。
	    存在しなければ、たとえば次のようにして作成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh MAKEDEV acd0t99</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.0 では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> が
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> にエントリを自動的に作成、
	      管理するので、<command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command>
	      を使用する必要はありません。</para></note>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使用して各トラックを展開します。
	    ファイルを展開する際、ブロックサイズを指定しなければなりません。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/acd0t01 of=track1.cdr bs=2352</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/acd0t02 of=track2.cdr bs=2352</userinput>
...</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command> を使用して、
	    展開したファイルをディスクに書き込みます。
	    これらがオーディオファイルであること、
	    そして書き込みが終了したときに <command xmlns:xlink="http://www.w3.org/1999/xlink">burncd</command>
	    がディスクを固定 (fixate) することを明示しなければなりません。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">burncd -f /dev/acd0c audio track1.cdr track2.cdr ... fixate</userinput></screen>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="imaging-cd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">データ CD の複製</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データ CD を、<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package>
	を用いて作成されたイメージファイルと機能的に等価なイメージファイルにコピーできます。
	これを使用して、すべてのデータ CD を複製することができます。
	ここでの例は CDROM デバイスが <filename xmlns:xlink="http://www.w3.org/1999/xlink">acd0</filename>
	であるとしています。あなたの CDROM デバイスに読み替えてください。
	CDROM の場合には、パーティション全体またはディスク全体
	を指定するために <literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal>
	をデバイス名の後に追加しなければなりません。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/acd0c of=file.iso bs=2048</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでディスクイメージを取り出すことができました。
	すでに説明した方法を用いて CD に書き込むことができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mounting-cd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">データ CD の使用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、標準的なデータ CDROM を作成したので、
	おそらく次はそれをマウントしてデータを読み出したいと思うでしょう。
	デフォルトでは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、ファイルシステムタイプを
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ufs</literal> としています。
	次のように実行しようとすると、</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/cd0c /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><errorname xmlns:xlink="http://www.w3.org/1999/xlink">Incorrect super block</errorname>
	というエラーが返されてマウントできないでしょう。
	CDROM は <literal xmlns:xlink="http://www.w3.org/1999/xlink">UFS</literal> ファイルシステムではないために、
	このような手順でマウントしようすると失敗します。
	ファイルシステムのタイプが <literal xmlns:xlink="http://www.w3.org/1999/xlink">ISO9660</literal> であると
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に教えさえすれば、すべてはうまく動作します。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に <option xmlns:xlink="http://www.w3.org/1999/xlink">-t cd9660</option>
	オプションを指定することでこれを行います。
	たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cd0c</filename> の CDROM デバイスを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename> にマウントしたい場合は、
	以下のように実行します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t cd9660 /dev/cd0c /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使用している CDROM インタフェースによっては、
	デバイス名
	(この例では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cd0c</filename>)
	が異なるかもしれないことに注意してください。
	また、<option xmlns:xlink="http://www.w3.org/1999/xlink">-t cd9660</option> オプションは、単に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_cd9660</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行します。
	この例を以下のように短縮することもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount_cd9660 /dev/cd0c /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的にこの方法では、すべてのメーカの データ CDROM
	を使用することができます。しかしながら、特定の ISO 9660
	拡張が施されたディスクでは奇妙な動作をするかもしれません。
	たとえば Joliet ディスクは、
	すべてのファイル名を 2 バイトの Unicode 文字で格納します。
	FreeBSD カーネルは (まだ) Unicode を理解できないので、
	非英語文字はクエスチョンマークで表示されます
	(FreeBSD 4.3 以降を使用している場合、CD9660 ドライバには適切な Unicode
	変換表を読み込むための急ごしらえのフックが含まれています。
	いくつかの共通のエンコードに対するモジュールは
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cd9660_unicode</package> port
	から利用可能です)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">CDROM をマウントしようとする時に、
	<errorname xmlns:xlink="http://www.w3.org/1999/xlink">Device not configured</errorname>
	と表示されるかもしれません。これは、ディスクがトレーにないと
	CDROM ドライブが判断しているか、
	ドライブがバス上に認識できないことを通常意味します。
	ディスクが挿入されたことを CDROM ドライブが認識するには数秒かかりますので、
	辛抱強く待ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バスのリセットに返答するためのタイムアウトが短いために、時々 SCSI
	CDROM は認識に失敗するかもしれません。SCSI CDROM を持っている場合は、
	次のオプションをカーネルコンフィギュレーションファイルに追加して、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig-building">カーネルを再構築してください</link>。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options SCSI_DELAY=15000</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これより、SCSI バスを起動時に 15 秒間停止させて、
	CDROM ドライブがバスリセットに応答する機会を与えます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rawdata-cd">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Raw データ CD の書き込み</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ISO 9660 ファイルシステムを作成すること無く、
	ファイルを直接 CD に書き込むこともできます。
	この方法をバックアップ目的に使用している人もいます。
	これは、標準 CD を書き込むよりもさらに速く実行することができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">burncd -f /dev/acd1c -s 12 data archive.tar.gz fixate</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このように CD に書き込まれたデータを取得するには、
	raw デバイスノードからデータを読み込まなくてはなりません。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar xzvf /dev/acd1c</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このディスクを通常の CDROM としてマウントすることはできません。
	このような CDROM は FreeBSD を除いて、
	他のすべてのオペレーティングシステムでは読み込むことはできません。
	CD をマウントしたいか、
	その他のオペレーティングシステムとデータを共有したい場合は、
	上記に説明したように
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/mkisofs</package>
	を使用しなくてはなりません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="atapicam">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI/CAM ドライバの使用</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">CD ライタ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI/CAM ドライバ</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このドライバは、ATAPI デバイス (CD-ROM, CD-RW, DVD ドライブなど)
	へ SCSI サブシステムを通じてアクセスすることを可能にします。
	これにより、<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/cdrdao</package> または
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のようなアプリケーションが使用できるようになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このドライバを使用するためには、
	カーネルコンフィギュレーションファイルに次の行を追加する必要があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device atapicam
device scbus
device cd
device pass</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の行もカーネルコンフィギュレーションファイルに必要です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device ata
device atapicd</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">両方がすでに存在しなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それから再構築し、新しいカーネルをインストールし、
	コンピュータを再起動します。
	起動プロセス中にディスクライタは以下のように表示されるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">acd0: CD-RW &lt;MATSHITA CD-RW/DVD-ROM UJDA740&gt; at ata1-master PIO4
cd0 at ata1 bus 0 target 0 lun 0
cd0: &lt;MATSHITA CDRW/DVD UJDA740 1.00&gt; Removable CD-ROM SCSI-0 device
cd0: 16.000MB/s transfers
cd0: Attempt to query device size failed: NOT READY, Medium not present - tray closed</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドライブは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cd0</filename>
	デバイスを通じてアクセスすることが可能となります。
	たとえば、次のようにして CD-ROM を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename>
	にマウントします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t cd9660 /dev/cd0c /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で次のコマンドを実行して、
	ライタの SCSI アドレスを得ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">camcontrol devlist</userinput>
&lt;MATSHITA CDRW/DVD UJDA740 1.00&gt;   at scbus1 target 0 lun 0 (pass0,cd0)</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、<literal xmlns:xlink="http://www.w3.org/1999/xlink">1,0,0</literal> が <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cdrecord</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	およびその他の SCSI アプリケーションで使用する SCSI アドレスです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ATAPI/CAM および SCSI システムの詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">atapicam</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> および
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cam</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> マニュアルページを参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="floppies">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクの作成と使用</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Julio</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Merino</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
      
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Martin</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Karlsson</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
      </authorgroup>
      
    </info>

    

    <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクにデータを格納することはしばしば役にたちます。
      たとえば、ある人が他のリムーバブル記録メディアを何も持っていないときや、
      小さなデータを他のコンピュータに移動させる必要があるときです。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、FreeBSD におけるフロッピーディスクの使用方法を説明します。
      主に 3.5 インチの DOS フロッピーのフォーマットと操作方法を扱いますが、
      他のフロッピーディスクの形式についても概念は似ています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーのフォーマット</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">デバイス</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">他のデバイスと同様に、フロッピーディスクは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> にあるエントリを通じてアクセスされます。4.X
	  およびそれ以前のリリースにおいて raw
	  フロッピーディスクにアクセスするには
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdN</filename>
	  または <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdNX</filename>
	  を使用します。<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable> はドライブ番号を表し、
	  大抵は 0 です。<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> は文字を表します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">5.0 およびそれ以降のリリースでは、単に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdN</filename> を使用します。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">4.X およびそれ以前のリリースでのディスクサイズ</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdN.size</filename> というデバイスもあります。
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">size</replaceable>
	    はフロッピーディスクのサイズをキロバイトで示したものです。
	    これらのエントリは低レベルフォーマットの際に、
	    ディスクサイズを決定するのに使用されます。
	    1440kB は以下の例で使用されるサイズです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">時々 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> 下のエントリは (再)
	    作成されなければなりません。次のコマンドでこれを行います。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev &amp;&amp; ./MAKEDEV "fd*"</userinput></screen>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">5.X およびそれ以降のリリースでのディスクサイズ</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.0 では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> が
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> 内のエントリを自動的に管理するので、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command>を使用する必要はありません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">所望のディスクサイズは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdformat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に <option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option>
	    フラグを通して渡されます。対応しているサイズは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdcontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    のマニュアルページに掲載されていますが、最良に動作するのは
	    1440kB だと助言しておきます。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">フォーマット</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクは、
	  使用前に低レベルフォーマットをする必要があります。
	  通常、ベンダは低レベルフォーマット済みのディスクを出荷していますが、
	  フォーマットはメディアの品質を確認するよい方法です。
	  より大きな (または小さな) ディスクサイズにすることも可能ですが、
	  ほとんどのフロッピーディスクのサイズは 1440kB で動作するように設計されています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクを低レベルフォーマットするには
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fdformat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使用する必要があります。
	  このユーティリティは引数としてデバイス名を指定します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクが良好かあるいは不良であるかを決定するのに役立つので、
	  エラーメッセージをすべてメモに取っておいてください。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">4.X 以前のリリースでのフォーマット</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdN.size</filename> デバイスを使ってフロッピーをフォーマットします。
	    新しい 3.5 インチフロッピーディスクをドライブに挿入し、
	    以下のコマンドを実行してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/fdformat /dev/fd0.1440</userinput></screen>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">5.0 以降のリリースでのフォーマット</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/fdN</filename>
	    デバイスを使用してフロッピーをフォーマットします。
	    新しい 3.5 インチフロッピーディスクをドライブに挿入し、
	    以下のコマンドを実行してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/fdformat -f 1440 /dev/fd0</userinput></screen>
	</sect4>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクラベル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクを低レベルフォーマットしたら、
	次にディスクラベルを作成する必要があります。
	ディスクラベルは後で破棄されますが、
	システムがディスクのサイズとジオメトリを決定するのに必要になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいディスクラベルはディスク全体を引き継ぎ、
	フロッピーのジオメトリに関する適切な情報のすべてが含まれます。
	ディスクラベルに対するジオメトリの値は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/disktab</filename> に掲載されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のように <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/disklabel -B -r -w /dev/fd0 fd1440</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.1-RELEASE から、従来の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  プログラムは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  ユーティリティに置き換えられました。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> では、
	  使用されていないオプションおよびパラメタの数多くが削除されました。
	  たとえば <option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option> オプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  では取り除かれました。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  マニュアルページを参照してください。</para></note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでフロッピーを高レベルフォーマットする準備ができました。これは
	FreeBSD がディスクを読み書きする新しいファイルシステムを作成します。
	新しいファイルシステムを作成するとディスクラベルは破棄されます。
	したがって、ディスクを再フォーマットするときには、
	ディスクラベルを再作成しなくてはなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーのファイルシステムには UFS または FAT を使用できます。
	フロッピーに対しては FAT が一般的によりよい選択です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピー上に新しいファイルシステムを作成するには次のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/newfs_msdos /dev/fd0</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでディスクが使用できるようになりました。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーの使用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーを使用するために、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdos</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	(4.X 以前のリリース) または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdosfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	(5.0 以後のリリース) を用いてマウントします。
	Ports Collection から
	<package xmlns:xlink="http://www.w3.org/1999/xlink">emulators/mtools</package>
	を使用することもできます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">データテープの作成と使用</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的なテープメディアには 4mm, 8mm, QIC, ミニカートリッジ、
      DLT があります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-4mm">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">4mm (DDS: Digital Data Storage)</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">DDS (4mm) テープ</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">QIC テープ</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">4mm テープはワークステーションのバックアップメディアとして
	QIC に取って代わりつつあります。この傾向は
	QIC ドライブの主要なメーカであった Archive を Conner が買収し
	QIC ドライブの製造を中止したことで加速しました。
	4mm ドライブは小型で静かですが 8mm
	ドライブが持っている信頼性ほど、その評判は良くありません。
	また、4mm カートリッジは 8mm カートリッジよりも安価で小型
	(3 x 2 x 0.5 インチ、76 x 51 x 12 mm) になっています。
	ただし、8mm と同様に、4mm のヘッドはヘリカルスキャン方式
	(訳注: VTR と同様の回転ヘッドを使う方式)
	を採用しているため、比較的寿命が短いです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドライブのデータスループットは、150 kB/s から
	最大で 500 kB/s 程度です。	データ容量は 1.3 GB から
	2.0 GB です。
	ドライブのほとんどで利用可能なハードウェア圧縮を使用すると、
	容量が約 2 倍になります。
	マルチドライブテープライブラリユニットは 1 つの筐体に
	6 つのドライブを収容可能で、自動的にテープの交換ができます。
	ライブラリの容量は 240 GB に達します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在の DDS-3 標準は 12 GB (圧縮時 24 GB)
	までのテープ容量に対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">8mm ドライブと同様に
	4mm ドライブはヘリカルスキャンを使用します。
	ヘリカルスキャン方式の利点および欠点はすべて 4mm および 8mm
	ドライブの両方に当てはまります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">テープは 2,000 回のパスあるいは
	100 回フルバックアップした後には交換するべきです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-8mm">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">8mm (Exabyte)</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">Exabyte (8mm) テープ</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">8mm テープは SCSI
	テープドライブとして最もよく使われているもので、
	データ交換用として最良の選択です。ほとんどのサイトには Exabyte
	2 GB 8mm テープドライブがあるでしょう。8mm
	ドライブは信頼性が高く、使いやすく、静かです。
	カートリッジは安価で小型です
	(4.8 x 3.3 x 0.6 インチ、122 x 84 x 15 mm)。8mm
	テープの欠点は、テープとヘッドの相対的な速度が高速なために、
	比較的ヘッドとテープの寿命が短いことです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データスループットは 250 kB/s から 500 kB/s
	程度です。データ容量は 300 MB から 7 GB です。
	ほとんどのドライブで利用可能なハードウェア圧縮を利用すると、
	容量が約 2 倍になります。
	これらのドライブは、単一のユニットから
	6 つのドライブと 120
	本のテープを一つの筐体に収容したマルチドライブテープライブラリまで利用可能です。
	テープはユニットによって自動的に取り換えられます。
	ライブラリの容量は 840 GB 以上に達します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Exabyte の <quote xmlns:xlink="http://www.w3.org/1999/xlink">Mammoth</quote>
	モデルはテープ 1 本あたり 12 GB
	(圧縮時 24 GB) に対応し、
	従来のテープドライブと比べ費用は約 2 倍になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データはヘリカルスキャンを用いてテープに記録されます。
	ヘッダはメディアに対してある傾き (約 6 度) に配置されます。
	テープはヘッドのある円筒の周の 270 度にわたって接触します。
	テープが円筒面を走行する間、円筒は回転しています。
	この結果、高密度のデータのつまったトラックは、
	狭い間隔でテープの上端と下端の間を斜めに横切ります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-qic">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">QIC</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">QIC-150</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">QIC-150 テープとドライブは、
	おそらく最も一般的に使われているドライブとメディアでしょう。
	QIC テープドライブは <quote xmlns:xlink="http://www.w3.org/1999/xlink">現実的な</quote>
	バックアップドライブとしては最も高価でないものです。
	欠点はメディアのコストです。QIC テープは 8mm や 4mm テープと比較して
	GB あたりのデータの保存で 5 倍ほど高価です。
	しかし、あなたの必要とする量が半ダース程のテープで十分であれば、
	QIC は正しい選択かもしれません。QIC は
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">最も</emphasis>一般的なテープドライブです。
	すべてのサイトに QIC ドライブのどれかの容量のものがあります。問題は、
	QIC は同じようなテープ (まったく同じ場合もある)
	に多様な記録密度があることです。QIC ドライブは静かではありません。
	これらのドライブはデータ記録を開始する前に音をたててシークしますし、
	リード、ライト、シークの時にはっきりと聞こえる音を出します。
	QIC テープの大きさは (6 x 4 x 0.7 インチ、152 x 102 x 17 mm) です。
	1/4 インチ幅のテープも使用している
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="backups-tapebackups-mini">ミニカートリッジ</link>
	は別に議論します。テープライブラリやチェンジャはありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データスループットは ~1500 kB/s から ~5000 kB/s
	程度です。データ容量は 400 MB から 150 GB です。
	ハードウェア圧縮が最近のドライブの多くで利用できます。
	QIC ドライブは DAT ドライブに置き換えられつつあり、
	あまり頻繁には使用されなくなっています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データは複数のトラックに分かれてテープに記録されます。
	トラックはテープメディアの長さ方向の一端からもう一方の端までです
	(訳注: 1 トラックの read/write が終わるとテープの走行方向を反転させ
	次のトラックの read/write を行います)。トラックの数と、
	それに対応するトラックの幅はテープの容量によって変わります。
	すべてではありませんが、
	最近のドライブはほとんど、少なくとも読み出しについては
	(場合によっては書き込みも) 下位互換性があります。
	QIC はデータの安全性についてはよいといわれています
	(ヘリカルスキャンドライブに比べて機構は単純でより丈夫です)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">テープは 5000 回のバックアップで寿命となるでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-mini">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">XXX* ミニカートリッジ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-dlt">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">DLT</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">DLT</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DLT	はここに示したドライブのタイプの中で最高速のデータ転送レートを発揮します。
	1/2 インチ (12.5mm) テープが単リールのカートリッジ
	(4 x 4 x 1 インチ、100 x 100 x 25 mm) に入っています。
	カートリッジのひとつの側面全体がスイングゲートになっています。
	ドライブの機構がこのゲートを開け、テープリーダを引き出します。
	テープリーダには楕円形の穴があり、
	ドライブがテープを <quote xmlns:xlink="http://www.w3.org/1999/xlink">引っ掛ける</quote> のに使います。
	巻き取りのためのリールはドライブの中にあります。
	ここに挙げた他のカートリッジはすべて
	(9 トラックテープは唯一の例外です)
	送り出しリールと巻き取りリールの両方がカートリッジの中にあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データスループットは約 1.5 MB/s で、4mm, 8mm, QIC
	テープドライブの 3 倍です。データ容量は単一のドライブで
	10 GB から 20 GB の範囲です。マルチテープチェンジャ、
	マルチテープドライブ、5 から 900 巻のテープを 1 から
	20 ドライブで扱うマルチドライブテープライブラリがあり、
	50 GB から 9 TB の容量が得られます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">圧縮によって、DLT Type IV フォーマットは
	70 GB までの容量に対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">データは (QICテープのように)
	テープの走行方向と平行に複数あるトラックへ記録されます。
	2 つのトラックに同時書き込みを行います。
	read/write ヘッドの寿命は比較的長いと言えます。
	テープの走行が止まればヘッドとテープの間の相対運動は無いからです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-tapebackups-ait">AIT</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">テープメディア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">AIT</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">AIT は、Sony が発表した新しいフォーマットで、
        テープ 1 本あたり 50 GB (圧縮時) まで格納できます。
	テープにはメモリチップが搭載されており、
	テープの内容の索引情報を保持しています。
	他のテープではテープ上のファイルの位置を把握するのに数分必要とするのですが、
	このテープドライブでは索引情報を読んで直ちに決定することができます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">SAMS:Alexandria</application>
        のようなソフトウェアは、40 を超える
        ATI テープライブラリを操作できるのはもちろんのこと、
	テープのメモリチップと直接通信して、スクリーンに内容を表示し、
	どのファイルがどのテープにバックアップされたかを調べて、
	正しいテープを見つけ、読み込み、
	テープからデータを復元することができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このようなライブラリは大体 $20,000 くらいするので、
	愛好家が購入できる価格帯からは外れてしまいます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">新品のテープを初めて使う場合</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">全く新品の空テープを読もうとしたり書き込もうとすると、
	処理は失敗するでしょう。
	次のようなメッセージがコンソールに出力されるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">sa0(ncr1:4:0): NOT READY asc:4,1
sa0(ncr1:4:0):  Logical unit is in process of becoming ready</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">テープに識別ブロック (Identifier Block:block number 0)
	がありません。QIC-525 標準を採用したすべての QIC
	テープドライブは識別ブロックをテープに書き込みます。
	2 つの解決方法があります。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mt fsf 1</command>
	      によりテープドライブはテープに識別ブロックを書き込みます。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">フロントパネルのボタンを押してテープを取り出します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">再びテープを挿入し、データをテープに <command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command>
	      します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> は
	      <errorname xmlns:xlink="http://www.w3.org/1999/xlink">DUMP: End of tape detected</errorname> と報告し、
	      コンソールには
	      <errorname xmlns:xlink="http://www.w3.org/1999/xlink">HARDWARE FAILURE info:280 asc:80,96</errorname>
	      と表示されるでしょう。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mt rewind</command> を使ってテープを巻戻します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">次からはテープの操作はうまくいくでしょう。</para>
	  </listitem>
	</itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-floppybackups">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクへのバックアップ</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="floppies-using">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">データをバックアップするのにフロッピーは使えますか?</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップフロッピー</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスク</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクは以下の理由によって、
	実際にバックアップをつくるための適切なメディアではありません。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">メディアの信頼性が (特に長期間の場合) 低い。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">バックアップとリストアがとても遅い。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">容量が非常に小さい
	    (1 ダースかそこらのフロッピーディスクに
	    ハードディスク全体をバックアップしていた時代は、
	    はるか遠くに過ぎ去りました)。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、データをバックアップする他の手段がないのなら、
	バックアップを取らないよりもフロッピーディスクを使う方がましでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクを使用せざるを得ないときは、
	品質のよいディスクを使用してください。
	事務所のその辺に数年転がっていたフロッピーは使わない方が良いでしょう。
	評判のよいメーカの新しいディスクを使用することが理想です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="floppies-creating">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">それではどうやってデータをフロッピーにバックアップするのですか?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーにバックアップする最もよい方法は、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-M</option> (マルチボリューム) オプション付きで
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを使用することです。これで、
	複数のフロッピーにわたってバックアップすることが可能になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カレントディレクトリとサブディレクトリ内のすべてのファイルをバックアップするには、
	以下のコマンドを (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で)
	使用します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar Mcvf /dev/fd0 *</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">1 枚目のフロッピーが一杯になると、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は次のボリュームを挿入するように要求します
	(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> はさまざまなメディアを扱えるので、
	ボリュームと表示します。この文脈ではフロッピーディスクのことです)。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Prepare volume #2 for /dev/fd0 and hit return:</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定したファイルがすべて保存されるまで
	(ボリューム番号を増やしながら) これが繰り返されます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="floppies-compress">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">バックアップを圧縮することはできませんか?</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">圧縮</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">残念なことに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> はマルチボリュームアーカイブに対して、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-z</option> オプションを使うことができません。
	もちろん、すべてのファイルを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で圧縮し、
	それらを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を用いてフロッピーに保存して、
	それから再び <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gunzip</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> することはできます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="floppies-restoring">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">どのようにしてバックアップをリストアしたらいいのでしょうか?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのアーカイブをリストアするには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar Mxvf /dev/fd0</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">特定のファイルだけをリストアするには 2 つの方法があります。
	1 つ目は、1 枚目のフロッピーを用いて以下のようにするものです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar Mxvf /dev/fd0 filename</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> ユーティリティは、
	必要なファイルを見つけるまで次のディスクを挿入するように要求します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう 1 つは、
	必要なファイルがどのフロッピーに保存されているか分かっている場合、
	そのフロッピーを挿入して上記と同じコマンドを使用するだけでもよいです。
	あるフロッピー上にある 1 番目のファイルが、
	その前のフロッピーから続いている場合は、
	そのファイルのリストアを要求していなくても <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	はそれをリストアできないと警告することに注意してください!</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backup-basics">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">バックアップの基本</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">主なバックアッププログラムは
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cpio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の三つです。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ダンプとリストア</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ダンプ / リストア</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command></primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">restore</command></primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">伝統的な <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> のバックアッププログラムは
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">restore</command> です。
	これらはファイルシステムによって作成されるファイル、リンク、
	ディレクトリといった抽象の下位にある、
	ディスクブロックの集合としてドライブを操作します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command>
	はデバイス上のファイルシステム全体をバックアップします。
	ファイルシステムの一部分だけ、
	または二つ以上のファイルシステムにわたるディレクトリツリーをバックアップすることはできません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command>
	はファイルおよびディレクトリをテープに書き込まずに、
	ファイルおよびディレクトリを含んだ raw データブロックを書き込みます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ルートディレクトリで <command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command>
	を使った場合、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/home</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	など、他の多くのディレクトリはバックアップされません。
	これらのディレクトリは通常、
	他のファイルシステムへのマウントポイントであったり、
	シンボリックリンクとなっているためです。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> には AT&amp;T UNIX のバージョン 6
	(およそ 1975 年) の初期から残っている癖があります。
	デフォルトのパラメタは、現在利用可能な高密度メディア
	(最大 62,182 ftpi) ではなく、9 トラックテープ (6250 bpi)
	に最適な値となっています。
	現在のテープドライブの容量を利用するために、
	これらのデフォルト値をコマンドラインで上書きしなければなりません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.rhosts</filename></primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">rdump</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">rrestore</command>
	を用いて他のコンピュータに接続されているテープドライブにネットワーク経由でデータをバックアップすることも可能です。
	どちらのプログラムもリモートのテープドライブにアクセスするために
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rcmd</command> および <command xmlns:xlink="http://www.w3.org/1999/xlink">ruserok</command>
	に依存しています。
	したがって、バックアップを実行するユーザがリモートコンピュータの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.rhosts</filename> ファイルに書かれていなければなりません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rdump</command> および <command xmlns:xlink="http://www.w3.org/1999/xlink">rrestore</command>
	の引数はリモートコンピュータに適切なものを用いなければなりません。
	FreeBSD コンピュータから <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">komodo</systemitem> と呼ばれる Sun
	に接続されている Exabyte テープへ <command xmlns:xlink="http://www.w3.org/1999/xlink">rdump</command>
	するには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/rdump 0dsbfu 54000 13000 126 komodo:/dev/nsa8 /dev/da0a 2&gt;&amp;1</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">注意: <filename xmlns:xlink="http://www.w3.org/1999/xlink">.rhosts</filename>
	認証を許可することには、セキュリティに関する暗黙の仮定があります。
	あなたの置かれている状況を注意深く調べてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command> 越しに
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">restore</command>
	をより安全な形で使うこともできます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application> 越しの
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> の利用</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/dump -0uan -f - /usr | gzip -2 | ssh1 -c blowfish \
          targetuser@targetmachine.example.com dd of=/mybigfiles/dump-usr-l0.gz</userinput></screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または、環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">RSH</envar> を設定して、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> の組み込み機能を利用する。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">RSH</envar> を設定した <application xmlns:xlink="http://www.w3.org/1999/xlink">ssh</application> 越しの <command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> を利用</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">RSH=/usr/bin/ssh /sbin/dump -0uan -f targetuser@targetmachine.example.com:/dev/sa0</userinput></screen>

      </example>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command></title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tar</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は AT&amp;T UNIX の バージョン 6 (1975 年ごろ)
	にまで遡ることができます。<command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command>
	はファイルシステムと協調して動作し、
	ファイルとディレクトリをテープに書き込みます。<command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command>
	は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cpio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	で使用可能なフルレンジのオプションには対応していませんが、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> には <command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	が使用するような奇妙なコマンドパイプラインは必要ありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command></primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command>
	の多くの版はネットワーク経由のバックアップには対応していません。
	FreeBSD が使用している GNU 版の <command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> は、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rdump</command>
	と同じ構文でリモートデバイスに対応しています。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">komodo</systemitem> と呼ばれる Sun に接続された Exabyte
	テープドライブに対して <command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command>
	を実行するには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/tar cf komodo:/dev/nsa8 . 2&gt;&amp;1</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リモートデバイスに対応していない版に対しては、パイプラインと
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command>
	を使用してリモートテープドライブにデータを送ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar cf - . | rsh hostname dd of=tape-device obs=20b</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークを越えたバックアップのセキュリティを懸念しているなら、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command> の代わりに <command xmlns:xlink="http://www.w3.org/1999/xlink">ssh</command>
	を使うべきです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command></title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cpio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は本来 <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	ファイルを磁気メディアで交換するためのプログラムです。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command> はバイトスワッピング、
	多くの異なるアーカイブフォーマットの書き込みオプションがあり
	(それ以外にも多数のオプションがあります)、
	パイプで他のプログラムにデータを渡すこともできます。
	この最後にあげた特徴が、<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	をインストールメディアとしては優れた選択肢にしています。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	はディレクトリツリーの探索の機能はなく、ファイルリストは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">stdin</filename> からの入力でなくてはなりません。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command></primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	はネットワーク経由のバックアップには対応していません。
	以下のようにパイプラインと <command xmlns:xlink="http://www.w3.org/1999/xlink">rsh</command>
	を用いてリモートテープドライブにデータを送ることができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">for f in directory_list; do</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">find $f &gt;&gt; backup.list</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">done</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cpio -v -o --format=newc &lt; backup.list | ssh user@host "cat &gt; backup_device"</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">directory_list</replaceable>
	はバックアップしたいディレクトリのリストで、
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable>@<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">host</replaceable>
	はバックアップを実行したいユーザとホスト名の組であり、
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">backup_device</replaceable>
	はバックアップを書き込みたいデバイスです
	(たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/nsa0</filename>)。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pax</command></title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pax</command></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pax</command></primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">POSIX</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IEEE</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pax</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は <command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> と
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>	に対する IEEE/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">POSIX</trademark>
	の回答です。長年の間、さまざまな版の
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> と <command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	は互いにわずかに非互換になってきていました。
	それらをしらみ潰しに標準化する代わりに、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">POSIX</trademark>
	は新しいアーカイブユーティリティを作りました。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">pax</command>
	は、いくつもの <command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command> や
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command>
	のフォーマットの読み書きに対応しようと試みているほか、
	専用に新しいフォーマットを開発しました。
	コマンド群は <command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> よりも
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command> の方にいくぶん似ています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="backups-programs-amanda">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application></title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">バックアップソフトウェア</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application></primary></indexterm>

      <!-- Remove link until <port> tag is available -->
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> (Advanced Maryland
	Network Disk Archiver) は単一のプログラムではなく、
	クライアント/サーバ型のバックアップシステムです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> サーバは、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> クライアントを有する
	ネットワークに接続されたコンピュータからデータを受け取り、
	備え付けられたテープドライブにバックアップします。
	いくつもの大容量ディスクを備えたサイトでの共通の問題は、
	データディレクトリをテープにバックアップするのに時間がかかりすぎることです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> はこの問題を解決します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> は
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ホールディングディスク</quote> を使用して、
	同時に複数のファイルシステムのバックアップを行うことができます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> の設定ファイルにかかれたすべてのファイルシステムのフルバックアップを特定の間隔でとるために
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">アーカイブセット</quote> と呼ばれるテープグループを作成します。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">アーカイブセット</quote> には
	夜間に作成されるすべてのファイルシステムの増分 (または差分)
	のバックアップも含まれます。
	障害が起きたファイルシステムのリストアには、
	最も新しいフルバックアップと増分のバックアップが必要です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイルでは、バックアップの制御と
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application>
	によるネットワークトラフィック量を設定します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application>
	は上記のバックアッププログラムのいずれかを使ってデータをテープに書き込みます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Amanda</application> は port または package
	として利用可能です。デフォルトではインストールされていません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">何もしない</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">何もしない</quote>
	というのはコンピュータのプログラムではありませんが、
	バックアップの戦略として最も広く採用されています。
	これには初期投資が必要ありません。
	従わなければならないバックアップスケジュールもありません。
	ただ何もしないだけです。データに何か起きたら苦笑いして耐えてください!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたにとって時間やデータの価値が少ないか、
	あるいはまったくないのであれば <quote xmlns:xlink="http://www.w3.org/1999/xlink">何もしない</quote>
	のはあなたのコンピュータに最も適したバックアッププログラムでしょう。
	しかし注意してください。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> は便利なツールです。
	6 ヶ月も使用していれば、
	あなたにとって価値のあるファイルの山が出来上がっているでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">何もしない</quote>
	ことはコンピュータが同じものをもう一度作り直すことのできる
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	やその他のディレクトリツリーについては適切なバックアップ方法です。
	一例として、このハンドブックの HTML 版 または <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark>
	版を構成するファイルがあります。
	これらの文書形式は SGML ファイルから作成されたものです。
	HTML または <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> ファイルのバックアップは必要ありません。
	SGML ファイルは定期的にバックアップされています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">どのバックアッププログラムが最適ですか?</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">LISA</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> です。<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">以上。</emphasis>
	Elizabeth D. Zwicky
	はここで検討したプログラムすべてについて拷問的なテストを行いました。
	すべてのデータと <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	ファイルシステムの状態すべてを保存するのに最適なのは、明らかに
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> です。
	Elizabeth は多種多様の特異な状態
	(いくつかはあまり珍しくないものもあります)
	を含むファイルシステムを作成し、
	それらのファイルシステムのバックアップとリストアを行って、
	それぞれのプログラムのテストを行いました。特異な状態とは、
	ホールがあるファイル、ホールとヌルブロックがあるファイル、
	奇妙な文字をファイル名に持つファイル、読み取り不可、
	書き込み不可のファイル、デバイスファイル、
	バックアップ中のファイルのサイズ変更、
	バックアップ中のファイルの作成および削除、などです。
	彼女は 1991 年 10 月の LISA V で結果を発表しています。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://berdmann.dyndns.org/zwicky/testdump.doc.html">torture-testing Backup and Archive Programs</link>
	を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">緊急時のリストア手順</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">惨事が起きる前に</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">発生する可能性があるどのような惨事に対しても、
	  備えるのに必要な手順は以下の 4 ステップだけです。</para>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</command></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">最初に、
	  各ディスクのディスクラベルとファイルシステムテーブル
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>)、
	  ブートメッセージ全体をそれぞれ 2 枚ずつ印刷します
	  (たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">disklabel da0 | lpr</command>)。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">fix-it フロッピー</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 番目に、ブートフロッピーと fix-it フロッピー
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">fixit.flp</filename>)
	  にそのシステムのデバイスがすべて含まれているか確認します。
	  最も簡単に確認する方法は、フロッピーをドライブに入れてマシンをリブートしてブートメッセージを確認することです。
	  あなたのシステムのデバイスのすべてが含まれ、
	  機能していれば 3 番目の手順に進んでください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さもなければ、
	  そのシステムのすべてのディスクをマウントでき、
	  テープドライブにもアクセスできるカーネルを備えた
	  カスタムブートフロッピーを 2 枚作成する必要があります。
	  これらのフロッピーディスクには <command xmlns:xlink="http://www.w3.org/1999/xlink">fdisk</command>,
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">newfs</command>,
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">mount</command>
	  と、利用するバックアッププログラムが入っていなければなりません。
	  これらのプログラムはスタティックリンクされていなければなりません。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">dump</command> を使用するのなら、このフロッピーには
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">restore</command> も含まれていなければなりません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">3 番目に、定期的にバックアップテープを作成します。
	  最後のバックアップの後で行われた変更は、回復できずに失われます。
	  バックアップテープにライトプロテクトを施してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">4 番目に、フロッピーディスク
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename> と
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">fixit.flp</filename>、
	  か、第 2 段階で作成した
	  2 枚のカスタムブートフロッピーディスクのどちらか)
	  およびバックアップテープのテストをします。
	  手順のメモを作りましょう。
	  このメモはブートフロッピー、印刷した紙、
	  バックアップテープと一緒に保存しておきます。
	  リストアを行うときには、
	  このメモがバックアップテープを壊すのを防ぐくらい取り乱しているかもしれません
	  (どのように?
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">tar xvf /dev/sa0</command> の代わりに、うっかり
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">tar cvf /dev/sa0</command>
	  と入力してバックアップテープを上書きしてしまうかもしれません)。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上書きはライトプロテクトをしておけば防げますが、
	    何らかの原因でプロテクトがはずれているかもしれません。
	    ちなみに訳者の経験から言えば、
	    上のようなミスタイプは結構起きます。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">安全性を増すために、毎回、
	  ブートフロッピーを作成し、
	  2 巻のバックアップテープを取ります。
	  一方を離れた場所に保管します。
	  離れた場所は同じ事務所の建物の地下室ではいけません。
	  世界貿易センタービルにあった数多くの会社は、
	  苦い経験によりこの教訓を得ました。離れた場所とは、
	  コンピュータやディスクドライブから十分な距離を取って
	  物理的に分離されていなければなりません。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートフロッピーを作成するスクリプト</title>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><![CDATA[#!/bin/sh
#
# create a restore floppy
#
# format the floppy
#
PATH=/bin:/sbin:/usr/sbin:/usr/bin

fdformat -q fd0
if [ $? -ne 0 ]
then
	 echo "Bad floppy, please use a new one"
	 exit 1
fi

# place boot blocks on the floppy
#
disklabel -w -B /dev/fd0c fd1440

#
# newfs the one and only partition
#
newfs -t 2 -u 18 -l 1 -c 40 -i 5120 -m 5 -o space /dev/fd0a

#
# mount the new floppy
#
mount /dev/fd0a /mnt

#
# create required directories
#
mkdir /mnt/dev
mkdir /mnt/bin
mkdir /mnt/sbin
mkdir /mnt/etc
mkdir /mnt/root
mkdir /mnt/mnt			# for the root partition
mkdir /mnt/tmp
mkdir /mnt/var

#
# populate the directories
#
if [ ! -x /sys/compile/MINI/kernel ]
then
	 cat << EOM
The MINI kernel does not exist, please create one.
Here is an example config file:
#
# MINI - A kernel to get FreeBSD onto a disk.
#
machine         "i386"
cpu             "I486_CPU"
ident           MINI
maxusers        5

options         INET                    # needed for _tcp _icmpstat _ipstat
                                        #            _udpstat _tcpstat _udb
options         FFS                     #Berkeley Fast File System
options         FAT_CURSOR              #block cursor in syscons or pccons
options         SCSI_DELAY=15           #Be pessimistic about Joe SCSI device
options         NCONS=2                 #1 virtual consoles
options         USERCONFIG              #Allow user configuration with -c XXX

config          kernel	root on da0 swap on da0 and da1 dumps on da0

device          isa0
device          pci0

device          fdc0	at isa? port "IO_FD1" bio irq 6 drq 2 vector fdintr
device          fd0	at fdc0 drive 0

device          ncr0

device          scbus0

device          sc0	at isa? port "IO_KBD" tty irq 1 vector scintr
device          npx0	at isa? port "IO_NPX" irq 13 vector npxintr

device          da0
device          da1
device          da2

device          sa0

pseudo-device   loop            # required by INET
pseudo-device   gzip            # Exec gzipped a.out's
EOM
	 exit 1
fi

cp -f /sys/compile/MINI/kernel /mnt

gzip -c -best /sbin/init > /mnt/sbin/init
gzip -c -best /sbin/fsck > /mnt/sbin/fsck
gzip -c -best /sbin/mount > /mnt/sbin/mount
gzip -c -best /sbin/halt > /mnt/sbin/halt
gzip -c -best /sbin/restore > /mnt/sbin/restore

gzip -c -best /bin/sh > /mnt/bin/sh
gzip -c -best /bin/sync > /mnt/bin/sync

cp /root/.profile /mnt/root

cp -f /dev/MAKEDEV /mnt/dev
chmod 755 /mnt/dev/MAKEDEV

chmod 500 /mnt/sbin/init
chmod 555 /mnt/sbin/fsck /mnt/sbin/mount /mnt/sbin/halt
chmod 555 /mnt/bin/sh /mnt/bin/sync
chmod 6555 /mnt/sbin/restore

#
# create the devices nodes
#
cd /mnt/dev
./MAKEDEV std
./MAKEDEV da0
./MAKEDEV da1
./MAKEDEV da2
./MAKEDEV sa0
./MAKEDEV pty0
cd /

#
# create minimum file system table
#
cat &gt; /mnt/etc/fstab &lt;&lt;EOM
/dev/fd0a    /    ufs    rw  1  1
EOM

#
# create minimum passwd file
#
cat > /mnt/etc/passwd <<EOM
root:*:0:0:Charlie &:/root:/bin/sh
EOM

cat > /mnt/etc/master.passwd <<EOM
root::0:0::0:0:Charlie &:/root:/bin/sh
EOM

chmod 600 /mnt/etc/master.passwd
chmod 644 /mnt/etc/passwd
/usr/sbin/pwd_mkdb -d/mnt/etc /mnt/etc/master.passwd

#
# umount the floppy and inform the user
#
/sbin/umount /mnt
echo "The floppy has been unmounted and is now ready."]]></programlisting>
        </example>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">惨事の後は</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">重要な問題は、ハードウェアが生き残ったかどうかです。
	  定期的にバックアップを取っていれば、
	  ソフトウェアについて心配する必要はありません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアに障害があれば、
	  コンピュータを使用する前にその部品を交換してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアに問題が無ければ、フロッピーを確認してください。
	  カスタムブートフロッピーディスクを使用しているのであれば、
	  シングルユーザモードでブートして (<prompt xmlns:xlink="http://www.w3.org/1999/xlink">boot:</prompt>
	  プロンプトで <literal xmlns:xlink="http://www.w3.org/1999/xlink">-s</literal> を入力します)、
	  次の段落は飛ばしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">fixit.flp</filename>
	  を使用しているのであればこのまま読み進めてください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.flp</filename>
	  フロッピーをフロッピードライブに入れて、
	  コンピュータを起動してください。
	  本来のインストールメニューが画面に表示されます。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">Fixit--Repair mode with CDROM or floppy.</literal>
	  オプションを選択します。指示された通り
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">fixit.flp</filename> をいれてください。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">restore</command> とその他必要となるプログラムは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt2/stand</filename> にあります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">そして、ファイルシステムを一つずつ回復します。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mount</command></primary>
	</indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">root パーティション</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</command></primary>
	</indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">newfs</command></primary>
	</indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">最初のディスクのルートパーティションを <command xmlns:xlink="http://www.w3.org/1999/xlink">mount</command>
	  してみてください (たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/da0a /mnt</command>)。
	  ディスクラベルが破壊されている場合は、<command xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</command>
	  を用いてあらかじめ印刷して保存しておいた通りにパーティションを作り直し、ディスクラベルを作成してください。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">newfs</command> を使用してファイルシステムを作り直します。
	  ルートパーティションを読み書き可能にマウントし直します
	  (<command xmlns:xlink="http://www.w3.org/1999/xlink">mount -u -o rw /mnt</command>)。
	  バックアッププログラムとバックアップテープを使用して、
	  このファイルシステムのデータを回復します
	  (たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">restore vrf /dev/sa0</command>)。
	  ファイルシステムをアンマウントします
	  (たとえば <command xmlns:xlink="http://www.w3.org/1999/xlink">umount /mnt</command>)。
	  障害を受けたファイルシステムそれぞれについて繰り返してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">システムが動き出したら、
	  新しいテープにデータをバックアップしてください。
	  どのような理由で再び事故が起きたり、データが失われるかわかりません。
	  これに数時間を費すことで、後々の災難から救われます。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-virtual">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク、メモリ、そしてファイルベースのファイルシステム</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成および追記: </contrib></author>
      </authorgroup>
    </info>
    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">仮想ディスク</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">仮想</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD にはフロッピーや CD,
      ハードディスクなどの手元の計算機に取り付けたディスクの他に、
      別の形態のディスク、<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">仮想ディスク</firstterm>、もあります。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Coda</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">メモリ</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これには、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nfs">Network File System</link>
      のようなネットワークファイルシステムや Coda,
      メモリベースのファイルシステムおよびファイルベースのファイルシステムがあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">稼働させている FreeBSD のバージョンによって、
      ファイルベースおよびメモリベースのファイルシステムを作成したり操作するために、異なるツールを使用しなければならないでしょう。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X の使用者は必要なデバイスを作成するために
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用しなければならないでしょう。FreeBSD 5.0
	以降では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> がデバイスノードを自動的に割り当ててくれるので、
	使用者が意識する必要はありません。</para>
    </note>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-vnconfig">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X でファイル中に構築されるファイルシステム</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルベース (4.X)</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	ユーティリティを使えば擬似ディスクデバイスを設定し、
	有効にすることができます。
	<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">vnode</firstterm> とはファイルの内部的な表現方法であり、
	ファイルに関する操作の中心となるものです。つまり、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	はファイルシステムを生成したり操作したりするためにファイルを用いるのです。
	一つ例を挙げると、
	ファイルに収められたフロッピーや CD-ROM のイメージをマウントするために用いることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用するためには、
	カーネルが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vn</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> デバイスに対応している必要があります。
	そうでなければ、カーネルコンフィギュレーションファイルに
	次の行を追加してカーネルを再構築し、システムを再起動してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device vn</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">既にあるファイルシステムイメージのマウント</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X での vnconfig を用いた既存のファイルシステムイメージのマウント</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig vn0 diskimage</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/vn0c /mnt</userinput></screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を用いたファイルシステムイメージの新規作成</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</command> を用いたファイルベースディスクの新規作成</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=newimage bs=1k count=5k</userinput>
5120+0 records in
5120+0 records out
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig -s labels -c vn0 newimage</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -r -w vn0 auto</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs vn0c</userinput>
Warning: 2048 sector(s) in last cylinder unallocated
/dev/vn0c:     10240 sectors in 3 cylinders of 1 tracks, 4096 sectors
        5.0MB in 1 cyl groups (16 c/g, 32.00MB/g, 1280 i/g)
super-block backups (for fsck -b #) at:
 32
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/vn0c /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem  1K-blocks     Used    Avail Capacity  Mounted on
/dev/vn0c        4927        1     4532     0%    /mnt</screen>
      </example>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-mdconfig">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X でファイル中に構築されるファイルシステム</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルベース (5.X)</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ユーティリティは FreeBSD 5.X において
	メモリディスク (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>) を設定し、有効にするために使用されます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用するためには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> モジュールを読み込むか、
	カーネルコンフィギュレーションファイルに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	デバイスを追加してカーネルを再構築し、システムを再起動してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device md</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドは、
	三つのタイプのメモリベース仮想ディスクに対応しています。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">malloc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> を用いて割り当てられたメモリディスク、
	ファイルをベースにしたメモリディスク、
	およびスワップ領域をベースにしたメモリディスクです。
	想定される使用法は、ファイル内に保持されたフロッピーイメージまたは
	CD イメージをマウントすることです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">既にあるファイルシステムイメージのマウント</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X での <command xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</command> を用いた既存のファイルシステムイメージのマウント</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -a -t vnode -f diskimage -u 0</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/md0c /mnt</userinput></screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を用いたファイルシステムイメージの新規作成</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</command> を用いたファイルシステムイメージの新規作成</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=newimage bs=1k count=5k</userinput>
5120+0 records in
5120+0 records out
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -a -t vnode -f newimage -u 0</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">disklabel -r -w md0 auto</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs md0c</userinput>
/dev/md0c: 5.0MB (10240 sectors) block size 16384, fragment size 2048
	using 4 cylinder groups of 1.27MB, 81 blks, 256 inodes.
super-block backups (for fsck -b #) at:
 32, 2624, 5216, 7808
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/md0c /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem  1K-blocks     Used    Avail Capacity  Mounted on
/dev/md0c        4846        2     4458     0%    /mnt</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-u</option> オプションを用いて
	ユニット番号を指定しない場合、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	は未使用のデバイスを自動的に選択するために
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> デバイスの auto-unit 機能を使用します。
	割り当てられたユニットの名前は <filename xmlns:xlink="http://www.w3.org/1999/xlink">md4</filename>
	のように標準出力に出力されます。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	の詳細についてはマニュアルページを参照してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.1-RELEASE から、従来の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  プログラムは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  ユーティリティに置き換えられました。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> では、
	  使用されていないオプションおよびパラメタの数多くが削除されました。
	  たとえば <option xmlns:xlink="http://www.w3.org/1999/xlink">-r</option> オプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  では取り除かれました。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bsdlabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  マニュアルページを参照してください。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ユーティリティは大変役に立ちますが、
	ファイルベースのファイルシステムを作成するために、
	多くのコマンドの入力が必要となります。FreeBSD 5.0 では
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と呼ばれるツールも用意されています。このプログラムは
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を用いて <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ディスクを設定し、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を用いて UFS ファイルシステムを作成し、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を用いてマウントします。たとえば、上記と同じファイルシステムを作成し、
	マウントしたい場合は、下記のように入力するだけです。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</command> を用いたファイルベースディスクの設定とマウント</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero of=newimage bs=1k count=5k</userinput>
5120+0 records in
5120+0 records out
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs -F newimage -s 5m md0 /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md0        4846    2  4458     0%    /mnt</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユニット番号を指定せずに <option xmlns:xlink="http://www.w3.org/1999/xlink">md</option>
	オプションを使用した場合、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	は未使用のデバイスを自動的に選択するために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> デバイスの
	auto-unit 機能を使用します。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	についての詳細はマニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-md-freebsd4">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X でのメモリベースのファイルシステム</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">メモリファイルシステム (4.X)</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバは FreeBSD 4.X
	においてメモリファイルシステムを作成するために単純で効果的な手段です。
	メモリを割り当てるために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">malloc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 関数が使用されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を用いて作成したファイルシステムを例に取ると、
	以下のようにします。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X での md メモリディスク</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=newimage of=/dev/md0</userinput>
5120+0 records in
5120+0 records out
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/md0c /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem  1K-blocks     Used    Avail Capacity  Mounted on
/dev/md0c        4927        1     4532     0%    /mnt</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> マニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-md-freebsd5">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X でのメモリベースのファイルシステム</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">メモリファイルシステム (5.X)</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メモリベースおよびファイルベースのファイルシステムに対しても
	同じツール (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>) を使用できます。
	メモリベースのファイルシステムに対する記憶領域は
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">malloc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry> 関数を用いて割り当てられます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</command> を用いたメモリベースディスクの新規作成</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -a -t malloc -s 5m -u 1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs -U md1</userinput>
/dev/md1: 5.0MB (10240 sectors) block size 16384, fragment size 2048
	using 4 cylinder groups of 1.27MB, 81 blks, 256 inodes.
	with soft updates
super-block backups (for fsck -b #) at:
 32, 2624, 5216, 7808
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/md1 /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md1        4846    2  4458     0%    /mnt</screen>
      </example>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</command> を用いたメモリベースディスクの新規作成</title>
	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs -M -s 5m md2 /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df /mnt</userinput>
Filesystem 1K-blocks Used Avail Capacity  Mounted on
/dev/md2        4846    2  4458     0%    /mnt</screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のコマンドラインの <option xmlns:xlink="http://www.w3.org/1999/xlink">malloc</option> を
	<option xmlns:xlink="http://www.w3.org/1999/xlink">swap</option> に置き換えることで、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">malloc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">9</manvolnum></citerefentry>
	関数によるファイルシステムを使用する代わりに
	スワップ領域を使用することが可能です。デフォルトでは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	ユーティリティはスワップベースのディスクを作成します
	(<option xmlns:xlink="http://www.w3.org/1999/xlink">-M</option> なし)。詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> および
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdmfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システムからメモリディスクを切り離す</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">メモリディスクの切り離し</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メモリベースまたはファイルベースのファイルシステムが使用されていない場合、
	すべてのリソースをシステムに開放するべきです。
	はじめにファイルシステムをアンマウントします。
	次にシステムからディスクを切り離し、リソースを開放するために
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/md4</filename> によって使用されたすべてのリソースを切り離し、開放するには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -d -u 4</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -l</command> コマンドを使用することによって、
	設定された <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">md</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> デバイスについての情報を表示することが可能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.X では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> はデバイスを切り離すのに使用されます。たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/vn4</filename> によって使用されたすべてのリソースを切り離し、開放するには以下のようにします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vnconfig -u vn4</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="snapshots">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのスナップショット</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      
    </info>

    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">スナップショット</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.0 は
      Soft Updates
      <!-- Furukawa:2004/1/8
      should be refer this after updating config/chapter.xml
      <link linkend="soft-updates">Soft Updates</link>
      -->
      と協調するファイルシステムスナップショットという新しい機能を提供します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットは指定したファイルシステムのイメージを作成し、
      また、ファイルとして扱うことができるようになります。
      スナップショットファイルはアクションが実行されるファイルシステム内で作成されなければなりません。
      また、ユーザは一つのファイルシステムあたり 20
      までスナップショットを作成することができます。
      有効なスナップショットはスーパーブロック内に記録されるので、
      リブートしてから永続的にアンマウントおよびリマウントを記録します。
      スナップショットが必要無くなったときは、
      標準の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドを用いて削除することができます。
      スナップショットはどんな順番で削除してもよいのですが、
      その他のスナップショットが開放されたブロックのうちいくらかをおそらく必要とするので、
      使用されていたすべてのスペースを得られるとは限りません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">初めてスナップショットを作成すると、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      でさえも書き込めないように <option xmlns:xlink="http://www.w3.org/1999/xlink">schg</option>
      フラグ (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> のマニュアルページを参照) が設定されます。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">unlink</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドは、スナップショットに <option xmlns:xlink="http://www.w3.org/1999/xlink">schg</option>
      フラグが設定されていてもそれらを削除することのできる例外です。
      したがって、スナップショットファイルを削除する前に、
      <option xmlns:xlink="http://www.w3.org/1999/xlink">schg</option> フラグをクリアする必要はありません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを用いて作成されます。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> のスナップショットを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/snapshot/snap</filename> に作成したいときは、
      以下のコマンドを使用します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -u -o snapshot /var/snapshot/snap /var</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、スナップショットを作成するのに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mksnap_ffs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
      も使えます。</para>
    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mksnap_ffs /var /var/snapshot/snap</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットにはいくつかの利用法があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショットをバックアップ目的に使用する管理者もいます。
	  なぜならスナップショットは CD やテープに転送できるからです。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの完全性を検証するために、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をスナップショットに実行してもよいでしょう。
	  スナップショットをマウントしたときにそのファイルシステムがクリーンであったとすると、
	  そのスナップショットをマウントするときはいつでもクリーンな
	  (そして変更のない) 結果を得るでしょう。
	  これは本質的には バックグラウンド <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が行うことです。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スナップショット上で <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ユーティリティを実行すると、
	  スナップショットのファイルシステムとタイムスタンプが一致するダンプが返されるでしょう。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <option xmlns:xlink="http://www.w3.org/1999/xlink">-L</option> オプションを使用することで、
	  一つのコマンドでスナップショットをとり、ダンプイメージを作成して、スナップショットを削除することが可能です。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムの <quote xmlns:xlink="http://www.w3.org/1999/xlink">凍結された</quote> イメージとしてスナップショットを
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> します。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/snapshot/snap</filename> のスナップショットを
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> するには以下のようにします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -a -t vnode -f /var/snapshot/snap -u 4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -r /dev/md4 /mnt</userinput></screen>

      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename> にマウントした
      凍結状態の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> ファイルシステム構造を探索できます。
      すべてがスナップショットが作成された時と同じ状態になるはずです。ただし、
      以前に作成されたスナップショットがサイズ 0 のファイルとして現れることが唯一の例外です。
      スナップショットの使用を終えた場合、以下のようにアンマウントできます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">umount /mnt</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mdconfig -d -u 4</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">softupdates</option>
      およびファイルシステムスナップショットに関する詳細については、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mckusick.com/">http://www.mckusick.com/</link>
      にある Marshall Kirk McKusick のウェブサイトを参照してください。
      ここには技術的な論文もあります。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="quotas">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムクォータ</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">アカウンティング</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク領域</secondary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータ</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">クォータは OS の持っているオプショナルな機能であり、
      ファイルシステム毎にユーザやグループのメンバが使用するディスク容量やファイルの数を制限することができます。
      この機能は、あるユーザやグループに割り当てられるリソースの量を制限することが望ましいようなタイムシェアリングシステムにおいてよく用いられます。
      この機能を用いることによって使用可能なディスク容量の全てを一人のユーザやユーザのグループが使ってしまうことを防ぐことができます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータを使うためのシステム設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータの設定を始める前に、
	まずはカーネルにクォータが組み込まれていることを確認しましょう。
	カーネルのコンフィグレーションファイルに次の行を入れます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options QUOTA</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">標準の <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルでは、
	この機能は有効になっていませんので、
	ディスククォータを利用するためには上記を設定後カーネルを構築しなおし、
	作成されたカスタムカーネルをインストールしなければいけません。
	カーネルのコンフィグレーションに関しては
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	でディスククォータを有効にする必要があります。
	次の行を加えましょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">enable_quotas="YES"</programlisting>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">チェック</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時の動作をさらに細かくコントロールするためにもう一つ設定用の変数があります。
	通常、起動時には <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quotacheck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	によりそれぞれのファイルシステムのクォータの整合性がチェックされます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quotacheck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の役割は、
	クォータデータベースのデータが正しくファイルシステム上のデータを反映しているか確認することです。
	これはかなり時間を食う処理であり、
	起動にかかる時間に大きな影響を及ぼします。
	このステップをとばしたい人のために
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に次の変数が用意されています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">check_quotas="NO"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし 3.2-RELEASE よりも前の FreeBSD
	を使っているならば設定はもっと単純で、一つの変数のみです。
	次の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> で設定してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">check_quotas="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に、ファイルシステム毎にディスククォータを有効にするために
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> を編集する必要があります。
	ここでユーザもしくはグループ、
	あるいはその両方にクォータを設定することができるのです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるファイルシステム上にユーザ毎のクォータを有効にする場合には、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	中でクォータを有効にしたいファイルシステムエントリのオプション部に
	<option xmlns:xlink="http://www.w3.org/1999/xlink">userquota</option> を加えます。
	例えば次のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s2g   /home    ufs rw,userquota 1 2</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同様に、グループクォータを有効にするには
	<option xmlns:xlink="http://www.w3.org/1999/xlink">userquota</option> キーワードの代わりに
	<option xmlns:xlink="http://www.w3.org/1999/xlink">groupquota</option> を用います。
	ユーザとグループの両方のクォータを有効にするには次のようにします。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/da1s2g    /home    ufs rw,userquota,groupquota 1 2</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、
	クォータファイルはそのファイルシステムのルートディレクトリに
	ユーザ用、グループ用それぞれ
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">quota.user</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">quota.group</filename>
	という名前で置かれます。さらに詳しい情報は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	をご覧ください。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	マニュアルには別の場所を指定することができると書いてはありますが、
	あまり勧められません。なぜなら、
	様々なクォータ関係のユーティリティがそれにうまく対処できるようにないためです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この時点で、
	一度システムを再起動して新しいカーネルで立ち上げましょう。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc</filename> が自動的に適当なコマンドを実行し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	で有効にした全てのクォータ用に初期ファイルを作ってくれます。
	従って、空のクォータファイルを手で作る必要は一切ありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常の運用では <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quotacheck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quotaon</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quotaoff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	といったコマンドを手で動かす必要はないのですが、
	慣れるためにもこれらのマニュアルは読んでおきましょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">クォータリミットの設定</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">制限</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一旦クォータを有効にしたら本当に有効になっているのか確認しておきましょう。簡単な方法は次のコマンドを実行することです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">quota -v</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクの使用状況と、クォータが有効になっているファイルシステムのクォータリミットが一行にまとめて出力されるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さあ、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">edquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> でクォータリミットを設定する準備ができました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザやグループが使用できるディスク容量や作成できるファイルの数に制限をかけるにはいくつかのオプションがあります。割り当てディスク容量を制限
	(ブロッククォータ) することもファイル数を制限 (inode クォータ)
	することも、両者を組み合わせることもできるのです。
	これらの制限はそれぞれさらに二つのカテゴリ、
	ハードリミットとソフトリミット、に分けることができます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ハードリミット</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ハードリミットを越えることはできません。
	あるユーザが一旦ハードリミットにたっした場合、
	そのファイルシステムではそれ以上の割り当ては望めません。
	例えばあるファイルシステム上に
	500 ブロックのハードリミットが設定されており現在
	490 ブロックを使用している場合、さらに 10 ブロックしか使えないのです。
	11 ブロックを使おうとすると失敗します。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ソフトリミット</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">一方、
	ソフトリミットはある限られた時間内であれば越えることができます。
	この時間は猶予期間として知られており、デフォルトでは 1 週間です。
	あるユーザが自分のソフトリミットを猶予期間よりも長い間越えているとソフトリミットはハードリミットに変わり、それ以上使用することはできなくなります。
	ユーザがソフトリミットよりも減らせば猶予期間はリセットされます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">edquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	コマンドを実行した時に見ることになるであろう例です。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">edquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドが起動されると環境変数
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar> で指定されるエディタに入ります。
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">EDITOR</envar> が設定されていない場合には
	<application xmlns:xlink="http://www.w3.org/1999/xlink">vi</application> が起動されます。
	ここでクォータリミットを編集します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">edquota -u test</userinput></screen>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Quotas for user test:
/usr: blocks in use: 65, limits (soft = 50, hard = 75)
        inodes in use: 7, limits (soft = 50, hard = 60)
/usr/var: blocks in use: 0, limits (soft = 50, hard = 75)
        inodes in use: 0, limits (soft = 50, hard = 60)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、クォータが有効になっているファイルシステム毎に 2 行あります。
	一つはブロックリミット用でもう一つは inode リミット用です。
	クォータリミットを変更したいところを書き変えるだけでかまいません。
	たとえばこのユーザのブロックリミットを、ソフトリミットは 50 から 500
	へ、ハードリミットは 75 から 600 に変更する場合、</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr: blocks in use: 65, limits (soft = 50, hard = 75)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">から</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> /usr: blocks in use: 65, limits (soft = 500, hard = 600)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">へ書き換えます。新しいクォータリミットはエディタを終了すれば設定されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ある範囲の UID
	に対してクォータリミットを設定したい場合がありますが、このような時には
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">edquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドの <option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option>
	オプションを使うといいでしょう。まず、
	あるユーザに割り当てたいクォータリミットを設定し、次に
	<command xmlns:xlink="http://www.w3.org/1999/xlink">edquota -p protouser startuid-enduid</command>
	を実行するのです。例えばユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">test</systemitem>
	にお望みのクォータリミットが付いているとしましょう。
	次のコマンドにより 10,000 から 19,999 の間の UID
	に対して同じクォータリミットを付けることができるのです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">edquota -p test 10000-19999</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに詳しいことは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">edquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルページをご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">クォータリミットとディスク使用状況のチェック</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスククォータ</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">チェック</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> または <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">repquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	といったコマンドを使ってクォータリミットやディスクの利用状況を確認することができます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドは個々のユーザやグループのクォータやディスク利用状況を確認するのに使えます。
	ユーザは自身のクォータ、そして所属するグループのグループのみ確認することができます。
	スーパーユーザのみが他のユーザや所属していないグループのクォータと利用状況を見ることができます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">repquota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使うと、クォータが有効になっているファイルシステム用の全てのクォータやディスク容量のサマリを得ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は二つのファイルシステムにクォータ制限がかけられているユーザに対する<command xmlns:xlink="http://www.w3.org/1999/xlink">quota -v</command> コマンドの出力例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Disk quotas for user test (uid 1002):
     Filesystem  blocks   quota   limit   grace   files   quota   limit   grace
           /usr      65*     50      75   5days       7      50      60
       /usr/var       0      50      75               0      50      60</programlisting>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">猶予期間</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">上の例で、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	ファイルシステム上ではこのユーザは現在
	50 ブロックというソフトリミットを 15 ブロックオーバーし
	5 日間の猶予期間が残っています。アスタリスク <literal xmlns:xlink="http://www.w3.org/1999/xlink">*</literal>
	はクォータリミットを越えているユーザを示していることに注意してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、そのユーザが全く使っていないファイルシステムは、
	クォータリミットが付けられているとしても
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドの出力には現われません。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-v</option> オプションを用いればそのようなファイルシステム、
	上の例では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/var</filename>、
	を表示することができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NFS 上の クォータ</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クォータは NFS サーバ上のクォータサブシステムにより実行されます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rpc.rquotad</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> デーモンにより、NFS クライアント上の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">quota</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	コマンドは情報を得ることができ、クライアントマシン上のユーザが自分のクォータの統計を見ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> において以下のように
	<command xmlns:xlink="http://www.w3.org/1999/xlink">rpc.rquotad</command> を有効にしましょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">rquotad/1      dgram rpc/udp wait root /usr/libexec/rpc.rquotad rpc.rquotad</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして以下のように <command xmlns:xlink="http://www.w3.org/1999/xlink">inetd</command> を再起動します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP `cat /var/run/inetd.pid`</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="disks-encrypting">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクパーティションの暗号化</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Lucky</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Green</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib><affiliation xmlns:xlink="http://www.w3.org/1999/xlink">
	    <address xmlns:xlink="http://www.w3.org/1999/xlink"><email xmlns:xlink="http://www.w3.org/1999/xlink">shamrock@cypherpunks.to</email></address>
	  </affiliation></author>
      </authorgroup>
      
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスク</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">暗号化</secondary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
      は無許可のデータアクセスに対する優れたオンライン保護機能を提供します。
      ファイルのパーミッションおよび強制的アクセスコントロール
      (MAC: Mandatory Access Control)
      (Mandatory Access Control (MAC) を参照)
      <!-- Furukawa:2004/1/8
      should be refer this after updating security/chapter.xml
      (<xref linkend="mac"/> を参照)
      -->
      は、コンピュータが動作中で、OS が実行中であるときに、
      無許可の第三者がデータにアクセスするのを防ぐことに役立ちます。
      しかしながら、攻撃者がコンピュータに物理的にアクセスし、
      機密データをコピーし分析するためにコンピュータのハードドライブを別のシステムに移動させることができれば、
      OS によって強化された許可属性は意味をなさなくなります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">攻撃者が電源の落ちたコンピュータや
      ハードドライブを手にいれる手段にかかわらず、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">GEOM ベースのディスク暗号化 (gbde: GEOM Based Disk Encryption)</application>
      は、著しい資源を持ち本気で攻撃を仕掛けるつもりでやってきた攻撃者からさえもコンピュータのファイルシステム上にあるデータを保護することができます。
      個々のファイルだけを暗号化する煩わしい方法と異なり、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
      は全ファイルシステムを透過的に暗号化します。
      平文テキストは決してハードドライブのプラッタに関係しません。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルで gbde を有効にする</title>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になる</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
	    の設定をするにはスーパユーザの権限が必要になります。
	    以下のコマンドを実行して、
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になってください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">su -</userinput>
Password:</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステムのバージョンを確かめる</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> が動作するには FreeBSD 5.0 以降が必要です。
	    以下のコマンドを実行して、
	    オペレーティングシステムのバージョンを確認してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">uname -r</userinput>
5.0-RELEASE</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィギュレーションファイルに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    対応を追加する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">お好みのテキストエディタを使用して、
	    以下の行をカーネルコンフィギュレーションファイルに加えます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">options GEOM_BDE</literal></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD カーネルを設定、再コンパイル、インストールします。
	    この手順は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> で説明されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルで再起動します。</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化されたハードドライブの準備</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例では、システムに新しいハードディスクを追加しようとしています。このシステムは単一の暗号化されたパーティションを保持することになります。
	このパーティションは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/private</filename>
	としてマウントされます。<application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/home</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/mail</filename>
	を暗号化するのにも使用できますが、
	より複雑な指示を必要となるのでこの解説の範疇を越えています。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">新しいハードドライブを追加する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="disks-adding"/> で説明されている通りに新しいドライブをシステムに設置します。
	    この例では、新しいハードドライブは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ad4s1c</filename> パーティションに
	    加えられたものとします。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ad0s1*</filename>
	    デバイスは、この例のシステム上に存在する標準的な
	    FreeBSD パーティションを表します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls /dev/ad*</userinput>
/dev/ad0        /dev/ad0s1b     /dev/ad0s1e     /dev/ad4s1
/dev/ad0s1      /dev/ad0s1c     /dev/ad0s1f     /dev/ad4s1c
/dev/ad0s1a     /dev/ad0s1d     /dev/ad4</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">gbde ロックファイルを保持するディレクトリを作成する</title>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /etc/gbde</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> ロックファイルには、
	    暗号化されたパーティションにアクセスするのに必要となる情報が格納されています。
	    ロックファイルにアクセスしない場合、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> は
	    膨大な手動による介在なしには (ソフトウェアは対応していません)、暗号化されたパーティションに含まれるデータを解読することはできないでしょう。
	    それぞれの暗号化されたパーティションは別々のロックファイルを使用します。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">gbde パーティションを初期化する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
	    パーティションは使用する前に初期化されなければなりません。
	    この初期化は一度だけ実行される必要があります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gbde init /dev/ad4s1c -i -L /etc/gbde/ad4s1c</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">エディタが開くので、
	    テンプレートをもとにさまざまなオプションを設定してください。
	    UFS1 または UFS2 で使用するには、sector_size を
	    2048 に設定してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">$<!-- This is not the space you are looking
for-->FreeBSD: src/sbin/gbde/template.txt,v 1.1 2002/10/20 11:16:13 phk Exp $
#
# Sector size is the smallest unit of data which can be read or written.
# Making it too small decreases performance and decreases available space.
# Making it too large may prevent filesystems from working.  512 is the
# minimum and always safe.  For UFS, use the fragment size
#
sector_size     =       2048
[...]
</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    はデータを保護するのに使用するパスフレーズを二度尋ます。
	    パスフレーズはそれぞれ同じでなければなりません。
	    データを保護する <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> の能力は、
	    あなたが選択したパスフレーズの品質に完全に依存します。
	    <footnote xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">記憶するのが簡単で、
		安全なパスフレーズを選択する方法については、
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://world.std.com/~reinhold/diceware.html">
		  Diceware Passphrase</link>
		ウェブサイトを参照してください。</para></footnote></para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">gbde init</command> コマンドは
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
	    パーティションに対するロックファイルを作成します。この例では
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gbde/ad4s1c</filename> に格納されます。</para>

	  <caution xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> ロックファイルは、
	      すべての暗号化されたパーティションの内容とともにバックアップされなければ <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">なりません</emphasis>。
	      ロックファイルだけを削除している間、
	      ロックファイルなしでは信念の固い攻撃者が
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
	      パーティションを解読することを防ぐことができない一方で、
	      正当な所有者は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> およびこの設計者にまったく支持されない膨大な量の作業なしには、
	      暗号化されたパーティション上のデータにアクセスすることができないでしょう。</para>
	  </caution>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに暗号化されたパーティションを接続する</title>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gbde attach /dev/ad4s1c -l /etc/gbde/ad4s1c</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化されたパーティションを初期化する際に選択したパスフレーズを入力するように求められます。
	    新しい暗号化デバイスは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> に
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/device_name.bde</filename>
	    として現れます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ls /dev/ad*</userinput>
/dev/ad0        /dev/ad0s1b     /dev/ad0s1e     /dev/ad4s1
/dev/ad0s1      /dev/ad0s1c     /dev/ad0s1f     /dev/ad4s1c
/dev/ad0s1a     /dev/ad0s1d     /dev/ad4        /dev/ad4s1c.bde</screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化デバイス上にファイルシステムを作成する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに暗号化デバイスが接続されると、
	    デバイス上にファイルシステムを作成できます。
	    暗号化デバイス上にファイルシステムを作成するには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    を使用します。従来の UFS1 ファイルシステムで初期化するより、
	    新しい UFS2 ファイルシステムで初期化した方が高速なので、
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-O2</option> オプションとともに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    を使用することが推奨されています。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.1-RELEASE 以降では、<option xmlns:xlink="http://www.w3.org/1999/xlink">-O2</option>
	      オプションはデフォルトです。</para></note>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">newfs -U -O2 /dev/ad4s1c.bde</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">newfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、デバイス名に
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">*.bde</filename>
	      拡張子によって認識される、
	      接続された <application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application>
	      パーティションに対して実行されなければなりません。</para>
	  </note>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化パーティションをマウントする</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化ファイルシステムに対するマウントポイントを作成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /private</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化ファイルシステムをマウントします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/ad4s1c.bde /private</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化ファイルシステムが利用可能か確かめる</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これで暗号化ファイルシステムは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">df</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で見ることができ、
	    利用する準備ができました。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">df -H</userinput>
Filesystem        Size   Used  Avail Capacity  Mounted on
/dev/ad0s1a      1037M    72M   883M     8%    /
/devfs            1.0K   1.0K     0B   100%    /dev
/dev/ad0s1f       8.1G    55K   7.5G     0%    /home
/dev/ad0s1e      1037M   1.1M   953M     0%    /tmp
/dev/ad0s1d       6.1G   1.9G   3.7G    35%    /usr
/dev/ad4s1c.bde   150G   4.1K   138G     0%    /private</screen>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">存在する暗号化ファイルシステムをマウントする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムを起動する度に、すべての暗号化ファイルシステムは
	使用前にカーネルに接続し、
	エラーの有無をチェックし、マウントする必要があります。
	必要なコマンドは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	ユーザとして実行されなければなりません。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに gbde パーティションを接続する</title>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gbde attach /dev/ad4s1c -l /etc/gbde/ad4s1c</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">パーティションの暗号化を初期化する際に選択したパスフレーズを入力するように求められるでしょう。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのエラーをチェックする</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">暗号化ファイルシステムを自動的にマウントするために
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> に設定を掲載することはまだできないため、
	    マウントする前に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fsck</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行して、
	    ファイルシステムのエラーをチェックしなければなりません。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">fsck -p -t ffs /dev/ad4s1c.bde</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化ファイルをマウントする</title>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /dev/ad4s1c.bde /private</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これで暗号化ファイルシステムが利用できるようになりました。</para>
	</step>
      </procedure>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化パーティションを自動的にマウントする</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">スクリプトを作成して、暗号化パーティションを自動的に接続、
	  チェック、マウントすることは可能です。しかしながら、
	  安全上の理由によりスクリプトに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  パスワードを含めるべきではありません。その代わりに、コンソールまたは
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ssh</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> による接続からパスワードを入力するようなスクリプトが手動で実行されることが推奨されます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">gbde が採用した暗号の保護</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は 128bit AES の
	CBC モードを使用してセクタペイロードを暗号化します。
	ディスク上のそれぞれのセクタは異なる AES 鍵で暗号化されます。
	セクタ鍵がユーザが入力したパスフレーズからどのように導き出されるかを含め、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> の暗号手法の設計についての詳細は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gbde</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">互換性に関する問題</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">gbde</application> 暗号化デバイスと互換性がありません。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行する前に
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">*.bde</filename>
	デバイスはすべてカーネルから切断されなければなりません。
	そうしないと、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が初めにデバイスを走査する際にクラッシュしてしまうでしょう。
	暗号化デバイスを切断するには、以下のコマンドを使用します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gbde detach /dev/ad4s1c</userinput></screen>

    </sect2>
  </sect1>
</chapter>

<!--
    &chap.geom;
    &chap.zfs;
    &chap.filesystems;
    &chap.virtualization;
-->
    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.119
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="l10n">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">地域化 (localization) - I18N/L10N の利用と設定</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Andrey</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Chernov</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Michael C.</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Wu</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
      <!-- 30 Nv 2000 -->
    </authorgroup>
  </info>

  

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="l10n-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、ユーザーおよび貢献者が世界中にいる、非常に分散した
      プロジェクトです。この章では、英語以外の言語を使うユーザーの実用に
      耐えられるようにする FreeBSD の国際化 (internationalization) と
      地域化 (localization) 機能について解説します。
      システムレベルでもアプリケーションレベルでも、国際化の実装には
      様々な側面があるので、必要に応じて読者に対してより専門的な文書情報を
      示すことにします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、以下の分野について説明します。</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">近代的なオペレーティングシステムで、異なる言語および
	  ロケールがどのように符号化されているか。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ログインシェルでロケールを設定するには
	  どうするか。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">コンソールを英語以外の言語用に設定するには
	  どうするか。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">様々な言語で効率的に X Window System を使うには
	  どうすればよいか。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">国際化されたアプリケーションを書くための
	  情報はどこにあるか。</para></listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製アプリケーションのインストール方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)。</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="l10n-basics">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">基礎知識</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">I18N/L10N とは?</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">国際化 (internationalization)</primary>
      <see xmlns:xlink="http://www.w3.org/1999/xlink">地域化 (localization)</see>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化(localization)</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">開発者たちはしばしば、internationalization を縮めて I18N
	と表記します。18 は internationalization の最初と最後の間の
	文字数です。L10N も同じ命名法を用いて
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">localization</quote> を縮めたものです。
	これらを合わせて、I18N/L10N された (すなわち国際化/地域化された)
	手法、プロトコル、アプリケーションは、自分達の好みの言語を
	使うことを可能にしてくれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">国際化されたアプリケーションはライブラリとして国際化キット
	を用いてプログラミングされています。
	これは開発者が単純なファイルを書いて、
	表示されるメニューやテキストを各国語に翻訳できるようにしてくれます。
	プログラマのみなさんには、
	これらの方法を利用することを強く推奨します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">なぜ I18N/L10N を使わなければいけないの?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">英語以外の言語を見たり、入力したり、処理したりする場合はいつでも、
	I18N/L10N が使われます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">I18N で使えるようになる言語には何があるの?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">I18N や L10N は FreeBSD に限った話題ではありません。
	現在では、世界中の主要な言語のほとんどから選ぶことができます。
	たとえば中国語、ドイツ語、日本語、韓国語、フランス語、ロシア語、
	ベトナム語などがありますが、これらに限定されるわけではありません。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ロケール(locale)</primary></indexterm>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="using-localization">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">地域化の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">I18N は FreeBSD に特有のものではなく、一つの考え方です。
      以下の慣習にしたがって FreeBSD を利用するようにしてください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">地域化の設定は言語コード、
      国コード、エンコーディングという三つの用語を基本とします。
      ロケール名はこれらから以下のように構成されます。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">言語コード</replaceable>_<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">国コード</replaceable>.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">エンコーディング</replaceable></programlisting>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">言語コードと国コード</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">言語コード</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">国コード</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD (やその他の国際化をサポートした <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>-like なシステム)
	を特定の言語に地域化するには、
	国と言語を特定するためのコードを知る必要があります
	(国コードはアプリケーションに指定された言語のどの変種
	(variation) を用いれば良いかを教えてくれます)。
	加えて、ウェブブラウザ、SMTP/POP サーバ、
	ウェブサーバなどもこれらを元に様々な選択を行います。
	以下は言語/国コードの例です。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">言語/国コード</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">en_US</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">英語 (合衆国)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ru_RU</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語 (ロシア)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">zh_TW</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">繁体字中国語 (台湾)</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">エンコーディング</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">エンコーディング</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの言語では、8-bit やワイド文字、
	多バイト文字など ASCII とは異なったエンコード法を用います
	(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">multibyte</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 参照)。
	古いアプリケーションはこれらを認識せず、
	誤ってコントロール文字として認識してしまいます。
	最近のアプリケーションは、大抵 8-bit 文字を認識します。
	実装方法にも依りますが、アプリケーションのコンパイル時もしくは
	configure 時に、ワイド/多バイト文字のサポートを指定する必要があるかも知れません。
	ワイド/多バイト文字を入力したり処理したりすることを可能にするために、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/ports/index.html">FreeBSD Ports Collection</link>
	では各言語向けに異なったプログラムを提供しています。
	各 FreeBSD Port の国際化文書を参照してください。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">特に、正しく configure したり、configure/Makefile/
	コンパイラに適切な値を渡すために、アプリケーションの
	文書を良く読む必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のことを心に留めておいてください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">言語固有の、C 言語の char で表現できる
	    シングルバイトの文字セット
	    (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">multibyte</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> を参照)、たとえば
	    ISO8859-1, ISO8859-15, KOI8-R, CP437。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ワイド、多バイトのエンコーディング、たとえば EUC, Big5。
	  </para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在有効な文字セットのリストに関しては
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.iana.org/assignments/character-sets">IANA Registry</link>
	をチェックしてください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	  では、X11 互換のロケール符号を用いています。</para>
      </note>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">国際化アプリケーション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の ports/packages システムでは、
	それとひと目でわかるように国際化アプリケーションには名前に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">I18N</literal> という文字が含まれています。
	ただし、それらのアプリケーションが常にあなたの望む言語を
	サポートしているとは限りません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="setting-locale">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ロケールの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常は、ログインシェルで環境変数 <envar xmlns:xlink="http://www.w3.org/1999/xlink">LANG</envar> に
	ロケール名を設定し export すれば十分です。これは、ユーザーの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.login_conf</filename> ファイル、またはユーザーの
	シェルの初期設定ファイル (<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.profile</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.bashrc</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.cshrc</filename>)
	でできます。
	<envar xmlns:xlink="http://www.w3.org/1999/xlink">LC_CTYPE</envar> や <envar xmlns:xlink="http://www.w3.org/1999/xlink">LC_CTIME</envar> のような
	ロケールのサブセットを設定する必要はありません。
	詳細に関しては、各言語向けの FreeBSD 文書を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の二つの環境変数を設定ファイルで指定する必要があります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">POSIX</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">POSIX</trademark> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">setlocale</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> 関連の関数のための
	    <envar xmlns:xlink="http://www.w3.org/1999/xlink">LANG</envar></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MIME</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">アプリケーション用の MIME 文字セットのための
	    <envar xmlns:xlink="http://www.w3.org/1999/xlink">MM_CHARSET</envar></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これにはユーザのシェルの設定、アプリケーション固有の設定、
	X11 の設定などが含まれます。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ロケールを設定する方法</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ロケール (locale)</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラス</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ロケールを設定するには以下で説明するように、二つの方法があります。
	  一つは推奨される方法で、<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="login-class">ログインクラス (login
	  class)</link> において環境変数に割り当てる方法。
	  もう一つはシステムのシェル
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="startup-file">初期化ファイル</link>
	  において環境変数の指定を追加する方法です。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="login-class">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラスを用いる方法</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法では、
	    各シェルの初期化ファイルに特定のシェル設定を追加する代わりに、
	    すべてのシェルにおいて一度に必要なロケール名と MIME
	    文字セットを環境変数に割り当てることができます。
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="usr-setup">ユーザの設定</link>はユーザ自身で行なえますが、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="adm-setup">管理者の設定</link>にはスーパユーザの権限が必要となります。</para>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="usr-setup">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの設定</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのホームディレクトリの
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">.login_conf</filename> ファイルを用いて、
	      両方の変数に Latin-1 エンコーディングを設定する
	      簡単な例は次の通りです。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">me:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:</programlisting>

	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">繁体字中国語 (Traditional Chinese)</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">BIG-5 エンコーディング</secondary></indexterm>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、BIG-5 エンコーディングされた繁体字中国語用の環境変数を設定する
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">.login_conf</filename> の一例です。
	      中国語、日本語、韓国語用のロケール変数を
	      正しく認識しないソフトウェアに対処するため、
	      よりたくさんの変数を設定していることに注目してください。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#Users who do not wish to use monetary units or time formats
#of Taiwan can manually change each variable
me:\
	:lang=zh_TW.Big5:\
	:lc_all=zh_TW.Big:\
	:lc_collate=zh_TW.Big5:\
	:lc_ctype=zh_TW.Big5:\
	:lc_messages=zh_TW.Big5:\
	:lc_monetary=zh_TW.Big5:\
	:lc_numeric=zh_TW.Big5:\
	:lc_time=zh_TW.Big5:\
	:charset=big5:\
	:xmodifiers="@im=xcin": #Setting the XIM Input Server</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細に関しては
	      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="adm-setup">管理者の設定</link> と
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照してください。</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="adm-setup">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">管理者の設定</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename> において、
	      正しい言語がユーザのクラスに指定されていることを確認してください。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename> は、このようになります。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language_name</replaceable>:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">accounts_title</replaceable>:\
	:charset=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MIME_charset</replaceable>:\
	:lang=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">locale_name</replaceable>:\
	:tc=default:</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">先ほどの例のように Latin-1
	      での設定はこのようになります。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">german:German Users Accounts:\
	:charset=ISO-8859-1:\
	:lang=de_DE.ISO8859-1:\
	:tc=default:</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザのログインクラスを変更する前に次のコマンドを実行して、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename>
	      の新たな設定がシステムに見えるようにしてください。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cap_mkdb /etc/login.conf</userinput></screen>

	    <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" renderas="sect4">ログインクラスを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vipw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で変更する</bridgehead>

	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command></primary>
	    </indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザを追加するために <command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command>
	      を用います。そして以下のようなエントリを作成します。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">user:password:1111:11:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">language</replaceable>:0:0:User Name:/home/user:/bin/sh</programlisting>

	    <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" renderas="sect4">ログインクラスを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で変更する</bridgehead>

	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command></primary>
	    </indexterm>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ログインクラス</primary></indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザを追加するために <command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command>
	      を用います。そして以下の手順を踏みます。</para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/adduser.conf</filename> で
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">defaultclass = language</literal>
		  と設定します。
		  この場合、他の言語のユーザには
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal> クラスを指定することを
		  忘れないでください。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">もうひとつの方法は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が
<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns:xlink="http://www.w3.org/1999/xlink">Enter login class: default []: </prompt></screen>
		  と聞いてきたときに、毎回言語を指定するやり方です。</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに別の方法は、異なる言語を利用するユーザを
		  追加する際に、以下のようにするやり方です。</para>

		<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">adduser -class language</userinput></screen>
	      </listitem>
	    </itemizedlist>

	    <bridgehead xmlns:xlink="http://www.w3.org/1999/xlink" renderas="sect4">ログインクラスを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で変更する</bridgehead>

	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pw</command></primary>
	    </indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいユーザを追加するために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を
	      用いる場合、以下の形式で実行します。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw useradd user_name -L language</userinput></screen>
	  </sect5>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="startup-file">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">シェルの初期化ファイルによる方法</title>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">シェルごとに異なった設定が必要なため、
	      この方法は推奨されません。
	      代わりに <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="login-class">ログインクラスを用いる方法</link>を使ってください。</para>
	  </note>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MIME</primary></indexterm>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ロケール(locale)</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ロケール名と MIME 文字コードを追加するには、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/profile</filename> や
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/csh.login</filename> などのシェル初期化ファイル
	    に以下の二つの環境変数を設定します。
	    以下に示す例は、ドイツ語の設定です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/profile</filename> では
            次のように設定します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">LANG=de_DE.ISO8859-1; export LANG</envar>
<envar xmlns:xlink="http://www.w3.org/1999/xlink">MM_CHARSET=ISO-8859-1; export MM_CHARSET</envar></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">また <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/csh.login</filename> では
            次のように設定します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">setenv LANG de_DE.ISO8859-1</envar>
<envar xmlns:xlink="http://www.w3.org/1999/xlink">setenv MM_CHARSET ISO-8859-1</envar></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もしくは、上記のやり方を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/skel/dot.profile</filename>
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/profile</filename> と同形式) や
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/skel/dot.login</filename>
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/csh.login</filename> と同形式)
	    に追加することもできます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 では、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">$HOME/.xinitrc</filename> に
	    使用しているシェルに合った形式で</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">LANG=de_DE.ISO8859-1; export LANG</envar></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もしくは、</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><envar xmlns:xlink="http://www.w3.org/1999/xlink">setenv LANG de_DE.ISO8859-1</envar></programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">と指定します。</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="setting-console">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コンソールの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">C 言語の char で表現できるシングルバイトの文字セット用に、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	でその言語に対応した適切なコンソールフォントを指定してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">font8x16=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">フォント名</replaceable>
font8x14=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">フォント名</replaceable>
font8x8=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">フォント名</replaceable></programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">フォント名</replaceable>
	は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/syscons/fonts</filename> ディレクトリ
	にあるフォントファイルから <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fnt</filename>
	という拡張子を除いたものです。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">keymap</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">screenmap</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<command xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</command> (FreeBSD バージョンが 5.2
	よりも古い場合は <command xmlns:xlink="http://www.w3.org/1999/xlink">/stand/sysinstall</command>)
	を使って、C 言語の char で表現できるシングルバイトの文字セット用の正しい
	キーマップとスクリーンマップを指定するようにしてください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application> では、<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Configure</guimenuitem>
	を選択し、<guimenuitem xmlns:xlink="http://www.w3.org/1999/xlink">Console</guimenuitem> を選択します。
	もしくは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	に以下の行を加えてください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">scrnmap=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">スクリーンマップ名</replaceable>
keymap=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">キーマップ名</replaceable>
keychange="<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">ファンクションキー番号の並び</replaceable>"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">スクリーンマップ名</replaceable>
	は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/syscons/scrnmaps</filename> ディレクトリ
	にあるマップファイルから <filename xmlns:xlink="http://www.w3.org/1999/xlink">.scm</filename>
	という拡張子を除いたものです。
	VGA アダプタが疑似グラフィクス領域のフォント文字マトリクスで
	bit 8 を bit 9 に拡張することに対処するために
	(例えばスクリーンフォントが
	bit 8 列を使っている時に文字をその領域から外に移動する場合)、
	フォントに適切にマップされたスクリーンマップが必要となります。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> を以下のように設定して、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">moused</application> デーモンを有効化している場合は、
	次の段落に書かれているマウスカーソルに関する情報を確認してください。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">moused_enable="YES"</programlisting>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">moused</application></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定省略時には、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syscons</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバのマウスカーソルは
	キャラクタセット中の 0xd0-0xd3 の範囲を占めています。そのため、
	利用している言語がこの範囲のキャラクタセットを使っている場合、
	カーソルの占める範囲を重ならないように移動させなければなりません。
	FreeBSD でこれを回避するには、次の行を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">mousechar_start=3</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">キーマップ名</replaceable> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/syscons/keymaps</filename>
	ディレクトリにあるキーマップファイルから <filename xmlns:xlink="http://www.w3.org/1999/xlink">.kbd</filename>
	という拡張子を除いたものです。
	どのキーマップを使うかよくわからないなら、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kbdmap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	で再起動せずにキーマップを試すことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファンクションキーの並びはキーマップにより定義されてはいないため、
	端末タイプに合わせたファンクションキーを設定するために
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">keychange</literal> が必要となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の中のすべての
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyv*</literal> において、
	正しいコンソール端末タイプを設定するようにしてください。
	現在の定義済の値は以下の通りです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">文字セット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">端末タイプ</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ISO8859-1 もしくは ISO8859-15</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25l1</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ISO8859-2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25l2</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ISO8859-7</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25l7</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">KOI8-R</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25r</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">KOI8-U</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25u</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">CP437 (VGA のデフォルト)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">US-ASCII</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25w</literal></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ワイド/多バイト文字の言語については、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/language</filename>
	内の適切な FreeBSD port を利用してください。
	いくつかの ports はシステムからシリアルの vtty
	のように見えるようにコンソールとして振る舞います。
	したがって、X11 と疑似シリアルコンソール用に充分な
	vtty を確保しておかなければなりません。
	コンソールで他の言語を使うためのアプリケーションのリストの
	一部です。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">言語</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports の位置</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">繁体字中国語 (BIG-5)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">chinese/big5con</package></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">日本語</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/kon2-16dot</package> または
		<package xmlns:xlink="http://www.w3.org/1999/xlink">japanese/mule-freewnn</package></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">韓国語</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">korean/han</package></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">X11 の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">X11 は FreeBSD プロジェクトの一部ではありませんが、
	FreeBSD ユーザのための情報を記しておきます。
	詳細に関しては、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.x.org/">Xorg
	  ウェブサイト</link>や、あなたの使っている
	X11 サーバのサイトを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.Xresources</filename> を使うことで、
	アプリケーション固有の国際化の設定 (フォント、メニューなど)
	を追加することができます。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">フォントの表示</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">X11 True Type フォントサーバ</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> サーバ
	  (<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-servers/xorg-server</package>) か
	  <application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">XFree86</trademark></application> サーバ
	  (<package xmlns:xlink="http://www.w3.org/1999/xlink">x11-servers/XFree86-4-Server</package>)
	  をインストールし、言語の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">TrueType</trademark> フォントをインストールします。
	  ロケールを正しく設定すれば、
	  選んだ言語がメニューなどに表示されるはずです。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">非英語の文字を入力する</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">X11 Input Method (XIM)</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">X11 Input Method (XIM) プロトコルはすべての X11
	  クライアント用の新たな標準規格です。
	  すべての X11 アプリケーションは XIM 入力サーバからの入力を受け取る
	  XIM クライアントとして書かれるべきです。
	  様々な言語用の XIM サーバが存在します。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">プリンタにはいくつかの C 言語の char で表現できる
	シングルバイトの文字セットがハードウェアに組み込まれています。
	ワイド/多バイトの文字セットでは特殊な設定が必要であり、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">apsfilter</application> を使うことをお勧めします。
	言語固有のコンバータを用いて、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PostScript</trademark> か PDF フォーマット
	に文書をコンバートする場合もあるでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルとファイルシステム</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の高速ファイルシステム (FFS) は 8-bit 透過であり、
	C 言語の char で表現できるいかなる文字セットも使うことが
	できます (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">multibyte</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry> を参照)。
	しかし、ファイルシステム中には文字セットの名前は記録されていません。
	したがって、これは単なる 8-bit であり、
	エンコーディングに関しては何の情報もないのです。
	公式には、FFS
	はまだいかなるワイド/マルチバイトの文字セットもサポートしていません。
	しかし FFS でそのようなサポートを行うためのパッチが、
	多くのワイド/マルチバイトの文字セットに存在します。
	それらは単に一時的で汎用性のない解決策であり、
	わたしたちはそれらをソースツリーに含めないことを決めています。
	これらのパッチに関しては、各言語のウェブサイトを参照してください。
      </para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DOS</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Unicode</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ファイルシステムでは、
	<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>, Unicode 文字セット、FreeBSD ファイルシステムの
	文字セットの間で変換を行うことが可能です。
	詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdos</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="l10n-compiling">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">国際化に対応したプログラムのコンパイル</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ports の多くはすでに国際化されています。
      いくつかには port の名前に -I18N と付いています。
      これらはもちろんのこと、他のプログラムも国際化への対応を組み込んだものがあり、
      コンパイルに際して特別な注意を払う必要はありません。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">MySQL</application></primary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">しかし、<application xmlns:xlink="http://www.w3.org/1999/xlink">MySQL</application> のようなアプリケーションでは、
      特定の文字セットを使うように <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename>
      を設定する必要があります。
      これは大抵 <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の中で
      対処されているか、ソース中の <application xmlns:xlink="http://www.w3.org/1999/xlink">configure</application>
      に値を渡すことで対応しています。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lang-setup">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を特定の言語に地域化する</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ru-localize">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語 (KOI8-R エンコーディング)</title>
 	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Andrey</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Chernov</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
	</authorgroup>
      </info>
      
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">KOI8-R エンコーディングの詳細については、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://koi8.pp.ru/">KOI8-R References
	  (Russian Net Character Set)</link> を参照してください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ロケールの設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下の行を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.login_conf</filename> に追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">me:My Account:\
	:charset=KOI8-R:\
	:lang=ru_RU.KOI8-R:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="setting-locale">ロケール</link> を
	  設定する際の例については、この章の前の方を参照してください。
	</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">コンソールの設定</title>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	      ファイルに次の行を追加してください。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">mousechar_start=3</programlisting>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	      で以下の設定を使ってください。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">keymap="ru.koi8-r"
scrnmap="koi8-r2cp866"
font8x16="cp866b-8x16"
font8x14="cp866-8x14"
font8x8="cp866-8x8"</programlisting>

	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の各
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyv*</literal> エントリにおいて、
	      端末タイプとして <literal xmlns:xlink="http://www.w3.org/1999/xlink">cons25r</literal>
	      を指定してください。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="setting-console">コンソール</link>を設定する際の例については、この章の前の方を参照してください。
	</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">プリンタの設定</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">プリンタ</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語用の文字を搭載したプリンタはほとんど
	  ハードウェアコードページ CP866 を使っているため、
	  KOI8-R を CP866 に変換する専用の出力フィルタが必要となります。
	  このフィルタはデフォルトで
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/lpr/ru/koi2alt</filename> に
	  インストールされています。
	  ロシア語用のプリンタの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/printcap</filename>
	  エントリは以下のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">lp|Russian local line printer:\
	:sh:of=/usr/libexec/lpr/ru/koi2alt:\
	:lp=/dev/lpt0:sd=/var/spool/output/lpd:lf=/var/log/lpd-errs:</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">記述の詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">printcap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	  を参照してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ファイルシステムとロシア語ファイル名</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> エントリの例は、マウントされた
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> ファイルシステムにおいてロシア語ファイル名を
	  使えるようにします。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ad0s2      /dos/c  msdos   rw,-Wkoi2dos,-Lru_RU.KOI8-R 0 0</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-L</option> オプションは利用するロケール名を選択し、
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-W</option> オプションは文字変換表を設定します。
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">-W</option> オプションを使う時は、変換表が
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libdata/msdosfs</filename> にあるので、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> を <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> パーティションより前に
	  マウントするようにしてください。詳しくは、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mount_msdos</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルを参照してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X11 の設定</title>

	<orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="setting-locale">X 以外のロケールの設定</link>を行ってください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> を使っているなら、
	      <package xmlns:xlink="http://www.w3.org/1999/xlink">x11-fonts/xorg-fonts-cyrillic</package>
	      パッケージをインストールしてください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/X11/xorg.conf</filename> ファイルの
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">"Files"</literal>
	      セクションをチェックしてください。
	      既存の <literal xmlns:xlink="http://www.w3.org/1999/xlink">FontPath</literal>
	      エントリの<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前に</emphasis>以下の行を追加しなければなりません。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/misc"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/75dpi"
FontPath   "/usr/X11R6/lib/X11/fonts/cyrillic/100dpi"</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし高解像度のビデオモードを使っている場合には、
	      75 dpi と 100 dpi の行を入れ替えてください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語のキーボードを使えるようにするには、
	      以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf</filename> ファイルの
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">"Keyboard"</literal> セクションに追加します。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Option "XkbLayout"   "us,ru"
Option "XkbOptions"  "grp:toggle"</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<literal xmlns:xlink="http://www.w3.org/1999/xlink">XkbDisable</literal> が無効
	      (コメントアウト) になっていることを確認してください。
	    </para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">grp:caps_toggle</literal>
	      については、ロシア語/ラテン文字の切り替えは
	      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">CapsLock</keycap> で行います。
	      従来の <keycap xmlns:xlink="http://www.w3.org/1999/xlink">CapsLock</keycap> の機能は
	      <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Shift</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">CapsLock</keycap></keycombo>
	      で使うことができます (ラテン文字モードの時のみ)。
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">grp:toggle</literal>
	      については、ロシア語/ラテン文字の切り替えは
	      <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Right Alt</keycap> で行います。
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Xorg</application> では、理由は不明ですが
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">grp:caps_toggle</literal> は動作しません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">キーボードに <quote xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark></quote> キーがあり、
	      ロシア語モードでそのキーにいくつかの非英字キーが
	      割り当てられているようなら、<filename xmlns:xlink="http://www.w3.org/1999/xlink">xorg.conf</filename>
	      ファイルに以下の行を追加してください。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Option "XkbVariant" ",winkeys"</programlisting>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ロシア語の XKB キーボードは、
		地域化されていないアプリケーションではうまく動かないかも知れません。</para>
	    </note>
	  </listitem>
	</orderedlist>
	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">地域化がされたアプリケーションは少なくともプログラムの最初の方で
	    <function xmlns:xlink="http://www.w3.org/1999/xlink">XtSetLanguageProc (NULL, NULL, NULL);</function>
	    を呼び出すべきです。
	    X11 アプリケーションを地域化する方法については、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://koi8.pp.ru/xwin.html">
	    KOI8-R for X Window</link>
	    を参照してください。</para>
	</note>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">台湾向けの繁体字中国語への地域化</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">繁体字中国語</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-Taiwan プロジェクトは、多くの
	中国語 ports を利用した、
	FreeBSD を中国語化するための手引き
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://netlab.cse.yzu.edu.tw/~statue/freebsd/zh-tut/">http://netlab.cse.yzu.edu.tw/~statue/freebsd/zh-tut/</uri>
	を提供しています。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Chinese HOWTO</literal> の現在の編集者は
	Shen Chuan-Hsing <email xmlns:xlink="http://www.w3.org/1999/xlink">statue@freebsd.sinica.edu.tw</email> です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Chuan-Hsing Shen <email xmlns:xlink="http://www.w3.org/1999/xlink">statue@freebsd.sinica.edu.tw</email> は
	FreeBSD-Taiwan の <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh-L10N-tut</literal> を使って
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://netlab.cse.yzu.edu.tw/~statue/cfc/">Chinese
	  FreeBSD Collection (CFC)</link> を作成しました。
	パッケージとスクリプトは
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/CFC/">ftp://freebsd.csie.nctu.edu.tw/pub/taiwan/CFC/</uri>
	から入手できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ドイツ語への地域化 (すべての ISO 8859-1 言語向け)</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ドイツ語</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Slaven Rezic <email xmlns:xlink="http://www.w3.org/1999/xlink">eserte@cs.tu-berlin.de</email> は
	FreeBSD マシン上でウムラウトを使うためのチュートリアルを書きました。
	チュートリアルはドイツ語で書かれており、
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.de.FreeBSD.org/de/umlaute/">http://www.de.FreeBSD.org/de/umlaute/</uri>
	から入手できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">日本語/韓国語への地域化</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">日本語</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">地域化</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">韓国語</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">日本語に関しては
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.jp.FreeBSD.org/">http://www.jp.FreeBSD.org/</uri>
	を、韓国語に関しては
	<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kr.FreeBSD.org/">http://www.kr.FreeBSD.org/</uri>
	を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">英語以外の FreeBSD ドキュメント</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の一部を他の言語に翻訳してくれている人たちがいます。
	これらは <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/index.html">メインサイト</link>のリンクを辿るか
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/doc</filename>
	から入手できます。</para>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46272
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="updating-upgrading">

  <info>
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のアップデートとアップグレード</title>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成、再編成および改訂: </contrib>
      </author>
      <!-- Mar 2000 -->
    </authorgroup>

    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jordan</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Hubbard</surname>
	</personname>
	<contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib>
      </author>

      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Poul-Henning</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Kamp</surname>
	</personname>
      </author>

      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">John</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Polstra</surname>
	</personname>
      </author>

      <author xmlns:xlink="http://www.w3.org/1999/xlink">
	<personname xmlns:xlink="http://www.w3.org/1999/xlink">
	  <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Nik</firstname>
	  <surname xmlns:xlink="http://www.w3.org/1999/xlink">Clayton</surname>
	</personname>
      </author>
    </authorgroup>
  </info>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="updating-upgrading-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あるリリースから次のリリースまでの期間にも、
      FreeBSD の開発は休みなく続けられています。
      最新の開発ツリーと同期することを好む人もいますし、
      公式のリリース版を好んで使う方もいます。
      しかしながら、公式のリリースといえども、
      セキュリティや他の重要な修正のため、時にはアップデートを行う必要があります。
      使用しているバージョンに関わらず、FreeBSD は、
      手元のシステムを最新の開発ツリーと同期するために必要なツールをすべて用意しています。
      そして、これらのツールは、FreeBSD のバージョンをアップグレードするために使えます。
      この章では、開発ブランチを追いかける方法、および、FreeBSD
      システムをアップデートする基本的なツールについて解説しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読んで分かるのは:</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</application>,
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> もしくは
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	  を使った FreeBSD システムの更新方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされているシステムと、変更が行われていない状態との比較方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  またはドキュメント用の ports<!-- and
	  <application>Docsnap</application>--> を使って、
	  インストールされているドキュメントを最新のものにアップデートする方法。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 つの開発ブランチ、FreeBSD-STABLE と FreeBSD-CURRENT の違い</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ベースシステム全体を再構築しインストールする方法</para>
      </listitem>

    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下の準備をしましょう。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク接続の適切な設定
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/>)</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製のソフトウェアのインストール方法の習得
        (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)</para></listitem>
    </itemizedlist>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を通じて、
	FreeBSD のソースコードをダウンロードしたりアップデートするのに
	<command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command> が用いられます。
	このコマンドを使うためには、<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/subversion</package> port または package
	をインストールしておく必要があります。</para>
    </note>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="updating-upgrading-freebsdupdate">
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Update</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	</author>
      </authorgroup>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Colin</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Percival</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">ベースとなったノートの提供: </contrib>
	</author>
      </authorgroup>
    </info>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Updating and Upgrading</primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</primary>
      <see xmlns:xlink="http://www.w3.org/1999/xlink">updating-upgrading</see>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">システム管理における重要な側面に、
      すみやかにセキュリティパッチを適用し、
      オペレーティングシステムを新しいリリースにアップグレードすることがあります。
      FreeBSD には、これらの処理を行うために <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
      と呼ばれるユーティリティが用意されています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーティリティを用いると、FreeBSD のセキュリティおよび
      eratta アップデートをバイナリによって行うことができます。
      手動でパッチもしくは新しいカーネルをコンパイルし、
      インストールする必要はありません。
      バイナリアップデートは、
      セキュリティチームがサポートしているすべてのアーキテクチャとリリースで利用できます。
      <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/security/">http://www.FreeBSD.org/ja/security/</uri> には、
      サポートが行われているリリースや保守終了予定日の一覧があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーティリティは、マイナーリリースであったり、
      他のリリースブランチへのアップグレードにも対応しています。
      新しいリリースにアップデートする前に、
      アップデートしようとしているリリースのアナウンスに目を通し、
      重要な情報がないかどうかを確認してください。
      リリースのアナウンスは <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/releases/">http://www.FreeBSD.org/ja/releases/</uri>
      で確認できます。</para>

    <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <command xmlns:xlink="http://www.w3.org/1999/xlink">crontab</command> の中に
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の機能が含まれていたら、
	オペレーティングシステムのアップグレード作業を終えるまでは無効にしてください。</para>
    </note>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
      で使われる設定ファイルの説明、
      セキュリティパッチの適応方法のデモンストレーション、
      オペレーティングシステムをアップグレードする際に考慮すべきことについて説明します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdupdate-config-file">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> のデフォルトの設定ファイルは、
	そのままでも用いることができます。      
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/freebsd-update.conf</filename>
	の設定をデフォルトからきめ細かく調整して、
	アップデートプロセスを制御するユーザもいます。
	このファイルのコメントにおいて利用可能なオプションが説明されていますが、
	以下の項目については補足が必要でしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Components of the base system which should be kept updated.
Components world kernel</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このパラメータは、FreeBSD のどの部分を最新に維持するかを設定します。
	デフォルトでは、ベースシステム全体、
	そしてカーネルをアップデートします。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">src/base</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">src/sys</literal>
	のように、個々の項目を指定することもできます。
	この部分についてはデフォルトのままにしておき、
	アップデートする項目をユーザがリストに加える形にするのがベストでしょう。
	ソースコードとバイナリが同期していないと、
	長い年月の間に悲惨な結果がもたらされる可能性があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Paths which start with anything matching an entry in an IgnorePaths
# statement will be ignored.
IgnorePaths /boot/kernel/linker.hints</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin</filename>
	等の特定のディレクトリをアップデートで変更しないように、
	これらのパスを追加してください。
	このオプションは、ローカルの変更点を <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	が上書きすることを防ぐ目的にも利用できます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Paths which start with anything matching an entry in an UpdateIfUnmodified
# statement will only be updated if the contents of the file have not been
# modified by the user (unless changes are merged; see below).
UpdateIfUnmodified /etc/ /var/ /root/ /.cshrc /.profile</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは、指定したディレクトリにある設定ファイルを、
	ローカルで変更されていない場合のみアップデートします。
	ユーザがこれらのファイルを変更していると、
	これらのファイルの自動アップデートは妨げられます。
	他に、<literal xmlns:xlink="http://www.w3.org/1999/xlink">KeepModifiedMetadata</literal>
	という別のオプションが存在します。
	このオプションは、<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	がマージ中に変更点を保存するようにします。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># When upgrading to a new FreeBSD release, files which match MergeChanges
# will have any local changes merged into the version from the new release.
MergeChanges /etc/ /var/named/etc/ /boot/device.hints</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	がマージすべきファイルが存在するディレクトリの一覧です。
	ファイルのマージのプロセスは、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と同様 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> パッチの連続ですが、
	選択肢は少なく、マージを承認するか、エディタを起動するか、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	を中断するかどうかを選んでください。
	もし、心配な点があれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	をバックアップしてからマージを承認してください。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command> の詳細な情報については、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mergemaster"/> で確認してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Directory in which to store downloaded updates and temporary
# files used by FreeBSD Update.
# WorkDir /var/db/freebsd-update</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここではすべてのパッチや一次ファイルを置くディレクトリを指定しています。
	バージョンをアップグレードするのであれば、
	この場所には少なくともギガバイトの空き容量が必要です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># When upgrading between releases, should the list of Components be
# read strictly (StrictComponents yes) or merely as a list of components
# which *might* be installed of which FreeBSD Update should figure out
# which actually are installed and upgrade those (StrictComponents no)?
# StrictComponents no</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションを <literal xmlns:xlink="http://www.w3.org/1999/xlink">yes</literal> に設定すると、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Components</literal> のリストが完全に正しいと判断し、
	このリスト以外の変更点については取り扱いません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は、効率的に
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">Components</literal>
	リストに属するファイルをアップデートします。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdupdate-security-patches">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティパッチの適用</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のセキュリティパッチを適用する過程は簡単になり、
	管理者は <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> を使って、
	システムを完全にパッチがあたった状態に保つ事ができるようになりました。
	FreeBSD セキュリティ勧告の詳細については、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/security-advisories.html">FreeBSD セキュリティ勧告</link>
	<!-- <xref linkend="security-advisories"/> -->
	の節で説明されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドを実行すると、FreeBSD
	のセキュリティパッチがダウンロードされ、インストールされます。
	最初のコマンドは、未対応のパッチがあるかどうかを調べます。
	もし未対応のパッチがある場合には、
	パッチが当てられた際に変更されるファイルのリストが作成されます。
	2 番目のコマンドはパッチを適用します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update fetch</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アップデートによってカーネルにパッチが当たった場合には、
	パッチが当たったカーネルで起動するように、
	システムを再起動する必要があります。
	もし、実行中のバイナリにパッチが当てられた場合には、
	パッチの当てられたバージョンのバイナリが使われるように、
	影響のあるアプリケーションを再起動する必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">毎日一度アップデートがないかどうかを自動的に確認するように設定するには、
	以下のエントリを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/crobntab</filename>
	に追加してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">@daily                                  root    freebsd-update cron</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パッチが存在すると、
	自動的にダウンロードされますが、適用はされません。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>宛てにメールで、
	ダウンロードされたパッチを確認し、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</command>
	とともに手動でインストールする必要のあることが通知されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">うまく行かなかった場合には、<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	を以下のように実行すると、最後の変更までロールバックできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update rollback</userinput>
Uninstalling updates... done.</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルまたはカーネルモジュールがアップデートされた場合には、
	完了後にもう一度システムを再起動して、
	影響のあったバイナリを再起動してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	ユーティリティが自動的にアップデートするカーネルは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> のみです。
	カスタムカーネルがインストールされている場合には、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> がインストールした後、
	カーネルを再構築し、もう一度インストールする必要があります。
	しかしながら、<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルが
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename> に存在する場合には、
	現在のシステムで実行されているカーネルでなくとも、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	によりアップデートされます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルを、
	  常に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename> に置いておいてください。
	  さまざまな問題を解決する際や、
	  バージョンをアップグレードする際に助けとなります。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルを用意する方法については、
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-update-custom-kernel-9x"/> または <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-update-custom-kernel-8x"/>
	  を参照してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/freebsd-update.conf</filename>
	のデフォルトの設定を変更しない限り、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は、
	他の更新と共にカーネルソースをアップデートします。
	新しいカスタムカーネルの再構築と再インストールは、
	通常通り行うことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は、
	常にカーネルをアップデートするとは限りません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</command>
	によってカーネルソースが変更されなかった場合には、
	カスタムカーネルを再構築する必要はありません。
	しかしながら <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/sys/conf/newvers.sh</filename>
	を常にアップデートします。
	これは、現在のシステムのパッチレベルを
	<command xmlns:xlink="http://www.w3.org/1999/xlink">uname -r</command> が <literal xmlns:xlink="http://www.w3.org/1999/xlink">-p</literal>
	で表示する時にこのファイルが参照されます。
	そのため、何も変更されていない場合でも、
	カスタムカーネルを再構築することにより、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">uname</command> がシステムの正確なパッチレベルを報告するようになります。
	各システムにインストールされているアップデートをすばやく把握できるようになるので、
	特に複数のシステムを管理するときに助けとなります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdupdate-upgrade">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メジャーおよびマイナーバージョンのアップグレードを行う</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のマイナーバージョン間のアップグレード、
	たとえば、FreeBSD 9.0 から FreeBSD 9.1 へのアップグレードは、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">マイナーバージョン</emphasis> アップグレードと呼ばれます。
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">メジャーバージョン</emphasis> アップグレードは、
	FreeBSD 9.X から FreeBSD 10.X へのアップグレードといった、
	FreeBSD のメジャーバージョンが変わるようなアップグレードのことです。
	どちらのアップグレードもリリース番号のターゲットを指定する事で、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> によって行う事ができます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルを使っているシステムでは、
	  アップグレードを行う前に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルが、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename>
	  に置かれている事を確認してください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルを用意する方法については、
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-update-custom-kernel-9x"/> または <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsd-update-custom-kernel-8x"/>
	  を参照してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドを実行すると、FreeBSD 9.0
	のシステムを FreeBSD 9.1 にアップグレードします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update -r 9.1-RELEASE upgrade</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンドを実行すると、<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	は設定ファイルと現在のシステムを評価し、
	アップデートするために必要な情報を収集します。
	画面には、どのコンポーネントが認識され、
	どのコンポーネントが認識されていないといったリストが表示されます。
	たとえば以下のように表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Looking up update.FreeBSD.org mirrors... 1 mirrors found.
Fetching metadata signature for 9.0-RELEASE from update1.FreeBSD.org... done.
Fetching metadata index... done.
Inspecting system... done.

The following components of FreeBSD seem to be installed:
kernel/smp src/base src/bin src/contrib src/crypto src/etc src/games
src/gnu src/include src/krb5 src/lib src/libexec src/release src/rescue
src/sbin src/secure src/share src/sys src/tools src/ubin src/usbin
world/base world/info world/lib32 world/manpages

The following components of FreeBSD do not seem to be installed:
kernel/generic world/catpages world/dict world/doc world/games
world/proflibs

Does this look reasonable (y/n)? <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	はアップグレードに必要なすべてのファイルをダウンロードします。
	何をインストールし、どのように進むかといった質問をされることもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カスタムカーネルを使っていると、
	上記のステップで以下のような警告が表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">WARNING: This system is running a "<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MYKERNEL</replaceable>" kernel, which is not a
kernel configuration distributed as part of FreeBSD 9.0-RELEASE.
This kernel will not be updated: you MUST update the kernel manually
before running "/usr/sbin/freebsd-update install"</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この時点ではこの警告を無視してもかまいません。
	アップデートされた <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルは、
	アップグレードプロセスの途中で利用されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのパッチがローカルシステムへダウンロードされたら、
	次にパッチが適用されます。
	このプロセスには時間がかかります。
	この時間はコンピュータの性能とワークロードに依存します。
	その後、設定ファイルがマージされます。
	このプロセスでは、ユーザはファイルをマージするか、
	画面上にエディタを立ち上げて手動でマージするかを尋ねられます。
	プロセスが進むごとに、成功したマージのすべての結果の情報がユーザに示されます。
	マージに失敗したり、無視した場合には、プロセスが中断します。
	ユーザによっては <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	のバックアップを取り、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">master.passwd</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">group</filename>
	のような重要なファイルを後で手動でマージする方もいます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのパッチは別のディレクトリでマージされており、
	  まだ、システムには反映されていません。
	  すべてのパッチが正しく適用され、
	  すべての設定ファイルがマージされてプロセスがスムーズに進んだら、
	  ユーザは以下のコマンドを用いて、
	  変更点をディスクに反映してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</userinput></screen>

      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パッチは最初にカーネルとカーネルモジュールに対して当てられます。
	システムがカスタムカーネルを実行している場合には、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nextboot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使って次回の再起動時のカーネルを、
	アップデートされた <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename>
	に設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nextboot -k GENERIC</userinput></screen>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルで再起動する前に、
	  カーネルにシステムが適切に起動するために必要なすべてのドライバが含まれていること、
	  もしアップデートしているコンピュータがリモートでアクセスしているのであれば、
	  ネットワーク接続に必要なすべてのドライバも含まれていることを確認してください。
	  特に、これまで実行しているカスタムカーネルが、
	  カーネルモジュールとして提供されているビルドインの機能を含んでいるのであれば、
	  これらのモジュールを一時的に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	  の機能を用いて、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> に読み込んでください。
	  アップグレードプロセスが終わるまでは、
	  重要ではないサービスを無効にするとともに、
	  必要のないディスクやネットワークのマウントなども避けることが推奨されています。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アップデートされたカーネルでコンピュータを再起動してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">shutdown -r now</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムがオンラインに戻ったら、以下のコマンドを使って
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> を再び実行してください。
	アップデートプロセスの状態は保存されているので、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> を実行すると、
	最初からではなく、次のステップに進み、
	古い共有ライブラリとオブジェクトファイルを削除します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">使用しているライブラリのバージョン番号の付けられ方によって、
	  3 つのインストールフェーズが 2 つになる場合もあります。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アップグレードはこれで終了です。
	もしメジャーアップグレードを行った場合には、
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="freebsdupdate-portsrebuild"/>
	で説明されているようにすべての ports および package
	を再構築してください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsd-update-custom-kernel-9x">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 9.X 以降のシステムにおけるカスタムカーネル</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> を使う前に、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename>
	  に置かれていることを確認してください。
	  ただ一度だけカスタムカーネルを構築したのであれば、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel.old</filename>
	  は <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルそのものです。
	  このディレクトリの名前を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/kernel</filename>
	  へと変更してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、2 回以上カスタムカーネルを構築した後であったり、
	  カスタムカーネルを構築した回数がわからなければ、
	  現在のオペレーティングシステムのバージョンの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルを入手してください。
	  コンピュータへの物理的なアクセスが可能であれば、
	  インストールメディアから <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルをインストールできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /cdrom</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /cdrom/usr/freebsd-dist</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tar -C/ -xvf kernel.txz boot/kernel/kernel</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">別な方法としては、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルをソースから再構築して、
	  インストールしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make kernel __MAKE_CONF=/dev/null SRCCONF=/dev/null</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> がこのカーネルを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルとして認識するために、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> コンフィグレーションファイルは、
	  とにかく変更してはいけません。
	  また、特別なオプションを指定しないで構築してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename>
	  が存在する事だけを必要とするので、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルで再起動する必要はありません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsd-update-custom-kernel-8x">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.X におけるカスタムカーネル</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 8.X システムでは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルを入手する方法や構築の方法が少し異なります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータへの物理的なアクセスが可能であれば、
	  以下のコマンドを実行することで、
	  インストールメディアから <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルをインストールできます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount /cdrom</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /cdrom/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X.Y-RELEASE</replaceable>/kernels</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./install.sh GENERIC</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <filename xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X.Y-RELEASE</replaceable></filename>
	  をリリース番号に置き換えてください。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルは、
	  デフォルトで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/GENERIC</filename>
	  にインストールされます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">または、<filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルをソースから再構築してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">env DESTDIR=/boot/GENERIC make kernel __MAKE_CONF=/dev/null SRCCONF=/dev/null</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv /boot/GENERIC/boot/kernel/* /boot/GENERIC</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rm -rf /boot/GENERIC/boot</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> が、このカーネルを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルとして扱うように、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> コンフィグレーションファイルは、
	  とにかく変更してはいけません。
	  また、特別なオプションを指定しないで構築してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルで再起動する必要はありません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdupdate-portsrebuild">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">メジャーバージョンアップグレード後の
	  package のアップグレード</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に、マイナーバージョンアップグレードの後では、
	  インストールされているアプリケーションは、問題なく動作するでしょう。
	  メジャーバージョンが異なるとアプリケーションバイナリーインタフェース
	  (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">ABI</acronym>) が異なるため、
	  サードパーティ製のアプリケーションの多くは動作しなくなるでしょう。
	  メジャーバージョンアップグレード後には、
	  インストールされているすべての packages, ports
	  をアップグレードする必要があります。
	  package は、<command xmlns:xlink="http://www.w3.org/1999/xlink">pkg upgrade</command>
	  を使ってアップグレードできます。
	  インストールされている ports をアップグレードする場合には、
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portmaster</package>
	  といったユーティリティを使ってください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべての package の強制的なアップグレードでは、
	  バージョン番号が上がらない package に対しても、
	  リポジトリから最新のバージョンで、インストールされている
	  package を置き換えます。
	  FreeBSD のメージャーバージョンが変わるようなアップグレードでは、
	  ABI のバージョンも変わるため、
	  このようなアップグレードが必要になります。
	  強制的なアップグレードを行うには、以下のように実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg-static upgrade -f</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされているすべてのアプリケーションを再構築するには、
	  以下のコマンドを実行してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster -af</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドを実行すると、
	  設定を変更するオプションを持つアプリケーションは、
	  設定変更のスクリーンを表示し、
	  ユーザからの指示待ちの状態で停止します。
	  この振る舞いをやめ、デフォルトのオプションを使用するには、
	  上記のコマンドに <option xmlns:xlink="http://www.w3.org/1999/xlink">-G</option> を含めてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのアップグレードが終わったら、最後にもう一度
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	  を実行して、
	  すべてのアップグレードプロセスのやり残し作業を行い、
	  アップグレードのプロセスを完了してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルを一時的に読み込んでいたのであれば、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> に書かれている手順に従って、
	  新しいカスタムを構築し、インストールしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータを再起動し、新しい FreeBSD を立ち上げてください。
	  これでアップグレードのプロセスは完了です。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="freebsdupdate-system-comparison">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システムの状態の比較</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> を用いて、
	インストールされている FreeBSD の状態と、
	正しく動作することが分かっている状態とを比較できます。
	このコマンドは、現在のシステムのユーティリティ、ライブラリ、
	設定ファイルを評価するので、
	組み込みの侵入検知システム (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IDS</acronym>)
	として使うことができます。</para>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドは、<package xmlns:xlink="http://www.w3.org/1999/xlink">security/snort</package>
	  のような本当の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IDS</acronym>
	  の置き換えになるものではありません。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> はデータをディスクに保存するので、
	  不正な変更が行われる可能性があります。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.securelevel</varname> と、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> のデータを使用しないときに、
	  読み取りのみの許可属性に設定されているファイルシステムに置くことで、
	  不正な変更の可能性を低くできますが、
	  よりよい解決方法は、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
	  または安全に保存されている外部 <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
	  ディスクのような安全なディスクとシステムを比較することです。
	  組み込まれているユーティリティを用いた、別の方法による
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IDS</acronym> 機能については、
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/handbook/security-intro.html#security-ids">FreeBSD バイナリによる検出</link>
	  <!-- <xref linkend="security-ids"/> -->
	  の節をご覧ください。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">比較を行うには、
	結果の出力先のファイル名を指定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update IDS &gt;&gt; outfile.ids</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムは検査され、リリースファイルの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SHA256</acronym>
	ハッシュ値と現在インストールされているファイルのハッシュ値がファイルの一覧と共に、
	指定した出力先のファイルに送られます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの行は極めて長いのですが、出力形式は簡単にすぐに解析できます。
	たとえば、これらのリリースで異なっているすべてのファイルを知りたいのであれば、
	以下のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat outfile.ids | awk '{ print $1 }' | more</userinput>
/etc/master.passwd
/etc/motd
/etc/passwd
/etc/pf.conf</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上の表示例では出力は切り捨てられており、
	実際にはもっと多くのファイルが存在します。
	これらのファイルには、運用中に変更されるファイルがあります。
	たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename>
	はユーザがシステムに追加されると変更されます。
	また、カーネルモジュールは、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command>
	によりアップデートされるため、変更されます。
	このような特別なファイルやディレクトリを除外するには、
	それらを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/freebsd-update.conf</filename> の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">IDSIgnorePaths</literal> オプションに追加してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="updating-upgrading-documentation">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントのアップデート</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Updating and Upgrading</primary></indexterm>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Documentation</primary>
      <see xmlns:xlink="http://www.w3.org/1999/xlink">Updating and Upgrading</see>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントは、FreeBSD オペレーティングシステムの必須要素です。
      FreeBSD ドキュメントの最新バージョンは、FreeBSD ウェブサイト (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/">http://www.freebsd.org/doc/</link>)
      から入手できますが、
      FreeBSD ウェブサイト、ハンドブック、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">FAQ</acronym>
      および文書の最新版をローカルに用意しておくと便利です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、ソースまたは Ports Collection を使って、
      ローカルの FreeBSD ドキュメントを最新に保つ方法を説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントを編集したり、
      ドキュメントの誤りを報告する方法については、
      新しい貢献者のための FreeBSD ドキュメンテーションプロジェクト入門 (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/books/fdp-primer">http://www.freebsd.org/doc/en_US.ISO8859-1/books/fdp-primer/</link>)
      をご覧ください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="updating-installed-documentation">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ソースから FreeBSD ドキュメントをインストールする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ソースから FreeBSD ドキュメントを構築するのに必要なツールは、
	FreeBSD のベースシステムには含まれてはいません。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application> などの必要なツールは、
	FreeBSD ドキュメンテーションプロジェクトが開発している
	<package xmlns:xlink="http://www.w3.org/1999/xlink">textproc/docproj</package> package または port 
	からインストールできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールしたら、<application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application>
	を使って、ドキュメントのソースをダウンロードしてください。
	以下の例で、
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">https://svn0.us-west.FreeBSD.org</replaceable>
	を <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-mirrors"/>
	の中からもっとも近いミラーのアドレスに変更してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">https://svn0.us-west.FreeBSD.org</replaceable>/doc/head /usr/doc</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初にドキュメントのソースをダウンロードするには少し時間がかかります。
	ダウンロードが終わるまでお待ちください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ダウンロードしたドキュメントのソースをアップデートするには、
	以下のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update /usr/doc</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最新のドキュメントのソースのスナップショットを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename> に用意できたら、
	インストールされているドキュメントをアップデートする準備はすべて整いました。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">利用可能なすべての言語のドキュメントをアップデートするには、
	以下のように入力してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/doc</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、ある特定の言語のみをアップデートしたいのであれば、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename>
	の下にある各言語のサブディレクトリで <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	を実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/doc/en_US.ISO8859-1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントをアップデートする別の方法は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename>
	または各言語のサブディレクトリで以下のコマンドを実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make update</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FORMATS</varname> を設定して、
	以下のようにインストールする出力形式を指定できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/doc</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make FORMATS='html html-split' install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメンテーションの一部のアップデートを簡単にするオプションや、
	特定の翻訳のビルドを行うためのオプションが用意されています。
 	これらのオプションは、システム全般のオプションである
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> や、<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>
	に与えるコマンドラインオプションで設定できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">オプションには以下のようなものがあります。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOC_LANG</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ビルドおよびインストールの言語およびエンコーディングの一覧。
	      たとえば、英語のドキュメントを指定するには
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">en_US.ISO8859-1</literal> を設定します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">FORMATS</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ビルドを行うフォーマット、または出力フォーマットの一覧。
	      現在は <literal xmlns:xlink="http://www.w3.org/1999/xlink">html</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">html-split</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">txt</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">ps</literal> そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">pdf</literal>
	      に対応しています。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCDIR</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントをインストールする場所。デフォルトは
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/doc</filename> です。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のシステム全般のオプションに関連するもっと多くの
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> 変数については、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="doc-ports-install-package">
      <info>
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ports を用いたドキュメンテーションのアップデート</title>

	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink">
	    <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	      <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Marc</firstname>
	      <surname xmlns:xlink="http://www.w3.org/1999/xlink">Fonvieille</surname>
	    </personname>
	    <contrib xmlns:xlink="http://www.w3.org/1999/xlink">ベースとなった作業:</contrib>
	  </author>
	</authorgroup>
      </info>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Updating and Upgrading</primary>
      </indexterm>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">documentation package</primary>
	<see xmlns:xlink="http://www.w3.org/1999/xlink">Updating and Upgrading</see>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これまでのセクションでは、ソースコードを用いた FreeBSD
	ドキュメントのアップデート方法について説明してきました。
	この節では、インストールされている
	FreeBSD のドキュメントをアップデートするもう一つの方法である、
	Ports Collection を用いた方法について説明し、
	以下について説明します。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">構築済のドキュメントの packages をインストールする方法。
	    ローカルでの構築作業やドキュメンテーションツールチェインをインストールする必要はありません。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ports フレームワークを使ったドキュメントのソースの構築方法。
	    チェックアウトおよび構築作業が簡単になります。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のドキュメントをアップデートするこれらの方法は、
	ドキュメンテーションエンジニアリングチーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">doceng@FreeBSD.org</email> が毎月アップデートしている
        ドキュメンテーション ports および packages
	によりサポートされています。
	これらの ports は、FreeBSD Ports Collection の
	docs カテゴリ (<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freshports.org/docs/">http://www.freshports.org/docs/</link>)
	にまとめられています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメンテーション ports の構成は以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">misc/freebsd-doc-en</package> package または portは、
	    すべての英語文書をインストールします。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">misc/freebsd-doc-all</package> メタ package
	    もしくは port は、
	    すべての利用可能な言語のすべてのドキュメントを構築します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">各言語のために package または port
	    が用意されています。たとえば、
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">misc/freebsd-doc-hu</package>
	    はハンガリー語のドキュメンテーション port です。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ package を使うと、
	インストールする言語に用意されているすべての形式の
	FreeBSD ドキュメントがインストールされます。
	たとえば、以下のコマンドを実行すると、
	ハンガリー語のドキュメントの最新 package
	がインストールされます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install hu-freebsd-doc</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントの package は、対応する port 名とは異なり、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lang</replaceable>-freebsd-doc</literal>
	  の形式で名前がつけられています。
	  ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lang</replaceable> は言語コードの短縮形です。
	  ハンガリー語の場合は <literal xmlns:xlink="http://www.w3.org/1999/xlink">hu</literal>、簡体字の場合には
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">zh_cn</literal> です。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントのフォーマットを指定する場合には、package ではなく
	port から構築をしてください。たとえば、
	英語のドキュメントを構築してインストールするには以下のようにして下さい。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/misc/freebsd-doc-en</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この port には、
	構築およびインストールするフォーマットを設定するメニューがあります。
	デフォルトでは、<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org">http://www.FreeBSD.org</uri>
	と同じ形式である分割版の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTML</acronym> 形式、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym> が選択されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のように、ドキュメンテーション ports を構築する際の
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> オプションが用意されています。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_HTML</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">HTML 形式を構築します。
	      各ドキュメントに対し、単一版の HTML ファイルが構築されます。
	      整形されたドキュメントは、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">article.html</filename> や
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">book.html</filename>
	      といった名前でインストールされます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">WITH_PDF</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">整形されたドキュメントは、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">article.pdf</filename> や
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">book.pdf</filename>
	      といった名前でインストールされます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">DOCBASE</varname></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメントのインストール先を設定します。
	      デフォルトのインストール先は
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/share/doc/freebsd</filename>
	      です。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、上記の変数を用いてハンガリー語のドキュメントを
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym> 形式でインストールする方法です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> cd /usr/ports/misc/freebsd-doc-hu
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> make -DWITH_PDF DOCBASE=share/doc/freebsd/hu install clean</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> に書かれている手順を使って、
	ドキュメンテーション package または port
	をアップデートできます。
	たとえば、以下のコマンドを実行すると、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portupgrade</package>
	から、package
	だけを使ってインストールされているハンガリー語のドキュメントをアップデートします。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmaster -PP hu-freebsd-doc</userinput></screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="current-stable">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">開発ブランチを追いかける</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">-CURRENT</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">-STABLE</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD には二つの開発ブランチがあります。
      それは FreeBSD-CURRENT と FreeBSD-STABLE です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節ではそれぞれのブランチと対象としている読者についての説明と、
      どのようにしてシステムの対応するブランチを最新の状態に保つかについて説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 花井 浩之 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hanai@FreeBSD.org</email>、1996 年 11 月 6 日</emphasis></para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="current">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT を使う</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT とは FreeBSD の開発の <quote xmlns:xlink="http://www.w3.org/1999/xlink">最前線</quote> なので、
	FreeBSD-CURRENT のユーザは高い技術力を持つことが要求されます。
	そこまでの技術力を持っていないが、
	開発ブランチを追いかけたいと考えているユーザは、
	かわりに FreeBSD-STABLE を追いかけると良いでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT は FreeBSD の最新のソースコードであり、
	中には現在開発途上のソフトウェア、
	実験的な変更、あるいは過渡的な機能などが含まれています。
	また、この中に入っている機能がすべて、
	次の公式リリースに入るとは限りません。FreeBSD-CURRENT
	をソースからほぼ毎日コンパイルしている人はたくさんいますが、
	短い期間ではコンパイルさえできない状態になっている時期もあります。
	これらの問題は可能な限り迅速に解決されますが、
	FreeBSD-CURRENT が不幸をもたらすか、
	それとも新しい機能をもたらすかは、
	まさにソースコードを同期した瞬間によるのです!</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT は、
	次の 3 つの重要なグループを対象としています。</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ソースツリーのある部分に関して活発に作業している
	    FreeBSD コミュニティのメンバ。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">活発にテストしている FreeBSD コミュニティのメンバ。
	    彼らは、種々の問題を解決するのに時間を惜しまない人々であり、
	    さまざまな変更に関する提案や
	    FreeBSD の大まかな方向付けを行ないたいと思っている人々でもあり、
	    パッチも提出します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまな事に目を向け、
	    参考のために最新のソースを使いたいと思っていたり、
	    時々コメントやコードを寄稿したいと考えているユーザ。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT は、次のリリースの前に、
	最も早く新しい機能を入手する手段として、
	期待しては<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis>。
	リリース前の機能は十分にテストされていないため、
	バグを含んでいる可能性が大いにあるためです。
	また、バグを修正するための素早い方法でもありません。
	いかなるコミットは、元からあるバグを修正するのと同じく、
	新しいバグを生み出すおそれがあります。
	FreeBSD-CURRENT には <quote xmlns:xlink="http://www.w3.org/1999/xlink">公式のサポート</quote> はありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">-CURRENT</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">using</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT を追いかけるには</para>
	
      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current">freebsd-current</link> と <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-head">svn-src-head</link>
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">-CURRENT</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">使用</secondary>
	    </indexterm>
	    メーリングリストに加わってください。
	    さまざまな人がシステムの現在の状態について述べているコメントを見たり、
	    FreeBSD-CURRENT の現在の状態に関する重要な情報を見逃さないために、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必須の</emphasis> ことです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-head">svn-src-head</link> メーリングリストでは、
	    それぞれの変更についての commit ログが記録されています。
	    また、それに関して起こり得る副作用の情報を得ることができますので、
	    参加する価値のあるメーリングリストです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのメーリングリストに入るには、
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo">http://lists.FreeBSD.org/mailman/listinfo</link>
	    をたどって参加したいメーリングリストをクリックし、
	    手順の説明にしたがってください。
	    FreeBSD-CURRENT だけでなく、
	    ソースツリー全体の変更点を追いかけるのであれば、
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link> メーリングリストを購読してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT のソースを同期してください。
	    特に <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn">svn</link> を使って
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-mirrors"/> の一覧にある
	    Subversion ミラーサイトのひとつの
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal> ブランチから
	    -CURRENT コードをチェックアウトしてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネットの接続がとても遅かったり、
	    制限がある場合には、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ctm"/> で説明されている CTM
	    を利用すると良いでしょう。
	    ただし、<application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application>
	    ほどには信頼はできないので、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application>
	    を利用されることを推奨します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">リポジトリのサイズが大きいため、興味のある部分や、
	    パッチを当てる部分のソースのみを同期するユーザもいます。
	    しかしながら、
	    ソースからオペレーティングシステムをコンパイルしようと思っているユーザは、
	    一部分だけではなく、FreeBSD-CURRENT の <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">すべて</emphasis>
	    をダウンロードする必要があります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT をコンパイル
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">-CURRENT</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">コンパイル</secondary>
	    </indexterm> する前に
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/Makefile</filename> を注意深く読み、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makeworld"/>
	    に書かれている手順に従ってください。
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current">FreeBSD-CURRENT メーリングリスト</link> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/UPDATING</filename> を読めば、
	    次のリリースへ向けて移ってゆくに当たって、
	    ときどき必要となる既存システムからの新システムの構築手順についての最新情報が得られるでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">アクティブになってください!
	    FreeBSD-CURRENT のユーザには、
	    拡張やバグ潰しに関して提案することが勧められています。
	    コードを伴う提案はいつでも歓迎されます!</para>
	</listitem>
      </orderedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="stable">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE を使う</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 岩崎 満 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">iwasaki@jp.FreeBSD.org</email></emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE
	とは定期的に公開されるリリースを作成するための開発ブランチです。
	このブランチに加えられる変更は FreeBSD-CURRENT よりゆっくりで、
	原則として、事前に FreeBSD-CURRENT で試験ずみであるという特徴があります。
	ただ<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">そうであっても</emphasis>、
	これは開発用ブランチの一つであり、ある時点における FreeBSD-STABLE
	のソースがどんな場合にも使えるものであるとは限りません。
	このブランチはもう一つの開発の流れというだけであって、
	エンドユーザ向けのものではありません。
	もし試験をする資源的な余裕がない場合は、代わりに最新の
	FreeBSD リリースを使ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の開発プロセスに興味があったり、
	それに対する貢献を考えていて、特にそれが次回の
	FreeBSD のリリースに関係するものであるなら
	FreeBSD-STABLE を追うことを考えると良いでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE ブランチはいつもコンパイルができ、
	安定に動作すべきですが、
	それが保証されているというわけではありません。
	FreeBSD-STABLE のユーザは FreeBSD-CURRENT よりも多いため、FreeBSD-CURRENT
	で発見されなかったバグが FreeBSD-STABLE で発見され、
	ときどきそれが問題となることがあるのは避けることができません。
	このような理由から、盲目的に FreeBSD-STABLE
	を追いかけるべきではありません。
	特に、開発環境もしくはテスト環境でコードを十分に試験せずに、
	プロダクション品質が要求されるサーバを FreeBSD-STABLE
	にアップグレードしては<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE を追いかけるには</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">-STABLE</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">利用する</secondary>
      </indexterm>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE の構築に関連する事柄や、
	    その他の注意すべき点 に関する情報を得るために、
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable">freebsd-stable</link> メーリングリストに加わってください。
	    また開発者は議論の余地がある修正や変更を考えている場合に、
	    このメーリングリストで公表し、
	    提案された変更に関して問題が生じるかどうかを返答する機会をユーザに与えます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">追いかけているブランチに関連する
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application> メーリングリストに参加してください。
	    たとえば、9-STABLE ブランチを追いかけているユーザは
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-9">svn-src-stable-9</link> メーリングリストに参加してください。
	    このリストでは、変更がなされるごとに作成される commit log
	    やそれに伴う起こりうる副作用についての情報が記録されています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのメーリングリストに入るには、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo">http://lists.FreeBSD.org/mailman/listinfo</link>
	    をたどって参加したいメーリングリストをクリックし、
	    手順の説明にしたがってください。
	    ソースツリー全体の変更点を追いかけるには、
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link> メーリングリストを購読してください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">新しい FreeBSD-STABLE システムをインストールするには、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors">ミラーサイト</link> から最近の
	    FreeBSD-STABLE リリースをインストールするか、
	    毎月公開されている FreeBSD-STABLE
	    からビルドされたスナップショットを使ってください。
	    スナップショットの詳細については、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/ja/snapshots/">www.freebsd.org/ja/snapshots</link>
	    をご覧ください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">既に FreeBSD が動いているシステムを
	    FreeBSD-STABLE にアップグレードするには、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn">svn</link>
	      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
		<primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</primary>
	      </indexterm> を使って、
	    希望する開発ブランチのソースをチェックアウしてください。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</literal> といったブランチ名は、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/releng/">www.freebsd.org/releng</link>
	    で説明されています。
	    インターネットへの接続に信頼できる回線を利用できないのであれば、
	    CTM (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ctm"/>) を使ってください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE をコンパイルしたり FreeBSD-STABLE へとアップグレード
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	      <primary xmlns:xlink="http://www.w3.org/1999/xlink">-STABLE</primary>
	      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">構築、コンパイル</secondary>
	    </indexterm> する前に、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/Makefile</filename> を注意深く読み、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makeworld"/>
	    に書かれている手順に従ってください。
	    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable">FreeBSD-STABLE メーリングリスト</link> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/UPDATING</filename> を読んで、
	    次のリリースへ向けて移ってゆくに当たって、
	    ときどき必要となる既存システムからの新システムの構築手順についての最新情報を得てください。</para>
	</listitem>
      </orderedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="synching">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ソースの同期</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 岩崎 満 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">iwasaki@jp.FreeBSD.org</email>、1997 年 9 月 13 日</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のソースの最新を追いかける方法は色々あります。
      この節では、基本的なサービスである
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> および
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> について説明します。</para>

    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ソースツリーの一部を最新のものに更新することは可能です。
	ただし、サポートされているアップデート手順は、
	ソースツリー全体を最新のものに更新し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/bin</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin</filename>
	といったユーザ空間で動作するもの、
	およびカーネルソースを再構築することのみです。
	ソースツリーの一部だけであったり、カーネルだけ、
	もしくはユーザランドのプログラムだけを更新した場合は、
	問題が生じることがよくあります。
        この時に発生する問題はコンパイル時のエラーからカーネルパニック、
        データの破壊とさまざまです。</para>
    </warning>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
      は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">pull</emphasis> 同期モデルを採用しています。
      ユーザ (または <command xmlns:xlink="http://www.w3.org/1999/xlink">cron</command> スクリプト) が
      <command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command> プログラムを起動し、
      ローカルにあるソースを最新状態にします。
      更新情報はその時点の最新のものであり、
      いつダウンロードするかはユーザがコントロールするので、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
      はローカルのソースツリーをアップデートする好ましい方法です。
      特定のファイルやディレクトリに限定して更新することも簡単にできます。
      更新情報はサーバによって素早く生成されます。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> によるソースの同期方法については、
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn"/> で説明されています。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application></primary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">一方、<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
      はあなたが持っているソースとマスタアーカイブ上に
      あるそれとの対話的な比較をおこないませんし、
      あるいは向こう側から変更点を pull したりもしません。
      そのかわりに、前回の実行時からの変更を認識するスクリプトが
      マスタ CTM マシン上で一日に数回実行され、
      すべての変更を compress して通し番号を振り、
      さらに電子メールで、印字可能な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASCII</acronym>
      キャラクタのみで転送できるようにエンコードします。
      ダウンロードした後は、
      これらの <quote xmlns:xlink="http://www.w3.org/1999/xlink">デルタ</quote> は、
      自動的にデコード、検査してユーザのソースのコピーに変更を適用する
      <command xmlns:xlink="http://www.w3.org/1999/xlink">ctm.rmail</command> によって処理可能です。
      この処理は <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
      よりずっと効率的であり、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">pull</emphasis> モデルというよりむしろ
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">push</emphasis> モデルであるため、
      サーバ資源の負荷は軽くなります。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> を用いたソースの同期方法については、
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ctm"/> をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> であれば、
      うっかりローカルのアーカイブの一部を消してしまっても、
      壊れた部分を検出して再構築してくれます。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> はこれをやってくれません。
      もしソースツリーの一部を消してしまい、
      そしてバックアップを取っていないのであれば、最新の
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ベースデルタ</firstterm> を用いて、一からやり直し、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
      を使ってすべてを再構築しなければなりません。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="makeworld">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">world の再構築</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">world</quote> の再構築</primary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE、FreeBSD-CURRENT などの
      FreeBSD のどれか特定のバージョンについて、
      ローカルのソースツリーを同期させたら、
      そのソースツリーを使ってシステムを再構築できます。
      このプロセスは world の再構築と呼ばれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">world を再構築する<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前</emphasis>に、
      以下を行ってください。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">world の構築<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前</emphasis>に行う作業</title>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">重要なデータを他のシステムやリムーバブルメディアにバックアップし、
	  きちんとバックアップが作成されていることを確認したら、
	  起動可能なインストールメディアを用意してください。
	  システムを再構築する<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">前に</emphasis>、
	  バックアップを作成することの重要性は、
	  いくら強調してもし過ぎると言うことはありません。
	  システム全体の再構築は難しい作業ではありませんが、
	  どんなに注意していたとしても、<!-- hrs:2000/01/12 inevitably -->
	  ソースツリーそのものに手違いがあった時には、
	  システムが起動しなくなってしまう状態になることがあるのです。
	  多分、それを使うことはないと思いますが、
	  あとで後悔することのないよう、念のため用意しておきましょう!</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリスト</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">追いかけているブランチに応じて、
	  <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable">freebsd-stable</link> もしくは <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current">freebsd-current</link>
	  の最近のエントリを調べて、
	  既知の問題や影響を受けるシステムを確認してください。
	  既知の問題が同期しているバージョンのコードに影響する場合は、
	  その問題が解決されたことを報告する
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">問題解決 (all clear)</quote>
	  のアナウンスが投稿されるまで待ってから、ソースを同期して、
	  ローカルのソースに必要な修正を入れてください。</para>
      </step>
    
      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/UPDATING</filename> を読み、
	  同期しているソースのバージョンで必要となるステップがないかどうかを調べて下さい。
	  このファイルには潜在的な問題や特定のコマンドを実行する順などの重要な情報が含まれています。
	  大きなアップグレードでは、world
	  をインストールする前に特定のファイルの名前を変更したり、
	  削除するといった、特別なステップが追加で必要となることがあります。
	  ファイルの最後には、
	  現在推奨されているアップグレードの手順が詳しく正確に説明されています。
	  もし、<filename xmlns:xlink="http://www.w3.org/1999/xlink">UPDATING</filename> に書かれている手順が、
	  この節に書かれているものと矛盾していたら、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">UPDATING</filename> の手順を採用してください。</para>
      </step>
    </procedure>

    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command> は使わないこと</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">古いドキュメントの中には、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command> を使うことを薦めているものがあります。
	これは、重要な手順をいくつか抜かしてしまうので、
	エキスパートでなければ使うべきではありません。
	ほぼあらゆる場合において、<command xmlns:xlink="http://www.w3.org/1999/xlink">make world</command>
	を実行するのは間違っており、
	ここで説明されている手順を用いるべきです。</para>
    </warning>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="canonical-build">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システム更新の概要</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">world の構築では、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="synching"/>
	に書かれている手順で入手したソースを用いて、
	古い FreeBSD のバージョンをアップデートします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、<quote xmlns:xlink="http://www.w3.org/1999/xlink">world</quote> は、
	カーネル、コアシステムのバイナリ、
	ライブラリ、プログラミングファイル、組み込みのコンパイラを意味します。
	これらのコンポーネントの構築およびインストールの順番は重要です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">例えば、古いコンパイラは、
	バグを含み、新しいカーネルをコンパイルできない可能性があります。
	そのため、新しいカーネルは新しいコンパイラで構築しなければならないので、
	新しいコンパイラの構築が必要となりますが、
	必ずしも、
	新しいコンパイラがインストールされている必要はありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しい world は、
	新しいカーネルの機能に依存している可能性があるので、
	新しい world をインストールする前に、
	新しいカーネルがインストールされていなければなりません。
	古い world は、新しいカーネルでは正しく動かないかも知れません。
	そのため、新しいカーネルをインストールしたら、
	直ちに新しい world をインストールしてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定の中には、新しい world
	をインストールする前に変更すべきものがありますが、
	古い world を壊す可能性があります。
	そのため、設定のアップデートは 2 つの手順で行われます。
	多くの場合、アップデートのプロセスは、ファイルを置き換えたり、
	追加のみを行い、古いファイルを削除しません。
	このことが問題を引き起こす可能性があるため、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/UPDATING</filename> には、
	手動で削除すべきファイルをどのステップで削除すべきかが書かれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらを配慮した結果、以下で説明するアップグレードの推奨手順が作られました。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> を実行したときの出力は、
	  ファイルに保存すると良いでしょう。
	  何か障害が発生した場合には、エラーメッセージのコピーを
	  FreeBSD メーリングリストに投稿してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルに保存する最も簡単な方法は、
	  引数として出力の保存先のファイル名を指定して
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">script</command> コマンドを使うことです。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tmp</filename> は、
	  再起動をすると削除されてしまう可能性があるので、
	  このディレクトリには出力を保存しないようにしてください。
	  出力の保存には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp</filename> が適しています。
	  次のコマンドを world の構築の直前に行ない、再構築が終了したら
	  <userinput xmlns:xlink="http://www.w3.org/1999/xlink">exit</userinput> と入力してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">script <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/mw.out</replaceable></userinput>
Script started, output file is /var/tmp/mw.out</screen>
      </note>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">world の構築プロセスの概要</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">world の構築プロセスで用いられるコマンドは、
	  ここで示されている順番で実行してください。
	  この節では各コマンドの機能についてまとめます。</para>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システム上で world の構築が一度でも行われたのであれば、
	    前回の構築の際のコピーが
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	    に存在するはずです。
	    このディレクトリが存在しているのであれば、
	    このディレクトリを削除することで
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command> の行程にかかる時間を短縮し、
	    依存問題に悩まされるようなトラブルを回避できます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chflags -R noschg /usr/obj/*</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rm -rf /usr/obj</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">新しいコンパイラと関連ツールを最初にコンパイルし、
	    その後、新しいコンパイラで、
	    新しい world の残りの部分をコンパイルします。
	    コンパイルされたものは、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename> に格納されます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">コンパイラとカーネルのミスマッチを防ぐため、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	    にある新しいコンパイラを用いて新しいカーネルを構築します。
	    再構築は、ある種のメモリ構造体が変更されたような場合には必須で、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ps</command> や <command xmlns:xlink="http://www.w3.org/1999/xlink">top</command>
	    のようなプログラムは、
	    カーネルとソースコードのバージョンが一致しないと正常に動作しないでしょう。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make buildkernel</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">新しくアップデートされたカーネルで起動できるように、
	    新しいカーネルとカーネルモジュールをディスク上に配置します。
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.securelevel</varname> を 1 より大きくしていて、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">かつ</emphasis> カーネルのバイナリファイルに
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">noschg</literal> のようなフラグを設定している場合は、
	    まず、シングルユーザモードに移行してください。
	    それ以外の場合は、
	    マルチユーザモードでこれらのコマンドを問題なく動かせるはずです。
	    <varname xmlns:xlink="http://www.w3.org/1999/xlink">kern.securelevel</varname> について詳しくは
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を、ファイルに対するさまざまなフラグについて詳しくは
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chflags</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> をご覧ください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make installkernel</userinput></screen>
	</step>

 	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">すでに実行されているソフトウェアをアップデートする際の問題を最小限にするため、シングルユーザモードに移行してください。
	    シングルユーザモードに移行することにより、
	    新しいカーネル上で古い world
	    が実行される際の問題も最小限にします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">shutdown now</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモードに移行したら、UFS
	    でフォーマットされているシステムでは、
	    以下のコマンドを実行してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -u /</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -a -t ufs</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">swapon -a</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もしシステムが ZFS でフォーマットされている場合には、
	    以下の 2 つのコマンドを実行してください。
	    この例では、zpool の名前は <literal xmlns:xlink="http://www.w3.org/1999/xlink">zroot</literal>
	    であると仮定します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">zfs set readonly=off zroot</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">zfs mount -a</userinput></screen>
	</step>

 	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">オプション: もし、デフォルトの US English
	    以外のキーボードマップが必要であれば、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">kbdmap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> で変更してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kbdmap</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その後、どちらのファイルシステムでも、
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CMOS</acronym> クロックが地域時間に設定されていて
	    GMT ではない場合
	    (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">date</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> が正しい時間と地域を表示しないなら当てはまります)
	    には、次のコマンドを実行してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">adjkerntz -i</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムの再構築では、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>,
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var</filename> や
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	    といったディレクトリに新規に導入されたファイルや、
	    変更された設定ファイルに対する更新は行なわれません。
	    次に、新しい world
	    に対する <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	    の最初の設定ファイルのアップデートを行います。
	    以下のコマンドは
	    <buildtarget>installworld</buildtarget>
	    に成功するために本質的なファイルのみを比較します。
	    たとえば、
	    このステップでは、最後のアップデート後に FreeBSD に追加された、
	    新しいグループや新しいシステムアカウント、
	    もしくはスタートアップスクリプトがシステムに追加されることがあります。
	    次のコマンドに関する詳細な情報については、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mergemaster"/> を参照してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster -iF</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	    にある新しい world
	    およびシステムのバイナリをインストールします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make installworld</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">残りの設定ファイルをアップデートします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster -p</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">使われなくなったファイルを削除します。
	    もし使われなくなったファイルがディスクに残っていると、
	    問題が起きる可能性があるため重要な作業です。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make delete-old</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">再起動を行い、新しいカーネル、
	    world そして設定ファイルをロードします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">reboot</userinput></screen>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">古いライブラリを削除する前に、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-upgrading"/>
	    に書かれている手順にしたがって、
	    すべての ports を再構築する必要があります。
	    再構築が終わったら、新しいライブラリと競合することを避けるため、
	    使われなくなったライブラリを削除します。
	    この過程に関する詳細については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="make-delete-old"/>
	    を参照して下さい。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make delete-old-libs</userinput></screen>
	</step>
      </procedure>

     <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シングルユーザモード</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしシステムがダウンタイムを持つことができるのであれば、
	システムのコンパイルをマルチユーザモードでおこない、
	インストールのためにシングルユーザモードに移行するという方法ではなく、
	コンパイルをシングルユーザモードで行うことを考えてください。
	システムの再インストールでは、たくさんの重要なシステムファイル、
	すべての標準的なシステムバイナリ、ライブラリ、
	インクルードファイルが変更されるので、
	実際に動作しているシステムにおいて、
	特にアクティブなユーザは、トラブルに見舞われる可能性があります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="src-updating">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
        <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</filename></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">world
	の構築プロセスでは、いくつかの設定ファイルが使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> に置かれている、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> には、
	FreeBSD を構成するプログラムの構築方法や、
	どういう順番でそれらを構築すべきかといった指示が記述されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> で利用可能なオプションの説明は
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> や、共通の例が
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/etc/make.conf</filename> にあります。
	これらの設定を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> に追加すると、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> の実行やプログラムの構築方法を設定できます。
	これらのオプションは、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> が使われる際には常に有効となるため、
	Ports Collection からアプリケーションをコンパイルする時、
	ユーザが書いた C プログラムや FreeBSD
	オペレーティングシステムを構築する際に影響を及ぼします。
	ある設定を変更したことにより、影響が広い範囲におよび、
	驚くべき結果をもたらす可能性があります。
	両方のファイルに書かれているコメントを読むことと、
	デフォルトの設定は、パフォーマンスと安全性の観点から選ばれていることを覚えておいてください。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">src.conf</filename></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/src.conf</filename> は、
	ソースコードを用いたオペレーティングシステムの構築をコントロールします。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> とは異なり、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/src.conf</filename> に書かれた設定は、
	FreeBSD オペレーティングシステムそのものを構築するときにのみ影響します。
	このファイルで設定可能な多くのオプションについては、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">src.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> に記述されています。
	一見したところ無効にされている、
	使われていないカーネルモジュールやビルドオプションに注意してください。
	ときどき予期しなかったり、わずかな影響を与えることがあります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="make-buildworld">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">変数とターゲット</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> の使用における一般的な書式は、
	次のとおりです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable> -D<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VARIABLE</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では、<option xmlns:xlink="http://www.w3.org/1999/xlink">-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable></option> が
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> に渡されるオプションになります。
	利用可能なオプションについては、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">変数を渡すには、変数の名前を
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-D<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">VARIABLE</replaceable></option>
	のように指定してください。
	この変数は <filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> の動作をコントロールします。
	変数の指定は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> で設定するか、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> の実行時に指定するかのどちらかで行います。
	たとえば、以下の変数は、プロファイル版のライブラリを構築しないことを指定します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -DNO_PROFILE <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
	の中で以下のように設定することに対応します。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NO_PROFILE=    true     #    Avoid compiling profiled libraries</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">target</replaceable> は、<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> に
	どのように動作するのかを指示するためのものです。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> は利用可能なターゲットを定義しています。
	ターゲットには、
	システムの再構築に必要な段階を、
	多くのさらに細かい段階に分割するため、
	構築の過程で利用されるものがあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">選択肢が分けられていることは、二つの理由から有用です。
	まず第一に、構築作業は稼働中のシステムにまったく影響を与えません。
	そのため、マルチユーザモードで稼働中のシステムでも、安全に
	<buildtarget>buildworld</buildtarget> を実行できます。
	ただし、<buildtarget>installworld</buildtarget> は
	シングルユーザモードで行なうことをおすすめします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">第二に、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> マウントを利用することで、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="small-lan"/> で説明されているように、
	ネットワーク上の複数のマシンをアップグレードすることが可能な点があげられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> に
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-j</option> をつけると、
	同時に複数のプロセスを生成できます。
	構築過程の大部分では <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> 性能の限界より
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym> 性能の限界の方が問題となるため、
	シングル <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> とマルチ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym>
	マシンの両方に効果があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">普通のシングル <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> マシンで以下のコマンド
	を実行すると、最大 4 個までのプロセスを同時に実行します。
	メーリングリストに投稿された経験的な報告によると、
	4 個という指定が最も良いパフォーマンスを示すようです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -j4 buildworld</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">マルチ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> マシンでは、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">6</literal> から <literal xmlns:xlink="http://www.w3.org/1999/xlink">10</literal> の間の値を設定し、
	速度がどれくらい向上するか確認してみてください。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">world</quote> の再構築</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">時間</secondary>
      </indexterm>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command>
	  に変数を指定した場合は、同じ指定を
          <command xmlns:xlink="http://www.w3.org/1999/xlink">make installworld</command> にも指定しなければなりません。
	  ただし <buildtarget>installworld</buildtarget>
	  では、<option xmlns:xlink="http://www.w3.org/1999/xlink">-j</option> を
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">絶対に使ってはいけません</emphasis>。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、以下のコマンドを実行したなら、</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -DNO_PROFILE buildworld</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のようにしてインストールしなければなりません。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -DNO_PROFILE installworld</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしそうしなかった場合、2 番目のコマンドは、
          <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command>
	  の段階で構築されていないプロファイル版ライブラリをインストールしようとしてしまうでしょう。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mergemaster">
      <info>
	<title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイルの同期</title>

	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink">
	    <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	      <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname>
	      <surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname>
	    </personname>
	    <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	  </author>
	</authorgroup>
      </info>
      
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command>
	</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> Bourne シェルスクリプトは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> にある設定ファイルと、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/etc</filename>
	にある設定ファイルの違いを確認するためのものです。
	システムの設定ファイルをソースツリーにある設定ファイルにアップデートするには、
        この方法を使用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command> を使う前に、
	既存の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	をどこか安全な場所にコピーしておきましょう。
	再帰的なコピーを行なう <option xmlns:xlink="http://www.w3.org/1999/xlink">-R</option> と、
	ファイルの更新時間や所有者などを保存する
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option> と共に実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp -Rp /etc /etc.old</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command> を実行すると、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> を起点とした一時的なルート環境を構築し、
	さまざまなシステム設定ファイルを
	(訳注: デフォルトでは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/temproot</filename> に)
	置いていきます。
	これらのファイルは現在システムにインストールされているファイルと比較されます。
	異なるファイルは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> 形式で示され、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">+</option> の記号は追加または変更された行を表し、
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-</option> は完全に削除されたか新しく置き換えられた行を表します。
	ファイルの違いの表示方法についてのより詳しい情報は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">diff</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は違いのあるファイルをそれぞれ示し、
	選択可能なオプションを表示します。
	ここでは、新しいファイルを削除するか、
	一時ファイルをそのままインストールするか、
	一時ファイルと現在インストールされているファイルを統合するか、
	もしくは結果をもう一度見るかを選択できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一時ファイルの削除を選ぶと、<command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command>
	に現在のファイルを変更しないで新しいバージョンを削除せよと伝えます。
	この選択は、お勧めできません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command>
	のプロンプトで <keycap xmlns:xlink="http://www.w3.org/1999/xlink">?</keycap> とタイプすれば、
	いつでもヘルプが見られます。
	ファイルのスキップを選ぶと、他のすべてのファイルを終えたあと、
	もう一度そのファイルが提示されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一時ファイルをそのままインストールすることを選ぶと、
	現在のファイルを新しいファイルで置き換えます。
	ほとんどの手を加えていないファイルは、
	これが一番よい選択です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの統合を選んだ場合、
	テキストエディタが起動され、両方のファイルの中身が提示されます。
	画面上に並ぶ両方のファイルを見て新しいファイルを作成するために両方から必要な部分を選択し、
	2 つのファイルを統合することができます。
	並んでいるファイルを比較するとき、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">l</keycap> で左側の中身を選択し、
	<keycap xmlns:xlink="http://www.w3.org/1999/xlink">r</keycap> で右側の中身を選択します。
	最終出力は左右両方の部分でできたファイルになるでしょう。
	このファイルをインストールすることができます。
	たいてい、このオプションはユーザが設定を変更したファイルに使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">結果をもう一度見る、を選択すると、
	ファイルの相異点をもう一度見ることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command>
	がシステムファイルの比較を終えたあと、
	他のオプションについてもプロンプトが表示されます。
	たとえば、
	パスワードファイルを再構築するかどうかを尋ねることがあります。
	最後に残った一時ファイルを削除するかどうかを尋ねて終了します。</para>

<!--
Probably not needed as changes should be minimal and mergemaster does
a good job of merging.
      <tip>
	<title>新しい root ディレクトリ
	  (<filename>/var/tmp/root</filename>) の名前に
          タイムスタンプを付けておくと、
          異なるバージョン間の比較を楽に行なうことができます。</title>

	<para>頻繁にシステムの再構築を行なうということは、
	  <filename>/etc</filename> の更新もまた、
	  頻繁に行う必要があるということです。
	  これはちょっと手間のかかる作業です。</para>

	<para>この作業は、あなたが <filename>/etc</filename>
	  にマージした、
          新しく変更されたファイルの最新のセットのコピーを保存しておくことで
          素早く行なうことができます。</para>

	<procedure>
	  <step>
	    <para>普通に make world します。
	      <filename>/etc</filename> や
	      他のディレクトリを更新したくなったときは、ターゲット
	      ディレクトリに、そのときの日付に基づく名前をつけてください。</para>

	      <screen>&prompt.root; <userinput>mkdir /var/tmp/root-20130214</userinput>
&prompt.root; <userinput>cd /usr/src/etc</userinput>
&prompt.root; <userinput>make DESTDIR=/var/tmp/root-20130214 \
    distrib-dirs distribution</userinput></screen>
	  </step>

	  <step>
	    <para>上に説明されているように、
	      このディレクトリから変更点をマージします。
              その作業が終了しても、
              <filename>/var/tmp/root-20130214</filename>
	      を削除しては<emphasis>いけません</emphasis>。</para>
	  </step>

	  <step>
	    <para>最新版のソースをダウンロードして再構築したら、
	      ステップ 1 にしたがってください。今度は、
	      新しい日付を反映したディレクトリを作成してください。
	      この例では、<filename>/var/tmp/root-20130221</filename>
	      という新しいディレクトリをつくります。</para>
	  </step>

	  <step>
	    <para>&man.diff.1; を使用し、
              二つのディレクトリを比較する再帰的 diff を作成することで、
              一週間の間に行なわれたソースへの変更による相違点を調べます。
            </para>

	    <screen>&prompt.root; <userinput>cd /var/tmp</userinput>
&prompt.root; <userinput>diff -r root-20130214 root-20130221</userinput></screen>

	    <para>これによって報告される相違点は、大抵の場合、
	      <filename>/var/tmp/root-20130221/etc</filename> と
	      <filename>/etc</filename>
	      との相違点に比べて非常に少ないものになります。
	      相違点が少ないため、変更点を既存の
	      <filename>/etc</filename>
	      にマージすることは、比較的容易になります。</para>
	  </step>

	  <step>
	    <para>ここまで終了したら、
	      <filename>/var/tmp/root-*</filename>
              の二つのうち、古い方のディレクトリは削除して構いません。
            </para>

	      <screen>&prompt.root; <userinput>rm -rf /var/tmp/root-20130214</userinput></screen>
	  </step>

	  <step>
	    <para>この工程を、
	      <filename>/etc</filename>
	      へ変更点をマージする必要があるたび、繰り返してください。</para>
	  </step>
	</procedure>

	<para>ディレクトリ名の生成を自動化するには、&man.date.1;
	  を利用してください。</para>

	<screen>&prompt.root; <userinput>mkdir /var/tmp/root-`date "+%Y%m%d"`</userinput></screen>
      </tip>
      -->
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="make-delete-old">
      <info>
	<title xmlns:xlink="http://www.w3.org/1999/xlink">使われなくなったファイル、ライブラリの削除</title>

	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink">
	    <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	      <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Anton</firstname>
	      <surname xmlns:xlink="http://www.w3.org/1999/xlink">Shterenlikht</surname>
	    </personname>
	    <contrib xmlns:xlink="http://www.w3.org/1999/xlink">ベースとなったノートの提供: </contrib>
	  </author>
	</authorgroup>
      </info>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Deleting obsolete files and directories</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の開発サイクルにおいて、
	ファイルやシステムの一部が使われなくなることがあります。
	それらの機能が別の場所で実装されたり、
	ライブラリのバージョン番号が変わったり、
	システムから完全に削除されることがあるためです。
	システムのアップデート時に削除が必要になるのは、
	古いファイル、ライブラリそしてディレクトリです。
	これらのファイルを削除することで、
	記憶媒体やバックアップ媒体において不必要な容量を占めている古いファイルが、
	システム上に散乱することがなくなります。
	また、古いライブラリのセキュリティや安定性に問題があると、
	ライブラリを新しくしてシステムを安定な状態にし、
	古いライブラリによりシステムがクラッシュすることを防がなければなりません。
	使われなくなったファイル、ディレクトリ、ライブラリは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/ObsoleteFiles.inc</filename>
	にまとめられています。以下の手順により、
	アップグレードの過程でこれらのファイルを削除できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make installworld</command>
	と、その後の <command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command> が無事に終わったら、
	使われなくなったファイルやライブラリを確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make check-old</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">見つかった古いファイルは、以下のコマンドで削除できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make delete-old</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使われなくなったファイルを削除する際、
	ファイルごとに確認が求められます。
	確認を省略し、自動的にファイルを削除するには、
	以下のように <varname xmlns:xlink="http://www.w3.org/1999/xlink">BATCH_DELETE_OLD_FILES</varname>
	を設定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -DBATCH_DELETE_OLD_FILES delete-old</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">yes</command>
	をコマンドへパイプでつなげても省略できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">yes|make delete-old</userinput></screen>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Warning</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">使われなくなったファイルを削除すると、
	  削除したファイルに依存していたアプリケーションは壊れてしまいます。
	  特に、古いライブラリを削除する場合に起こり得ます。
	  通常、<command xmlns:xlink="http://www.w3.org/1999/xlink">make
	    delete-old-libs</command>
	  を実行する前に、
	  これらの古いライブラリを使っているプログラム、ports、
	  ライブラリを再構築する必要があります。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">共有ライブラリをチェックするユーティリティとして、
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/libchk</package> や
	<package xmlns:xlink="http://www.w3.org/1999/xlink">sysutils/bsdadminscripts</package>
	を利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使われなくなった共有ライブラリは、
	新しいライブラリと競合し、以下のようなメッセージを表示することがあります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/ld: warning: libz.so.4, needed by /usr/local/lib/libtiff.so, may conflict with libz.so.5
/usr/bin/ld: warning: librpcsvc.so.4, needed by /usr/local/lib/libXext.so, may conflict with librpcsvc.so.5</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この問題を解決するには、
	まずライブラリがどの port によってインストールされたかを調べて下さい。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg which /usr/local/lib/libtiff.so</userinput>
  /usr/local/lib/libtiff.so was installed by package tiff-3.9.4
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg which /usr/local/lib/libXext.so</userinput>
  /usr/local/lib/libXext.so was installed by package libXext-1.1.1,1</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">見つかった port をアンインストールし、
	再構築、再インストールしてください。
	この過程は <package xmlns:xlink="http://www.w3.org/1999/xlink">ports-mgmt/portmaster</package>
	で自動化できます。
	すべての ports が再構築され、
	古いライブラリがどこにも使われていないことを確認したら、
	以下のコマンドで古いライブラリを削除してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make delete-old-libs</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしちょっとした問題があった場合でも、
        システムの一部を再構築するのは簡単です。
	たとえば、アップグレードや <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	のマージの途中で誤って
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/magic</filename> を削除してしまい、
	その結果 <command xmlns:xlink="http://www.w3.org/1999/xlink">file</command>
	が動作しなくなってしまったような場合には、
	次のコマンドを実行して修復してください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/usr.bin/file</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make all install</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="updating-questions">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">よくある質問</title>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">変更が行なわれたら、
	    その度にシステムの再構築が必要になるのでしょうか?</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">それは変更の内容によります。
	      たとえば、<application xmlns:xlink="http://www.w3.org/1999/xlink">svn</application> を実行したとき、
	      次にあげるようなファイルが更新されていたとします。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">src/games/cribbage/instr.c</filename>
<filename xmlns:xlink="http://www.w3.org/1999/xlink">src/games/sail/pl_main.c</filename>
<filename xmlns:xlink="http://www.w3.org/1999/xlink">src/release/sysinstall/config.c</filename>
<filename xmlns:xlink="http://www.w3.org/1999/xlink">src/release/sysinstall/media.c</filename>
<filename xmlns:xlink="http://www.w3.org/1999/xlink">src/share/mk/bsd.port.mk</filename></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このときには、改めてシステム全体を再構築する必要はないでしょう。
	      そのかわり、適切なサブディレクトリに移って
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">make all install</command> を行ってください。
	      しかし、たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/lib/libc/stdlib</filename>
	      のような大きな変更が行なわれた場合には、
	      システム全体を再構築することを検討してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">2 週間ごとにシステムを再構築して、
	      その 2 週間分の変更を取り込むユーザもいますし、
	      変更のあった部分だけ再構築し、
	      すべての依存関係を確かめたいと考えるユーザもいます。
	      それらはどのくらいの頻度でアップグレードしたいか、
	      そして FreeBSD-STABLE か FreeBSD-CURRENT
	      のどちらを追いかけているのかにもよります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">どうして
	      signal 11<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	        <primary xmlns:xlink="http://www.w3.org/1999/xlink">signal 11</primary>
	      </indexterm>
	      (もしくは他のシグナル番号) のエラーがたくさん出て
	      コンパイルが失敗するのでしょうか？</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは通常、ハードウェアに問題があることを示しています。
	      world の再構築は、
	      ハードウェア (特にメモリ)
	      に対する負荷耐久試験を行なうための有効な手段です。
	      本当にこの問題によるものかどうかは、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">make</application>
	      をもう一度実行し、異なる段階で異常終了が発生するか、
	      ということから確認できます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このエラーに対応するには、RAM を始めとして、
	      マシンの部品をメモリから交換して、
	      どの部分が悪いのかを調べてみてください。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">終了したら <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	      を削除してもかまいませんか?</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このディレクトリには、
	      コンパイルの段階で生成された
	      すべてのオブジェクトファイルが含まれています。
	      通常 <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command> の最初の段階では、
	      このディレクトリを削除して新しくつくり直すようになっています。
	      構築終了後も <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	      を保存しておいても、あまり意味はありません。
	      削除すれば、だいたい 2GB
	      のディスクスペースを解放することができます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">構築を中断した場合、
	    その構築を途中から再開することはできますか?</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">それは、問題が起こるまでに、
	      どれだけの作業を終えているかによります。
	      一般的に <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command> は、
	      基本的なツールや、
	      システムライブラリの新しいコピーを作成します。
	      その後、これらのツールやライブラリがインストールされてから、
	      自分自身の再構築に使われ、もう一度、インストールされます。
	      システムの残りの部分がその新しいシステムファイルを用いて作り直されます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">再構築の最終段階では、
	      まったく安全に以下のコマンドを実行することができます。
	      これは、前回の <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command>
	      の作業をやり直しません。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make -DNO_CLEAN all</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">次のメッセージ</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink">--------------------------------------------------------------
Building everything..
--------------------------------------------------------------</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">が <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command> の出力にある場合には、
	      上のようにしてもほとんど悪影響が現れることはありません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしこのメッセージがない場合には、
	      安全を確保し、後悔するようなことがないよう、
              システムの再構築を最初からやり直しましょう。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">make world を高速化できますか?</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの方法で build world のプロセスを高速化できます。
	      たとえば、全体のプロセスは、
	      シングルユーザモードで動かすことで高速になります。
	      しかしながら、この方法では、プロセスが完了するまで、
	      ユーザがシステムにアクセスすることはできません。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムを注意深く設計したり、
	      ZFS データセットを使うことでも変わります。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> と
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	      を、異なるディスク上の別のファイルシステムに置くことを検討してください。
	      また可能ならば、
	      異なるディスクコントローラに接続された異なるディスクにファイルシステムを置いてください。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>
	      をマウントする時には、
	      最後にアクセスされた時刻の書き込みを抑制するように、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">noatime</option>
	      オプションを付けてマウントしてください。
	      もし、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> が、
	      独立したファイルシステムではないときには、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">noatime</option> オプションで、<filename xmlns:xlink="http://www.w3.org/1999/xlink" class="directory">/usr</filename>
	      を再マウントしてください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
	      のあるファイルシステムを、<option xmlns:xlink="http://www.w3.org/1999/xlink">async</option>
	      オプションをつけてマウントもしくは再マウントしてください。
	      これによって、ディスクへの書き込みが非同期になります。
	      つまり、書き込み命令はすぐに完了するのに対し、
	      実際にデータがディスクに書き込まれるのは、その数秒後になります。
	      これによって、書き込み処理の一括化が可能になるため、
	      劇的なパフォーマンスの向上が期待できます。
	      <!-- hrs:2000/02/15 (for ja-translators)
		"be clusterd togather" is translated into "clusterization" -->
	    </para>

	    <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		このオプションを指定すると、ファイルシステムは
		壊れやすくなってしまうことに注意してください。
		このオプションを付けていて、突然電源が落ちた場合には、
		再起動後にファイルシステムが復旧不能になる可能性が
		非常に高くなります。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
		が、ファイルシステムにある唯一のディレクトリであれば、
		これは問題になりません。
                しかし、同じファイルシステムに、
		他の貴重なデータを置いているときには、
		このオプションを有効にする前に、
		バックアップをきちんと取っておきましょう。</para>
	    </warning>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> に
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">NO_PROFILE=true</quote> をセットして、
	      プロファイル版の作成を無効化してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> に
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-j<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">n</replaceable></option>
	      を指定して、複数のプロセスを並列に実行させてください。
	      これは、単一のプロセッサでも複数のプロセッサでも、
	      同様に恩恵を得ることができます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
          <term xmlns:xlink="http://www.w3.org/1999/xlink">なにか悪いことがあったらどうすればいいですか?</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">まず、自分の環境に前のビルドの余計なゴミが残っていないことをはっきりと確認してください。</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chflags -R noschg /usr/obj/usr</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rm -rf /usr/obj/usr</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ええ、<command xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</command>
	      は本当に 2 回実行するのです。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">そして、<command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command> を行い、
	      全プロセスを最初からやり直してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">まだ問題があれば、エラーと <command xmlns:xlink="http://www.w3.org/1999/xlink">uname -a</command>
	      の出力を <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions">FreeBSD general questions メーリングリスト</link> に送ってください。
	      設定についてさらに質問されても答えられるよう用意してください!</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="small-lan">
    <info>
      <title xmlns:xlink="http://www.w3.org/1999/xlink">複数のマシンで追いかける</title>

      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink">
	  <personname xmlns:xlink="http://www.w3.org/1999/xlink">
	    <firstname xmlns:xlink="http://www.w3.org/1999/xlink">Mike</firstname>
	    <surname xmlns:xlink="http://www.w3.org/1999/xlink">Meyer</surname>
	  </personname>
	  <contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib>
	</author>
      </authorgroup>
    </info>
    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">複数のマシンにインストール</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">複数のコンピュータで同じソースツリーを追いかけていて、
      全部のマシンにソースをダウンロードして全部を再構築するのは、
      ディスクスペース、ネットワーク帯域、
      そして <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym> サイクルの無駄使いです。
      解決策は 1 つのマシンに仕事のほとんどをさせ、
      残りのマシンは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
      経由でそれをマウントする、というものです。
      このセクションではそのやり方を概観します。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> の使い方の詳細については、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nfs"/> をご覧下さい。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まず初めに、同じバイナリで動かそうとするマシンたちを決めます。
      このマシンたちのことを<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ビルドセット</firstterm>と呼びます。
      それぞれのマシンはカスタムカーネルを持っているかもしれませんが、
      同じユーザランドバイナリを動かそうというのです。
      このビルドセットから、
      <firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ビルドマシン</firstterm>となるマシンを 1 台選びます。
      ベースシステムとカーネルを構築するのはこのマシンになります。
      理想的には、このマシンは <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildworld</command>
      と <command xmlns:xlink="http://www.w3.org/1999/xlink">make buildkernel</command>
      を実行するのに十分な <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym>
      を持った速いマシンであるべきです。</para>
	
    <para xmlns:xlink="http://www.w3.org/1999/xlink"><firstterm xmlns:xlink="http://www.w3.org/1999/xlink">テストマシン</firstterm>
      となるべきマシンも選んでください。
      更新されたソフトウェアを使う前にそのマシンでテストするのです。
      テストマシンはかなり長い時間落ちていても
      だいじょうぶなマシン<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">であったほうがいいでしょう</emphasis>。
      ビルドマシンでもかまいませんが、
      ビルドマシンである必要はありません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このビルドセットのマシンはすべて
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename> と
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>
      をビルドマシンから <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      経由でマウントする必要があります。
      ビルドセット自体が複数ある場合は、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>
      はひとつのビルドマシン上にあるべきです。
      他のマシンからはそれを <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
      マウントするようにしましょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ビルドセットのすべてのマシン上の
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> と
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/src.conf</filename>
      がビルドマシンと一致していることを確認してください。つまり、
      ビルドマシンはビルドセットのどのマシンもインストールしようとしている
      ベースシステムを全部ビルドしなければならないということです。
      また、各ビルドマシンは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename>
      にそれぞれのビルドマシンのカーネル名を
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">KERNCONF</varname> で指定し、
      ビルドマシンは自分自身のカーネルから順に全部のカーネル名を
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">KERNCONF</varname> にリストアップしてください。
      ビルドマシンは各マシンのカーネル設定ファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/sys/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">arch</replaceable>/conf</filename>
      に持っていなければなりません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ビルドマシンにて、
      <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="makeworld"/>
      に書いてあるようにカーネルとベースシステムを構築してください。
      でも、まだビルドマシンにはインストールしないでください。
      そのかわり、
      ビルドしたカーネルをテストマシンにインストールしてください。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> 経由で
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
      をテストマシンにマウントしてください。
      その後、<command xmlns:xlink="http://www.w3.org/1999/xlink">shutdown now</command>
      を実行してシングルユーザモードに移行し、
      新しいカーネルとベースシステムをインストールし、
      いつもするように
      <command xmlns:xlink="http://www.w3.org/1999/xlink">mergemaster</command> を実行してください。
      終わったら、再起動して通常のマルチユーザ動作に戻します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">テストマシンにあるものすべてがちゃんと動いている確信が得られたら、
      同じ手順でビルドセットの他のマシンにも新しいソフトウェアをインストールします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ports ツリーにも同じ方法が使えます。
      最初のステップは、
      ビルドセットのすべてのマシンが <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> 経由で
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename> をマウントすることです。
      そして、distfiles を共有するように
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> を設定します。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> マウントによってマップされる
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
      ユーザが何であれ、<varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname>
      はそのユーザが書き込める共通の共有ディレクトリに設定する必要があります。
      ports をローカルでビルドする場合には、
      各マシンは <varname xmlns:xlink="http://www.w3.org/1999/xlink">WRKDIRPREFIX</varname>
      を自分のマシンのビルドディレクトリに設定しなければなりません。
      また、ビルドシステムが packages
      をビルドしてビルドセットのコンピュータに配布するのであれば、
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">DISTDIR</varname> と同じようにビルドシステム上の
      <varname xmlns:xlink="http://www.w3.org/1999/xlink">PACKAGES</varname>
      ディレクトリも設定してください。</para>
  </sect1>
</chapter>

<!--
    &chap.dtrace;
-->
  </part>

  <part xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-communication">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク通信</title>

    <partintro xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、高性能なネットワークサーバとして最も広く使用されているオペレーティングシステムの 1 つです。
	各章の内容は以下の通りです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアル通信</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP と PPP オーバイーサネット (PPPoE)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">電子メール</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークサーバの運用</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その他の高度なネットワークに関する話題</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">各章は、必要になった時に個別に参照できるように構成されています。
	どの順番で読んでも構いませんし、ネットワーク環境で FreeBSD を使うのに、
	すべてを読み通す必要がある、というわけでもありません。</para>
    </partintro>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r13081
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="serialcomms">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアル通信</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serial-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シリアル通信</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">
      Unix は現在に至るまで、常にシリアル通信機能をサポートしていました。
      実際、本当に初期の Unix マシンは、ユーザとの入出力にシリアル通信を使っていました。
      10 文字毎秒のシリアルプリンタ、
      キーボードから構成された <quote xmlns:xlink="http://www.w3.org/1999/xlink">端末(terminal)</quote> が広く使われていた当時とは、
      何もかもがすっかり変わっています。この章では、FreeBSD
      でシリアル通信を行なういくつかの方法について説明しています。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読むと、以下のことがわかります。</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムへの端末の接続方法</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">リモートホストへダイヤルするためのモデムの使い方</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">リモートのユーザがモデムでシステムにログインできるようにする方法</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールからのシステム起動方法</para></listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを行っておくべきです。</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">新しいカーネルを構成してインストールする方法を覚える
	(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>)。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">Unix のパーミッションとプロセスについて理解する
	(<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="basics"/>)。</para></listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で使おうとしているシリアルハードウェア
	(モデムまたはマルチポートカード)
	のテクニカルマニュアルを読めるようにする。</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serial">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serial-terminology">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">用語解説</title>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">bps</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">bits-per-second</primary></indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Bits per Second の略で、
	      データの転送速度を表す単位。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">DTE</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DTE</primary></indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Data Terminal Equipment の略。
	      たとえばコンピュータ本体のこと</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">DCE</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DCE</primary></indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Data Communications Equipment
	      の略で、具体的にはモデムのこと。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">RS-232</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">RS-232C ケーブル</primary></indexterm>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">EIA (米電気産業協会)
	      のハードウェアシリアル通信の標準規格</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通信におけるデータ転送速度に関して、
	このセクションでは <quote xmlns:xlink="http://www.w3.org/1999/xlink">ボー</quote> (baud) という用語は使いません。
	ボーというのは一定時間に生じうる電気的状態の変化の数を表すにすぎず、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">bps</quote> (bits per second)
	という単位の方が<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">正しい</emphasis>からです
	(少なくとも、こういう表現をしておけば、
	意地の悪い人に怒られることもないのではないかと思います)。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serial-cables-ports">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ケーブルとポート</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムまたはシリアル端末を FreeBSD システムに接続するためには、
	コンピュータ上のシリアルポートと、
	シリアルデバイスに接続する適切なケーブルが必要です。
	ハードウェアとそれが必要とするケーブルについてよく理解しているなら、
	この節は飛ばしても問題ありません。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-cables">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ケーブル</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルケーブルにはさまざまな種類があります。
	  我々の目的にあうもっとも一般的な 2 種類は、
	  ヌルモデムケーブル<footnote xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">訳注: リバースケーブル、
	  もしくはクロスケーブルと呼ばれることもあります。</para></footnote>
	  と、スタンダード (ストレート) RS-232 ケーブルです
	  ハードウェアの説明文書に必要なケーブルの種類が記載されているはずです。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-cables-null">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル</primary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル (またはリバースケーブルあるいはクロ
	    スケーブル) は、たとえば <quote xmlns:xlink="http://www.w3.org/1999/xlink">signal ground</quote>
	    信号のように、いくつかの信 号はそのまま通しますが、
	    他の信号は途中で入れ替えて通します。たとえば、<quote xmlns:xlink="http://www.w3.org/1999/xlink">send
	    data</quote> 信号のピンは、反対側のコネクタの
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">receive data</quote> 信号の
	    ピンと繋がっています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">自分で使うケーブルは自分で作りたいということであれば、
	    端末で使うヌルモデムケーブルを作成できます。この表では、
	    RS-232C の信号線の名前と、DB-25 コネクタ上のピンの番
	    号を示しています。</para>

	  <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="5">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Signal</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Pin #</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Pin #</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">Signal</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">TxD</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">3</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">RxD</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">RxD</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">3</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">2</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">TxD</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DTR</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">20</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">6</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DSR</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DSR</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">6</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">20</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DTR</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">SG</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">7</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">7</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">SG</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DCD</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">8</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">4</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">RTS</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">RTS</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">4</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"/>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">5</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">CTS</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">CTS</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">5</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">connects to</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">8</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">DCD</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">DCD と RST では、コネクタ内部でピン4を5に接続し、
	      そして逆側のコネクタのピン8と接続します。</para>
	  </note>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-cables-std">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">スタンダード RS-232C ケーブル</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">RS-232C ケーブル</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スタンダードシリアルケーブル
	    (またはストレートケーブル)  の場合は、すべての RS-232C
	    信号をそのまま通します。つまり、片方の <quote xmlns:xlink="http://www.w3.org/1999/xlink">send
	    data</quote> 信号のピンは、逆側の <quote xmlns:xlink="http://www.w3.org/1999/xlink">send data</quote>
	    信号のピンと繋がっています。モデムを FreeBSD
	    に接続するときや、一部の端末を接続するときにこのタイプの
	    ケーブルを使用します。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-ports">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ポート</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートは、FreeBSDが動作しているホスト
	  コンピュータと端
	  末の間でデータのやりとりを行うために用いるデバイスです。
	  ここでは、現在存在するポートの種類と FreeBSD
	  でのポートのアクセス方法について解 説します。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-portkinds">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ポートの種類</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートには何種類かのものがあります。
	    ケーブルを購 入したり自作したりする前に、
	    そのケーブルのコネクタの形状が端末および FreeBSD
	    システムのポートの形状と一致していることを
	    確認してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどの端末は DB25 ポートを搭載しています。
	    FreeBSDが動作しているも のを含めて、PCは DB25 または DB9
	    ポートを搭載しています。マルチポート
	    のシリアルカードの場合は、RJ-12 や RJ-45
	    のポートを搭載しているかもし れません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">利用されているポートの種類に関しては、
	    ハードウェアについてきたドキュメントを参照してください。
	    また、多くの場合、ポートの形状から判断することもできるでしょう。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-portnames">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ポートの名前</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSDでは、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	    ディレクトリ内のエントリを介
	    してシリアルポートへのアクセスがおこなわれます。
	    2種類の異なったエン トリがあります。</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">着信用のポートの名前は、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttydN</filename>
		(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">N</replaceable> は 0から始まるポート番号)
		となっています。一般に端末の接続には
		着信用ポートを用います。着信用のポートでは、
		シリアルラインのデータ キャリア検出 (DCD)
		信号がオンになっている必要があります。</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">発信用のポートの名前は、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaaN</filename>
		となっています。
		発信用のポートは普通モデムの接続に用い、端末の接続には
		利用しません。ただ、
		ケーブルまたは端末がキャリア検出信号を使えない
		タイプのものの場合は、
		発信用のポートを使うとよいでしょう。</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、端末を一つ目のシリアルポート (MS-DOS
	    でいうところの <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>) に接
	    続したとすると、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyd0</filename>
	    がこの端末を指すことになります。また、
	    二つ目のシリアルポート (<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename>)
	    ならば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyd1</filename> となり、
	    以下この形式のデバイスエントリを使います。</para>

	</sect4>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは、FreeBSD は
	4 つのシリアルポートに対応しています。MS-DOS の世界では、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM3</filename> および
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM4</filename> と呼ばれています。
	FreeBSD では、現在のところ BocaBoard の 1008 や 2016 などの、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">単純な</quote>マルチポートシリアルインタフェースや、
	Digiboard や Stallion Technologies
	が製造しているよりインテリジェントなマルチポートカードにも対応しています。
	しかしながら、デフォルトのカーネルは、標準の COM ポートしか見ません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">搭載されているシリアルポートのいずれかを、
	カーネルが認識しているかどうか確認したい場合は、
	カーネルの起動時のメッセージを注意深く見るか、あるいは
	<command xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/dmesg</command> コマンドを使って、
	起動時の出力メッセージを確認してください。特に、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">sio</literal>
	で始まるメッセージをよく見てください。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドで <literal xmlns:xlink="http://www.w3.org/1999/xlink">sio</literal>
	という文字列を含むメッセージだけを表示できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/dmesg | grep 'sio'</userinput></screen>
      </tip>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、シリアルポートを四つ持つシステムの場合は、
	以下のようなシリアルポートに関するメッセージがカーネルによって表示されます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">sio0 at 0x3f8-0x3ff irq 4 on isa
sio0: type 16550A
sio1 at 0x2f8-0x2ff irq 3 on isa
sio1: type 16550A
sio2 at 0x3e8-0x3ef irq 5 on isa
sio2: type 16550A
sio3 at 0x2e8-0x2ef irq 9 on isa
sio3: type 16550A</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、カーネルに正常に認識されないポートがある場合は、
	おそらくカスタマイズした FreeBSD カーネルを構築する必要があるでしょう。
	カーネルコンフィグレーションの詳細については
	<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションの該当するデバイス行は、
	次のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device		sio0	at isa? port "IO_COM1" tty irq 4 vector siointr
device		sio1	at isa? port "IO_COM2" tty irq 3 vector siointr
device		sio2	at isa? port "IO_COM3" tty irq 5 vector siointr
device		sio3	at isa? port "IO_COM4" tty irq 9 vector siointr</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システムに搭載されていないデバイスに関する記述は、
	コメントアウトまたは削除してしまってかまいません。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> のマニュアルを見て、
	マルチポートのボードのためのコンフィグレーションファイルの記述の仕方を確認してください。
	デバイスのフラグの指定方法がバージョンによって異なりますので、
	別のバージョンの FreeBSD
	で利用していたコンフィグレーションファイルを流用する場合には十分注意してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">なお、<literal xmlns:xlink="http://www.w3.org/1999/xlink">port "IO_COM1"</literal>,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">IO_COM2</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">IO_COM3</literal>
	  および <literal xmlns:xlink="http://www.w3.org/1999/xlink">IO_COM4</literal> は、
	  それぞれのポートの一般的なアドレスである
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x3f8</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x2f8</literal>,
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x3e8</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x2e8</literal>
	  を表します。また、割り込み番号 4, 3, 5 と 9 は、それぞれ
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1:</filename> から
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM4:</filename> のポートで一般的に使用される
	  IRQ です。また、ISA バスのコンピュータの場合、
	  一般的なシリアルポートは複数のポートで一つの IRQ
	  を共有することが
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">できません</emphasis>ので注意が必要です
	  (マルチポートのシリアルボードの場合は、複数の 16550A
	  ベースのポートで一つまたは二つの IRQ
	  を共有するための機構を備えています)。</para>
      </note>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイススペシャルファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに組み込まれているほとんどのデバイスは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> ディレクトリにある、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">デバイススペシャルファイル</quote>を介してアクセスされます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio</filename> デバイスの場合は、着信用の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttydN</filename>
	および、発信用の
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaaN</filename>
	が利用されます。さらに、FreeBSD は、初期化デバイス
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyidN</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuai0N</filename>)
	およびロッキングデバイス
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyldN</filename> と
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cual0N</filename>)
	も用意しています。
	初期化デバイスは、通信ポートがオープンされる度に、
	そのポートの初期設定を行うために使われます。たとえば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">RTS/CTS</literal>
	によるフロー制御を行うモデムが接続されている場合の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">crtscts</literal>
	などのパラメータの初期化が行われます。
	ロッキングデバイスは、ポートの設定をロックし、
	他のユーザやプログラムにこれらを変更されることのないようにするために利用されます。
	通信ポートの設定、デバイスのロックと初期化および設定の変更に関しては、
	それぞれ <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">termios</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">stty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	のマニュアルをご覧ください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">デバイススペシャルファイルの作成</title>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.0 には、
	  必要に応じてデバイスノードを自動的に作成する
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">devfs</literal> ファイルシステムがあります。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">devfs</literal> が有効になっているバージョンの
	  FreeBSD を動かしているなら、
	  この節は飛ばしてかまいません。</para></note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイススペシャルファイルの管理は、ディレクトリ
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> にあるシェルスクリプト
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command> で行います。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command> を使って、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> (ポート 0)
	  をダイアルアップのポートとして利用するための
	  デバイススペシャルファイルを作るには、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> に <command xmlns:xlink="http://www.w3.org/1999/xlink">cd</command> してから、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV ttyd0</command> と実行してください。
	  同様に、<command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV ttyd1</command> とすることで、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename> (ポート 1)
	  用のデバイススペシャルファイルを作成できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command> は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttydN</filename>
	  のデバイススペシャルファイルだけでなく、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaaN</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaiaN</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cualaN</filename>,
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyldN</filename>
	  および
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyidN</filename>
	  ノードも作成します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デバイススペシャルファイルの作成後、
	  これらのファイルの許可属性が適切に設定されていて、
	  これらのデバイスを利用してもよいユーザのみが読み書きできるようになっていることを確認してください
	  (特に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cua*</filename> の許可属性には注意を払ってください)。
	  この確認を怠ると、
	  一般のユーザがあなたのモデムを使うことができるようなことになりかねません。
	  デフォルトの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cua*</filename>
	  の許可属性は、以下のようになっていて、
	  たいていの場合適切なものだと思います。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">crw-rw----    1 uucp     dialer    28, 129 Feb 15 14:38 /dev/cuaa1
crw-rw----    1 uucp     dialer    28, 161 Feb 15 14:38 /dev/cuaia1
crw-rw----    1 uucp     dialer    28, 193 Feb 15 14:38 /dev/cuala1</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上の設定では、ユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">uucp</systemitem>
	  と、グループ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">dialer</systemitem>
	  に属するユーザが発信用のデバイスを利用できます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serial-hw-config">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートの設定</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd</filename></primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">cuaa</filename></primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ttydN</filename>
      (または <filename xmlns:xlink="http://www.w3.org/1999/xlink">cuaaN</filename>)
      デバイスは、
      アプリケーション上でシリアルポートをオープンする時に使用する、
      標準的なデバイスです。プロセスがデバイスをオープンする際、端末
      I/O 設定のデフォルトセットが適用されます。これらの設定内容は、
      次のコマンドで確認することができます。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">stty -a -f /dev/ttyd1</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このデバイスの設定を変更した場合、
      その設定はデバイスがクローズされるまで有効です。
      デバイスが再びオープンされる時、デフォルトの設定値に戻ります。
      デフォルトの設定を変更するためには、<quote xmlns:xlink="http://www.w3.org/1999/xlink">初期状態</quote>
      を設定したいデバイスをオープンして調節できます。
      たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd5</filename> というデバイスに対して、デフォルトで
      <option xmlns:xlink="http://www.w3.org/1999/xlink">CLOCAL</option> モード, 8 bits,
      <option xmlns:xlink="http://www.w3.org/1999/xlink">XON/XOFF</option> フロー制御を設定したい場合は、
      次のように入力してください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">stty -f /dev/ttyid5 clocal cs8 ixon ixoff</userinput></screen>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">rc ファイル</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.serial</filename></secondary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">システム全体のシリアルデバイス初期化は
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.serial</filename> で制御されています。
      このファイルは、シリアルデバイスのデフォルトの設定を決めます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<quote xmlns:xlink="http://www.w3.org/1999/xlink">ロック状態</quote>のデバイスに調節を加えることで、
      アプリケーションがある種の設定を変更してしまうことを防げます。
      たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd5</filename> の速度を 57600 bps
      に固定したい場合には、次のように入力してください。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">stty -f /dev/ttyld5 57600</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd5</filename> をオープンして、
      シリアルポートの転送スピードを変更しようとするアプリケーションは
      57600 bps で頭打ちになります。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command></primary>
    </indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">本来、初期状態やロックされているデバイスに書き込めるのは
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> アカウントだけにすべきです。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">シリアル端末</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Sean</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kelly</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	<!-- 28 July 1996 -->
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">端末</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 中根 雅文 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">max@FreeBSD.org</email></emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアル端末を利用することで、
      コンピュータのコンソールのそばにいないときや、
      手近にネットワーク接続されているコンピュータがないときでも、
      FreeBSD の機能を便利に、かつ安価に利用することができます。
      ここでは、FreeBSD
      にシリアル端末を接続する方法を解説します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-uses">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">端末の種類と利用方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もともと Unix システムにはコンソールがありませんでした。
	ユーザはコンピュータのシリアルポートに接続された端末からログインしてプログラムを利用していました。
	ちょうどモデムと通信ソフトを使ってリモートのコンピュータにログインし、
	テキストベースのプログラムを利用するのとよく似ています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最近の PC は、
	高品質の画像を表示できるコンソールを搭載していますが、
	ほとんどすべての Unix 系 OS
	には未だにシリアルポートを使ってログインするための機能があり、
	FreeBSD でもこの機能がサポートされています。
	現在使用されていないシリアルポートに端末を接続することでシステムにログインし、
	通常はコンソールや X ウィンドウシステムの <command xmlns:xlink="http://www.w3.org/1999/xlink">xterm</command>
	のウィンドウ上で起動しているテキストベースのプログラムであれば何でも利用できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">職場での利用ということで考えるならば、FreeBSD
	が動作しているコンピュータに接続された何台ものシリアル端末を各社員の机に配置するというようなことが可能です。
	また、家庭での利用方法としては、余っている古い
	IBM PC や Macintosh を FreeBSD
	が動いているパワフルなコンピュータの端末として利用できます。
	普通ならシングルユーザのコンピュータを、
	パワフルなマルチユーザのシステムに変えることができるのです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、以下に挙げる 3 種類の端末が利用できます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-dumb">ダム (dumb) 端末</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-pcs">PCを利用した端末</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-x">X 端末</link></para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、それぞれについての解説です。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-dumb">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ダム端末</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ダム端末は、
	  シリアルライン経由でのコンピュータとの接続専用のハードウェアです。
	  ダム端末は、テキストの送受信および表示ができる程度の計算能力しかもっていないので、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">dumb</quote> (間抜け) というように呼ばれています。
	  この端末上でプログラムを実行することはできません。
	  テキストエディタ、コンパイラ、E-mail、
	  ゲームなどなどのプログラムを実行するのは、
	  ダム端末を接続しているコンピュータの方です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Digital Equipment 社の VT-100 や、Wyse 社の WY-75
	  を初めとして、多くのメーカが何百種類ものダム端末を作っています。
	  ほとんどどんな種類のダム端末でも
	  FreeBSD に接続して使用できます。さらに、
	  高性能の端末の中には画像を取り扱えるものもありますが、
	  限られた数のソフトウェアパッケージしかこういった機能には対応していません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ダム端末は、
	  X ウィンドウシステムで提供されるようなグラフィックアプリケーションを必要としない職場で広く用いられています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-pcs">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">PC を端末として利用する</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="term-dumb">ダム端末</link>
	  がテキストの表示および送受信の機能をそなえただけのものならば、
	  言うまでもなく、どんな PC もダム端末になり得ます。
	  必要なものは適切なケーブルと、その PC
	  の上で動作する<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">端末エミュレーション</emphasis>
	  を行うソフトウェアのみです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このような環境は、家庭においてよく利用されます。
	  たとえば、あなたの同居人が FreeBSD
	  のコンソールを専有している時などに、
	  あまりパワーのないコンピュータを FreeBSD
	  システムにシリアル端末として接続し、
	  その端末上でテキストだけを用いる作業をおこなうことができます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-x">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">X 端末</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">X 端末は、
	  既存のものの中で最も洗練された種類の端末といえます。
	  X 端末は、たいていの場合シリアルポートではなく、
	  イーサネットのようなネットワークを利用した接続をおこないます。
	  また、アプリケーションの利用においても、
	  テキストベースのものだけでなく、
	  X アプリケーションの利用が可能です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、参考までに端末について紹介しただけで、
	  X 端末の設定や利用についての解説は
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">おこないません</emphasis>。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-config">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、端末からのログインを可能にするために必要な
	FreeBSD  側の設定について解説します。
	既に端末を接続するポートが利用できるように  kernel
	の設定をおこない、端末が接続されているものと考えて、解説を進め
	ます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot"/> で述べたように
	<command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> プロセスは、
	システム起動時にすべてのプロセス管理や初期化をおこなっています。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> が行っている仕事の一つは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルを読んで、利用可能な端末上で
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> プロセスを起動することです。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> プロセスは、
	ログイン名を読み込み <command xmlns:xlink="http://www.w3.org/1999/xlink">login</command>
	プログラムを起動します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、FreeBSD の端末を設定するには、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	で次の手順を踏まなければなりません。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">端末を接続するポートの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	    のエントリが含ま れている行がまだ存在しなければ、これを
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> に追加してく ださい。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/getty</command>
	    が対象となるポートに対して
	    実行されるように指定してください。また、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> ファイ ル内の適切な
	    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable>
	    タイプのエントリを指定してください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのターミナルタイプを指定してください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">対象となるポートを <quote xmlns:xlink="http://www.w3.org/1999/xlink">on</quote>
	    に設定してください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そのポートが <quote xmlns:xlink="http://www.w3.org/1999/xlink">secure</quote>
	    であるかどうかを指定してください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> に
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> を読み込みなおさせてく
	    ださい。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、必要に応じて <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	を変更し、上の 2で使用する
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable> のエントリを追加してください。
	この章ではこの方法については特に解説しませんので、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルをご覧ください。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-etcttys">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> へのエントリの追加</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> には、
	  FreeBSDシステム上のログインを許可するすべての
	  ポートを記述します。たとえば、一つ目の仮想コンソール
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyv0</filename> のエン
	  トリもこのファイルにあります。このエントリのおかげで、
	  コンソールからの ログインが可能になっています。
	  このファイルには、他の仮想コンソール、シ
	  リアルポートおよび仮想端末のエントリも含まれています。
	  端末を接続する場合は、そのポートの
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> のエントリを、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> の部分を省略して記述します
	  (たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyv0</filename> については、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyv0</filename> として記述します)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のデフォルトのインストール状態では、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0</filename> から <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttyd3</filename>
	  までの、初めの 4 つのシリアルポートに対応した
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルが置かれています。
	  これらのポートのいずれかに端末を接続する場合は、
	  新たにエントリを追加する必要はありません。</para>

	<example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ex-etc-ttys">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">端末の項目を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	    に追加する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムに 2 台の端末、Wyse-50 と、VT-100
	    端末をエミュレートしている
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">Procomm</application>
	    端末ソフトウェアを動かしている古い 286 IBM PC
	    をシステムに接続しようとしていると考えてください。
	    Wyse は 2 番目のシリアルポートに、286 は
	    6 番目のシリアルポート
	    (マルチポートシリアルカード上のポート) に接続します。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	    内の対応する項目は次のようになります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ttyd1<co xml:id="co-ttys-line1col1"/>  "/usr/libexec/getty std.38400"<co xml:id="co-ttys-line1col2"/>  wy50<co xml:id="co-ttys-line1col3"/>  on<co xml:id="co-ttys-line1col4"/>  insecure<co xml:id="co-ttys-line1col5"/>
ttyd5   "/usr/libexec/getty std.19200"  vt100  on  insecure
	  </programlisting>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-ttys-line1col1">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初のフィールドには、通常 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
		にある端末のスペシャルファイル名を指定します。</para>
	    </callout>
	    <callout arearefs="co-ttys-line1col2">

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 番目のフィールドは、
		この回線に対して実行するコマンドで、通常は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
		です。<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
		は、回線を初期化して開き、速度を設定して、
		ユーザ名を入力するプロンプトを出して <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">login</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
		プログラムを実行します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> プログラムは、
		コマンドラインから (省略可能な) パラメータ
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable> タイプを受け取ります。
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable> タイプは、
		bps レートやパリティのような端末回線の特性を示します。
		<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> プログラムは、
		これらの特性を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
		ファイルから読み込みます。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> ファイルには、
		端末回線について新旧多くの項目があります。
		ほとんどの場合、<literal xmlns:xlink="http://www.w3.org/1999/xlink">std</literal>
		で始まる項目は、ケーブルで接続された端末に働きます。
		これらの項目はパリティを無視します。110 から 115200
		までの間の bps レートそれぞれに対して一つ
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">std</literal> 項目があります。もちろん、
		このファイルに独自の項目を加えてもかまいません。
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
		のマニュアルに詳しい情報が載っています。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> ファイルに
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable> タイプを設定する時は、
		端末の通信設定が対応していることを確かめましょう。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、Wyse-50 はパリティなしで、38400 bps
		で接続します。286 PC はパリティなしで、19200 bps
		で接続します。</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col3">

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">第 3 フィールドは、その tty
		回線に通常つながる端末の種別です。
		ダイアルアップポートでは、実際、
		ユーザがどんな種類の端末やソフトウェアで接続してくることもありうるので、
		このフィールドには <literal xmlns:xlink="http://www.w3.org/1999/xlink">unknown</literal> または
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">dialup</literal> がよく使われています。
		ケーブルで配線された端末については、
		端末種別は変わりませんので、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">termcap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
		データベースファイルから実際の端末種別を、
		このフィールドに記入できます。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">我々の例では、Wyse-50
		には実際の端末種別を使っていますが、
		<application xmlns:xlink="http://www.w3.org/1999/xlink">Procomm</application> を動かしている
		286 PC は、VT-100
		をエミュレートするように設定します。</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col4">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">4 番目のフィールドは、
		ポートを有効にすべきかどうかを指定します。
		ここに <literal xmlns:xlink="http://www.w3.org/1999/xlink">on</literal> と記入すると、
		<command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> プロセスが
		2 番目のフィールドに記載されているプログラム、
		<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> を起動します。
		このフィールドを <literal xmlns:xlink="http://www.w3.org/1999/xlink">off</literal> にすると、
		<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は動かず、
		そのポートからはログインできません。</para>
	    </callout>

	    <callout arearefs="co-ttys-line1col5">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後のフィールドは、
		そのポートが安全かどうか指定します。
		あるポートが安全だということは、そのポートから
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> (またはその他の UID が 0 の)
		アカウントのログインを許可してよいと信頼しているということです。
		安全でないポートからは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
		のログインは許可されません。安全でないポートでは、
		ユーザは特権を持たないアカウントでログインした後に、
		<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">su</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> や類似の仕組みを使ってスーパユーザ特権を獲得します。</para>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">鍵のかかる部屋にある端末であっても、<quote xmlns:xlink="http://www.w3.org/1999/xlink">insecure</quote>
		にしておくことが強く推奨されます。
		スーパユーザ特権が必要なら、ログインしてから
		<command xmlns:xlink="http://www.w3.org/1999/xlink">su</command> を使うのは十分簡単です。</para>
	    </callout>
	  </calloutlist>
	</example>

      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-hup">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> にファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の再読み込みをさせる</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">必要な変更を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	  ファイルに加えたら、SIGHUP (ハングアップ) シグナルを
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command>
	  プロセスに送って設定ファイルを強制的に再読み込みさせます。
	  たとえば</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP 1</userinput></screen>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> は、システムで最初に起動するプロセスなので、
	    PID は常に 1 です。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">すべての設定が正しくおこなわれ、
	  すべてのケーブルがただしく接続されていて、
	  かつ端末の電源が入っていれば、この時点で各端末で
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> プロセスが動いていて、
	  ログインプロンプトが表示されているはずです。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="term-debug">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">接続のトラブルシューティング</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">細心の注意を払って設定をおこなっても、
	ときには端末の接続がう まくいかない場合があるでしょう。以下に、
	よく見られる問題とその解決方法 を示します。</para>

      <qandaset xmlns:xlink="http://www.w3.org/1999/xlink">
	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインプロンプトが表示されない</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">端末の電源が接続され、
	      スイッチが入っていることを確認してください。もし、PC
	      を端末として利用している場合は、
	      通信ソフトが適切なシリアルポー
	      トを利用する設定になっているかどうか確かめてください。
	    </para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ケーブルがしっかりと端末と
	      FreeBSDが動作しているコンピュータの両方に接続され
	      ていることを確認してください。また、
	      正しい種類のケーブルを利用している
	      か確かめてください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">端末と FreeBSD
	      の間の通信速度とパリティの設定が一致していることを確認
	      してください。
	      出力をモニタに表示するタイプの端末の場合は、モニタ
	      のコントラストと明るさの設定を確認してください。また、
	      出力が印刷 されるタイプの端末の場合は、
	      紙とインクが十分にあるかどうかを確かめてく
	      ださい。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> が動いていて、
	      端末を認識していることを確認してください。
	      たとえば、動作中の <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	      プロセスの一覧を <command xmlns:xlink="http://www.w3.org/1999/xlink">ps</command>
	      で取得するには、以下のように入力してください。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ps -axww|grep getty</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">その端末に対応する項目が表示されるはずです。
	      たとえば、以下の表示例は、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は
	      2 番目のシリアルポート (<literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyd1</literal>)
	      に対して <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> 中の
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">std.38400</literal>
	      エントリを使って動作しているということを示しています。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">22189  d1  Is+    0:00.03 /usr/libexec/getty std.38400 ttyd1</screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	      プロセスが一つも動いていないようであれば、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の中で、
	      そのポートを利用可能にする設定をしたかどうか確かめてください。
	      また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttys</filename>
	      ファイルを変更したら、<command xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP 1</command>
	      を実行するのを忘れないでください。</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインプロンプトの代わりにゴミが表示される</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">端末と FreeBSD
	      の間の通信速度およびパリティの設定が一致していることを確
	      かめてください。また、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	      プロセスの情報を調べて、適切な
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">getty</replaceable>
	      のタイプが使用されていることを確認してください。間違った
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">getty</emphasis>
	      タイプが使用されている場合は、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> を修正し てから、
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP 1</command>
	      を実行してください。</para>
	  </answer>
	</qandaentry>

	<qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <question xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">文字が重複して表示される、入力したパスワードが表示される</para>
	  </question>

	  <answer xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">端末または通信ソフトの設定で、<quote xmlns:xlink="http://www.w3.org/1999/xlink">半二重 (half
	      duplex)</quote> あるいは <quote xmlns:xlink="http://www.w3.org/1999/xlink">ローカ
	      ルエコー</quote> となっているところを、<quote xmlns:xlink="http://www.w3.org/1999/xlink">全二重 (full
	      duplex)</quote> に変更してください。</para>
	  </answer>
	</qandaentry>
      </qandaset>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dialup">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルインサービス</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Guy</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Helmer</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Sean</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kelly</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルインサービス</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 中根 雅文 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">max@FreeBSD.org</email>.<!-- <br> -->
	6 September 1996.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムをダイアルインサービス用に設定することは、
      端末の代わりにモデムを扱うこと以外は、
      端末の接続によく似ています。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">外づけモデムと内蔵モデムについて</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップのサービスに関していえば、
	  外づけのモデムの方が適している ようです。これは、
	  多くの外づけのモデムは設定を不揮発ラムに書き込んで半
	  永久的に保存することができますし、また RS-232
	  に関する重要な情報を知る
	  ための点滅するライトによるインディケータが
	  搭載されているからです。点滅 するライトは、
	  システムを見に来た訪問者に強い印象を与えるという効果だけ
	  でなく、モデムが適切に動作しているかどうかを知るためにも
	  有効です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">一方、たいていの内蔵型のモデムには
	  不揮発性ラムが搭載されていないため、ディップ
	  スイッチの変更以外に設定を保存する方法がありません。また、も
	  しインディケータがついていても、おそらくコンピュータのケース
	  カバーが 外されていなければその状態を確認するのは
	  難しいでしょう。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">モデムとケーブル</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">modem</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">外付けモデムを使用しているなら、
	  それにあったケーブルが必要です。
	  通常の信号が全て接続されている限り、標準的な RS-232C
	  ケーブルで十分でしょう。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Transmitted Data (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SD</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Received Data (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RD</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Request to Send (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RTS</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Clear to Send (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CTS</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Data Set Ready (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DSR</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Data Terminal Ready (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Carrier Detect (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>)</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">Signal Ground (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SG</acronym>)</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で 2400bps 以上の転送速度を利用する場合には、
	  フロー制御のため に <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RTS</acronym> 信号と
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CTS</acronym> 信号が必要です。また、
	  接続の確立と回線の切 断を検出するために
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> 信号を利用します。さらに、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym> 信号を使っ
	  て回線切断後のモデムのリセットを行います。ケーブルの中には、
	  総ての必要 な信号線が接続されていないものもありますので、
	  たとえば、回線切断後でも ログイン
	  セッションが残ってしまうといった問題が発生した場合などには、
	  ケーブルに問題がある可能性もあります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD も他の Unix 系 OS と同様、回線の接続およ
	  び切断の検出や回線の切断および回線切断後の
	  モデムの初期化にハードウェア  シグナルを利用します。FreeBSD
	  は、モデムに対するコマンドの送信やモデ
	  ムの状態の監視を行いません。パソコンで運用されている BBS
	  への接続に慣 れている方にとっては、
	  ちょっとめんどうかもしれませんね。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シリアル インタフェースについて</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では、NS8250-、NS16450-、NS16550- および
	  NS16550A- に基づ いた EIA RS-232C (CCITT V.24)
	  規格のシリアル インタフェースをサポート しています。8250
	  および 16450 ベースのディバイスには1文字のキャラクタ
	  バッファが搭載されています。また、16550 系のディバイスには、
	  16文字分 のバッファが搭載されていて、
	  はるかによいパフォーマンスを得られます (ただし、無印の
	  16550 では、バグがあって 16 文字バッファが利用できませ
	  んので、可能であれば 16550A
	  系のディバイスを利用してください)。1文字 のバッファの物は、
	  16550 系のものと比べて OS にかける負荷が大きいので、16550A
	  系ディバイスの利用を強く推奨します。多数のシリアル
	  ポートを利 用する場合や、負荷の高いシステムにおいては、
	  16550A 系ディバイスを使う ことで、
	  エラー発生率を低く押さえることができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概要</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">getty</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">端末に関しては、
	ダイアルイン接続に割り当てられたそれぞれのシリアルポートに対して、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> が <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	を起動します。たとえば、モデムが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyd0</filename>
	に割り当てられていたら、<command xmlns:xlink="http://www.w3.org/1999/xlink">ps ax</command>
	コマンドを実行すると、以下のような出力が得られるはずです。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"> 4850 ??  I      0:00.09 /usr/libexec/getty V19200 ttyd0</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザがモデムに電話をかけ、モデム同士が接続されると、
	モデムの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> (Carrier Detect) が検出されます。その結果、
	kernel がキャリア信号を検出して、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	によるポートのオープンの処理が終了します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は、<prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	プロンプトを指定されている初期回線速度で送信します。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は、
	正常に文字列を受信できるかどうか監視し、通常の設定では、
	もし異常な文字列を検出した場合 (理由としては、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> の速度とモデ
	ムの接続速度が異なっているような場合が考えられます)、
	正常に文字列が 受信できるまで、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	は速度を変え続けます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/login</command></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザがログイン名を入力すると、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>  は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/login</filename> を起動して、
	パスワードの入力を要求し、その
	後ユーザのシェルを起動します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	のシステムへのダイアルアップによるアクセスを実現するために編集が必要と思われる設定ファイルが、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> ディレクトリに 3 つあります。まず、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> には、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/getty</filename>
	デーモンの設定を記述します。つぎに、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> に保存されている情報から、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/init</filename> はどの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">tty</filename> デバイスに対して
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> のプロセスを実行するべきか判断します。
	最後に、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.serial</filename> スクリプトに、
	シリアルポートの初期化のためのコマンドを記述することができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Unix にダイアルアップモデムを接続する方法には、
	二つの考え方があります。一つの方法は、
	ダイアルインしてくるユーザの接続速度に関係なく、
	常にモデムとローカルのコンピュータの RS-232
	インタフェースの接続速度を一定に保つように設定する方法です。
	この設定の長所は、ユーザがダイアルインして接続されると、
	即座にシステムからのログインプロンプトが送信されるということです。
	短所は、システムが実際のモデム間の速度を知ることができないために、
	Emacs のようなフルスクリーンのプログラムが、
	端末との接続速度が遅い場合でも、
	そのような場合に効果的な方法で画面出力を行わない点です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つは、モデムの RS-232
	インタフェースとコンピュータの接続速度を、
	モデム間の接続速度に応じて変化させるような設定です。たとえば、
	モデム間 の接続が V.32bis (14.4 Kbps) ならば、
	モデムとコンピュータの間の接続を 19.2 Kbps とし、
	モデム間の接続が 2400 bps の時には、モデムとコンピュータ間も
	2400 bps で接続するような設定をします。この場合、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	は、モデムが返すリザルトコードからモデムとコンピュータの接続速度を認識することができませんので、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は、まず初期速度で
	<prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	という文字列を送信して、それに対する応答の文字列を監視します。
	ここで、ユーザ側の端末に無意味な文字列が表示された場合、
	ユーザは意味のある文字列を受信するまで
	<keycode xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycode>
	キーを繰り返し押さなければならないということを知っていると仮定しています。
	もし接続速度が間違っている場合、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は、
	ユーザから送られた文字を無意味な文字列として扱い、
	次の速度を試します。そして、ここで再度 <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	プロンプトを送信します。
	この一連の動作が異常な回数繰り返されることも考えられますが、
	普通は 1 度か 2 度のキー入力があれば、
	ユーザはまともなプロンプトを受信できます。
	このログインの動作が前者の固定速度による方法に比べて美しくないのは明らかですが、
	この方法では、低速度で接続しているユーザに対するフルスクリーンのプログラムからのレスポンスが改善されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションでは、両方の設定方法について解説しますが、
	どちらかというとモデム間の速度に応じて RS-232
	インタフェースの速度が変化するような
	設定の方に偏った説明になってしまうと思います。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename></title>

  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
    <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename></primary>
  </indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  の設定ファイルで、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">termcap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	  と同様の形式で記述されます。ファイルのフォーマットや定
	  義できる機能についての詳細については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	  のマニュアルを
	  ご覧ください。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">固定速度の設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムとコンピュータ間の通信速度を固定して使う場合、
	    おそらく  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	    に特に変更を加える必要はないはずです。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可変速度の設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	    が利用するモデムとコンピュータの接続速度に関する情報を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	    に記述する必要があります。もし、2400 bps のモ
	    デムをお使いになるのであれば、既存の
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">D2400</literal> のエントリがそのまま利
	    用できるでしょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# Fast dialup terminals, 2400/1200/300 rotary (can start either way)
#
D2400|d2400|Fast-Dial-2400:\
        :nx=D1200:tc=2400-baud:
3|D1200|Fast-Dial-1200:\
        :nx=D300:tc=1200-baud:
5|D300|Fast-Dial-300:\
        :nx=D2400:tc=300-baud:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">高速モデムをお使いの場合は、おそらく
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	    に新たなエントリを追加する必要があります。
	    以下の例は、14.4 Kbps のモデムを、
	    最大インタフェース速度を 19.2 Kbps
	    として利用するためのエントリです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# Additions for a V.32bis Modem
#
um|V300|High Speed Modem at 300,8-bit:\
        :nx=V19200:tc=std.300:
un|V1200|High Speed Modem at 1200,8-bit:\
        :nx=V300:tc=std.1200:
uo|V2400|High Speed Modem at 2400,8-bit:\
        :nx=V1200:tc=std.2400:
up|V9600|High Speed Modem at 9600,8-bit:\
        :nx=V2400:tc=std.9600:
uq|V19200|High Speed Modem at 19200,8-bit:\
        :nx=V9600:tc=std.19200:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例を利用した場合、
	    パリティなし、8ビットの接続が行われます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例では、まず 19.2 Kbps (V.32bis)
	    によるモデムとコンピュータ間の接続を試み、続いて 9600 bps
	    (V.32)、2400 bps、1200 bps、300 bpsと順に試み、再び
	    19.2 Kbps による接続を試みるという循環に入ります。
	    この接続速度の循環は、<literal xmlns:xlink="http://www.w3.org/1999/xlink">nx=</literal>(<quote xmlns:xlink="http://www.w3.org/1999/xlink">next
	    table</quote>) の機能で実現されています。また、
	    各行はそれぞれ <literal xmlns:xlink="http://www.w3.org/1999/xlink">tc=</literal>(<quote xmlns:xlink="http://www.w3.org/1999/xlink">table
	    continuation</quote>) の機能を使って、
	    その他の接続速度に依存した <quote xmlns:xlink="http://www.w3.org/1999/xlink">標準的な</quote>
	    設定を取り込んでいます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、お使いのモデムが 28.8 Kbps であったり、14.4 Kbps
	    の圧縮転送の機能を有効に利用したい場合は、19.2 Kbps
	    よりも速い速度を利用するように設定する必要があります。
	    以下に 57.6 Kbps から接続を試みる
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</filename>
	    の設定例を示しておきます。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# Additions for a V.32bis or V.34 Modem
# Starting at 57.6 Kbps
#
vm|VH300|Very High Speed Modem at 300,8-bit:\
        :nx=VH57600:tc=std.300:
vn|VH1200|Very High Speed Modem at 1200,8-bit:\
        :nx=VH300:tc=std.1200:
vo|VH2400|Very High Speed Modem at 2400,8-bit:\
        :nx=VH1200:tc=std.2400:
vp|VH9600|Very High Speed Modem at 9600,8-bit:\
        :nx=VH2400:tc=std.9600:
vq|VH57600|Very High Speed Modem at 57600,8-bit:\
        :nx=VH9600:tc=std.57600:</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、お使いの CPU が低速のものであったり、CPU
	    に対する負荷が高い場合で、16550A
	    系のシリアルポートをお使いでない場合、
	    57.6 Kbps の接続において、<errorname xmlns:xlink="http://www.w3.org/1999/xlink">sio</errorname> の
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">silo</quote> エラーが発生するかもしれません。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dialup-ttys">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename></title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename></primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	  ファイルの設定は、<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ex-etc-ttys"/>
	  で扱われています。
	  モデムの設定も似たようなものですが、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	  に異なる引数を渡して、異なる端末種別を指定しなければなりません。
	  固定速度および可変速度両方に共通する形式は次のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0   "/usr/libexec/getty <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">xxx</replaceable>"   dialup on</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">1 番目の項目は、このエントリで対象とするデバイススペシャルファイルです。
	  上の例では <literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0</literal> として、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttyd0</filename> を <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	  に監視させることを表しています。2 番目の項目
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">"/usr/libexec/getty
	    xxx"</literal>
	  (<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">xxx</replaceable> は初期段階で使われる
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</filename>
	  のエントリに置き換えてください) が、<command xmlns:xlink="http://www.w3.org/1999/xlink">init</command>
	  がこのディバイスに対して起動するプロセスです。3 番目の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">dialup</literal> は、デフォルトのターミナルタイプです。
	  4 番目の <literal xmlns:xlink="http://www.w3.org/1999/xlink">on</literal> は、
	  この行が有効であることを <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command>
	  に対して示しています。5 番目の項目に <literal xmlns:xlink="http://www.w3.org/1999/xlink">secure</literal>
	  を指定することもできますが、これは、
	  たとえばシステムのコンソールのように、
	  物理的に安全な端末に対してのみ指定するようにしてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのターミナルタイプ (上記の例では
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">dialup</literal>)
	  は、ローカルのユーザの好みによって異なってきます。
	  ユーザがログインスクリプトをカスタマイズして、ターミナルタイプが
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">dialup</literal>
	  の時には自動的に他のターミナルタイプを設定できるように、
	  ダイアルアップのポートのデフォルトのターミナルタイプには
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">dialup</literal> が伝統的に用いられています。
	  しかし、筆者のサイトでは、ほとんどのユーザが VT102
	  エミュレーションを使っているので、
	  ダイアルアップのポートのデフォルトターミナルタイプとして
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">vt102</literal> を指定しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の修正がすんだら、
	  以下のようなコマンドを使って
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> プロセスに <acronym xmlns:xlink="http://www.w3.org/1999/xlink">HUP</acronym>
	  シグナルを送り、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	  を読み込み直させてください。

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP 1</userinput></screen>

	  ただ、もし初めてシステムを設定しているのであれば、
	  モデムが適切に設定されて接続されるまでは、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command>
	  に対してシグナルを送らない方がいいかもしれません。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">固定速度の設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">速度を固定する設定では、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
	    の中で、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> に対し
	    て固定速度のエントリを指定する必要があります。たとえば、
	    以下の例はポートのスピードが 19.2 Kbps
	    に固定されたモデムのための <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttys</filename>
	    のエントリです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0   "/usr/libexec/getty std.19200"   dialup on</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムが異なる速度で固定されている場合は、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">std.19200</literal> のかわりに
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">std.speed</literal>
	    を適切な値に置き換えたものにしてください。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	    に挙がっている適切な種類を使うようにしてください。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">可変速度の設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">可変速度の設定では、<filename xmlns:xlink="http://www.w3.org/1999/xlink">ttys</filename>
	    のエントリが、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	    の中の適切な <quote xmlns:xlink="http://www.w3.org/1999/xlink">自動速度調整</quote>
	    の初期設定のエントリを参照していなければな りません。
	    たとえば、もし前述の 19.2 Kbps
	    から接続を試みる可変速度の設定例
	    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">V19200</literal> の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</filename> エントリ)をそのまま
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">ttys</emphasis> に追加したのであれば、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttys</filename>
	    エントリは以下のようになります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0   "/usr/libexec/getty V19200"   dialup on</programlisting>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.serial</filename></title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">rc ファイル</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.serial</filename></secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">V.32、V.32bis または V.34
	  モデムのような高速モデムを利用する場合、ハードウェア
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">RTS/CTS</filename>)
	  フロー制御を行う必要があります。FreeBSD kernel
	  のモデムポートにハードウェアフロー制御のフラグを設定するための
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">stty</command> コマンドを、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.serial</filename> に記述できます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、シリアルポート 1 番
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename>)
	  のダイヤルインおよびダイヤルアウト初期化デバイスに
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">termios</literal> フラグ <varname xmlns:xlink="http://www.w3.org/1999/xlink">crtscts</varname>
	  を設定するには、次の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.serial</filename>
	  に追加するとよいでしょう。</para>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Serial port initial configuration
stty -f /dev/ttyid1 crtscts
stty -f /dev/cuai01 crtscts</programlisting>

      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">モデムの設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、あなたのモデムがパラメータを不揮発ラムに
	保存できるタイプならば、MS-DOS 上の Telix や FreeBSD 上の
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> などのような通信プログラム を使って、
	パラメータを設定してください。<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	が利用する初期速度でモデムに接続して、以下の条件を満たすよ
	うに不揮発ラムの設定を変更してください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">接続時に <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> 信号がオンになる</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">接続時に <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym> がオンになり、
	    <abbrev xmlns:xlink="http://www.w3.org/1999/xlink">DTR</abbrev> オフで回線を切断しモ
	    デムをリセットする。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">送信時フロー制御には <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CTS</acronym> を利用。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">XON/XOFF</acronym>
	    によるフロー制御を行わない。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">受信時のフロー制御は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RTS</acronym> を使用。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Quiet mode (リザルト コードを返さない)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンド エコーを返さない。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらを実現するためのコマンドやディップ
	スイッチの設定に関しては、モ
	デムのマニュアルを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に、USRobotics Sportster の 14,400 bps
	の外づけモデムの設定例を示 しておきます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ATZ
AT&amp;C1&amp;D2&amp;H1&amp;I0&amp;R2&amp;W</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ことのついでに、たとえば、V42.bis や MNP5
	のデータ圧縮を使用するかど
	うかなどのモデムの他の設定について確認、
	調整しておくのもよいかもしれま せん。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、USRobotics Sportster の 14,400 bps
	の外づけモデムでは、以下の ようなディップ
	スイッチの設定も必要です。他のモデムをお使いの方も、以
	下の例を設定の参考にしてください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 1: UP ― DTR 標準</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 2: N/A
	    (リザルトコードを単語形式にするか数値形式にするか)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 3: UP ― リザルトコードを返さない</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 4: DOWN ― コマンドエコーを返さない</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 5: UP ― 自動着信</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 6: UP ― CD 標準</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 7: UP ―
	    不揮発ラムからデフォルト値をロードする</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スイッチ 8: N/A (Smart Mode/Dumb Mode)</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リザルト コードを返さないように設定しておかないと、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> が誤っ て <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	プロンプトをコマンド モードのモデムに送信してしまった場 合に、
	モデムがこの入力をエコーしたり、この入力に対するリザルト
	コード を返してしまったりすることになります。この結果として、
	モデムと  <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	の間で延々と無意味なやりとりが続いてしまう可能性があります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">固定速度の設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">固定速度の設定では、
	  モデムとコンピュータ間の通信速度をモデムとモデム間
	  の接続速度に関係なく、常に一定に保つように、
	  モデムを設定する必要があり ます。USRobotics Sportster の
	  14,400 bps 外づけモデムの場合、以下のコ マンドで、
	  モデムとコンピュータ間の速度が、コマンド送信時の速度に固定さ
	  れます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ATZ
AT&amp;B1&amp;W</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">可変速度の設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">可変速度の設定では、シリアル ポートの速度が、
	  着信速度に応じて変化する ように設定しなければいけません。
	  USRobotics Sporster の 14,400 bps 外 づけモデムの場合、
	  以下のコマンドで、エラー訂正機能を利用した通信の場合 は、
	  コマンドを送信した時の通信速度にシリアル
	  ポートの速度を固定し、エ ラー訂正機能を利用しない接続では、
	  シリアル ポートの速度が変化するよう に設定されます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ATZ
AT&amp;B2&amp;W</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">モデムの設定の確認</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどの高速モデムには、
	  現在の設定をある程度人間にも理解できる形式に
	  して表示させるコマンドがあります。USRobotics Sporster の
	  14,400 bps  外づけモデムの場合は、<command xmlns:xlink="http://www.w3.org/1999/xlink">ATI5</command>
	  コマンドで、現在の不揮発ラムの設定を 表示することができます。
	  さらに、ディップ スイッチの設定も含めた現在の
	  設定を確認するためには、<command xmlns:xlink="http://www.w3.org/1999/xlink">ATZ</command>
	  コマンドを送信してから、<command xmlns:xlink="http://www.w3.org/1999/xlink">ATI4</command>
	  コマンドを送信してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">他のメーカーのモデムをお使いの場合は、
	  モデムのマニュアルで設定値の確認
	  方法を確認してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の手順でダイアル アップ
	モデムの動作を確認することができます。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムの動作確認</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">モデムを FreeBSD システムに接続し、
	  システムをブートします。あなたのモ
	  デムにモデムの状態を確認するためのインジケータがあれば、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym> のイ
	  ンジケータの状態に注目してください。もし、
	  システムのコンソールに  <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	  プロンプトが表示された時に、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym>
	  のインジケータが点灯 すれば、FreeBSD が適切なポートに対して
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> を起動し、モデムへ
	  の着信を待っている状態であることを意味しています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym>
	  のインジケータが点灯しない場合は、システムのコンソールから
	  FreeBSD にログインして、<command xmlns:xlink="http://www.w3.org/1999/xlink">ps ax</command> を実行し、
	  FreeBSD が適切なポートに対して<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	  プロセスを起動しようとしているのかどうか確認してください。
	  プロセスに関する情報の中に、
	  以下のような行が表示されるはずです。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">  114 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd0
  115 ??  I      0:00.10 /usr/libexec/getty V19200 ttyd1</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">モデムにまだ着信がない状態の時に、
	  以下のように上とは異なる出力があった
	  場合、<command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は既にモデム
	  ポートのオープンを終了したということに
	  なります。

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">  114 d0  I      0:00.10 /usr/libexec/getty V19200 ttyd0</screen>

	  <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> は、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
	  (carrier detect) 信号がオンの状態になるまで、
	  ポートのオープンを完了することはできませんので、
	  この場合は接続に問題が
	  あるか、あるいはモデムの設定に問題があることが考えられます。
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、期待した
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ttydN</filename>
	  ポートをオープンしようとしている
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> が見あたらない場合は、再度
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の内容を確認し、
	  書式などに誤りがないか 調べてみてください。また、ログ
	  ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/messages</filename> に
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">init</command> および <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command>
	  から何か出力がないかどうかも確認してみてく ださい。
	  もし何かメッセージが記録されていたら、再度
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename> の二つの設定ファイルと、
	  ディバイス スペシャルファイル
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/ttydN</filename> を確認し、
	  記述に誤りがないか、足りないエントリがないか、
	  足りないディバイス スペシャルファイルがないかといった
	  点について調べてみてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">モデムで接続してみる</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">実際にモデムを使って別のコンピュータから
	  接続してみてください。この時、8 ビット、パリティなし、
	  1 ストップビットで接続するようにしてください。
	  接続後すぐにプロンプトが返ってこない場合や、
	  無意味な文字列が表示される 場合は、1秒に1回くらいの割合で
	  <keycode xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycode> キーを押してみてください。
	  しばらくたって、なおも <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	  プロンプトが現れない場合 は、<command xmlns:xlink="http://www.w3.org/1999/xlink">BREAK</command>
	  信号を送信してみてください。この時、端末側で使って
	  いるモデムが高速モデムならば、
	  このモデムのインタフェースの接続速度を固 定してから、
	  再度ダイアル インしてみてください。(たとえば、USRobotics
	  Sportster の場合は、<command xmlns:xlink="http://www.w3.org/1999/xlink">AT&amp;B1</command>)</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それでもまだ <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt>
	  プロンプトが表示されない場合は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	  の以下の点について再度確認してみてください。</para>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> の対応する行の
	      2番目の項目で、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	      の中で定義されているエントリが指定されているか</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">各 <literal xmlns:xlink="http://www.w3.org/1999/xlink">nx=</literal> で
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	      の中で定義されているもの が指定されているか</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">各 <literal xmlns:xlink="http://www.w3.org/1999/xlink">tc=</literal> で
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gettytab</filename>
	      の中で定義されているもの が指定されているか</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もしダイアル インしても、FreeBSD
	  システム側のモデムが応答しない場合は、FreeBSD 側のモデムが
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym>
	  がオンになった時に電話にでるように設定さ
	  れているかを確認してください。
	  もしモデムの設定に問題がなさそうならば、
	  モデムのインジケータ (がもしあれば) で、
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym> がオンになっているか
	  を確認してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この確認のステップを数回繰り返しても
	  うまくいかない場合は、一度休憩して、
	  しばらくたってから挑戦してみましょう。それでもだめなら、
	  おそらく <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions">FreeBSD general questions メーリングリスト</link>
	  にあなたのモデムについての情報と問題を書いたメールを送れ ば、
	  メーリング
	  リストのメンバーが問題の解決を助けるべく努力してくれる
	  でしょう。</para>
      </sect3>
    </sect2>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dialout">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアウトサービス</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアウトサービス</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 丸山 剛司 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">tmaruya@nnc.or.jp</email>.<!-- <br> -->
	31 December 1996.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下はモデムを利用して他のコンピュータと
      接続する方法を説明しています。
      これはリモートホストとターミナル接続を確立するための
      適切な方法です。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは BBS に接続するときによく使います。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この種の接続は PPP 接続に問題がある場合、Internet
      上にあるファイルを 転送するのに非常に役に立ちます。FTP
      で何らかのファイルを転送したいのに  PPP
      接続を確立できない場合は、ファイルを FTP
      転送するためにターミナルセッション を利用します。そして ZMODEM
      を利用してファイルを転送します。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">私の Hayes モデムはサポートされていません、
	どうすればよいでしょう?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">実際、<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> の
	マニュアルページは古くなっています。既に Hayes
	ダイアラが組み込まれています。<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
	ファイル中で <literal xmlns:xlink="http://www.w3.org/1999/xlink">at=hayes</literal>
	を使ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Hayes ドライバは、最近のモデムの新しい機能である
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">BUSY</literal>、<literal xmlns:xlink="http://www.w3.org/1999/xlink">NO DIALTONE</literal>、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">CONNECT 115200</literal>などのメッセージを
	認識できるほど賢くはなく、単に混乱を起こすだけです。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command>を使う場合には、
	(<command xmlns:xlink="http://www.w3.org/1999/xlink">ATX0&amp;W</command> とするなどして) これらの
	メッセージを表示させないようにしなくてはいけません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また、<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> のダイアルのタイムアウトは
	60秒です。モデムの タイムアウト設定はそれより短くすべきであり、
	そうしないと  <command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command>
	は通信に問題があると判断するでしょう。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ATS7=45&amp;W</command>  を実行してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの <command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> は、
	  Hayes モデムに完全に対応しているわけではありません。解決方法は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/usr.bin/tip/tip</filename> の下の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">tipconf.h</filename> を変更することです。
	  もちろんこれにはソース配布ファイルが必要です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">#define HAYES 0</literal> と記述されている行を
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">#define HAYES 1</literal> と変更し、そして
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">make</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">make install</command>
	  を実行します。これでうまく動作するでしょう。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="direct-at">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">これらの AT コマンドを入力するには?</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename> ファイルの中で
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">direct</quote> エントリを作ります。たとえばモデムが
	1番目のシリアルポートである <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa0</filename>
	に接続されている場合、次のようにします:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cuaa0:dv=/dev/cuaa0:br#19200:pa=none</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムがサポートする最大の bps レートを br
	フィールドに使います。そして <command xmlns:xlink="http://www.w3.org/1999/xlink">tip cuaa0</command>
	を実行すると、モデムが利用できるようになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa0</filename>
	がシステムに存在しない場合は、次のようにします:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh MAKEDEV cuaa0</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">または <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> になって以下のように
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cu</command> コマンドを実行します:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cu -lline -sspeed</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">line</replaceable>
	にはシリアルポートを指定します (例えば
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa0</filename>)。そして
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">speed</replaceable> には接続する速度を指定します
	(例えば <literal xmlns:xlink="http://www.w3.org/1999/xlink">57600</literal>)。その後 AT
	コマンドを実行したら、<keycap xmlns:xlink="http://www.w3.org/1999/xlink">~.</keycap>
	と入力すれば終了します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">pn 機能の <literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> 記号が使えません!</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">電話番号 (pn) 機能の中での <literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> 記号は、
	tip に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/phone</filename>
	にある電話番号を参照するように伝えます。しかし
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> の文字は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
	のような 設定ファイルの中では特殊文字となります。
	バックスラッシュを使ってエスケープをおこないます:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pn=\@</programlisting>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインから電話番号を指定するには?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">generic</quote> エントリと呼ばれるものを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename> に追加します。
	例えば次のようにします:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">tip115200|Dial any phone number at 115200 bps:\
	    :dv=/dev/cuaa0:br#115200:at=hayes:pa=none:du:
tip57600|Dial any phone number at 57600bps:\
	    :dv=/dev/cuaa0:br#57600:at=hayes:pa=none:du:</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして </para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">tip -115200 5551234</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">のように利用できます。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> より <command xmlns:xlink="http://www.w3.org/1999/xlink">cu</command> を使いたい場合、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">cu</literal> の generic エントリを使います。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cu115200|Use cu to dial any number at 115200bps:\
	:dv=/dev/cuaa1:br#57600:at=hayes:pa=none:du:</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cu 5551234 -s 115200</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"> と実行します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">毎回 bps レートを入力しなければいけませんか?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">tip1200</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">cu1200</literal>
	用のエントリを記述し、適切な通信速度を br
	フィールドに設定します。<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> は 1200 bps
	が正しいデフォルト値であるとみなすので、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">tip1200</literal> エントリを参照します。もちろん 1200
	bps  を使わなければならないわけではありません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ターミナルサーバを経由して複数のホストへアクセスしたいです</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">毎回接続されるのを待って
	<command xmlns:xlink="http://www.w3.org/1999/xlink">CONNECT &lt;host&gt;</command> と入力する
	かわりに、tip の <literal xmlns:xlink="http://www.w3.org/1999/xlink">cm</literal> 機能を使います。
	例えば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
	に次のようなエントリを追加します:

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pain|pain.deep13.com|Forrester's machine:\
	:cm=CONNECT pain\n:tc=deep13:
muffin|muffin.deep13.com|Frank's machine:\
	:cm=CONNECT muffin\n:tc=deep13:
deep13:Gizmonics Institute terminal server:\
	:dv=/dev/cuaa2:br#38400:at=hayes:du:pa=none:pn=5551234:</programlisting>

	これで、<command xmlns:xlink="http://www.w3.org/1999/xlink">tip pain</command> や
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip muffin</command> と実行すると
	pain や muffin のホストに接続することができ、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip deep13</command>
	を実行するとターミナルサーバに接続します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">tip を使ってそれぞれのサイトの
	複数の回線に接続できますか?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは大学に電話回線がいくつかあって
	数千人の学生が接続しようとする 場合によくある問題です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの大学のエントリを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/remote</filename>
	ファイルに作成して、<literal xmlns:xlink="http://www.w3.org/1999/xlink">pn</literal> のフィールドには
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> を使います:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">big-university:\
	:pn=\@:tc=dialout
dialout:\
	:dv=/dev/cuaa3:br#9600:at=courier:du:pa=none:</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/phone</filename>
	ファイルに大学の電話番号の一覧を書きます:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">big-university 5551111
big-university 5551112
big-university 5551113
big-university 5551114</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> は一連の電話番号を試みて、
	最終的に接続できなければあきらめます。
	リトライを続けさせたい場合は、<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> を while
	ループに入れて 実行します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">P</keycap>
	</keycombo>
	を 1 回送るために
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">P</keycap>
	</keycombo>
	を 2 度押す必要があるのはなぜ?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">P</keycap></keycombo>
	はデフォルトの <quote xmlns:xlink="http://www.w3.org/1999/xlink">force (強制)</quote> 文字であり、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> に次の文字が
	リテラルデータであることを伝えます。force
	文字は <quote xmlns:xlink="http://www.w3.org/1999/xlink">変数の設定</quote> を意味する
	<command xmlns:xlink="http://www.w3.org/1999/xlink">~s</command>
	エスケープによって他の文字にすることができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">
	  ~sforce=single-char</command>
	と入力して改行します。<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">single-char</replaceable>
	は、任意の 1 バイト文字です。
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">single-char</replaceable> を省略すると NUL
	文字になり、これは
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">2</keycap>
	</keycombo>
	や
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Space</keycap>
	</keycombo>
	を押しても入力できます。また、
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">single-char</replaceable> に
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Shift</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">6</keycap>
	</keycombo>
	を割り当てる方法を使っているターミナルサーバもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">$HOME/.tiprc</filename>
	に次のように定義することで、任意の文字を force
	文字として利用できます:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">force=&lt;single-char&gt;</programlisting>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">打ち込んだ文字が突然すべて大文字になりました??</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap>
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap>
	</keycombo>
	を押してしまい、caps-lock
	キーが壊れている場合のために設計された  <command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command>
	の <quote xmlns:xlink="http://www.w3.org/1999/xlink">raise character</quote> モードに入ったのでしょう。
	既に述べたように <command xmlns:xlink="http://www.w3.org/1999/xlink">~s</command> を使って、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">raisechar</literal> をより適切な値に
	変更してください。もしこれら両方の機能を使用しないのであれば、
	force 文字と同じ設定にすることもできます。</para>

      <!-- kuriyama - file tiprc /file -->
      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">2</keycap>
	</keycombo>
	や
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">A</keycap>
	</keycombo>
	などを頻繁に使う必要のある
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Emacs</application>
	ユーザにうってつけの .tiprc ファイルのサンプルです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">force=^^
raisechar=^^</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">^^ は
	<keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul">
	  <keycap xmlns:xlink="http://www.w3.org/1999/xlink">Shift</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">6</keycap>
	</keycombo>
	です。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> でファイルを転送するには?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし他の Unix のシステムと接続しているなら、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">~p</command>(put) や  <command xmlns:xlink="http://www.w3.org/1999/xlink">~t</command>(take)
	でファイルの送受信ができます。これらのコマンドは
	相手のシステムの上で <command xmlns:xlink="http://www.w3.org/1999/xlink">cat</command> や
	<command xmlns:xlink="http://www.w3.org/1999/xlink">echo</command> を実行することで 送受信をします。
	書式は以下のようになります:</para>

      <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	<command xmlns:xlink="http://www.w3.org/1999/xlink">~p</command>
	<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">ローカルのファイル名</arg>
	<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="opt">リモートのファイル名</arg>
      </cmdsynopsis>
      <cmdsynopsis xmlns:xlink="http://www.w3.org/1999/xlink">
	<command xmlns:xlink="http://www.w3.org/1999/xlink">~t</command>
	<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="plain">リモートのファイル名</arg>
	<arg xmlns:xlink="http://www.w3.org/1999/xlink" choice="opt">ローカルのファイル名</arg>
      </cmdsynopsis>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法ではエラーチェックをおこないませんので、zmodem
	などの他のプロトコルを使った方がよいでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tip</command> から zmodem を実行するには?</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを受信するには、
	リモート側で送信プログラムを起動します。そして <command xmlns:xlink="http://www.w3.org/1999/xlink">~C
	  rz</command> と入力すると、ローカル側へのファイルの受信が
	始まります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルを送信するには、
	リモート側で受信プログラムを起動します。そして <command xmlns:xlink="http://www.w3.org/1999/xlink">~C sz
	  files</command> と入力すると、
	リモート側への ファイルの送信が始まります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-setup">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールの設定</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Kazutaka</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">YOKOTA</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Bill</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Paul</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
    </info>
    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソール</primary></indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">導入</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は、
	コンソールとしてシリアルポート上のダム端末しか持たないシステムでも起動します。
	この様な構成はきっと次のような二種類の人達に便利でしょう。それは、
	キーボードやモニタのないマシンに
	FreeBSD をインストールしたいシステム管理者と、
	カーネルやデバイスドライバをデバッグしたい開発者です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="boot"/> で説明されているように、
	FreeBSD は 3 ステージ構成のブートストラップを用いています。
	最初の 2 つのステージは、
	ブートディスクにある FreeBSD スライスの最初に格納されている、
	ブートブロックのコードが行います。
	それからブートブロックは、第 3 ステージのコードとしてブートローダ
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader</filename>) を読み込み、実行します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールを設定するためには、ブートブロックコード、
	ブートローダコード、カーネルを設定する必要があります。</para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-howto">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールの設定</title>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルケーブルを用意してください。</para>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ヌルモデムケーブル、
	    もしくは標準シリアルケーブルとヌルモデムアダプタが必要となります。
	    シリアルケーブルについては <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="serial-cables-ports"/>
	    をご覧ください。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">キーボードをはずして下さい。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">たいていの PC システムは Power-On Self-Test (POST)
	    の間にキーボードを検出し、もし見つからなければエラーと
	    なります。また、キーボードがないことを大きな音で知らせ、
	    キーボードが接続されるまでは起動を中断するようなマシンもあります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータがエラーを表示していても、
	    とにかく起動するなら特別な対応は必要ありません
	    (Phoenix BIOS を搭載しているマシンには、
	    <errorname xmlns:xlink="http://www.w3.org/1999/xlink">Keyboard failed</errorname>
	    と表示されても、正常に起動するものがあります)。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのコンピュータがキーボードを接続していない状態で
	    起動しないようなら、(もし可能ならば) エラーを無視するように
	    BIOS を設定する必要があります。設定方法の詳細については、
	    マザーボードのマニュアルを調べてください。</para>

	  <tip xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">BIOS の設定でキーボードを <quote xmlns:xlink="http://www.w3.org/1999/xlink">Not installed</quote>
	      にするということは、キーボードを使えないということを
	      意味しているわけでは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。これは、BIOS
	      がキーボードがなくても文句を言わないように、電源投入時には
	      キーボードを探すな、と指示するだけです。このフラグを
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">Not installed</quote> にしていてもキーボードを
	      接続したままにできますし、ちゃんと動作します。</para>
	  </tip>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのシステムが PS/2 マウスを使っているなら、
	      おそらくマウスもキーボード同様にはずす必要があるでしょう。
	      というのは、PS/2 マウスは部分的にキーボードとハードウェアを
	      共有しており、マウスを接続したままにしていると、
	      キーボードも存在する、と誤って検出してしまう可能性があるからです。
	      AMI BIOS を持つ Gateway 2000 Pentium 90MHz システム
	      はこれに該当すると言われています。
	      一般的にこれは問題ではありません。なぜなら、どっちにしても
	      マウスはキーボードなしではたいして役に立たないからです。</para>
	  </note>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename>)
	    にダム端末を接続してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ダム端末がなければ、かわりに古い PC/XT でモデム
	    プログラムを走らせて使ったり、シリアルポートに他の Unix
	    マシンを繋いだりできます。もしも <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename>) がなければ、作成してください。
	    今のところ、<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> 以外のポートを
	    選択するためにはブートブロックの再コンパイルが必要です。
	    すでに <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> を他の装置に
	    使っていた場合は、一時的にその装置をはずして
	    いったん FreeBSD がうまく動作してから、
	    新しいブートブロックとカーネルをインストールしてください。
	    (上記はとにかくファイル/演算/端末サーバの
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> が利用可能であると仮定して
	    います。あなたが本当に何かのために
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> が必要 (で、なおかつその何かを
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio1</filename>)
	    に付け替えることができない) ならば、多分、そもそも
	    悩んでる場合ではありません。)</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグファイルの <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename>) に適切なフラグを
	    設定していることを確認してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">関連するフラグ:</para>

	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">0x10</literal></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">このポートのコンソールサポートを有効にします。
		  このフラグが設定されない場合、他のフラグは無視されます。
		  現在のところ、一つのポートしかコンソールサポートを有効に
		  できません。(config ファイルに書かれた順番で) 最初にこのフラグを
		  指定されたポートが選択されます。
		  なお、このオプションを指定するだけでシリアルポートが
		  コンソールとして使えるわけではありません。
		  このフラグと一緒に、以下のフラグも指定するかもしくは
		  <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションも使ってください。</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">0x20</literal></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">後述される <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプション
		  を無視して、(他に優先度の高いコンソールがない限り)
	          このポートをコンソールとして指定します。
		  このフラグは FreeBSD バージョン
		  2.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">X</replaceable> の
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">COMCONSOLE</literal> オプションに対応するものです。
		  フラグ <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x20</literal> は必ず
		  フラグ <option xmlns:xlink="http://www.w3.org/1999/xlink">0x10</option> と一緒に指定されなければなりません。</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">0x40</literal></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">(<literal xmlns:xlink="http://www.w3.org/1999/xlink">0x10</literal> と組み合わせることで)
		  このポートを予約し、通常のアクセスができない
		  ようにします。
		  このフラグは、シリアルコンソールとして使いたいポートに
		  指定すべきではありません。
		  唯一の使い道は、ユニットがカーネルのリモートデバッグ用
		  であることを指定することです。
		  リモートデバッグの詳細については
	          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../developers-handbook/index.html">The
		  Developer's Handbook</link> を参照してください。</para>

		<note xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.0 以降では、
		    フラグ <literal xmlns:xlink="http://www.w3.org/1999/xlink">0x40</literal> の意味が若干異なり、
		    シリアルポートにリモートデバッグを指定するためには、
		    別のフラグを使います。</para>
		</note>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">例:</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sio0 at isa? port "IO_COM1" tty flags 0x10 irq 4</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    のマニュアルを参照してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もしこれらのフラグがセットされていなければ、(別のコンソールで)
	    UserConfig を実行するか、
	    カーネルを再コンパイルする必要があります。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ブートドライブの <literal xmlns:xlink="http://www.w3.org/1999/xlink">a</literal> パーティションの
	    ルートディレクトリに <filename xmlns:xlink="http://www.w3.org/1999/xlink">boot.config</filename>
	    を作成してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルは、ブートブロックコードに対してどのように
	    システムを起動したいかを教えます。
	    シリアルコンソールを活かすためには、以下のオプションを幾つか
	    ― 複数の場合も一行で、設定する必要があります:</para>

	  <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">内蔵コンソールとシリアルコンソールの切替えを行います。
		  これを使用してコンソールデバイスを変更できます。
		  例えば、内蔵 (ビデオ) コンソールからブートした場合、
		  カーネルとブートローダがコンソールデバイスとして
		  シリアルポートを使用するようにするため、
		  <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> を使って指示できます。
		  反対に、シリアルポートからブートした場合、
		  ブートローダとカーネルがコンソールとして代わりに
		  ビデオディスプレイを使用するようにするため、
		  <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> を使用できます。</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">シングルとデュアルのコンソール設定を切り替えます。
		  シングル設定では、上記の <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>
		  オプションの状態によって、コンソールは内蔵コンソール
		  (ビデオディスプレイ)かシリアルポートのいずれかになります。
		  デュアルコンソール設定では、ビデオディスプレイと
		  シリアルポートの両方が、<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>
		  オプションの状態によらず、同時にコンソールになります。
		  しかし、デュアルコンソール設定は、ブートブロックが
		  実行されている間でしか効果を持ちません。
		  一旦ブートローダに制御が移ると、<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>
		  オプションによって指定されたコンソールが
		  唯一のコンソールになります。</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <term xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option></term>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">ブートブロックがキーボードを検出するようにします。
		  キーボードが発見できなかった場合には、
		  <option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option> と <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>
	          オプションが自動的にセットされます。</para>

		<note xmlns:xlink="http://www.w3.org/1999/xlink">
		  <para xmlns:xlink="http://www.w3.org/1999/xlink">現バージョンのブートブロックでは容量の制限により、
		    <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションは拡張キーボードしか
		    検出できません。キーが 101 個より少ない (そして F11
		    と F12 がない) キーボードは検出されない可能性があります。
		    この制限から、いくつかのラップトップコンピュータの
		    キーボードは正しく検出されないでしょう。
		    もし、あなたのシステムがこのようなキーボードを使っているのであれば、
		    <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションを外してください。
		    残念ながら、この問題の回避策はありません。</para>
		</note>
	      </listitem>
	    </varlistentry>
	  </variablelist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションを使ってコンソールを
	    自動的に選ぶか、<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションを使って
	    シリアルコンソールを有効にしてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">boot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> で説明されている他のオプションも使う
	    ことができます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> 以外のオプションはブートローダ
	    (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader</filename>) に渡されます。
	    ブートローダは、<option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションだけの状態を
	    調べることで内蔵ビデオとシリアルポートのどちらがコンソールに
	    なるのか決めます。
	    つまり、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename> の中で
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option> オプションを指定して
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションを指定しなかった場合、
	    ブートブロック実行中でのみシリアルポートをコンソールとして
	    使うことができます。ブートローダは内蔵ビデオディスプレイを
	    コンソールとして使います。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">マシンを起動する。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を起動したとき、ブートブロックは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename> の内容をコンソールに表示
	    します。例えば、</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config: -P
Keyboard: no</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">行の二番目は、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename> にオプション
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> が指定してあるときだけ表示され、
	    キーボードが存在するかどうかを表します。
	    これらのメッセージは、シリアルか内蔵のいずれか、
	    あるいはその両方のコンソールに表示されます。
	    どちらに表示されるかは、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename> の設定によって変わります。</para>

	  <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	    <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	      <thead xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">オプション指定</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">メッセージの表示される場所</entry>
		</row>
	      </thead>

	      <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">なし</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアルと内蔵の両方</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-Dh</option></entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアルと内蔵の両方</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在する場合</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		</row>

		<row xmlns:xlink="http://www.w3.org/1999/xlink">
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在しない場合</entry>
		  <entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		</row>
	      </tbody>
	    </tgroup>
	  </informaltable>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このメッセージが表示された後、
	    ブートブロックがブートローダのロードを再開し、
	    他の全てのメッセージがコンソールに表示されるまで、
	    若干時間がかかります。通常の環境では、ブートブロックに
	    割り込みをかける必要はありませんが、
	    ちゃんとセットアップされているかどうか確かめるために、
	    割り込みをかけることができるようになっています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ブートプロセスに割り込みをかけるには、
	    コンソールの (<keycode xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycode> 以外の)
	    キーをたたいて下さい。
	    ブートブロックはその時、操作を指定するためのプロンプトを表示します。
	    こんな風に表示されるでしょう。
	  </para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">&gt;&gt; FreeBSD/i386 BOOT
Default: 0:wd(0,a)/boot/loader
boot:</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上に示したメッセージが、シリアルか内蔵、
	    あるいはその両方といった、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config</filename>
	    で指定したとおりのコンソールに表示されることを確認して下さい。
	    メッセージが正しいコンソールに表示されたら、
	    <keycode xmlns:xlink="http://www.w3.org/1999/xlink">Enter</keycode>
	    キーを押してブートプロセスを継続してください。
	  </para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、シリアルコンソールを利用するように設定しているのに
	    シリアル端末にプロンプトが出てこない場合は、
	    設定のどこかに間違いがあります。
	    ブートブロック(とブートローダ、カーネル)に対して
	    シリアルポートをコンソールに使うことを伝えるため、
	    割り込みをかけた時に <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> を入力し、
	    (可能ならば) Enter/Return キーを押して下さい。そして、
	    一度システムを起動させてから、どこが悪いのかをチェックして下さい。</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダがロードされ、ブートプロセスの第三ステージに
      いる時には、まだ内蔵コンソールとシリアルコンソールを切り替えることができます。
      それにはブートローダの環境変数を適切に設定すれは良いのですが、
      詳細については <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="serialconsole-loader"/> を参照してください。</para>
    </sect2>

  <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-summary">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">まとめ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションで扱ったさまざまな設定と、
	最終的に選択されるコンソールに関するまとめです。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Case 1: <filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename> の
	  flags に 0x10 をセットした場合</title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sio0 at isa? port "IO_COM1" tty flags 0x10 irq 4</programlisting>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config 内のオプション</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ブートブロック実行中のコンソール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダ実行中のコンソール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコンソール</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">なし</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-Dh</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在する場合</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在しない場合</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">Case 2:  sio0 の flags に 0x30 をセットした場合</title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sio0 at isa? port "IO_COM1" tty flags 0x30 irq 4</programlisting>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">/boot.config 内のオプション</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ブートブロック実行中のコンソール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダ実行中のコンソール</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコンソール</entry>
	      </row>
	    </thead>

	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">なし</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-D</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-Dh</option></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在する場合</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>

	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
		<entry xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option>、キーボードが存在しない場合</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">内蔵、シリアルの両方</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">シリアル</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-tips">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールを利用する上で役に立つ情報</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートの通信速度をもっと速いものに設定するには</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのシリアルポート通信速度は、9600 ボー、
	  8 ビット、パリティなし、ストップビット 1 です。
	  通信速度を変更したい場合には、少なくとも
	  ブートブロックの再コンパイルが必要になります。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> に次のような行を追加して、
	  新しくブートブロックをコンパイルして下さい。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BOOT_COMCONSOLE_SPEED=19200</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、シリアルコンソールがブート時の <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option>
	  オプション以外の方法で設定されていたり、
	  カーネルが利用するシリアルコンソールが
	  ブートブロック実行中のものと異なる場合には、
	  カーネルコンフィグレーションファイルに次のオプションを追加して、
	  新しくカーネルをコンパイルしなければなりません。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options CONSPEED=19200</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-com2">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename> 以外のシリアルポートを
	  コンソールとして使うには</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename>
	  以外のポートをコンソールとして使うには、再コンパイルが必要です。
	  それがどんな理由であれ、他のポートを使用する場合には
	  ブートブロック、ブートローダ、カーネルを
	  次のようにして再コンパイルして下さい。</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルソースを取得する (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="updating-upgrading"/>
	      をご覧ください)。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> を編集し、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">BOOT_COMCONSOLE_PORT</literal> に
	      使用したいポートのアドレス(0x3F8、0x2F8、0x3E8 or 0x2E8)を
	      設定してください。使用可能なのは
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename> から
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">sio3</filename> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>
	      から <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM4</filename>) までで、
	      マルチポートシリアルカードは使えません。
	      また、ここで割り込みの設定をする必要はありません。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">設定を変更するために新たなカーネルコンフィグレーションファイルを作成し、
	      使いたいシリアルポートのフラグを適切に設定します。
	      例えば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">sio1</filename>
	      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename>) をコンソールにしたければ、</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sio1 at isa? port "IO_COM2" tty flags 0x10 irq 3</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">または、</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device sio1 at isa? port "IO_COM2" tty flags 0x30 irq 3</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">とします。その際、
	    他のシリアルポートにコンソールフラグをつけてはいけません。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ブートブロックを再コンパイルし、インストールする。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /sys/boot/i386/boot2</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput></screen>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダを再コンパイルし、インストールする。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /sys/boot/i386/loader</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput></screen>
	</step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルを再構築し、インストールする。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">disklabel</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      を使ってブートブロックをブートディスクに書き込み、
	      新しいカーネルから起動する。</para>
	  </step>
	</procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポートから DDB デバッガを起動するには</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールからカーネルデバッガを起動したい(これは
	  リモートで診断する際に便利ですが、もしおかしな BREAK
	  信号がシリアルポートに送られるような場合には危険です!)
	  場合には、次のオプションを使ってカーネルをコンパイルして下さい。
	</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options BREAK_TO_DEBUGGER
options DDB</programlisting>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールにログインプロンプトを表示させるには</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールからブートメッセージを確認したり、
	  シリアルコンソールを経由してカーネルデバッグセッションに入ることが
	  できるので、これは必要がないかもしれませんが、
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">login</emphasis> プロンプトをシリアルポートに
	  出力するように設定することもできます。
	  これには、次のようにします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">エディタで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> というファイルを開き、
	  次に示す行に移動して下さい。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0 "/usr/libexec/getty std.9600" unknown off secure
ttyd1 "/usr/libexec/getty std.9600" unknown off secure
ttyd2 "/usr/libexec/getty std.9600" unknown off secure
ttyd3 "/usr/libexec/getty std.9600" unknown off secure</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0</literal> から
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyd3</literal> は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename> から
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM4</filename> に対応しています。
	  設定したいポートの <literal xmlns:xlink="http://www.w3.org/1999/xlink">off</literal> を
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">on</literal> に変更して下さい。
	  また、もしシリアルポートの通信速度を変更しているなら、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">std.9600</literal> が実際の通信速度になるように、
	  例えば <literal xmlns:xlink="http://www.w3.org/1999/xlink">std.19200</literal> のように変更して下さい。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、実際のシリアル端末に合わせて、
	  端末タイプを <literal xmlns:xlink="http://www.w3.org/1999/xlink">unknown</literal> から変更することも可能です。
	</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルの編集が終了したら、
	  変更を有効化するために <command xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP 1</command>
	  を実行しなければなりません。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-loader">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダからコンソールを変更するには</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前セクションは、ブートブロックの設定を変更することでシリアルコンソールを
	セットアップする方法について解説していました。
	このセクションでは、ブートローダへのコマンド入力と環境変数設定で
	コンソールの指定を行なう方法を紹介します。
	ブートローダがブートブロックの後、
	ブートプロセスの第三ステージで呼び出されたとき、
	ブートローダの設定には、ブートブロックの設定がそのまま使われます。
	</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールをセットアップする</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブートローダとカーネルに対して
	  シリアルコンソールを使用するように設定するには、
	  単に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.rc</filename>
	  のファイルに、次のような一行を書くだけで実現できます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">set console=comconsole</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは、前セクションで扱ったブートブロックの設定に
	  全く関係なく機能します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上に示した行は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.rc</filename>
	  の最初の行に書き込まなくてはいけません。
	  これはできるだけ早く、ブートメッセージをシリアルコンソールに
	  出力させるために必要なことです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">同様にして、次のように内蔵コンソールを指定することもできます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">set console=vidconsole</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし、ブートローダの環境変数
	  <envar xmlns:xlink="http://www.w3.org/1999/xlink">console</envar> が設定されていない場合、
	  ブートローダ、そしてその次に起動するカーネルは
	  ブートブロックで指定された <option xmlns:xlink="http://www.w3.org/1999/xlink">-h</option> オプションに
	  示されたコンソールを使用します。
	  </para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">3.2 以降のバージョンにおいては
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.rc</filename> ではなく、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf.local</filename> や
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	  にコンソール指定を書き込みます。
	  その場合、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.rc</filename>
	  は次のようになっていなければなりません。
	  </para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">include /boot/loader.4th
start</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それから、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf.local</filename>
	  を作成して、次の行をそこに追加して下さい。
	</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">console=comconsole</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">か、もしくは</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">console=vidconsole</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">です。詳細については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">loader.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照して下さい。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その際、ブートローダはオプション指定なし
	  (ブートブロックに <option xmlns:xlink="http://www.w3.org/1999/xlink">-P</option> オプションが指定されたのと等価)になり、
	  キーボードの存在を調べて
	  内蔵コンソールとシリアルコンソールを自動的に選択する機能は働きません。</para>
	</note>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename> 以外のシリアルポートを
	  コンソールとして使うには</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">sio0</filename> 以外のシリアルポートを
	  コンソールとして使うには、ブートローダを再コンパイルする必要があります。
	  それには、
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="serialconsole-com2"/> に書かれている説明にしたがって下さい。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="serialconsole-caveats">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">注意</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルコンソールというアイデアは、
	グラフィック出力用のハードウェアやキーボードが接続されていない
	専用サーバのセットアップを可能にするためのものです。
	ほとんどのシステムはキーボードなしで起動できますが、
	不幸にも、グラフィックアダプタなしでは起動できないシステムはたくさんあります。
	AMI BIOS を採用しているマシンでは、CMOS 設定の
	`graphics adapter' を `Not Installed'
	にするだけで、
	グラフィックアダプタがなくとも起動できるように設定することができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、多くのマシンはこのようなオプションを持っていませんし、
	ディスプレイハードウェアがシステムに存在しないと起動しないように
	なっています。そのようなマシンでは、
	モニタを接続する必要がなかったとしても、
	適当なグラフィックカード(モノクロのジャンク品でも構いません)を
	挿入したままにしておく必要があるでしょう。
	また、AMI BIOS をインストールする、という手もあります。</para>
    </sect2>
  </sect1>

</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.31
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="ppp-and-slip">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">PPP と SLIP</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">改訂: Jim Mock,
      2000 年 3 月 1 日.</emphasis></para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたがモデムを使ってインターネットに接続したり,
      他の人々に FreeBSD によるインターネットへのダイヤルアップ接続を
      提供しようとしているのでしたら, PPP または SLIP
      接続を選択することができます.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では 3 種類の PPP について説明しています.
      それは <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ</emphasis>, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</emphasis>, そして
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">PPPoE</emphasis> (PPP オーバイーサネット) です.  また
      SLIP のクライアントとサーバの設定についても記述しています.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最初に説明するのは, ユーザ PPP です.  ユーザ PPP は FreeBSD
      に 2.0.5-RELEASE の時に, 既に存在していたカーネル実装の PPP
      に加えて導入されました.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ PPP とカーネル PPP の主な違いは何かと疑問に思われるかも
      知れませんが, その答えは簡単です.  ユーザ PPP はデーモンとしては実行されず
      必要に応じて実行されるのです.  PPP インタフェイスを組み込んだカーネルは
      必要ではなく, ユーザプロセスとして実行されカーネルとのデータの
      やり取りにはトンネルデバイスドライバ (<filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename>) を
      使用します.</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この節ではこれ以降ユーザ PPP のことは, <command xmlns:xlink="http://www.w3.org/1999/xlink">pppd</command>
      のような他の PPP ソフトウエアと特に区別する必要がある場合を除いて,
      単に ppp と記述します.  またこの節に記述されているコマンドは
      すべて root で実行されなければなりません.</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ ppp の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">原作: Brian Somers, 協力:
        Nik Clayton, Dirk-Willem van Gulik <email xmlns:xlink="http://www.w3.org/1999/xlink">Dirk.vanGulik@jrc.it</email>,
        Peter Childs <email xmlns:xlink="http://www.w3.org/1999/xlink">pjchilds@imforei.apana.org.au</email>.</emphasis>
    </para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ PPP</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">前提条件</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の情報を手に入れておく必要があるでしょう:</para>

        <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP で接続するインターネットサービスプロバイダ (ISP)
              のアカウント.  さらに, 接続済みのモデム
              (またはその他のデバイス) があり,
              プロバイダとの接続が可能なように正しく設定されている.</para>
	  </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダの電話番号.</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">ログイン名とパスワード. これは通常の unix
              形式のログイン名と パスワードの組という場合もありますし,
              PPP PAP または CHAP の
              ログイン名とパスワードの組という場合もあります.</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">一つ以上のネームサーバの IP アドレス. 通常,
              プロバイダから IP アドレスを二つ指示されている はずです.
              一つすら提供されていないならば, <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename>
              ファイル中で <command xmlns:xlink="http://www.w3.org/1999/xlink">enable dns</command> コマンドを使って
              <application xmlns:xlink="http://www.w3.org/1999/xlink">ppp</application> にネームサーバを設定するよう
              指示できます.</para>
          </listitem>
        </itemizedlist>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダからは以下の情報が提供されているはずですが,
          どうしても必要というわけではありません: </para>

        <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダのゲートウェイの IP アドレス.
              ゲートウェイとは, あなたがそこに接続をおこなって,
              <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート</emphasis>
              として設定することになるマシンです.
              プロバイダがこのアドレスを明示していなくても, 最初は
              適当に設定しておいて, 接続時にプロバイダの PPP サーバから
              正しいアドレスを教えてもらうことができます.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">このアドレスは, <application xmlns:xlink="http://www.w3.org/1999/xlink">ppp</application> から
              <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal>として参照されます.</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダのネットマスク設定.
              プロバイダが明示していないとしても,  ネットマスクとして
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">255.255.255.0</systemitem>
              を使用しておけば問題ありません.</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">もしプロバイダから固定の IP
              アドレスとホスト名の割り当てを 受けていれば,
              その情報を指定しておくこともできます.
              割り当てを受けていなければ, 接続先から適切な IP
              アドレスを指定してもらいます. </para>
          </listitem>
        </itemizedlist>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">もし, 必要な情報が不足していれば, プロバイダに連絡を取って
          確認しておいてください.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">ppp 対応カーネルの構築</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">説明でも述べているように, <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
          はカーネルの <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスを使います.
          使っているカーネルがどれであっても,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスを設定しなければなりません.
          FreeBSDに付属しているデフォルトの
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルに合うように
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスは前もって設定されています.
          しかしながら, 自分で修正したカーネルをインストールするのであれば,
          pppが正しく動くよう, カーネルが設定されているか確認しなくてはいけません.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">これを確認するには, カーネルコンパイルディレクトリ
          (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/sys/i386/conf</filename> または
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sys/pc98/conf</filename>) に移動して,
          カーネルコンフィグレーションファイルを調べます.
          以下の行がどこかに含まれている必要があります.</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device tun 1</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この行がカーネルコンフィグレーションファイルに
          含まれていない場合, この行を追加して
          カーネルの再コンパイルとインストールをおこなう必要があります.
          元々の <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルは
          標準でこれを含んでいますので,
          カスタムカーネルをインストールしているのではなかったり,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sys</filename> ディレクトリが存在しないのであれば,
          何も変更する必要はありません.
          カーネルコンフィグレーションの詳細については,
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">FreeBSD
            カーネルのコンフィグレーション</link>
          を参照してください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のコマンドを実行することで,
          現在のカーネルにトンネルデバイスが
          いくつ組み込まれているかを調べることができます:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig -a</userinput>
tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
	inet 200.10.100.1 --&gt; 203.10.100.24 netmask 0xffffffff
tun1: flags=8050&lt;POINTOPOINT,RUNNING,MULTICAST&gt; mtu 576
tun2: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
	inet 203.10.100.1 --&gt; 203.10.100.20 netmask 0xffffffff
tun3: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1500</screen>

        <note xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 4.0やより最近のリリースでは, すでに使われている
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスしか見つけることが
            できないでしょう. これは, <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">全く</emphasis>
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスを見つけることが
            できないかもしれないということです. しかし, もしこうなって
            しまっても, 心配することはありません. そのデバイスは
            <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> が使おうとする時に動的に作られるはず
            だからです. </para>
        </note>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この例ではトンネルデバイスが四つ存在し, そのうち二つに
          設定がおこなわれ, 使用中であることがわかります.  上の例で
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">RUNNING</literal> フラグがオンになっている
          ものがありますが, これは
          そのインタフェースが何かに使用されていることを示している
          だけであるということに注意してください. つまり,
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">RUNNING</literal> になっていない
          インタフェースがあったとしても, それはエラーではありません.
        </para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">トンネルデバイスがカーネルに組み込まれておらず,
          何らかの理由で
          カーネルの再構築ができない場合でも,
          方法がないわけではありません.
          動的にデバイスをロードすることができるはずです.
          詳細については
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">modload</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lkm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> など,
          適切なマニュアルを参照してください.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">tun デバイスの確認</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのユーザは <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイス
          (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/tun0</filename>) が一つあれば充分でしょう.
          より多くのデバイスを使う場合 (すなわち,
          カーネルコンフィグレーション ファイルで <literal xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device
            tun</literal> の行に <literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal>
          以外の数値を指定している場合),  以下で
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun0</filename> と書かれている部分をすべて,
          あなたが使うデバイスの番号に
          あわせて読みかえてください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tun0</filename>
          デバイスが正しく作成されていることを確認する最も簡単な方法は,
          それを作り直すことです. そのためには,
          以下のコマンドを実行します:</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./MAKEDEV tun0</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに 16 個のトンネルデバイスを組み込んだのであれば,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun0</filename> だけでなく他の tun
          デバイスも作成しておく必要があるでしょう:</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /dev</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">./MAKEDEV tun15</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">また, カーネルが正しく設定されているかどうかを調べるために
          以下のコマンドを実行して,
          このような出力が得られることを確認します:</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig tun0</userinput>
tun0: flags=8050&lt;POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500</screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">まだ <literal xmlns:xlink="http://www.w3.org/1999/xlink">RUNNING</literal>
          フラグがセットされていない場合もあります.
          その時は以下のような出力が得られるでしょう: </para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig tun0</userinput>
tun0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1500</screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">前述したように, FreeBSD 4.0 以降のリリースでは
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename> デバイスは要求に応じて
          作られるので, もしそのデバイスがまだ使われていなければ,
          見つけられないかもしれないということを思い出してください.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">名前の解決に関する設定</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">リゾルバ (resolver) はシステムの一部分で, IP
          アドレスとホスト名との 変換をおこないます. IP
          アドレスとホスト名を対応させるためのマップを,
          二つの場所のうちの一つから探すように設定できます.  一つめは
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> (<command xmlns:xlink="http://www.w3.org/1999/xlink">man 5
            hosts</command>) と呼ばれるファイルです.  <!-- kuriyama -
          citerefentry? --> 二つめはインターネット
          ドメインネームサービス (DNS) と呼ばれる
          分散データベースですが, これに関する議論は
          このドキュメントで扱う範囲を 越えていますので,
          これについての説明はおこないません.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">リゾルバは名前のマッピングを
          おこなうシステムコールの集合体です. ただし
          どこからマッピング情報を見つけるのかは,
          最初に指示しておく必要があります.  これは まず
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/host.conf</filename>
          ファイルを編集することでおこないます.  混乱の元になりますので,
          このファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts.conf </filename>と
          呼んだりしては<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis> (余分な
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">s</literal> がついていますね).</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/host.conf</filename> ファイルの編集</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルには 以下の 2 行が (この順番で)
            書かれているはずです:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hosts
bind</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">これは, 最初に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
            ファイルを調べ, そこで目的の名前が 見つけられなかった場合に
            DNS を引きにいくようリゾルバに指示します.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts(5) ファイルの編集</title>
          <!-- kuriyama - man.hosts.5? -->

          <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルはローカルネットワーク上に存在するマシンの
            IP アドレスと ホスト名を含んでいるはずです. 最低でも ppp
            を動作させるマシンのエントリが 含まれている必要があります.
            そのマシンのホスト名が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">foo.bar.com</systemitem>
            で,  IP アドレスが
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.1</systemitem> であると仮定すると,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> は
            以下の行を含んでいなければいけません:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">127.0.0.1	localhost.bar.com	localhost
127.0.0.1	localhost.bar.com.
10.0.0.1	foo.bar.com		foo
10.0.0.1	foo.bar.com.</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">一つめの行は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem>
            を現在のマシンの別名として定義しています.  マシン固有の IP
            アドレスが何であっても, この行の IP アドレスは 常に
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">127.0.0.1</systemitem> でなければいけません.
            二つめの行はホスト名 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">foo.bar.com</systemitem>
            (と, その省略形
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">foo</systemitem>) を IP アドレス
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.1</systemitem> にマップします.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">もしプロバイダから固定の IP
            アドレスとホスト名を割り当てられて いるのであれば, それを
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.1</systemitem>
            エントリのかわりに使ってください.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> ファイルの編集</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename>
            はリゾルバの振舞いを指定します.  もし自前の DNS
            サーバを走らせているのなら, このファイルは空のままに
            しておくこともできます. 通常は,
            以下のように書いておく必要があるでしょう:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">domain <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar.com</replaceable>
nameserver <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x.x.x.x</replaceable>
nameserver <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">y.y.y.y</replaceable></programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x.x.x.x</replaceable></systemitem>
            と <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">y.y.y.y</replaceable></systemitem>
            はプロバイダから指示されたアドレスで,
            接続するプロバイダが提供しているネームサーバを
            すべて書いてください.  <literal xmlns:xlink="http://www.w3.org/1999/xlink">domain</literal>
            に指定するのは このマシンのデフォルトのドメイン名で,
            おそらく 書かなくても問題は無いでしょう.
            このファイルの各エントリの詳細については,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename>
            のマニュアルページを参照してください.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 2 以降の ppp を使用している場合には,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">enable dns</command>
            コマンドを使用してネームサーバのアドレスを
            プロバイダに問い合わせるように指示することができます.
            上の指定とは異なるアドレスをプロバイダが指定してきた場合
            (または <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename>
            でネームサーバが指定されていない場合),  ppp
            はプロバイダが指定したアドレスで
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</filename> を書きかえます. </para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> の設定</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザ ppp と <command xmlns:xlink="http://www.w3.org/1999/xlink">pppd</command> (カーネルレベルの
          PPP 実装) は どちらも <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp</filename>
          ディレクトリに置かれた設定ファイルを使います.
          ここには設定ファイルのサンプルが用意されていて, ユーザ ppp
          の設定を おこなう際に大変参考になりますので,
          削除したりしないでください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> の設定をするためには,
          必要に応じていくつかのファイルを編集する必要が あります.
          書き込む内容は, プロバイダが静的に IP アドレスを割り当てる
          (つまり, 固定の IP アドレスを一つ与えられて, 常にそれを使う)
          か,  または動的に IP アドレスを割り当てる (つまり, PPP
          セッションごとに  IP アドレスが変化する可能性がある)
          かということに ある程度依存します.</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp-staticIP">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">静的 IP アドレスによる PPP 接続</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">まず <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename>
            という設定ファイルを作成する必要があります.
            これは以下の例とほとんど同じようなものになるでしょう.</para>

          <note xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">:</literal> で終る行は  1 カラム目から始め,
              その他の行はスペースまたはタブで以下の例のように
              段をつける (インデントする) 必要があります.</para>
          </note>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">1     default:
2       set device /dev/cuaa0
3       set speed 115200
4       set dial "ABORT BUSY ABORT NO\\sCARRIER TIMEOUT 5 \"\" ATE1Q0 OK-AT-OK \\dATDT\\TTIMEOUT 40 CONNECT"
5     provider:
6       set phone "(123) 456 7890"
7       set login "TIMEOUT 10 \"\" \"\" gin:--gin: foo word: bar col: ppp"
8       set timeout 300
9       set ifaddr <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x.x.x.x</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">y.y.y.y</replaceable> 255.255.255.0 0.0.0.0
10      add default HISADDR
11      enable dns</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルでは行番号を取り除いておいてください.
            これは解説の際に参照する行を示すためにつけたものです.</para>

          <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 1:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトエントリを指定します.
                  このエントリ中のコマンドは ppp
                  が起動された際に自動的に実行されます.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 2:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムが接続されているデバイスを指定します.
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1:</filename> は
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa0</filename> に,
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2:</filename> は
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa1</filename> になります.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 3:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">通信速度 (DTE 速度) を指定します. もし 115200
                  が使えない (最近のモデムなら大抵使えるはずですが)
                  場合には,  かわりに 38400
                  を指定してみてください.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 4:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルスクリプトを指定します.  ユーザ PPP は
		  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 言語に似た, 受信待ち文字列と
                  送信文字列の対からなるスクリプトを使用します.
                  この言語の機能に関しては,
                  マニュアルページを参照してください.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 5:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">接続するプロバイダの名前 <quote xmlns:xlink="http://www.w3.org/1999/xlink">provider</quote> を
                  エントリ名として指定します.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 6:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">このプロバイダの電話番号を指定します.
                  複数の電話番号を  <literal xmlns:xlink="http://www.w3.org/1999/xlink">:</literal> や
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">|</literal> で区切って指定することができます.
                  これら区切り文字の違いについては, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
                  に 詳しく書かれています.
                  要約すると, 毎回違う番号に かけたいのであれば
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">:</literal> を使います.  常に
                  まず先頭の番号にかけてみて, つながらない時にだけ  2
                  番目以降の番号に かけたいのであれば
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">|</literal> を使います.
                  例に示されているように, 常に電話番号全体を引用符で
                  くくって (クォートして) おきます.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 7:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルスクリプトと同様に, ログインスクリプトも
                  chat 言語風の記述をおこないます.  この例は,
                  以下のようなログインセッションを使用する
                  プロバイダのためのものです:</para>

		<screen xmlns:xlink="http://www.w3.org/1999/xlink">J. Random Provider
login: <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">foo</replaceable>
password: <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">bar</replaceable>
protocol: ppp</screen>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトは必要に応じて
                  書きかえなければならないでしょう.
                  初めてスクリプトを書く時には, 予想した通りに
                  処理が進んだかどうかを確認するため, <quote xmlns:xlink="http://www.w3.org/1999/xlink">chat</quote>
                  ログを とるようにしておいた方が良いでしょう. </para>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">PAP や CHAP を使用する場合には,
                  ここでログインすることは  ありませんから,
                  ログイン文字列は空白のままにしておくべきです.
                  詳細については <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-PAPnCHAP">PAP
                    および CHAP
                    による認証</link>を参照してください.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 8:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトの接続タイムアウト時間を (秒数で)
                  指定します.  この例では, 300 秒間
                  通信がおこなわれなければ
                  自動的に接続を切るように指定しています.
                  タイムアウトさせたくない場合には, この値を 0
                  に設定します.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 9:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">インタフェースのアドレスを指定します. 文字列
                  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x.x.x.x</replaceable> は
                  プロバイダに割り当てられた IP
                  アドレスで置きかえてください.  文字列
                  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">y.y.y.y</replaceable>
                  はプロバイダから指示されたゲートウェイ
                  (接続先となるマシン) の IP
                  アドレスで置きかえてください.
                  プロバイダがゲートウェイのアドレスを
                  指示していない場合は,  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">10.0.0.2/0</systemitem>
                  を使用しておいてください. もし <quote xmlns:xlink="http://www.w3.org/1999/xlink">仮の</quote>
                  アドレスを使用する必要がある場合には,
                  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-dynamicIP">動的 IP アドレスによる
                    PPP 接続</link>に関する指示に従って,
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename>
                  にエントリを作成していることを 確認してください.
                  この行が省略されている場合, ppp を
                  <option xmlns:xlink="http://www.w3.org/1999/xlink">-auto</option>
                  モードで動作させることはできません. </para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 10:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダのゲートウェイへの経路を
                  デフォルトルートとして 追加します. 特殊文字列
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal> は, 9 行目で指定された
                  ゲートウェイのアドレスで置きかえられます.
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal> は 9
                  行目までは初期化されていませんので,
                  その行よりも後でしか使えないことに
                  注意してください.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 11:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">ネームサーバのアドレスが正しいか
                  どうかを確認するため,
                  プロバイダに問い合わせをおこなうよう ppp に指示します.
                  プロバイダがこの機能をサポートしていれば, ppp は
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename>
                  のネームサーバエントリを
                  正しいアドレスに更新することができます. </para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">静的な IP アドレスを持っていて,
            接続が完了する前にルーティングテーブルの
            エントリが正しく設定されているのであれば,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.linkup</filename> に
            エントリを追加する必要はありません.  しかし,
            この場合でもエントリを追加して, 接続が完了した時点で
            プログラムを呼び出したいことがあるかもしれません.
            これについては後ほど sendmail を例として説明します.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">これらの設定ファイルのサンプルが
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp</filename> ディレクトリに
            置かれています.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp-dynamicIP">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">動的 IP アドレスによる PPP 接続</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダが静的な IP
            アドレスの割り当てをおこなっていない場合,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> が相手側のホスト (ゲートウェイ)
            と交渉して, こちら側と相手側のアドレスを
            決めるように設定することができます.  これは,
            起動時には<quote xmlns:xlink="http://www.w3.org/1999/xlink">仮の</quote>アドレスを使っておいて,
            接続後に IP コンフィグレーション プロトコル (IPCP)
            を使用して <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> が IP
            アドレスを正しく設定できるようにすることで実現されます.
            <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-staticIP">静的 IP アドレスによる PPP
              接続</link>に 以下の変更を加える以外は,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename> の設定は同じです:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">9       set ifaddr 10.0.0.1/0 10.0.0.2/0 255.255.255.0</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">繰り返しますが, 行番号は取り除いておいてください.
            これは解説の際に参照する行を示すためにつけたものです.  なお,
            少なくともスペース 1 個分の段づけ (インデント)
            が必要です.</para>

          <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink"><term xmlns:xlink="http://www.w3.org/1999/xlink">Line 9:</term>
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">/</literal> 文字の後ろの数字は,
                  アドレス交渉の際に固定しておきたい ビットの数です.
                  場合によっては, もっと適切な IP アドレスを
                  指定しておきたいこともあるかもしれませんが,
                  ほとんどの場合には 上の例の通りで問題ありません.
                </para>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">最後の引数 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">0.0.0.0</literal>) は,
                  アドレスの交渉の際に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.1</systemitem>
                  ではなく <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">0.0.0.0</systemitem> を使用するよう ppp
                  に指示するためのものです.  <command xmlns:xlink="http://www.w3.org/1999/xlink">set
                    ifaddr</command> コマンドの最初の引数として
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">0.0.0.0</literal> を指定してはいけません.
                  さもないと, <option xmlns:xlink="http://www.w3.org/1999/xlink">-auto</option>
                  モードで動作させる際に
                  初期経路を設定することができなくなります. </para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 1.X の ppp を使用する場合,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename>
            にもエントリを作成しておく必要があります.
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.linkup</filename>
            は接続が確立された後に使用されます. この時点では,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> は<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">実際に</emphasis>どの IP
            アドレスを使うべきなのか わかっているはずです.
            以下のエントリは存在する仮の経路を削除し,
            正しい経路を作成します:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">1     provider:
2       delete ALL
3       add default HISADDR</programlisting>

          <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 1:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">接続を確立する際に, <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
                  は以下のルールに従って
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.linkup</filename>
                  のエントリを検索します:  まず
                  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename>
                  で使用されたのと同じラベルを探します.
                  もし見つからなければ, ゲートウェイの IP
                  アドレスのエントリを 探します. このエントリは 4
                  オクテットの IP アドレス形式の ラベルです. それでも
                  まだエントリが見つからなければ,
                  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MYADDR</literal> エントリを探します.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 2:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">この行は, 使用する tun
                  インタフェースに関する既存の経路を
                  (ダイレクトルートのエントリを除き) すべて削除するよう
                  <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> に指示します.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 3:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">この行は <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal>
                  への経路をデフォルトルートとして 追加するように ppp
                  に指示します. <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal> は IPCP で
                  決定されたゲートウェイの IP
                  アドレスで置きかえられます.</para>
              </listitem>
            </varlistentry>
          </variablelist>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細なサンプルについては,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp/ppp.conf.sample</filename>
            ファイル中のpmdemand エントリと
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp/ppp.linkup.sample</filename>
            を参照してください.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 2 の ppp から <quote xmlns:xlink="http://www.w3.org/1999/xlink">sticky routes</quote>
            が導入されました.  <literal xmlns:xlink="http://www.w3.org/1999/xlink">MYADDR</literal> や
            <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal> を含む <literal xmlns:xlink="http://www.w3.org/1999/xlink">add</literal>
            コマンドと  <literal xmlns:xlink="http://www.w3.org/1999/xlink">delete</literal> コマンドを記憶して,
            <literal xmlns:xlink="http://www.w3.org/1999/xlink">MYADDR</literal> や <literal xmlns:xlink="http://www.w3.org/1999/xlink">HISADDR</literal> の
            アドレスが変化した際には経路の再設定をおこないます.
            したがって, これらのコマンドを
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.linkup</filename> に
            繰り返し記述する必要は無くなりました. </para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">かかってきた電話を <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
            で受けるには</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">かかってきた電話を <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
            が受けるように設定する際に,  そのマシンが LAN
            に接続されているのであれば,  パケットを LAN
            に転送するかどうかを決定する必要があります.
            転送をおこなう場合には, その LAN のサブネットから IP
            アドレスを ppp クライアントに割り当て,
            以下のコマンドを指定するのが良いでしょう. </para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">gateway_enable=YES</programlisting>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">どの getty を使いますか?</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">getty
              でダイアルアップサービスをおこなう場合の優れた解説が
              <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="dialup">FreeBSD
                でダイアルアップサービスをおこなうための設定
              </link>にあります.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> に代わるものとしては,
              <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.leo.org/~doering/mgetty/index.html">
                mgetty</link> があります. これは
              <command xmlns:xlink="http://www.w3.org/1999/xlink">getty</command> をより柔軟にしたもので,
              ダイアルアップ回線での使用を意図して
              設計されています.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> を使う場合の利点は,
              <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command>
              が積極的にモデムと<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">通信する</emphasis>
              ということです. つまり, もし
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename> でポートを閉じている場合,
              モデムは電話をとらなくなります.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">最近のバージョンの <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> (0.99beta
              以降) では, PPP ストリームの
              自動検出もサポートされています. これにより,
              クライアント側で スクリプトを準備しなくてもサーバに
              アクセスすることができます.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> に関する,
              より詳細な情報については
              <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-mgetty">Mgetty と AutoPPP</link>
              を参照してください.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">ppp の実行許可</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> は通常, ID 0 のユーザ (root)
              として動作しなければいけませんが,  以下で説明するように,
              <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
              を通常のユーザとしてサーバモードで実行させたい 場合には,
              そのユーザを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename> の
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">network</systemitem> グループに 追加して, ppp
              を実行する許可を与えておかなければいけません.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">また, そのユーザが設定ファイル内の目的のエントリに
              アクセスできるように,  以下のように
              <command xmlns:xlink="http://www.w3.org/1999/xlink">allow</command>
              コマンドで許可を与えておく必要があります: </para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">allow users fred mary</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">このコマンドがデフォルトエントリに
              書かれている場合には, 指定されたユーザは
              すべてのエントリをアクセスできるようになります.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">動的 IP ユーザのための ppp シェルの設定</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp-shell</filename> という名前で,
              以下のような内容のファイルを 作成します:</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
IDENT=`echo $0 | sed -e 's/^.*-\(.*\)$/\1/'`
CALLEDAS="$IDENT"
TTY=`tty`

if [ x$IDENT = xdialup ]; then
	IDENT=`basename $TTY`
fi

echo "PPP for $CALLEDAS on $TTY"
echo "Starting PPP for $IDENT"

exec /usr/sbin/ppp -direct $IDENT</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトには実行可能属性をつけておきます.  次に,
              以下のコマンドを実行し, <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp-dialup</filename>
              という名前で このスクリプトへのリンクを作成します:</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s ppp-shell /etc/ppp/ppp-dialup</userinput></screen>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのダイアルアップ ppp
              ユーザのログイン<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">シェル</emphasis>として
              このスクリプトを使用します. 以下は
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">pchilds</systemitem> というユーザ名の
              ダイアルアップユーザを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/password</filename>
              へ登録した場合の例です.
              (パスワードファイルを直接エディタで編集したりせず,
              <command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command> を使ってください)</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pchilds:*:1011:300:Peter Childs PPP:/home/ppp:/etc/ppp/ppp-dialup</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">任意のユーザが読むことのできる,
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/home/ppp</filename> ディレクトリを 作成します.
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/motd</filename>
              が表示されないようにするため,
              このディレクトリには以下のように大きさが 0
              バイトのファイルを 作成しておきます.</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink">-r--r--r--   1 root     wheel           0 May 27 02:23 .hushlogin
-r--r--r--   1 root     wheel           0 May 27 02:22 .rhosts</screen>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">静的 IP ユーザのための PPP シェルの設定</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">上記と同じように <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp-shell</filename>
              ファイルを作成し,  静的な IP
              アドレスを割り当てるアカウントそれぞれについて
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp-shell</filename>
              へのシンボリックリンクを作成します.</para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">例えば, クラス C ネットワークの経路制御を必要とする,
              三人のダイアルアップユーザ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">fred</systemitem>,
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">sam</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">mary</systemitem>
              がいるとすると,
              以下のコマンドを実行することになります:</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-fred</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-sam</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -s /etc/ppp/ppp-shell /etc/ppp/ppp-mary</userinput></screen>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのユーザのダイアルアップアカウントでは,
              上で作成した それぞれのシンボリックリンクを
              ログインシェルとして設定しておきます.  (つまり, ユーザ
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">mary</systemitem> のログインシェルは
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp-mary</filename> に
              なります).</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">動的 IP ユーザのための ppp.conf の設定</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename> ファイルは,
              大体以下のような内容になるでしょう:</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">default:
  set debug phase lcp chat
  set timeout 0

ttyd0:
  set ifaddr 203.14.100.1 203.14.100.20 255.255.255.255
  enable proxy

ttyd1:
  set ifaddr 203.14.100.1 203.14.100.21 255.255.255.255
  enable proxy</programlisting>

            <!-- kuriyama - remove Japanese "NOTE"ing -->
            <note xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">上の例のように段をつける (インデントする)
                必要があることに注意してください.</para>
            </note>

            <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">default:</literal>
              エントリはセッションごとにロードされます.
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ttys</filename>
              で有効にしてある各ダイアルアップ回線ごとに一つ,  上記の
              <literal xmlns:xlink="http://www.w3.org/1999/xlink">ttyd0:</literal> のようなエントリを作成します.
              各行の相手側アドレスとして, それぞれ別の IP アドレスを
              動的 IP ユーザのための IP
              アドレスのプールから割り当てておく必要があります.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
            <title xmlns:xlink="http://www.w3.org/1999/xlink">静的 IP ユーザのための <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename>
              の設定</title>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">上のサンプルの
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp/ppp.conf</filename>
              の内容に加えて,  静的に IP
              を割り当てられたダイアルアップユーザ
              それぞれのためのエントリを追加する必要があります.
              ここでも <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">fred</systemitem>,
              <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">sam</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">mary</systemitem>
              の例を使うことにしましょう.</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">fred:
  set ifaddr 203.14.100.1 203.14.101.1 255.255.255.255

sam:
  set ifaddr 203.14.100.1 203.14.102.1 255.255.255.255

mary:
  set ifaddr 203.14.100.1 203.14.103.1 255.255.255.255</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">必要であれば, それぞれの静的 IP
              ユーザに対する経路制御情報も
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename>
              ファイルに書いておくべきでしょう.
              以下の例ではクライアントの PPP リンクを経由する,  クラス C
              の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">203.14.101.0</systemitem>
              ネットワークへの経路を追加しています.</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">fred:
  add 203.14.101.0 netmask 255.255.255.0 HISADDR

sam:
  add 203.14.102.0 netmask 255.255.255.0 HISADDR

mary:
  add 203.14.103.0 netmask 255.255.255.0 HISADDR</programlisting>
	  </sect5>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command>, AutoPPP,
	    マイクロソフト拡張の詳細</title>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp-mgetty">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> と AutoPPP</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">AUTO_PPP</literal>
	      オプションつきでコンパイルした <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command>
	      を使えば, <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> が PPP 接続の LCP
	      フェーズを検出して, 自動的に PPP シェルを起動するように
	      設定することができます.  しかし この場合, デフォルトの
	      login/password シーケンスは発生しないので,
	      ユーザの認証は PAP または CHAP
	      を使っておこなう必要があります.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このセクションでは, ユーザ (あなた) が問題なく
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">AUTO_PPP</literal> オプションつきの
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> (v0.99beta またはそれ以降)
	      の設定,  コンパイル,
	      インストールができているものと仮定しています.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">
		/usr/local/etc/mgetty+sendfax/login.config</filename>
	      ファイルが
	      以下の行を含んでいることを確認してください:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/AutoPPP/ -     -       /etc/ppp/ppp-pap-dialup</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより, PPP 接続を検出したら
	      <command xmlns:xlink="http://www.w3.org/1999/xlink">mgetty</command> が
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp-pap-dialup</filename>
	      スクリプトを実行するようになります.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp-pap-dialup</filename>
	      という名前で, 以下のような内容のファイルを 作成します
	      (このファイルには実行可能属性を
	      つけておく必要があります):</para>

	    <!-- kuriyama - en and ja are different with blank line. -->
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
exec /usr/sbin/ppp -direct pap</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに, かかってきた電話すべてを自分で扱うエントリを
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename>
	      に作成します.</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pap:
  enable pap
  set ifaddr 203.14.100.1 203.14.100.20-203.14.100.40
  enable proxy</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法でログインする それぞれのユーザは, PAP
	      によるユーザ認証を おこなうために
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.secret</filename>
	      ファイルにユーザ名とパスワードを 書いておくか, または
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/password</filename>
	      ファイルを使うように,</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">enable passwdauth</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザに静的な IP アドレスを割り当てる場合には,
	      そのアドレスを  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.secret</filename>
	      の第三引数として指定することができます.
	      サンプルについては,
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp/ppp.secret.sample</filename>
	      を参照してください.</para>
	  </sect5>

	  <sect5 xmlns:xlink="http://www.w3.org/1999/xlink">
	    <title xmlns:xlink="http://www.w3.org/1999/xlink">マイクロソフト拡張</title>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントからの要求に応じて, ppp が DNS や
	      NetBIOS ネームサーバの アドレスを通知するように
	      設定をおこなうこともできます.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 1.X の ppp で
	      これらの拡張機能を有効にするには, 以下の行を
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename>
	      の適切なセクションに追加する必要があるでしょう. </para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">enable msext
set ns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 2 以降の ppp では,
	      以下のようになります:</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">accept dns
set dns 203.14.100.1 203.14.100.2
set nbns 203.14.100.5</programlisting>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより, クライアントはプライマリと
	      セカンダリのネームサーバアドレス および NetBIOS
	      ネームサーバホストを知ることができます.</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 2 以降の ppp では, <literal xmlns:xlink="http://www.w3.org/1999/xlink">set
		dns</literal> の行を省略した場合には
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename>
	      に書かれているネームサーバのアドレスを使用します.
	    </para>
	  </sect5>
	</sect4>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp-PAPnCHAP">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">PAP および CHAP による認証</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのプロバイダでは, PAP または CHAP
            のいずれかの認証メカニズムを
            使用して接続時の認証をおこなうように
            システムを設定しています.  この場合, プロバイダは接続の際に
            <prompt xmlns:xlink="http://www.w3.org/1999/xlink">login:</prompt> プロンプトを送信せず,  最初から PPP
            で通信を始めようとするでしょう.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">PAP ではパスワードがそのまま送られてしまうため, CHAP
            に比べると安全性が 低くなりますが,
            このパスワードはシリアル回線のみを通して送られます.
            そのため,
            クラッカーが <quote xmlns:xlink="http://www.w3.org/1999/xlink">盗み聞き</quote> する余地は多くないので,
            通常ここの セキュリティは問題にはなりません.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-staticIP">静的 IP アドレスによる
              PPP 接続</link>または
            <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp-dynamicIP">動的 IP アドレスによる PPP
              接続</link>の セクションに戻って,
            以下の変更をおこないます:</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">7       set login
…
12      set authname <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MyUserName</replaceable>
13      set authkey <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MyPassword</replaceable></programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">これまでと同様に, 行番号は取り除いておいてください.
            これは解説の際に参照する行を示すためにつけたものです.  なお,
            少なくともスペース 1 個分の段づけ (インデント)
            が必要です.</para>

          <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 7:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">PAP または CHAP を使用する場合, 通常
                  プロバイダはサーバへの ログインを必要としません.
                  そのため, <quote xmlns:xlink="http://www.w3.org/1999/xlink">set login</quote> 文字列を
                  無効にしておかなければいけません.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 12:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">この行は PAP/CHAP ユーザ名を指定します.
                  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MyUserName</replaceable> に
                  正しい値を入れておく必要があります.</para>
              </listitem>
            </varlistentry>

            <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
              <term xmlns:xlink="http://www.w3.org/1999/xlink">Line 13:</term>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">この行は PAP/CHAP パスワードを指定します.
                  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">MyPassword</replaceable> に
                  正しい値を入れておく必要があります.
                  PAP と CHAP はデフォルトで両方とも
                  受け付けられるようになって
                  いますが, PAP や CHAP を使用するという
                  意思を明示するために,

                  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">15      accept PAP</programlisting>

                  または

                  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">15      accept CHAP</programlisting>

                  という行を追加しておくのも良いでしょう.</para>
              </listitem>
            </varlistentry>
          </variablelist>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">動作中の ppp の設定変更</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">適切な診断ポートが設定されている場合には,
            バックグラウンドで動作中の  <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
            プログラムと通信することができます.
            この設定をおこなうためには,
            以下の行を設定ファイルに追加しておきます: </para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">set server /var/run/ppp-tun%d DiagnosticPassword 0177</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより, ppp は指定された unix ドメインの
            ソケットをモニタして,
            クライアントから正しいパスワードを受け取った後に
            アクセスを許可します.  このソケット名に含まれる
            <literal xmlns:xlink="http://www.w3.org/1999/xlink">%d</literal> は, この ppp が使用している
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename>
            デバイスの デバイス番号で置きかえられます.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">一旦ソケットの設定が終了したら, スクリプト中で
            <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pppctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を 使用して, 動作中の ppp
            を操作することができるでしょう.</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="userppp-final">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">システムの最終設定</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">これで <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> の設定は終りました.  しかし
          <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command> を動かす前に,
          まだ少し必要なことがあります.  それらの設定は, すべて
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルを
          編集することでおこないます.  (このファイルは以前には
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysconfig</filename> と呼ばれていました)</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを上から順に設定していきます.  まずは
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">hostname=</literal>
          の行が設定されていることを確認します.
          例えば以下のように:</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hostname="foo.bar.com"</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">もしプロバイダが静的な IP
          アドレスとホスト名を割り当てているのなら,
          ホスト名としてそれを使うのが おそらくベストでしょう.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">次に <literal xmlns:xlink="http://www.w3.org/1999/xlink">network_interfaces</literal> 変数を調べます.
          必要に応じて (on demand)
          プロバイダにダイアルするようにシステムを設定したい場合には,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun0</filename>
          デバイスがこのリストに追加されていることを確認しておきます.
          それ以外の場合には, tun0
          デバイスをリストから削除しておきます.</para>

        <!-- kuriyama - en needs break line -->
        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">network_interfaces="lo0 tun0" ifconfig_tun0=</programlisting>

        <note xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig_tun0</literal> 変数が空で,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/start_if.tun0</filename> という名前の
            ファイルが作成されていなければなりません.
            このファイルの内容は以下のようになります.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ppp -auto mysystem</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">このスクリプトはネットワークの設定時に実行され,  ppp
            デーモンを自動モードで立ち上げます.  このマシンがもし LAN
            のゲートウェイであれば,  <option xmlns:xlink="http://www.w3.org/1999/xlink">-alias</option>
            スイッチも使用したいと思うかもしれません.  詳細に関しては,
            マニュアルページを参照してください.</para>
        </note>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のようにルータプログラムを <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO</literal>
          に設定します.</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">router_enable="NO"</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">routed</command> は, <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
          が作成したデフォルトのルーティングテーブル
          エントリを削除してしまう場合がありますので,
          (初期設定では起動されるようになっている)
          <command xmlns:xlink="http://www.w3.org/1999/xlink">routed</command> デーモンが
          起動されないようにしておくことが重要です.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_flags</literal> 行が <option xmlns:xlink="http://www.w3.org/1999/xlink">-q</option>
          オプションを含まないように 設定しておいた方がよいでしょう.
          さもないと, <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</command> が
          アドレスを調べようとして発信をおこなってしまう場合があります.
          以下のような設定で良いでしょう:</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_flags="-bd"</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この結果, PPP リンクを立ち上げた時には
          いつでも以下のコマンドを実行して, キューにたまっているメールを
          <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</command>
          に送信させる作業が必要になるでしょう.</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/sendmail -q</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.linkup</filename> 中で
          <command xmlns:xlink="http://www.w3.org/1999/xlink">!bg</command> コマンドを使用することで,
          これを自動的に おこなうこともできます:</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">1     provider:
2       delete ALL
3       add 0 0 HISADDR
4       !bg sendmail -bd -q30m</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">こうするのが嫌であれば, SMTP
          トラフィックをブロックするように <quote xmlns:xlink="http://www.w3.org/1999/xlink">dfilter</quote>
          を設定しておくこともできます.
          詳細についてはサンプルファイルを参照してください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">後はマシンをリブートするだけです.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">リブートが終ったら,</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ppp</userinput></screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンドを実行し, 続いて PPP セッションを開始させるために
          <command xmlns:xlink="http://www.w3.org/1999/xlink">dial provider</command> と入力することもできますし,
          (<filename xmlns:xlink="http://www.w3.org/1999/xlink">start_if.tun0</filename>
          スクリプトを作成していない場合に),
          外部へのトラフィックが発生した時に, <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp</command>
          が自動的に セッションを確立してくれるようにしたいのであれば,
          以下のコマンドを実行することもできます.</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ppp -auto provider</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">まとめ</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">要約すると, 初めて ppp を設定する際には,
          以下のステップが不可欠です:</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント側:</para>

        <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename>
              デバイスが組み込まれていることを確認.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> ディレクトリに
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">tunX</filename>
              デバイスファイルが 存在することを確認.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename>
              にエントリを作成.  ほとんどのプロバイダでは,
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">pmdemand</filename> の例で充分でしょう.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">動的 IP アドレスを使用するなら,
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename> に
              エントリを作成.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> (または
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">sysconfig</filename>) ファイルを更新.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">必要に応じてダイヤル (demand dialing)
              したいのであれば,  <filename xmlns:xlink="http://www.w3.org/1999/xlink">start_if.tun0</filename>
              スクリプトを作成.</para>
          </step>
        </procedure>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバ側:</para>

        <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルに <filename xmlns:xlink="http://www.w3.org/1999/xlink">tun</filename>
              デバイスが組み込まれていることを確認.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename> ディレクトリに
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">tunX</filename>
              デバイスファイルが 存在することを確認.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vipw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使って)
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename> にエントリを作成.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">このユーザのホームディレクトリに <command xmlns:xlink="http://www.w3.org/1999/xlink">ppp -direct
                direct-server</command>
              か何かを実行するプロファイルを作成.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename>
              にエントリを作成.  <filename xmlns:xlink="http://www.w3.org/1999/xlink">direct-server</filename>
              の例で充分でしょう.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename>
              にエントリを作成.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>ファイルを更新.</para>
          </step>
        </procedure>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ppp">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネル PPP の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">原作: Gennady B. Sorokopud <email xmlns:xlink="http://www.w3.org/1999/xlink">gena@NetVision.net.il</email>, Robert Huff <email xmlns:xlink="http://www.w3.org/1999/xlink">rhuff@cybercom.net</email>.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 石墨 紀孝 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">graphite@jp.FreeBSD.org</email>.<!-- <br> -->
	1996 年 9 月 6 日.</emphasis></para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネル PPP の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP の設定を始める前に, <command xmlns:xlink="http://www.w3.org/1999/xlink">pppd</command> が
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin</filename> にあり, また
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp</filename> という
        ディレクトリが存在することを確認してください.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pppd</command> はふたつのモードで動作します.</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</quote> モード.
            シリアル接続やモデムを利用して, そのマシンを
            外部のネットワークに PPP 接続したい場合に用います.</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">サーバ</quote> モード.
            そのマシンがネットワーク上にあるときに, PPP を使って
            ほかのコンピュータを接続する際に用います.</para>
        </listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どちらの場合でも, オプションファイルを設定する必要があります
        (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/options</filename> または, そのマシン上で
        PPP を使用する人が 複数いる場合には
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.ppprc</filename>).</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">また, ダイヤルとリモートホストへの接続をおこなうために,
        シリアル接続やモデムを 操作する,
        なんらかのソフトウェアが必要です (kermit
        が適しているでしょう).</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">PPP クライアントとしての動作</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">わたしは, CISCO ターミナルサーバの PPP 回線に接続するために,
	下記のような <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/options</filename>
	を使用しています.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">crtscts         # enable hardware flow control
modem           # modem control line
noipdefault     # remote PPP server must supply your IP address.
                # if the remote host doesn't send your IP during IPCP
                # negotiation , remove this option
passive         # wait for LCP packets
domain ppp.foo.com      # put your domain name here

:&lt;remote_ip&gt;    # put the IP of remote PPP host here
                # it will be used to route packets via PPP link
                # if you didn't specified the noipdefault option
                # change this line to &lt;local_ip&gt;:&lt;remote_ip&gt;

defaultroute    # put this if you want that PPP server will be your
                # default router</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接続方法:</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">kermit (またはその他のモデム操作プログラム)
	    を使ってリモートホストに ダイヤルし, 接続してください.
	    そして, あなたのユーザ名とパスワード (必要 であれば,
	    その他にもリモートホストで PPP を有効にするための操作)
	    を入力 します.</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">kermit を抜けてください. (回線を切断せずに)</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">下記のように入力します: </para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/usr.sbin/pppd.new/pppd /dev/tty01 19200</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">(通信速度とデバイス名には,
	    あなたの環境に適したものを入れてください)</para>
	</step>
      </procedure>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでこのコンピュータは PPP で接続されました. もし,
	なんらかの理由で 接続に失敗したならば,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/options</filename> ファイルに
	<option xmlns:xlink="http://www.w3.org/1999/xlink">debug</option>  オプションを追加して,
	問題点を突き止めるために, コンソールに表示される
	メッセージを調べてください.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下記の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/pppup</filename> スクリプトは,
	上記の作業を すべて自動的におこないます:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
ps ax |grep pppd |grep -v grep
pid=`ps ax |grep pppd |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
ps ax |grep kermit |grep -v grep
pid=`ps ax |grep kermit |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

ifconfig ppp0 down
ifconfig ppp0 delete

kermit -y /etc/ppp/kermit.dial
pppd /dev/tty01 19200</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/kermit.dial</filename> は kermit
	用のスクリプトで, ダイヤルして,
	リモートホストでの認証に必要なすべての処理をおこないます.
	(そのようなスクリプトの例は
	この文書の終わりに添付してあります)</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP 接続を切断するには, 下記のような
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/pppdown</filename> スクリプトを
	使用します:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
pid=`ps ax |grep pppd |grep -v grep|awk '{print $1;}'`
if [ X${pid} != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill -TERM ${pid}
fi

ps ax |grep kermit |grep -v grep
pid=`ps ax |grep kermit |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

/sbin/ifconfig ppp0 down
/sbin/ifconfig ppp0 delete
kermit -y /etc/ppp/kermit.hup
/etc/ppp/ppptest</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP が動作中かどうかを調べます
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/etc/ppp/ppptest</filename>):</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
pid=`ps ax| grep pppd |grep -v grep|awk '{print $1;}'`
if [ X${pid} != "X" ] ; then
        echo 'pppd running: PID=' ${pid-NONE}
else
        echo 'No pppd running.'
fi
set -x
netstat -n -I ppp0
ifconfig ppp0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">モデム回線を切断します
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/kermit.hup</filename>):</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">set line /dev/tty01	; put your modem device here
set speed 19200
set file type binary
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none

pau 1
out +++
inp 5 OK
out ATH0\13
echo \13
exit</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次は <command xmlns:xlink="http://www.w3.org/1999/xlink">kermit</command> の代わりに
	<command xmlns:xlink="http://www.w3.org/1999/xlink">chat</command> を使う方法です.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">原作: Robert Huff <email xmlns:xlink="http://www.w3.org/1999/xlink">rhuff@cybercom.net</email>.</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">pppd 接続を確立するためには,
	次の二つのファイルの設定だけで十分です.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/options</filename>:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa1 115200

crtscts		# enable hardware flow control
modem		# modem control line
connect "/usr/bin/chat -f /etc/ppp/login.chat.script"
noipdefault	# remote PPP serve must supply your IP address.
	        # if the remote host doesn't send your IP during
                # IPCP negotiation, remove this option
passive         # wait for LCP packets
domain &lt;your.domain&gt;	# put your domain name here

:		# put the IP of remote PPP host here
	        # it will be used to route packets via PPP link
                # if you didn't specified the noipdefault option
                # change this line to &lt;local_ip&gt;:&lt;remote_ip&gt;

defaultroute	# put this if you want that PPP server will be
	        # your default router</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/login.chat.script</filename>:</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">(実際には一行になります.)</para>
      </note>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ABORT BUSY ABORT 'NO CARRIER' "" AT OK ATDT&lt;phone.number&gt;
 CONNECT "" TIMEOUT 10 ogin:-\\r-ogin: &lt;login-id&gt;
 TIMEOUT 5 sword: &lt;password&gt;</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">正しくインストールし編集した後は,
	必要な事はこれだけです</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pppd</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このサンプルは主に Trev Roydhouse
	&lt;Trev.Roydhouse@f401.n711.z3.fidonet.org&gt;
	から寄せられた情報に基づいており,
	承諾を得て使用しています.</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">PPP サーバとしての動作</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/options</filename>:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">crtscts                         # Hardware flow control
netmask 255.255.255.0           # netmask ( not required )
192.114.208.20:192.114.208.165  # ip's of local and remote hosts
                                # local ip must be different from one
                                # you assigned to the ethernet ( or other )
                                # interface on your machine.
                                # remote IP is ip address that will be
                                # assigned to the remote machine
domain ppp.foo.com              # your domain
passive                         # wait for LCP
modem                           # modem line</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下記のような <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/pppserv</filename>
	スクリプトで, そのマシンを PPP
	サーバにすることができます.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
ps ax |grep pppd |grep -v grep
pid=`ps ax |grep pppd |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
ps ax |grep kermit |grep -v grep
pid=`ps ax |grep kermit |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi

# reset ppp interface
ifconfig ppp0 down
ifconfig ppp0 delete

# enable autoanswer mode
kermit -y /etc/ppp/kermit.ans

# run ppp
pppd /dev/tty01 19200</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP サーバを終了するには, この
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/pppservdown</filename> スクリプト
	を使用します:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
ps ax |grep pppd |grep -v grep
pid=`ps ax |grep pppd |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing pppd, PID=' ${pid}
        kill ${pid}
fi
ps ax |grep kermit |grep -v grep
pid=`ps ax |grep kermit |grep -v grep|awk '{print $1;}'`
if [ "X${pid}" != "X" ] ; then
        echo 'killing kermit, PID=' ${pid}
        kill -9 ${pid}
fi
ifconfig ppp0 down
ifconfig ppp0 delete

kermit -y /etc/ppp/kermit.noans</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下記の kermit スクリプトは, モデムの自動応答機能を有効,
	または無効にします
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/kermit.ans</filename>):</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">set line /dev/tty01
set speed 19200
set file type binary
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none

pau 1
out +++
inp 5 OK
out ATH0\13
inp 5 OK
echo \13
out ATS0=1\13   ; change this to out ATS0=0\13 if you want to disable
                ; autoanswer mod
inp 5 OK
echo \13
exit</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/kermit.dial</filename>
	スクリプトは, リモートホストに ダイヤルし,
	認証手続きをするのに使用します. あなたは必要に応じて, これを
	変更しないといけないでしょう.
	あなたのユーザ名とパスワードをこの
	スクリプトに書かなければいけませんし,
	モデムやリモートホストからの 応答によっては,
	入力待ちの文を変更する必要もあります.</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">;
; put the com line attached to the modem here:
;
set line /dev/tty01
;
; put the modem speed here:
;
set speed 19200
set file type binary            ; full 8 bit file xfer
set file names literal
set win 8
set rec pack 1024
set send pack 1024
set block 3
set term bytesize 8
set command bytesize 8
set flow none
set modem hayes
set dial hangup off
set carrier auto                ; Then SET CARRIER if necessary,
set dial display on             ; Then SET DIAL if necessary,
set input echo on
set input timeout proceed
set input case ignore
def \%x 0                       ; login prompt counter
goto slhup

:slcmd                          ; put the modem in command mode
echo Put the modem in command mode.
clear                           ; Clear unread characters from input buffer
pause 1
output +++                      ; hayes escape sequence
input 1 OK\13\10                ; wait for OK
if success goto slhup
output \13
pause 1
output at\13
input 1 OK\13\10
if fail goto slcmd              ; if modem doesn't answer OK, try again

:slhup                          ; hang up the phone
clear                           ; Clear unread characters from input buffer
pause 1
echo Hanging up the phone.
output ath0\13                  ; hayes command for on hook
input 2 OK\13\10
if fail goto slcmd              ; if no OK answer, put modem in command mode

:sldial                         ; dial the number
pause 1
echo Dialing.
output atdt9,550311\13\10               ; put phone number here
assign \%x 0                    ; zero the time counter

:look
clear                           ; Clear unread characters from input buffer
increment \%x                   ; Count the seconds
input 1 {CONNECT }
if success goto sllogin
reinput 1 {NO CARRIER\13\10}
if success goto sldial
reinput 1 {NO DIALTONE\13\10}
if success goto slnodial
reinput 1 {\255}
if success goto slhup
reinput 1 {\127}
if success goto slhup
if &lt; \%x 60 goto look
else goto slhup

:sllogin                        ; login
assign \%x 0                    ; zero the time counter
pause 1
echo Looking for login prompt.

:slloop
increment \%x                   ; Count the seconds
clear                           ; Clear unread characters from input buffer
output \13
;
; put your expected login prompt here:
;
input 1 {Username: }
if success goto sluid
reinput 1 {\255}
if success goto slhup
reinput 1 {\127}
if success goto slhup
if &lt; \%x 10 goto slloop         ; try 10 times to get a login prompt
else goto slhup                 ; hang up and start again if 10 failures

:sluid
;
; put your userid here:
;
output ppp-login\13
input 1 {Password: }
;
; put your password here:
;
output ppp-password\13
input 1 {Entering SLIP mode.}
echo
quit

:slnodial
echo \7No dialtone.  Check the telephone line!\7
exit 1

; local variables:
; mode: csh
; comment-start: "; "
; comment-start-skip: "; "
; end:</programlisting>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pppoe">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"> PPP オーバイーサネット (PPPoE) の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">原作: Jim Mock  ( <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://node.to/freebsd/how-tos/how-to-freebsd-pppoe.html">node.to</link> より) 10 Jan 2000.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の解説は, PPPoE として知られる,
      PPP オーバイーサネットの設定法です.</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">必要なもの</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのシステムで PPPoE を適切に機能させるためには,
        以下のものが必要です.</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 3.4やそれより新しいバージョンのカーネルソース</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 3.4やそれより新しいバージョンの<application xmlns:xlink="http://www.w3.org/1999/xlink">ppp</application></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィギュレーション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に示すオプションをカーネルコンフィギュレーションファイルに
        追加して, その後 <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">新しいカーネルを
        コンパイルする</link>必要があります.</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">options NETGRAPH</para>
        </listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は任意</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">options NETGRAPH_PPPOE</para>
        </listitem>

        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">options NETGRAPH_SOCKET</para>
        </listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
        この機能は実行時には有効ではありませんが, 要求に応じて
        <application xmlns:xlink="http://www.w3.org/1999/xlink">ppp</application> は関係のあるモジュールを
        読み込みます.
      </para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename> の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは動作している <filename xmlns:xlink="http://www.w3.org/1999/xlink">ppp.conf</filename> の
        例です:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">default: # or name_of_service_provider
  set device PPPoE:xl1 # replace xl1 with your ethernet device
  set mru 1492
  set mtu 1492
  set authname YOURLOGINNAME
  set authkey YOURPASSWORD
  set log Phase tun command # you can add more detailed logging if you wish
  set dial
  set login
  set ifaddr 10.0.0.1/0 10.0.0.2/0
  add default HISADDR
  nat enable yes # if you want to enable nat for your local net

papchap:
  set authname YOURLOGINNAME
  set authkey YOURPASSWORD</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
        <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../FAQ/ppp.html#PPPoEwithNAT">
        <option xmlns:xlink="http://www.w3.org/1999/xlink">-nat</option>オプションを付けてPPPoE
        </link>を起動する際には注意するべきです.
      </para>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">PPP</application> の起動</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下を root 権限において実行することで,
        起動させることができます:</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ppp -ddial name_of_service_provider</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システム起動時に <application xmlns:xlink="http://www.w3.org/1999/xlink">PPP</application> を立ち上げる</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルに以下の行を追加
        してください:</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ppp_enable="YES"
ppp_mode="ddial"
ppp_nat="YES"
ppp_profile="default" # or your provider</programlisting>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slip">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">SLIP の利用</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">原作: 浅見 賢 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">asami@FreeBSD.org</email>,Guy Helmer, 協力: Wilko Bulte,
      Piero Serini.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 花井 浩之 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hanai@FreeBSD.org</email><!-- <br> -->
        1996 年 8 月 8 日.</emphasis></para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slipc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SLIPクライアントのセットアップ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここには FreeBSD
        マシンを静的アドレスのネットワークにつなげる場合の
        SLIPのセットアップの一つの方法を書いてあります.
        ホスト名を動的に割り当てる(つまり,
        ダイヤルアップするたびにアドレスが かわる)ためには,
        おそらくもっと凝ったことが必要です.</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">まず,
        モデムがどのシリアルポートにつながっているか決めましょう. 私は
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa1</filename> から
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/modem</filename>へというシンボリックリンクを張り,
        コンフィグレーションではその名前だけを使っています.
        <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> や<filename xmlns:xlink="http://www.w3.org/1999/xlink">.kermrc</filename>
        など, システム全体に散らばっているファイルを修正する
        必要がでるとまったく煩わしいのです!</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/cuaa0</filename>は
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">COM1</filename>であり,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">cuaa1</filename>は<filename xmlns:xlink="http://www.w3.org/1999/xlink">COM2</filename>です.</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコンフィグレーションファイルに

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device   sl      1</programlisting>

        という記述があるのを確認してください.
        これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルに含まれている
        ので削除していない限り大丈夫でしょう.</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">最初の設定</title>

        <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
              ファイルにあなたのマシンのゲートウェイとネームサーバ
              を加えてください.  私のは以下のようになっています.</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">127.0.0.1               localhost loghost
136.152.64.181          silvia.HIP.Berkeley.EDU silvia.HIP silvia
136.152.64.1            inr-3.Berkeley.EDU inr-3 slip-gateway
128.32.136.9            ns1.Berkeley.edu ns1
128.32.136.12           ns2.Berkeley.edu ns2</programlisting>
	  </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/host.conf</filename> ファイル中で
              <option xmlns:xlink="http://www.w3.org/1999/xlink">hosts</option>が<option xmlns:xlink="http://www.w3.org/1999/xlink">bind</option>
              よりも前にあること を確認してください.
              さもないとヘンなことが起こるかもしれません.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
              ファイルを編集してください. なお, お使いの  FreeBSD が
              2.2.2 よりも前のバージョンのものの場合は,
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysconfig</filename>
              を編集してください.</para>

            <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">行</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">hostname=myname.my.domain</quote></programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">を編集してホスト名をセットしてください.
                  完全なInternetホスト名を与えるべきです.</para>
              </listitem>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">行</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">network_interfaces="lo0"</quote></programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">を</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">network_interfaces="lo0 sl0"</quote></programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">へ変更することにより
                  ネットワークインタフェースのリストに sl0
                  を加えてください.</para>
              </listitem>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">行</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig_sl0="inet ${hostname} slip-gateway netmask 0xffffff00 up"</programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">を加えて sl0
                  のスタートアップフラグをセットしてください.</para>
              </listitem>

              <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
                <para xmlns:xlink="http://www.w3.org/1999/xlink">行</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">defaultrouter=NO</quote></programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">を</para>

                <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">defaultrouter=slip-gateway</quote></programlisting>

                <para xmlns:xlink="http://www.w3.org/1999/xlink">へ変更してデフォルトのルータを
                  指定してください.</para>
              </listitem>
            </orderedlist>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">次の</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">domain HIP.Berkeley.EDU
nameserver 128.32.136.9
nameserver 128.32.136.12</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">という内容を含むファイル
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> を作ってください.
              見ればわかるように,
              これらはネームサーバホストを設定しています. もちろん,
              実際のドメイン名やアドレスは
              あなたの環境に依存します.</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">root と toor
              (及びパスワードを持っていない他のアカウントすべて)
              のパスワード を設定してください.
              passwdコマンドを使いましょう.
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename> や
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
              といったファイルを編集してはいけません!</para>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">マシンを再起動して正しいホスト名で
              立ち上がることを確認してください.</para>
          </step>
        </procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">SLIP接続をおこなう</title>

        <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">モデムを起動, つながったらプロンプトで
              <command xmlns:xlink="http://www.w3.org/1999/xlink">slip</command>とタイプし, マシン名と
              パスワードを入力してください.
              入力する必要があるものは環境に よって異なります.
              私は次のようなスクリプトでkermitを使っています.</para>

            <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># kermit setup
set modem hayes
set line /dev/modem
set speed 115200
set parity none
set flow rts/cts
set terminal bytesize 8
set file type binary
# The next macro will dial up and login
define slip dial 643-9600, input 10 =&gt;, if failure stop, -
output slip\x0d, input 10 Username:, if failure stop, -
output silvia\x0d, input 10 Password:, if failure stop, -
output ***\x0d, echo \x0aCONNECTED\x0a</programlisting>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">(もちろん,
              ホスト名とパスワードは変える必要があります).
              接続するためには kermit のプロンプトで
              <command xmlns:xlink="http://www.w3.org/1999/xlink">slip</command>とタイプするだけです.</para>

            <note xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステムのどんなところにもプレインテキスト
                にパスワードを書いておくのは一般的にはよくありません.
                覚悟の上で やってください.
                私は単に不精なだけです.</para>
            </note>
          </step>

          <step xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでkermitから抜け出し
              (<command xmlns:xlink="http://www.w3.org/1999/xlink">z</command>でkermitをサスペンドできます), root
              で</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">slattach -h -c -s 115200 /dev/modem</userinput></screen>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">と入力しましょう. もしルータの向う側のホストへ
              <command xmlns:xlink="http://www.w3.org/1999/xlink">ping</command> できるなら接続成功です! もしうまく
              いかなければslattachへの引数として <option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option>
              の代わりに<option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option>とやってみてください.</para>
          </step>
        </procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">接続の切り方</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">slattachを殺すためにrootで

          <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -INT `cat /var/run/slattach.modem.pid`</userinput></screen>

          とタイプしてください. そして kermit に戻り
          (もしkermitをサスペンドしていたなら
          <command xmlns:xlink="http://www.w3.org/1999/xlink">fg</command>), kermitから抜けてください
          (<command xmlns:xlink="http://www.w3.org/1999/xlink">q</command>).</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">slattachのマニュアルページにはインタフェースを落すために
          <command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig sl0
            down</command>をしなければいけないと書いていますが,
          私には差がないように見えます. (<command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig
            sl0</command>とやっても同じ結果が得られる.)</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">時にはモデムがキャリアを落すのを
          拒絶するかもしれません(私のは よくそうなります).
          その時は単にkermitをスタートしてまた終了 してください.
          普通は2回目で落ちます.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">もし動かなければ自由に私に質問してください.
          今までいろんな人がつまずいた のは次のようなことです.</para>

        <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">slattach で <option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option> や <option xmlns:xlink="http://www.w3.org/1999/xlink">-a</option>
              を使わなかった(私はなぜこれが致命的になり得るのか
              わかりませんが, このフラグを付けることで少なくとも一人の
              問題は解決しました.)</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">sl0</option> の代わりに <option xmlns:xlink="http://www.w3.org/1999/xlink">s10</option>
              を使った(いくつかのフォントでは見分けるのは難しい
              かもしれません).</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">インタフェースの状態を見るために <command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig
                sl0</command> をやってみてください. 私は,</para>

            <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig sl0</userinput>
sl0: flags=10&lt;POINTOPOINT&gt;
        inet 136.152.64.181 --&gt; 136.152.64.1 netmask ffffff00</screen>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">となります.</para>
          </listitem>

          <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink">また, pingが <quote xmlns:xlink="http://www.w3.org/1999/xlink">no route to host</quote>
              というメッセージを返す時には <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat
                -r</command>でルーティングテーブルを確認しましょう.
              私のは,</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">netstat -r</userinput>
Routing tables
Destination      Gateway            Flags     Refs     Use  IfaceMTU    Rtt
Netmasks:
(root node)
(root node)

Route Tree for Protocol Family inet:
(root node) =&gt;
default          inr-3.Berkeley.EDU UG          8   224515  sl0 -      -
localhost.Berkel localhost.Berkeley UH          5    42127  lo0 -       0.438
inr-3.Berkeley.E silvia.HIP.Berkele UH          1        0  sl0 -      -
silvia.HIP.Berke localhost.Berkeley UGH        34 47641234  lo0 -       0.438
(root node)</screen>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">となります.
              (これはたくさんのファイルを転送した後でのもので,
              あなたの見る数字はもっと小さいかも
              しれません).</para>
          </listitem>
        </itemizedlist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slips">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">SLIPサーバのセットアップ方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 冨田 重成 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">ts@icu.ac.jp</email>.<!-- <br> -->
          1996 年 9 月 6 日.</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書の目的は, SLIPサーバ機能を
        FreeBSDシステムのもとで設定するため の助言を提供することです.
        SLIPサーバ機能を設定するということは, リモー トの
        SLIPクライアントがログインできるようにするために, 自動的に接続処
        理をおこなうようにすることです.
        この文書は著者の経験に基づいておりますが,
        実際のシステム構成や要望は異なりますから,
        すべての疑問にこの文書が答え ることはできません. なお,
        ここでの助言を試みた結果, あなたのシステムへ
        の悪影響やデータの損失が生じたとしても,
        著者が責任を持つことはできませ
        んのでご了解をお願いします.</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="slips-prereqs">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">前提</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書の内容はテクニカルなものなので,
          前提知識が必要です. すなわち,
          TCP/IPネットワークプロトコルについての知識, 特に,
          ネットワークとノード のアドレス指定をはじめ,
          ネットワークアドレスマスク, サブネット化, ルー ティング,
          および RIPなどのルーティングプロトコルなどに関する知識を前提
          としています. ダイヤルアップサーバで
          SLIP機能を設定するためには, これ
          らの概念についての知識が必要ですから,
          もし不案内であると思われる方は, O'Reilly &amp; Associates,
          Inc.から出版されている Craig Hunt氏の  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP
            Network Administration</emphasis> (ISBN 0-937175-82-X)か,
          または  Douglas Comer氏の
          TCP/IPプロトコルに関する一連の書籍をお読みください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">前提知識に加え, さらに, モデムの設定が完了しており,
          そのモデムを経由し てログインできるように,
          システムファイル群が適切に記述できているものと 仮定しています.
          もしモデムの準備ができていないときには, あらかじめダイヤ
          ルアップ機能の設定についてのチュートリアルをお読みください.
          Webブラ ウザが使えるのであれば
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/"> http://www.FreeBSD.org/
          </link> におけるチュー トリアルの一覧を調べてください.
          あるいは, この文書を見つけた場所を調べ て,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">dialup.txt</filename>
          やそれに類似した名前の文書をお読みください. 関連す
          るマニュアルページとしては,
          シリアルポート向けデバイスドライバについて
          の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> をはじめ, モデムからのログインを
          受理できるようにシステ
          ムを設定するための <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ttys</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gettytab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">getty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>,
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">init</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> など, さらには, シリアルポート関連パラメータ ( たと
          えば直接接続シリアルインタフェースの
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">clocal</literal> ) についての
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">stty</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>  なども助けになるかもしれません.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">概要</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的な設定内容で FreeBSDを SLIPサーバとして利用すると,
          その動作は次 のようになります. まず, SLIPユーザが FreeBSD
          による SLIPサーバへ電話し て, SLIP専用IDでログインします.
          なお, このIDを持ったユーザはシェルとし て
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/sliplogin</filename> を使います. この
          <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> は, ファイル
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.hosts</filename> の中から,
          ログインIDと一致する 記述行を探します. もし一致する行があれば,
          ログインしたシリアル回線を,  利用可能な
          SLIPインタフェースへ接続し, その後にシェルスクリプト
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename> で
          SLIPインタフェースを設定します.</para>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">SLIPサーバへのログイン例</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">仮に SLIPユーザIDが <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">Shelmerg</systemitem>
            とします. すると, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
            における <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">Shelmerg</systemitem> のエントリは次のよ
            うなものになります (実際には一つの行に続いている) .</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Shelmerg:password:1964:89::0:0:Guy Helmer - SLIP:/usr/users/Shelmerg:/usr/sbin/sliplogin</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">Shelmerg</systemitem> がログインすると,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> は, ファイル
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.hosts</filename>
            からユーザIDと一致する行を探しま す. いま仮に,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.hosts</filename>
            に次のような記述がなされていたとします.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">Shelmerg        dc-slip sl-helmer       0xfffffc00      autocomp</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command>
            が上記のエントリを見つけると,
            <emphasis xmlns:xlink="http://www.w3.org/1999/xlink" remap="tt">Shelmerg</emphasis> が使用して
            いるシリアル回線を, 利用可能な
            SLIPインタフェースのなかの最初のものへ 接続し, 次の内容の
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename>
            を実行します.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login 0 19200 Shelmerg dc-slip sl-helmer 0xfffffc00 autocomp</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">もし上記の手順が正常に処理されると,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename>  は,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> が割り当てた SLIPインタフェース
            (この例では  <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename>
            で与えられたパラメータのうちで最初の値である SLIP
            インタフェース0である) に対して <command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</command>
            を実行し, ローカル  IPアドレス
            (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">dc-slip</systemitem>)をはじめ, リモート IPアドレス
            (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">sl-helmer</systemitem>),
            SLIPインタフェースへのネットワークマスク
            (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">0xfffffc00</systemitem>), およびその他のフラグ
            (<literal xmlns:xlink="http://www.w3.org/1999/xlink">autocomp</literal>)を設定 します. 逆に,
            さきほどの手順が正常に終了しなかった場合, 通常は
            <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> は十分な情報を syslog の
            <literal xmlns:xlink="http://www.w3.org/1999/xlink">daemon</literal> 機能経由で  <!-- kuriyama -
            facility? -->
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/messages</filename> へ記録します
            ( <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> や
            <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslog.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> のマニュアルページを参照のうえ, さらに
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/syslog.conf</filename> を調べて
            <command xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</command> がどのファイルへ記
            録するかを確認のこと) .</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">例はこのくらいにして,
            さっそくシステムのセットアップを始めてみましょう.</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルのコンフィグレーション</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のデフォルトのカーネルには, 通常, 二つの
          SLIPインタフェースが 準備されています
          (<filename xmlns:xlink="http://www.w3.org/1999/xlink">sl0</filename> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">sl1</filename>)
          . これらのインタフェー
          スが使用中のカーネルに準備されているかどうかを調べるには,
          <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command> を実行してください.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command> の出力例</para>

        <screen xmlns:xlink="http://www.w3.org/1999/xlink">Name  Mtu   Network     Address            Ipkts Ierrs    Opkts Oerrs  Coll
ed0   1500  &lt;Link&gt;0.0.c0.2c.5f.4a         291311     0   174209     0   133
ed0   1500  138.247.224 ivory             291311     0   174209     0   133
lo0   65535 &lt;Link&gt;                            79     0       79     0     0
lo0   65535 loop        localhost             79     0       79     0     0
sl0*  296   &lt;Link&gt;                             0     0        0     0     0
sl1*  296   &lt;Link&gt;                             0     0        0     0     0</screen>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command> の出力に
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">sl0</filename> と <filename xmlns:xlink="http://www.w3.org/1999/xlink">sl1</filename>
          のインタフェー スが含まれているということから,
          カーネルには二つの SLIPインタフェー
          スが組み込まれているということを示しています.
          (<literal xmlns:xlink="http://www.w3.org/1999/xlink">sl0</literal> と  <literal xmlns:xlink="http://www.w3.org/1999/xlink">sl1</literal>
          に付いたアスタリスクは, <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command>
          の実行時点で はインタフェースが <quote xmlns:xlink="http://www.w3.org/1999/xlink">ダウン</quote>
          していることを表しています. )</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">なお, パケットのフォワード機能は FreeBSD
          のデフォルトのカーネルでは設定 されていません
          (すなわちルータとしては動作しない) . もしインターネット
          接続ホストについての RFC要件 ( RFC 1009 [Requirements for
          Internet Gateways] と 1122 [Requirements for Internet Hosts
          ― Communication Layers], おそらく 1127 [A Perspective on
          the Host Requirements RFCs] も ) に準拠して, FreeBSDによる
          SLIPサー バをルータとして動作させたいときには,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> (バージョ ン 2.2.2 より前の
          FreeBSD では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysconfig</filename>) ファイル の
          <literal xmlns:xlink="http://www.w3.org/1999/xlink">gateway_enable</literal> 変数を <option xmlns:xlink="http://www.w3.org/1999/xlink">YES</option>
          としてください. もし古いシステ ムで
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysconfig</filename> ファイルすらないときには,
          次のコマン ドを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.local</filename>
          へ追加してください.</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sysctl -w net.inet.ip.forwarding = 1</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この新しい設定を有効とするには,
          リブートする必要があります.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトのカーネルコンフィグレーションファイル
          (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/sys/i386/conf/GENERIC</filename>) の最後の部分に,
          次のような行がありま す.</para>

        <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device sl 2</programlisting>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">この行によって, 使用可能な SLIPデバイスの総数が決まります.
          すなわち, 行 末の数値が, 同時に動作可能な
          SLIP接続の最大数となります.</para>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルの再構築については,
          <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig">FreeBSDカー
            ネルのコンフィグレーション</link> を参照ください.</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">Sliploginのコンフィグレーション</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink">すでにご説明したように,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/sbin/sliplogin</filename> のコンフィグレー
          ションのために,
          3種類のファイルが<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome</filename>
          ディレクトリに あります (<command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command>
          についての実際のマニュアルページとしては
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照のこと) .
          ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.hosts</filename> は
          SLIPユーザおよびその IPアドレスを決めます. 通常, ファイル
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename> は,
          SLIPインタフェースを設定することだけに使
          用します. <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.logout</filename>
          はオプションのファイルで,
          <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename> で設定した内容を,
          シリアル接続が終了した時点で解除
          するときに使用します.</para>

        <sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.hosts</filename>
	  のコンフィグレーション</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.hosts</filename> には,
            少なくとも 4 つの項目をホワイ トスペース (スペースやタブ)
            で区切って指定します.</para>

          <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">SLIPユーザのログインID</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">SLIPリンクのローカル (SLIPサーバ側) アドレス</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">SLIPリンクのリモートアドレス</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークマスク</para>
            </listitem>
          </itemizedlist>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名をローカルおよびリモートのアドレスとして
            記述できます (IPアドレ スの決定は,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/host.conf</filename> の指定内容に応じて,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename> か
            DNSのいずれかによって決定される) . また, ネット
            ワークマスクも <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/networks</filename>
            ファイルに記述された名前を参照す ることで,
            指定することもできると思います. これまでの例としてあげたシス
            テムでの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.hosts</filename>
            は次のようになります.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# login local-addr      remote-addr     mask            opt1    opt2
#                                               (normal,compress,noicmp)
#
Shelmerg  dc-slip       sl-helmerg      0xfffffc00      autocomp</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">それぞれの行の最後には,
            次に示すオプションを一つ以上指定できます.</para>

          <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">normal</option> ― ヘッダを圧縮しない</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">compress</option> ― ヘッダを圧縮する</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">autocomp</option> ―
                リモートの設定に応じて, ヘッダを圧縮する</para>
            </listitem>

            <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
              <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">noicmp</option> ―
                ICMPパケットを禁止する
                ( <quote xmlns:xlink="http://www.w3.org/1999/xlink">ping</quote> パケットは送出されず,
                バンド幅を占有しない)</para>
            </listitem>
          </itemizedlist>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">なお, FreeBSDバージョン2の初期リリースの
            <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> は, 旧  FreeBSD
            1.xでは有効であった上記のオプションを無視していましたので,
            <option xmlns:xlink="http://www.w3.org/1999/xlink">normal</option>, <option xmlns:xlink="http://www.w3.org/1999/xlink">compress</option>,
            <option xmlns:xlink="http://www.w3.org/1999/xlink">autocomp</option>, そして <option xmlns:xlink="http://www.w3.org/1999/xlink">noicmp</option>
            などのオプションは FreeBSD
            2.2でサポートされるまでは効果がありませんでした (た
            だしこれらのフラグを使うためには
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename> スクリプトへ記述する
            必要がある) .</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">SLIPリンクでのローカルとリモート向けのアドレスの
            選び方は, TCP/IPサブネッ トを専用に割り当てるか,
            または <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ ARP</quote> を
            SLIPサーバへ用いるかによって違います ( <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ
              ARP</quote> という用語のここでの使い方は本来のものではないが,
            説明のためにこの用語を使う) . もし,
            どちらの方式を選ぶべきか判らなかったり,
            IPアドレスの割り当て方が不明のときには, 上述の
            <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="slips-prereqs">前提</link> の節で紹介した
            TCP/IP関連書籍を参考になさるか,  またはあなたの
            IPネットワークを管理している方に相談なさると
            よいでしょう.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">独立したサブネットを SLIPクライアントへ適用するときには,
            すでに割り当てられている
            IPネットワーク番号の範囲からサブネット番号を割り当て, 同
            時にそのサブネットの範囲内で有効な IPアドレスを
            SLIPクライアントの IP 番号として割り当てる必要があります.
            さらに, この SLIPサブネットから SLIPサーバを経由して最も近い
            IPルータへの経路を静的に設定するか, または
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command> を FreeBSDによる
            SLIPサーバへインストールして, 適当
            なルーティングプロトコルを使って,
            SLIPサーバ経由のサブネットへの経路情
            報をルータ群へ通知できるように設定するか,
            のいずれかをおこなう必要があります.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ ARP</quote> 方式を採用するときには,
            SLIPクライアント向けの IPアドレス
            として, SLIPサーバのサブネットの範囲から
            選んで割り当てるとともに,
            <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">arp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを使うために
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename>
            と<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.logout</filename>
            のスクリプトを修正して, SLIPサー
            バにおける ARPテーブル内のプロキシ ARPエントリへ
            反映させる必要がありま
            す.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename>
            のコンフィグレーション</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename>
            の一般的な内容は次にようになります.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh -
#
#	@(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">この <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename>
            ファイルの役目は単に, SLIPインタフェースにつ
            いてのローカルとリモートのアドレス,
            およびそのネットワークマスクを  <command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</command>
            コマンドで設定することです.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ ARP</quote> 方式を採用する
            (SLIPクライアントへ独立したサブネットを使わない) ときには,
            ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename>
            は次のような内容になります.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh -
#
#	@(#)slip.login  5.1 (Berkeley) 7/1/90

#
# generic login file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 inet $4 $5 netmask $6
# Answer ARP requests for the SLIP client with our Ethernet addr
/usr/sbin/arp -s $5 00:11:22:33:44:55 pub</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">この <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename> で追加された行
            <command xmlns:xlink="http://www.w3.org/1999/xlink">arp -s $5 00:11:22:33:44:55 pub</command> は,
            SLIPサーバにおける ARPテーブルへ新たなエントリを作ります.
            SLIPサーバ は, この ARPエントリが作られると,
            SLIPクライアントの IPアドレスと話し たい他の
            IPノードが要求してきたときにはいつも, SLIPサーバ の Ethernet
            MACアドレスを返すようになります.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例を実際に流用なさるときには, 例にある Ethernet
            MACアドレス  (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="etheraddress">00:11:22:33:44:55</systemitem>)
            を, あなたのシステムの実際のEthernetカー ドの
            MACアドレスと置き換えなければ <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ
              ARP</quote> はうまく動作しません!  SLIPサーバの Ethernet
            MACアドレスを調べるには <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command> コマ
            ンドを利用してください.
            実行結果の第2行は次のようなものになるはずです.</para>

          <screen xmlns:xlink="http://www.w3.org/1999/xlink">ed0   1500  &lt;Link&gt;0.2.c1.28.5f.4a         191923     0   129457     0   116</screen>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">この例での Ethernet MACアドレスは
            <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="etheraddress">00:02:c1:28:5f:4a</systemitem> であると
            読みます. なお <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">arp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> における MAC
            アドレスの指定に際しては,
            コマンド <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat -i</command> が付けた
            Ethernet MACアドレスのピリオド記
            号をコロン記号と置き換え, かつ単一桁の 16
            進数にはゼロを先頭に加える必
            要があります. この指定についての正確な情報は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">arp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
            を参照く
            ださい.</para>

          <note xmlns:xlink="http://www.w3.org/1999/xlink">
            <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.login</filename> と
              <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.logout</filename>
              を作成したならば, ファイル属性の <quote xmlns:xlink="http://www.w3.org/1999/xlink">実行</quote> ビット
              (すなわち  <command xmlns:xlink="http://www.w3.org/1999/xlink">chmod 755 /etc/sliphome/slip.login
                /etc/sliphome/slip.logout</command>) を
              設定しなければなりません. さもなければ
              <command xmlns:xlink="http://www.w3.org/1999/xlink">sliplogin</command> が
              うまく実行されません.</para>
          </note>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.logout</filename>
            のコンフィグレーション</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.logout</filename>
            は必ずしも必要なものではあ りません (ただし <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ
              ARP</quote> を利用する場合を除く) . もしこのファイルを
            作成するときには, 次に示す標準的な
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.logout</filename> スクリプト例を
            参考にしてください.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh -
#
#	slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ ARP</quote> を利用する場合, この
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.logout</filename> を 使って,
            特定の SLIPクライアント向けの
            ARPエントリを削除したくなるようなときがあります.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh -
#
#       @(#)slip.logout

#
# logout file for a slip line.  sliplogin invokes this with
# the parameters:
#      1        2         3        4          5         6     7-n
#   slipunit ttyspeed loginname local-addr remote-addr mask opt-args
#
/sbin/ifconfig sl$1 down
# Quit answering ARP requests for the SLIP client
/usr/sbin/arp -d $5</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">コマンド <command xmlns:xlink="http://www.w3.org/1999/xlink">arp -d $5</command> は,
            SLIPクライアントがログインした 際に, <quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ
              ARP</quote> を使った <filename xmlns:xlink="http://www.w3.org/1999/xlink">slip.login</filename>
            によって追加され た ARPエントリを削除します.</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">これによって, 繰り返して利用することができるわけです.
            必ず, <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sliphome/slip.logout</filename>
            を作成した後に, 実行ビットを設定し てください (
            <command xmlns:xlink="http://www.w3.org/1999/xlink">chmod 755 /etc/sliphome/slip.logout</command> )
            .</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
        <title xmlns:xlink="http://www.w3.org/1999/xlink">ルーティングについての考慮点</title>

        <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">プロキシ ARP</quote> 方式を利用せずに
          SLIPクライアントとその他のネットワーク  (Internetも含む)
          の構成要素との間でパケットをルーティングするときには,
          SLIPサーバ経由で
          SLIPクライアントが属するサブネットまでの経路を, 最も
          近いデフォルトのルータ群へ静的な経路情報として
          追加しなければならないか,  または <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command> を
          FreeBSDによる SLIPサーバへインストールして, SLIP
          サブネットについての経路情報を,
          適当なルーティングプロトコルでルー
          タ群へ通知できるように設定するか,
          のどちらかをおこなわなければなりません.</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink">静的な経路</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">静的な経路を最も近いデフォルトの
            ルータ群へ追加することが困難なことがあ ります
            (経路情報を追加できる権限がなければそもそも不可能となる).
            もし あなたの組織に複数のルータで構成された
            ネットワークがあるならば, ある種 のルータ (たとえば Ciscoや
            Proteonなど) は, 静的な経路を SLIPサブネッ
            トへ使うようにルータを設定しなければならないだけでなく,
            その静的経路を 他のどのルータへ知らせるのかもあらかじめ
            指定しておく必要がありますから,
            静的経路に基づくルーティングを軌道に乗せるには
            それなりの専門的技術やト
            ラブルシューティングやコツが必要だと思います.</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
          <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>の稼働</title>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">静的経路についての頭痛への代替手段は,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command> を FreeBSDによる SLIPサー
            バへインストールして, 適切なルーティングプロトコル
            (RIP/OSPF/BGP/EGP)  を使って
            SLIPサブネットについての経路情報を他のルータへ知らせるように
            設定することです. <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">ports
              コレクション</link>から  <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            を用いることもできますし,
            <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.gated.merit.edu/research.and.development/gated/">
              GateD 匿名 FTP サイト</link>
            から探して自分自身で構築することもで きます.
            この文章を執筆時点の最新バージョンは
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">gated-R3_5Alpha_8.tar.Z</filename> であり,
            このファイル <quote xmlns:xlink="http://www.w3.org/1999/xlink">だけで</quote> FreeBSDで 動作させることができます.
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command> についてのすべての情報と文書 は
            <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.gated.merit.edu/">
              Merit GateD コンソーシアム</link> からはじまる Web
            上で入手でき ます. <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            のコンパイルとインストールを行ったならば,
            独自の 設定のために <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/gated.conf</filename>
            ファイルを記述してください. 次の 例は,
            筆者が FreeBSDによる SLIP
            サーバで使っている内容と類似のものです.</para>

          <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# gated configuration file for dc.dsu.edu; for gated version 3.5alpha5
# Only broadcast RIP information for xxx.xxx.yy out the ed Ethernet interface
#
#
# tracing options
#
traceoptions "/var/tmp/gated.output" replace size 100k files 2 general ;

rip yes {
 interface sl noripout noripin ;
 interface ed ripin ripout version 1 ;
 traceoptions route ;
} ;

#
# Turn on a bunch of tracing info for the interface to the kernel:
kernel {
 traceoptions remnants request routes info interface ;
} ;

#
# Propagate the route to xxx.xxx.yy out the Ethernet interface via RIP
#

export proto rip interface ed {
        proto direct {
                <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">xxx.xxx.yy</replaceable> mask 255.255.252.0 metric 1; # SLIP connections
        } ;
} ;

#
# Accept routes from RIP via ed Ethernet interfaces

import proto rip interface ed {
        all ;
} ;</programlisting>

          <para xmlns:xlink="http://www.w3.org/1999/xlink">この <filename xmlns:xlink="http://www.w3.org/1999/xlink">gated.conf</filename> ファイルの例では,
            SLIPのサブネット  <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">xxx.xxx.yy</replaceable>
            についての経路情報を RIPを使って Ethernetへブロー
            ドキャストしています. もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">ed</filename>
            ドライバ以外の Ethernetドライバを使うのであれば,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">ed</filename>
            インタフェースの記述を適切なものに置き換えてくだ さい.
            またこの例では,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>の動作をデバッグするために,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/tmp/gated.output</filename>
            へトレース情報を出力するように指示して います.
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command> が希望通りに動作したならば,
            このトレースオプショ ンを止めることができます. なお,
            例における <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">xxx.xxx.yy</replaceable> を, あ
            なた自身の
            SLIPサブネットのネットワークアドレスに換えてください (また
            <literal xmlns:xlink="http://www.w3.org/1999/xlink">proto direct</literal>
            部分のネットワークマスクも換えることを忘れないこ と)
            .</para>

          <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            のコンパイルとインストールが終了し, コンフィグレーショ
            ンファイルの作成も完了したら,
            FreeBSDシステムではデフォルトの
            <command xmlns:xlink="http://www.w3.org/1999/xlink">routed</command>に代わって <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            を起動してください. そのため には,
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/netstart</filename> の
            <filename xmlns:xlink="http://www.w3.org/1999/xlink">routed/gated</filename> 起動パラメータを
            適切な値に設定してください. <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            のコマンドラインパラメータにつ いての情報は,
            <command xmlns:xlink="http://www.w3.org/1999/xlink">gated</command>
            のマニュアルページを参照してください.</para>
        </sect4>
      </sect3>
    </sect2>
  </sect1>
</chapter>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: 1.88
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="mail">
  <info><title xmlns:xlink="http://www.w3.org/1999/xlink">電子メール</title>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Bill</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lloyd</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
    </authorgroup>
    <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
      <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jim</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Mock</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">改訂: </contrib></author>
    </authorgroup>
  </info>

  

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 田中 美穂子 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Mihoko_Tanaka@yokogawa.co.jp</email>. 14 January 1997.</emphasis></para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">電子メール</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">電子メール</quote>、email としてのほうが知られているでしょう、
      は現代で最も広く利用されているコミュニケーション手段の一つです。
      この章では FreeBSD 上でメールサーバを実行するための基本的な導入を説明します。
      しかし、この文書は完璧な参考文献ではなく、
      実際のところ考慮すべき重要な点の多くが省略されています。
      この件について、より網羅したものについては <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="bibliography"/>
      に掲載されている多くの優れた書籍を参照してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、以下の分野について説明します。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">電子メールの送受信に関係しているソフトウェアの構成要素</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  の基本的な設定ファイルのある場所</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">スパマーがあなたのメールサーバを踏台として不正に使用することを防ぐ方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのシステムに <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  の置き換えとなる代替の MTA をインストールして設定する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバにまつわる共通の問題の解決法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">UUCP とともに SMTP を使う方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップ接続でメールを使う方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティを向上するために SMTP 認証を設定する方法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを理解しておく必要があります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク接続の適切な設定方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/>)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのメールホストに対する DNS 情報の適切な設定方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="advanced-networking"/>)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">サードパーティ製ソフトウェアのインストール方法
	  (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>)</para></listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-using">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">電子メールを使う</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">POP</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IMAP</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">email の交換には 5 つの主要な部分があります。
      それらは <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-mua">ユーザープログラム</link>、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-mta">サーバーデーモン</link>、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-dns">DNS</link>、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-receive">POP もしくは IMAP のデーモン</link>、
      そしてもちろん <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-host">メールホスト</link>です。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-mua">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ユーザープログラム</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつか名前を挙げれば、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">mutt</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">pine</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">elm</application> そして
	<application xmlns:xlink="http://www.w3.org/1999/xlink">mail</application>
	といったコマンドラインプログラムや
	<application xmlns:xlink="http://www.w3.org/1999/xlink">balsa</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">xfmail</application> のような
	GUI プログラム、WWW ブラウザーのようにさらに <quote xmlns:xlink="http://www.w3.org/1999/xlink">洗練された</quote> ものまであります。
	これらのプログラムは、email の処理を
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-mta">server daemons</link> を呼び出したり
	TCP 経由で渡したり、といった手段でローカルの
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-host"><quote xmlns:xlink="http://www.w3.org/1999/xlink">メールホスト</quote></link> に任せるだけです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-mta">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メールホストサーバデーモン</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバデーモン</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバデーモン</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">postfix</application></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバデーモン</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">qmail</application></secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバデーモン</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">exim</application></secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常、これは <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	(FreeBSD のデフォルト) や <application xmlns:xlink="http://www.w3.org/1999/xlink">qmail</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">postfix</application> もしくは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">exim</application>
	といった他のメールサーバーデーモンの一つです。
	他にもあるのですが、以上のものが広く使われています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバーデーモンは通常 2 つの機能 ―
	やってくるメールを受け取るのと出ていくメールを配送する、
	を持っています。メールを読むために POP や IMAP で接続する、
	ということはできません。
	そのためにはもう一つ<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mail-receive">デーモン</link>が必要なのです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかの古いバージョンの <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	には深刻なセキュリティ問題がありますが、
	現在のバージョンを使っていれば特に問題ないことに注意してください。
	例のごとく、
	どんなソフトウェアを利用する時にも最新の状態にしておくのが大事なのです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-dns">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">Email と DNS</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Domain Name System (DNS) とそのデーモンである
	<command xmlns:xlink="http://www.w3.org/1999/xlink">named</command> は email の配送において大変重要な役割を担ってます。
	あなたのサイトからもう一つのサイトへメールを配送するためには、
	サーバーデーモンは DNS からそのサイトを探し、
	メールの受け取り先のホストを決定します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メールがあなたに送られた場合にも同じような仕組みになっています。
	DNS にはホスト名と IP アドレス、ホスト名とメールホストをマッピングするデータベースがあります。
	IP アドレスは A レコードで指定されます。
	MX (Mail eXchanger) レコードはあなた宛のメールを受け取るホストを指定します。
	あなたのホスト名に対する MX レコードがない場合には、
	メールは直接あなたのホストに配送されます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-receive">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メールの受け取り</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">受け取り</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メールはメールホストが受け取ります。
	このホストは送られてきたメールを集め、
	(ユーザーが) 読んだりピックアップしたりするために保存します。
	保存されているメールをピックアップするにはメールホストに接続する必要があります。
	これは POP や IMAP を用いて行なわれます。
	メールホスト上で直接メールを読みたい時は POP や IMAP のサーバーは必要ありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">POP</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IMAP</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">POP や IMAP のサーバーを走らせるためには 2 つのことをやらなければいけません。</para>

      <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">POP や IMAP のデーモンを <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../ports/mail.html">ports コレクション</link> からインストールします。</para>
	</step>

	<step xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> を修正して POP や IMAP のサーバーが起動されるように設定します。</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-host">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メールホスト</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">メールホスト</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メールホストとは責任をもってメールを配送したり、
	あなたのホストや、もしかするネットワークも、に宛てたメールを受け取ったりするホストに与えられる名前です。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sendmail">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の設定</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Christopher</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Shumway</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application></primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は FreeBSD のデフォルトの
      メールトランスファエージェント (MTA) です。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
      の仕事はメールユーザエージェント (MUA) からのメールを受け取り、
      それを設定ファイルで定義された適当なメーラに届けることです。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> はネットワーク接続を受け入れて、
      ローカルのメールボックスにメールを届けたり
      別のプログラムにメールを渡したりもできます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> は次の設定ファイルを使用します。</para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/access</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/aliases</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/local-host-names</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailer.conf</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailertable</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename></primary>
    </indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/virtusertable</filename></primary>
    </indexterm>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイル名</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">機能</entry>
	  </row>
	</thead>
	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/access</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> アクセスデータベースファイル</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/aliases</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">メールボックスエイリアス</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/local-host-names</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が受け付ける配送先ホストのリスト</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailer.conf</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">メーラプログラムの設定</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailertable</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">メーラ配送表</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の主設定ファイル</entry>
	  </row>
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/virtusertable</filename>
	    </entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">仮想ユーザおよび仮想ドメイン表</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/access</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アクセスデータベースは、
	どのホストまたは IP アドレスがローカルメールサーバに接続できるか、
	そして接続の種類は何か、ということを定義します。
	ホストは <option xmlns:xlink="http://www.w3.org/1999/xlink">OK</option>, <option xmlns:xlink="http://www.w3.org/1999/xlink">REJECT</option>,
	<option xmlns:xlink="http://www.w3.org/1999/xlink">RELAY</option> として指定できます。
	または、メーラエラーを指定することで、
	単に <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の
	エラー処理ルーチンに渡されます。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">OK</option> として指定されたホスト (これはデフォルトです) は、
	メールの最終宛先がローカルマシンである限り、
	このホストへメールを送ることを認められます。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">REJECT</option> として指定されたホストは、
	すべてのメール接続を拒絶されます。
	ホスト名に対して <option xmlns:xlink="http://www.w3.org/1999/xlink">RELAY</option>
	オプションを指定されたホストは、
	このメールサーバを通過して任意の宛先へメールを送ることを認められます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  アクセスデータベースの設定</title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">cyberspammer.com                550 We don't accept mail from spammers
FREE.STEALTH.MAILER@            550 We don't accept mail from spammers
another.source.of.spam          REJECT
okay.cyberspammer.com           OK
128.32                          RELAY</programlisting>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例では五つのエントリがあります。
	表の左側に当てはまるメール送信者は、表の右側の動作に支配されます。
	はじめの二つの例は、エラーコードを <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	のエラー処理ルーチンに渡します。
	メールが表の左側に当てはまると、リモートホストにそのメッセージが表示されます。
	次のエントリは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">another.source.of.spam</systemitem>
	というインターネット上の特定のホストからのメールを拒絶します。
	次のエントリは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">okay.cyberspammer.com</systemitem>
	からのメール接続を受け入れます。
	このエントリは上にある <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">cyberspammer.com</systemitem> という行よりもさらに厳密です
	(厳密に一致すればするほど、そうでないものより優先されます)。
	最後のエントリは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">128.32</systemitem> から始まる
	IP アドレスのホストからの電子メールのリレーを認めます。
	これらのホストは他のメールサーバに到達できるこのメールサーバを使ってメールを送ることができるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを変更したら、
	データベースを更新するために <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/</filename> ディレクトリで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> コマンドを実行する必要があります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/aliases</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">エイリアスデータベースには、
	他のユーザ、ファイル、プログラムまたは他のエイリアスに展開される
	仮想的なメールボックスの一覧が記載されています。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/aliases</filename> において使用できる例をいくつかあげます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">メールエイリアス</title>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: "|/usr/local/bin/procmail"</programlisting>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイル形式はシンプルです。
	コロンの左側にあるメールボックス名は、右側のターゲットに展開されます。
	はじめの例は単純に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> のメールボックスを
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">localuser</systemitem> のメールボックスに展開し、
	それからエイリアスデータベースをもう一度調べます。
	一致するエントリがなければメッセージはローカルユーザである
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">localuser</systemitem> に配送されます。
	次の例はメールリストです。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">ftp-bugs</systemitem> のメールボックスへのメールは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">joe</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">eric</systemitem>
	および <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">paul</systemitem> の三つのローカルメールボックスに展開されます。
	リモートメールボックスは <literal xmlns:xlink="http://www.w3.org/1999/xlink">user@example.com</literal>
	のように指定できることに注意してください。
	次の例はメールをファイル、この場合 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev/null</filename>
	に書き込みます。
	最後の例はメールをプログラムに送ります。
	この場合メールのメッセージは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> パイプを通じて
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/bin/procmail</filename> の標準入力に書き込まれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを変更したら、
	データベースを更新するために<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/</filename> ディレクトリで
	<command xmlns:xlink="http://www.w3.org/1999/xlink">make</command> コマンドを実行する必要があります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/local-host-names</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	がローカルホスト名として認めるホスト名のリストです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	がメールを受け取るすべてのドメインやホストにこのファイルを置いてください。
	たとえば、このメールサーバは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem> というドメインおよび
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">mail.example.com</systemitem>
	というホストへのメールを受け取るとすると、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">local-host-names</filename> ファイルの内容は次のようになるでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">example.com
mail.example.com</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを更新したら、変更を読み込むために
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を再起動する必要があります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の主設定ファイルである
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail.cf</filename> は、電子メールアドレスの書き換えから、
	リモートメールサーバへ拒絶メッセージを送ることまで
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の全般的な動作をすべて制御します。
	当然、そのようなさまざまな役割によりこの設定ファイルは大変複雑で、
	その詳細についてはこの節の少し範囲外です。好運なことに、
	標準的な構成のメールサーバではこのファイルをめったに変更する必要はありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の主設定ファイルは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の機能と動作を決定する
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">m4</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> マクロから構築できます。
	詳細については
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/contrib/sendmail/cf/README</filename>
	を参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを更新したら、その変更を反映するために
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を再起動する必要があります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/virtusertable</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">virtusertable</filename> は仮想ドメインおよび仮想メールボックスに対するアドレスを実際のメールボックスと対応づけます。
	これらのメールボックスにはローカル、リモート、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/aliases</filename> に定義されたエイリアス、
	またはファイルを使用できます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">仮想ドメインメール対応表の例</title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</programlisting>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上の例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>
	ドメインへの対応づけをしています。
	このファイルはファイルの下までファーストマッチ
	(訳注: 一致するルールが複数ある場合、
	一番最初に一致したルールが適用されること) で処理されます。
	はじめの行では <literal xmlns:xlink="http://www.w3.org/1999/xlink">root@example.com</literal> を
	ローカルの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> メールボックスに対応づけています。
	次のエントリでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">postmaster@example.com</literal> を
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">noc.example.net</systemitem> ホスト上の
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">postmaster</systemitem> メールボックスに対応づけています。
	最後に、今までのところでは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>
	に関して何も一致しない場合、最後のエントリと一致するでしょう。
	これは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>
	の誰かに送ったすべてのメールが一致します。これは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">joe</systemitem> のローカルメールボックスに対応づけられています。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-changingmta">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">MTA の変更</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Andrew</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Boothman</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Gregory</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Neil Shapiro</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">Information taken from e-mails written by </contrib></author>
      </authorgroup>
    </info>

    
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">MTA の変更</secondary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">すでに述べたように、FreeBSD には MTA (Mail Transfer Agent) として、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> がすでにインストールされています。
      したがって、デフォルトではこれがメールの送受信を担当しています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、さまざまな理由によって、
      システムの MTA を変更しようと考えるシステム管理者もいるかもしれません。
      その理由は、単に他の MTA を試してみたいというものから
      他のメーラに依存する特定の機能やパッケージが必要だといったものまで、
      多岐にわたることでしょう。
      幸い、理由がどんなものであれ、FreeBSD では簡単に変更できます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">新しい MTA のインストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまな MTA が利用できます。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports">FreeBSD Ports Collection</link>
	から探しはじめるのがよいでしょう。
	もちろん、どんな場所からでも、あなたが利用したい MTA が
	FreeBSD で動作する限りすべて自由に使えます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しい MTA をインストールすることからはじめましょう。
	新しい MTA をインストールすると、
	あなたの要求が実際に実現したかどうか決める機会が与えられます。さらに、
	サービスを <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> から引き継ぐ前に
	新しいソフトウェアを設定する機会が与えられます。これを行う場合、
	新しいソフトウェアが <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/sendmail</filename>
	のようなシステムバイナリを上書きしようとしないことを確認してください。
	そうしないとあなたが設定する前に新しいメールソフトウェアが本格的に動作しはじめてしまいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが選択したソフトウェアを設定する方法についての情報は、
	その MTA の文書を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を無効にする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	を起動するために使用されていた手続きは、
	4.5-RELEASE と 4.6-RELEASE の間で著しく変更されました。
	したがって、それを無効にするための手続きは微妙に違います。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">2002 年 4 月 4 日より前の FreeBSD 4.5-STABLE
	  (4.5-RELEASE とそれ以前のバージョンが該当)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に次の行を加えてください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable="NO"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  のメール受信機能を無効にします。
	  しかし <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailer.conf</filename> (下記参照)
	  が変更されていなければ、<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  はメールの送信にまだ使われるでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">2002 年 4 月 4 日以降の FreeBSD 4.5-STABLE
	  (4.6-RELEASE とそれ以降のバージョンが該当)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を完全に無効にするためには
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に次の行を加えなくてはいけません。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable="NONE"</programlisting>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もしこの方法で <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	    のメール送信機能を無効にしたのなら、
	    完全に動作する代替メール配送システムと置き換えることが重要です。
	    さもなければ、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">periodic</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> などのシステム機能は、
	    それらの結果を通常想定しているようにメールで配送することができなくなるでしょう。
	    システムの多くの部分が <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	    互換のシステムがあることを想定しているかもしれません。
	    もしそれらを無効にした後に、
	    アプリケーションがメールを送ろうとするために
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> のバイナリを使用し続ければ、
	    メールは使われていない <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	    のキューに入り、そして決して配送されないでしょう。</para>
	</warning>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  のメール受信機能だけを無効にしたいのなら
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に以下の行を追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail_enable="NO"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>の起動オプションに関する詳細は
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.sendmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルをご覧ください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">起動時に新しい MTA を起動する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">起動時に新しい MTA を起動するには二つの選択肢があります。
	ここでも、あなたが稼働させている FreeBSD のバージョンに依存します</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">2002 年 4 月 11 日より前の FreeBSD 4.5-STABLE
	  (4.5-RELEASE とそれ以前のバージョンが該当)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d/</filename> ディレクトリに、
	  ファイル名が <filename xmlns:xlink="http://www.w3.org/1999/xlink">.sh</filename> でおわり、
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> によって実行可能なスクリプトを追加します。
	  このスクリプトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">start</literal> および
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">stop</literal> パラメータを引数として受け付けるようにします。
	  起動時にシステムスクリプトは次のコマンドを実行するでしょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d/supermailer.sh start</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは手動でサーバを起動するためにも使用できます。
	  システム終了時にはシステムスクリプトは <literal xmlns:xlink="http://www.w3.org/1999/xlink">stop</literal>
	  オプションを使用して、次のコマンドを実行するでしょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d/supermailer.sh stop</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これはシステムが稼働している間に手動でサーバを停止するためにも使えます。</para>
</sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">2002 年 4 月 11 日以降の FreeBSD 4.5-STABLE
	  (4.6-RELEASE とそれ以降のバージョンが該当)</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">より新しいバージョンの FreeBSD では、
	  上記の方法または次の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	  に設定できます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">mta_start_script="filename"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">filename</replaceable> は、あなたが
	  MTA を立ち上げるために起動時に実行するスクリプト名です。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">システムのデフォルトメーラとして <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を置き換える</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> プログラムは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	システム上の標準ソフトウェアとして本当にどこでも利用できるので、
	これがすでにインストールおよび設定されているとみなしている
	ソフトウェアもあるかもしれません。
	この理由により、代替となる MTA の多くは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> コマンドラインインタフェースと
	互換性のある実装を提供しています。
	これを <quote xmlns:xlink="http://www.w3.org/1999/xlink">差し込む</quote> ことによって、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の置き換えとして代替 MTA
	を使用することが容易になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、あなたが互換メーラを使用しているときには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/bin/sendmail</filename> のような標準
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	バイナリを実行しようとするソフトウェアが、
	実際にはその代わりにあなたの選択したメーラを実行しているということを
	確かめる必要があるでしょう。
	好運なことに、FreeBSD はこの仕事をする
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mailwrapper</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と呼ばれるシステムを提供しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールされたまま
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が稼働しているときには
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailer.conf</filename>
	には以下のような記述があるでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail    /usr/libexec/sendmail/sendmail
send-mail   /usr/libexec/sendmail/sendmail
mailq       /usr/libexec/sendmail/sendmail
newaliases  /usr/libexec/sendmail/sendmail
hoststat    /usr/libexec/sendmail/sendmail
purgestat   /usr/libexec/sendmail/sendmail</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このことは、これらのうちどの共通コマンド
	(<filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</filename> 自身のような) が実行されても、
	システムは <filename xmlns:xlink="http://www.w3.org/1999/xlink">mailer.conf</filename> を確認して、
	代わりに <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec/sendmail/sendmail</filename> を実行する
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</filename> という名前の mailwapper
	のコピーを呼び出すことを意味します。
	このようなシステムでは、デフォルトの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</filename> が呼び出されたときに、
	どのバイナリが実際に実行されるかを変更するのが簡単になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">したがって、<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の代わりに
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/supermailer/bin/sendmail-compat</filename>
	を実行させたいのなら、次のように
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailer.conf</filename> を変更してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sendmail    /usr/local/supermailer/bin/sendmail-compat
send-mail   /usr/local/supermailer/bin/sendmail-compat
mailq       /usr/local/supermailer/bin/mailq-compat
newaliases  /usr/local/supermailer/bin/newaliases-compat
hoststat    /usr/local/supermailer/bin/hoststat-compat
purgestat   /usr/local/supermailer/bin/purgestat-compat</programlisting>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">完了</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのやりたいようにすべてを設定しおえたら、
	もはや必要のない <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	のプロセスを終了して新しいソフトウェアに関するプロセスを起動するか、
	単に再起動してください。
	再起動することによって、新しい MTA が起動時に正しく立ち上がるように
	システムが設定されているかどうか確認することもできるでしょう。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-trouble">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシュート</title>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary>
      <secondary xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</secondary>
    </indexterm>

    <qandaset xmlns:xlink="http://www.w3.org/1999/xlink">
      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">どうして自分のサイトのホストなのに FQDN を使わなければいけないのですか?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">恐らく、そのホストは実際には別のドメインにあるのでしょう。
	    例えば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">foo.bar.edu</systemitem> ドメインにいて、
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">bar.edu</systemitem> というドメイン内の
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mumble</systemitem> というホストにアクセスしたいとします。
	    この時は単に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mumble</systemitem> ではなく
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">mumble.bar.edu</systemitem> と FQDN で参照しなければなりません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そもそも、BSD BIND<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary></indexterm>
	    のリゾルバー (resolver) ではこのようなことが可能でしたが、
	    FreeBSD に入っている最新版の <application xmlns:xlink="http://www.w3.org/1999/xlink">BIND</application>
	    では自分のドメイン以外に対する FQDN でない省略形は許されません。
	    従ってホストを <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mumble</systemitem> と曖昧に指定した場合は
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">mumble.foo.bar.edu</systemitem> という名前があればそれになり、
	    そうでなければ root ドメインから検索されます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mumble.bar.edu</systemitem> と
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">mumble.edu</systemitem>
	    ということなったドメイン名に対してホスト名のサーチがおこなわれていた以前の振る舞いとは異なったものです。
	    このような事が悪い例もしくはセキュリティホールとみなされる理由については
	    RFC 1535 を見てください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> で

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">domain foo.bar.edu</programlisting>

	    と書いてある行を

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">search foo.bar.edu bar.edu</programlisting>

	    と書き換えることで上のようなことができます。
	    しかし、RFC 1535 にあるように検索順序が
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">内部 (local) と外部 (public) の管理の境界</quote>
	    をまたがないようにしてください。</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が <errorname xmlns:xlink="http://www.w3.org/1999/xlink">mail loops back to
	      myself</errorname> というメッセージを出すのですが。</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	    FAQ に次のように書いてあります。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">Local configuration error</quote> というメッセージが出ます。例えば、

553 relay.domain.net config error: mail loops back to myself
554 &lt;user@domain.net&gt;... Local configuration error

のような感じですが、どうしたら解決できますか?

これは、例えば domain.net のようなドメイン宛てのメールを
<literal xmlns:xlink="http://www.w3.org/1999/xlink">MX</literal> レコードで特定のホスト(ここでは
relay.domain.net) に送ろうとしたのに、
そのホストでは domain.net
宛てのメールを受け取れるような設定になっていない場合です。
設定の際に
FEATURE(use_cw_file) を指定してある場合には
/etc/mail/local-host-names の中に domain.net を追加してください。
もしくは、/etc/mail/sendmail.cf の中に <quote xmlns:xlink="http://www.w3.org/1999/xlink">Cw domain.net</quote>
を追加してください。</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> FAQ は
	    <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sendmail.org/faq">http://www.sendmail.org/faq</uri> にありますので、
	    メールの設定に <quote xmlns:xlink="http://www.w3.org/1999/xlink">おかしなこと</quote> があれば常に読んでください。</para>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">

	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップ PPP<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PPP</primary></indexterm>
	    ホストでメールサーバを実行するにはどうしたらいいの?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">LAN 上にある FreeBSD マシンを、
	    インターネットに接続したいとします。FreeBSD マシンは、その
	    LAN でのメールゲートウェイになります。FreeBSD
	    マシンは専用線接続ではありません (訳注: ダイアルアップ接続など)。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これには、少なくとも二つの方法があります。
	    一つは UUCP<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">UUCP</primary></indexterm>
	    を使うことです。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの方法は、あなたのドメインに対するセカンダリ
	    MX サービスを提供する常時稼働のインターネットサーバを用意することです。
	    たとえば、あなたの会社のドメインが
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem> で、
	    ISP があなたのドメインに セカンダリ MX サービスを提供するために
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.net</systemitem> ドメインを
	    用意するとしたら次のようにします。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">example.com.	MX	10	example.com.
MX	20	example.net.</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">最終的なメール受信先としては、
	    一つのホストだけが定義されるべきです
	    (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem> 上の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename> ファイルに、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Cw example.com</literal> を追加します)。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">送信側の <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</command> が、
	    メールを配送しようとしている時、モデムの接続を介してあなたのところ
	    (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>)
	    に接続しようとします。大抵の場合、
	    あなたのマシンがオンラインでないために、
	    接続はタイムアウトしてしまうでしょう。
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</command> プログラムは自動的に、
	    たとえばあなたのインターネットプロバイダなどのセカンダリの
	    MX サイト (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.net</systemitem>)
	    にメールを配送するでしょう。
	    セカンダリ MX サイトは定期的にあなたのホストに接続し、
	    プライマリ MX ホスト
	    (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>)
	    にメールを配送しようとするでしょう。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ログインスクリプトとして、
	    このようなものを使うとよいでしょう。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#!/bin/sh
# Put me in /usr/local/bin/pppmyisp
( sleep 60 ; /usr/sbin/sendmail -q ) &amp;
/usr/sbin/ppp -direct pppmyisp</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザごとにログインスクリプトを作りたい場合には、
	    上記のスクリプトの代わりに、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">sendmail -qRexample.com</command>
	    を使用することもできます。
	    このようにすると、
	    キューの中の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>
	    に対するすべてのメールは、すぐに強制的に処理されます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、次のような改良もできます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以下は、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isp">FreeBSD Internet service provider's メーリングリスト</link>
	    から抜粋してきたメッセージです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">&gt; 私たちはお客様に対して、セカンダリ MX を提供しています。
&gt; お客様は一日に何回か私たちのサービスに接続し、メールを彼らのプライマリ MX
&gt; に受け取ります (彼らのドメインに対するメールが到着した時には、
&gt; 私たちは彼らのサイトを呼び出しません)。
&gt; 私たちの sendmail は、30 分ごとにメールキューに溜っているメールを配送します。
&gt; ちょうどその時に、すべてのメールがプライマリ MX に送られたかどうかを確かめるためには、
&gt; 彼らは 30 分は オンラインでいなければなりません。
&gt;
&gt; すべてのメールを今すぐ送るために sendmail を初期化するコマンドはあるでしょうか?
&gt; もちろん私たちのマシン上には、ユーザはルート (root) 権限を持っていません。

sendmail.cf の <quote xmlns:xlink="http://www.w3.org/1999/xlink">privacy flags</quote> セクションに、
Opgoaway,restrictqrun の定義があります。

root 以外のユーザがキューを処理できるようにするには、
restrictqrun を削除してください。また、MX の再調整が必要かもしれません。
あなたがたは、顧客のサイトに対する一番優先度の高い MX なので、
次のように定義します。

# If we are the best MX for a host, try directly instead of generating
# local config error.
OwTrue

このようにすると、リモートサイトからのメールが、
顧客のマシンと接続しようとせず、直接あなたがたのホストマシンに配送されるようになります。
ホストマシンに配送されたメールは、続いて顧客のマシンに送られます。
これはホスト名にのみ有効なので、顧客のメールマシンに、
<quote xmlns:xlink="http://www.w3.org/1999/xlink">host.customer.com</quote> とは別に、<quote xmlns:xlink="http://www.w3.org/1999/xlink">customer.com</quote> も定義する必要があります。
DNS 上で、<quote xmlns:xlink="http://www.w3.org/1999/xlink">customer.com</quote> に対する A レコードを定義してください。</programlisting>
	</answer>
      </qandaentry>

      <qandaentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<question xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">なぜ他のホストにメールを送ろうとすると、いつも
	    <errorname xmlns:xlink="http://www.w3.org/1999/xlink">Relaying Denied</errorname> と怒られてしまうの ?</para>
	</question>

	<answer xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がインストールされたデフォルトの状態では、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	    は動作しているホストからのメールだけを送るように設定されています。
	    たとえば POP3 サーバがインストールされているとすると、
	    ユーザは学校や職場など他のリモートの場所からメールを確認することが
	    できます。しかし、彼らは外部からそのホスト以外へのメールを
	    送ることはやはりできません。
	    通常、メールを送ろうとしてから少しすると、
	    <errorname xmlns:xlink="http://www.w3.org/1999/xlink">5.7 Relaying Denied</errorname>
	    というエラーメッセージの書かれたメールが
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">MAILER-DAEMON</application> から送られてくるでしょう。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これを解決する方法はいくつかあります。
	    一番の正攻法は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/relay-domains</filename>
	    リレードメインファイルにあなたの ISP のアドレスを書くことです。
	    これをするのに簡単な方法は次のとおりです。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">echo "your.isp.example.com" &gt; /etc/mail/relay-domains</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルを作成または編集したら、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を再起動してください。
	    もしあなたがサーバ管理者でメールをローカルに送りたくないか、
	    ポイントを使用して他のマシン (や、さらに他の ISP) の
	    クライアントまたはシステムへ送りたい時は、とても効果があります。
	    さらに、あなたが一つあるいは二つだけのメールアカウントを
	    設定している場合でもこれは非常に有用です。
	    追加すべきアドレスがたくさんある場合には、
	    単にこのファイルをあなたの好きなテキストエディタで開いて、
	    そして一行に一つずつドメインを追加してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">your.isp.example.com
other.isp.example.net
users-isp.example.org
www.example.org</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、リストに掲載されているすべてのホスト
	    (ユーザがあなたのシステムにアカウントを持っていると規定する)
	    からあなたのシステムを通るすべてのメールは送信に成功するでしょう。
	    これはあなたのシステムから SPAM を送ることを認めることなく、
	    リモートであなたのシステムからメールを送ることをユーザに
	    認めるためのとてもよい方法です。</para>

	</answer>
      </qandaentry>
    </qandaset>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-advanced">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">先進的なトピックス</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これからのセクションでは、
      メールの設定やドメイン全体のためのメールの設定といったさらに突込んだ話題について触れます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-config">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">基本事項</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">email</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのマシンに FreeBSD を普通にインストールして、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/resolv.conf</filename> ファイルを設定するか、
	またはネームサーバを走らせれば、
	他のホストへ電子メールを送ることができるようになります。
	あなたのホスト宛のメールをあなた自身の FreeBSD ホスト上の
	MTA (たとえば <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>)
	に配送するようにしたい場合には、次の二つの方法があります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">自身でネームサーバーを実行し、
	    自分のドメインを持つ。例えば
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのホストへ直接メールが配送されるようにする。
	    これはメールがあなたのマシンの現在の
	    DNS 名に直接配送されるようにすることにより実現できます。
	    たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.FreeBSD.org</systemitem>。</para>
	</listitem>
      </itemizedlist>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">上のどちらを選ぶ場合でも、自分のホストに直接メールが配送されるようにするには恒久的で
	静的 な IP アドレス
	(ほとんどの PPP ダイアルアップ設定で用いられる動的なアドレスではなく)
	を持っていなければなりません。
	もしファイアウォールの中にいるならば、
	SMTP トラフィックが通過してくれないといけません。
	もし自分のホストでメールを直接受け取りたいならば、
	次の二つのうちのどちらかができていることを確認してください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">自分のドメインでの
	    (一番値の小さい) MX レコード<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">MX レコード</primary></indexterm>が自分のホストの
	    IP アドレスを差していることを確認する。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">自分のドメインの中に自分のホスト用の
	    MX エントリがないことを確認する。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上のどちらかが設定されていれば、
	自分のホストでメールを受け取ることができるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドを実行してみてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hostname</userinput>
example.FreeBSD.org
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">host example.FreeBSD.org</userinput>
example.FreeBSD.org has address 204.216.27.XX</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたのマシンが上記のメッセージだけを出力したならば、
	<email xmlns:xlink="http://www.w3.org/1999/xlink">yourlogin@example.FreeBSD.org</email>
	へのメールは問題なく配送されるでしょう
	(<application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.FreeBSD.org</systemitem>
	上で正しく動作していると仮定します)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記のメッセージの代わりに、</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">host example.FreeBSD.org</userinput>
example.FreeBSD.org has address 204.216.27.XX
example.FreeBSD.org mail is handled (pri=10) by hub.FreeBSD.org</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">というメッセージが出力された場合は、
	あなたのホスト (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.FreeBSD.org</systemitem>)
	に宛てたメールは全て直接配送されずに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">hub</systemitem>
	上の同じユーザー名に配送されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上の情報は DNS サーバーが扱います。
	メールルーティング情報をもつ DNS レコードは、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">M</emphasis>ail e<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">X</emphasis>change エントリーです。
	MX エントリが存在しない場合には、IP アドレスにしたがって、
	直接宛先ホストに配送されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">freefall.FreeBSD.org</systemitem>
	の現時点での MX エントリは、次のようになっています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">freefall		MX	30	mail.crl.net
freefall		MX	40	agora.rdrop.com
freefall		MX	10	freefall.FreeBSD.org
freefall		MX	20	who.cdrom.com</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freefall</systemitem> は多くの MX エントリを持っています。
	一番 MX の値の小さいホストが利用可能な場合は直接メールを受け取ります。
	もしなにかの理由でアクセスができない時には、
	他のホスト (ときどき <quote xmlns:xlink="http://www.w3.org/1999/xlink">バックアップ MX</quote> と呼ばれます)
	が一時的にメールを受け取ります。そして、
	より値の小さいホストが利用可能になったときにメールを渡し、
	最終的に一番値の小さいホストに渡ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使い勝手をよくするためには、代替の MX サイトは、それぞれ
	別の経路でインターネットへ接続しているとよいでしょう。
	インターネットプロバイダまたは他の関連サイトが、このサービスを
	提供することができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mail-domain">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">あなたのドメインに対するメール設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">メールホスト</quote> (メールサーバーとしても知られています)
	をセットアップするためには、
	いろいろなワークステーションに宛てた全てのメールを受ける必要があります。
	基本的には、あなたのドメイン内 (この場合だと
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">*.FreeBSD.org</systemitem>)
	のすべてのホスト名宛てのすべてのメールを <quote xmlns:xlink="http://www.w3.org/1999/xlink">受け取って</quote>、
	そのメールをあなたのメールサーバーに配送し、
	ユーザーがマスタメールサーバ上でメールをチェックできるようにします。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">話を簡単にするために、あるユーザーのアカウントはどのマシンでも同じ<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザー名</emphasis>にすべきです。
	そのためには <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">adduser</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使ってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使用する予定のメールホストは、
	各ワークステーションごとにメール交換が
	できるように設定されていなければなりません。
	これは DNS の設定で次のように行なうことができます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">example.FreeBSD.org	A	204.216.27.XX		; ワークステーション
MX	10 hub.FreeBSD.org	; メールホスト</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、ワークステーションの A レコードがどこを指していようとも
	そのワークステーション宛てのメールをメールホストに転送する、というものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">自前で DNS サーバを運用しているのでなければ、
	この作業は自分では行えません。自分で DNS
	サーバを運用しないとかできないという場合は、
	あなたの DNS を提供しているインターネットプロバイダなどに依頼して
	作業を行ってもらってください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしバーチャル電子メールホストを運用するなら次の情報が役に立つでしょう。
	例として、あなたには自分のドメイン、ここでは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">customer1.org</systemitem>、
	を持っている顧客がいるとしましょう。
	あなたは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">customer1.org</systemitem> 宛ての全てのメールを
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">mail.myhost.com</systemitem> というメールホストに集めたいとします。
	DNS エントリーは次のようになるでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">customer1.org		MX	10 mail.myhost.com</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">customer1.org</systemitem>
	に対して電子メールを送りたいだけなら、
	A レコードは必要<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">customer1.org</systemitem>
	  に対して ping を実行しても、
	  A レコードが存在しない限りうまくいかないことに留意しておいてください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">やらなければいけない最後のことは、
	メールホスト上の <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	に対してどんなドメインやホスト宛のメールを受け取るのか、
	を教えることです。いくつかの方法がありますが次のどちらかでいいでしょう。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">FEATURE(use_cw_file)</literal> を使っているなら、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/local-host-names</filename>
	    ファイルにホストを加えます。
	    もし <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> のバージョンが
	    8.10 より前であれば該当ファイルは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sendmail.cw</filename> です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sendmail.cf</filename> もしくは
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> 8.10 以降なら
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename>
	    といったファイルに <literal xmlns:xlink="http://www.w3.org/1999/xlink">Cwyour.host.com</literal> という行を加えます。</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="SMTP-UUCP">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">UUCP とともに SMTP を使う</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD とともに出荷されている
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の設定は、
      サイトがインターネットに直接接続しているものとして設計されています。
      UUCP 経由でメールを交換したいサイトは、他にも
      設定ファイルをインストールしなければいけません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/sendmail.cf</filename>
      を手動で調整することは先進的なトピックです。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> のバージョン 8 は設定ファイルを
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">m4</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> プリプロセッサから生成します。
      これにより、高度に抽象化された設定を行うことができます。
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">m4</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> による設定ファイルは
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/usr.sbin/sendmail/cf</filename>
      以下にあります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">もしシステムをすべてのソースとともにインストールしていなければ、
      sendmail の設定材料は分割された個別のソース tarball を取得してください。
      FreeBSD のソースコードが入った CDROM をマウントしているのなら、</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /cdrom/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat scontrib.?? | tar xzf - -C /usr/src/contrib/sendmail</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">と展開してください (展開してもたった数百 KB 程度です)。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">cf</filename> ディレクトリの
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename> ファイルは
      m4 による設定の基本的な手引として役に立つでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">UUCP 配送に対応するための一番よい方法は
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">mailertable</literal> 機能を使用することです。
      これは経路を決定するために
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
      が使用できるデータベースを作成します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">まずはじめに <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename>
      ファイルを作成しなければいけません。
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src/usr.sbin/sendmail/cf/cf</filename>
      にいくつか例があります。<filename xmlns:xlink="http://www.w3.org/1999/xlink">foo.mc</filename>
      という名前のファイルをあなたが作成したとすると、
      有効な <filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail.cf</filename>
      ファイルへ変換するには次のようにするだけです。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/usr.sbin/sendmail/cf/cf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make foo.cf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp foo.cf /etc/mail/sendmail.cf</userinput></screen>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">典型的な <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename> ファイルは次のようになるでしょう。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">VERSIONID(`<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">Your version number</replaceable>') OSTYPE(bsd4.4)

FEATURE(accept_unresolvable_domains)
FEATURE(nocanonify)
FEATURE(mailertable, `hash -o /etc/mail/mailertable')

define(`UUCP_RELAY', <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your.uucp.relay</replaceable>)
define(`UUCP_MAX_SIZE', 200000)
define(`confDONT_PROBE_INTERFACES')

MAILER(local)
MAILER(smtp)
MAILER(uucp)

Cw    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your.alias.host.name</replaceable>
Cw    <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">youruucpnodename.UUCP</replaceable></programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">accept_unresolvable_domains</literal>,
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">nocanonify</literal> および
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">confDONT_PROBE_INTERFACES</literal> 機能を含んでいる行は、
      メール配送時にまったく DNS を使用しません。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">UUCP_RELAY</literal> の記述は UUCP 配送に対応するのに必要です。
      そこにインターネットホスト名を単に書くだけで
      .UUCP pseudo ドメインアドレスを扱うことができるようになります。
      大抵の場合、あなたの ISP のメールリレーをそこに入力するでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/mailertable</filename> が必要になります。
      メールを配送するリンクが外界との間に一つだけの場合は、
      次のようにファイルを記述するだけで十分でしょう。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
.                             uucp-dom:<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your.uucp.relay</replaceable></programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次はさらに複雑な例です。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">#
# makemap hash /etc/mail/mailertable.db &lt; /etc/mail/mailertable
#
horus.interface-business.de   uucp-dom:horus
.interface-business.de        uucp-dom:if-bus
interface-business.de         uucp-dom:if-bus
.heep.sax.de                  smtp8:%1
horus.UUCP                    uucp-dom:horus
if-bus.UUCP                   uucp-dom:if-bus
.                             uucp-dom:</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめの三行はドメインで宛先を指定されたメールが、
      配送路を <quote xmlns:xlink="http://www.w3.org/1999/xlink">近道</quote> するために、
      デフォルトルートではなく代わりにいくつかの UUCP 隣接ホストへ送られる特別な場合を扱います。
      次の行はメールを SMTP で配送可能なローカルイーサネットドメインへ送ります。
      最後に
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">uucp-neighbor
	!recipient</literal>
      がデフォルトルートを上書きすることを許可するための UUCP 隣接ホストは
      .UUCP 仮想ドメイン記法で言及されます。
      最後の行は常に他のすべてが当てはまるシングルドットです。
      これは UUCP 隣接ホストへの UUCP 配送をすることで、
      世界に向けたあなたの普遍的メールゲートウェイとして役に立ちます。
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">uucp-dom:</literal> キーワードの後ろにあるノード名はすべて、
      <literal xmlns:xlink="http://www.w3.org/1999/xlink">uuname</literal> コマンドを使用することで確かめられる正しい
      UUCP 隣接ホストである必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルは、実際に使用する前に DBM
      データベース形式に変換する必要があることに注意してください。
      これを実行するコマンドラインは mailertable
      ファイルの先頭にコメントとして書かれています。
      mailertable を変更するたびにいつもこのコマンドを実行する必要があります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">最後のアドバイス: もし、
      いくつかのメールルーティングがうまく動いているかどうか分からないときは
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> に
      <option xmlns:xlink="http://www.w3.org/1999/xlink">-bt</option> オプションをつけることを覚えておいてください。
      これは <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">アドレステストモード</emphasis> で起動します。
      あなたがテストしたいメールルーティングのアドレスを後につけて、
      単純に <literal xmlns:xlink="http://www.w3.org/1999/xlink">3,0</literal> と入力してください。
      最後の行は、内部で使われたメールエージェント、
      このエージェントが呼び出された目的地ホスト、および
      (もしかしたら変換された) アドレスを表示します。
      このモードを終了するには
      <keycombo xmlns:xlink="http://www.w3.org/1999/xlink" action="simul"><keycap xmlns:xlink="http://www.w3.org/1999/xlink">Ctrl</keycap><keycap xmlns:xlink="http://www.w3.org/1999/xlink">D</keycap></keycombo>
      を入力します。</para>

    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sendmail -bt</userinput>
ADDRESS TEST MODE (ruleset 3 NOT automatically invoked)
Enter &lt;ruleset&gt; &lt;address&gt;
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">3,0 foo@example.com</userinput>
canonify           input: foo @ example . com
...
parse            returns: $# uucp-dom $@ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">your.uucp.relay</replaceable> $: foo &lt; @ example . com . &gt;
<prompt xmlns:xlink="http://www.w3.org/1999/xlink">&gt;</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">^D</userinput></screen>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="SMTP-dialup">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップ接続でメールを使う</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが固定 IP アドレスを持っているのなら、
      デフォルトから何も変更する必要はありません。
      割りあてられたインターネット名をホスト名に設定すれば、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が残りをやってくれます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが動的に割り当てられた IP アドレスを持っていて、
      インターネットに接続するのにダイアルアップ PPP を使用しているのなら、
      おそらく ISP のメールサーバにメールボックスがあるでしょう。
      ここでは、あなたの ISP のドメインが
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.net</systemitem>,
      あなたのユーザ名が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">user</systemitem>,
      あなたのマシンは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">bsd.home</systemitem>
      と呼ばれているものとします。
      また、ISP から、メールリレーとして <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">relay.example.net</systemitem>
      を使用してよいと通知されているとします。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">(訳注: ISP 上の) メールボックスからメールを取得するためには、
      取得アプリケーションをインストールしないといけません。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">fetchmail</application> ユーティリティは、
      さまざまなプロトコルの多くに対応しているのでよい選択肢です。
      通常、あなたの ISP は POP3 を提供しています。
      あなたが user-PPP を使用しているなら、次のエントリを
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename> に追加することで、
      インターネット接続が確立したときに自動的にメールを取得することができます。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MYADDR:
 !bg su user -c fetchmail</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたがローカルではないアカウントへのメールを配送するために
      (下記のような) <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
      を使用しているなら、
      インターネット接続が確立するとすぐに、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
      があなたのメールキューを処理して欲しいとおそらく考えるでしょう。
      これを行うには、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.linkup</filename> ファイルの
      <command xmlns:xlink="http://www.w3.org/1999/xlink">fetchmail</command> コマンドの後に次のコマンドを追加してください。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> !bg su user -c "sendmail -q"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">bsd.home</systemitem> 上に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">user</systemitem>
      というアカウントを所有しているとします。
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">bsd.home</systemitem> 上の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">user</systemitem>
      のホームディレクトリに <filename xmlns:xlink="http://www.w3.org/1999/xlink">.fetchmailrc</filename>
      ファイルを作成します。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">poll example.net protocol pop3 fetchall pass MySecret</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルはパスワード <literal xmlns:xlink="http://www.w3.org/1999/xlink">MySecret</literal>
      を含んでいるので、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">user</systemitem>
      を除く他の誰にも読めるようになっていてはいけません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">正しい <literal xmlns:xlink="http://www.w3.org/1999/xlink">from:</literal> ヘッダでメールを送るためには、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が <literal xmlns:xlink="http://www.w3.org/1999/xlink">user@bsd.home</literal>
      ではなく <literal xmlns:xlink="http://www.w3.org/1999/xlink">user@example.net</literal> を使用するようにしなくてはいけません。
      また、素早くメール送信をするために
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> にすべてのメールを
      <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">relay.example.net</systemitem> 経由で送るようにもしたいかもしれません。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次の <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename> ファイルで十分でしょう。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">VERSIONID(`bsd.home.mc version 1.0')
OSTYPE(bsd4.4)dnl
FEATURE(nouucp)dnl
MAILER(local)dnl
MAILER(smtp)dnl
Cwlocalhost
Cwbsd.home
MASQUERADE_AS(`example.net')dnl
FEATURE(allmasquerade)dnl
FEATURE(masquerade_envelope)dnl
FEATURE(nocanonify)dnl
FEATURE(nodns)dnl
define(`SMART_HOST', `relay.example.net')
Dmbsd.home
define(`confDOMAIN_NAME',`bsd.home')dnl
define(`confDELIVERY_MODE',`deferred')dnl</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename> ファイルを <filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail.cf</filename>
      ファイルに変換する方法の詳細については前の節を参照してください。
      また、<filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail.cf</filename> ファイルを変更した後は、
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を再起動し忘れないでください。</para>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="SMTP-Auth">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">SMTP 認証</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">メールサーバ上で <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym> 認証を行うと、
      多くの利益があります。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym> 認証は <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
      にもう一つのセキュリティ層を追加することができます。
      さらに、ホストを切りかえるモバイルユーザにとっては、
      その都度メールクライアントの設定を変更せずとも
      同じメールサーバを利用できるようになります。</para>

    <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ports から
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">security/cyrus-sasl</package>
	  をインストールします。
	  この port は
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">security/cyrus-sasl</package> にあります。
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">security/cyrus-sasl</package>
	  にはここで使用する方法に対する多くのコンパイルオプションがあり、
	  確実に <option xmlns:xlink="http://www.w3.org/1999/xlink">pwcheck</option> オプションを選択してください。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><package xmlns:xlink="http://www.w3.org/1999/xlink">security/cyrus-sasl</package>
	  をインストールした後に
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/lib/sasl/Sendmail.conf</filename>
	  を編集して (もし無ければ作成して) 次の行を追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">pwcheck_method: passwd</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この方法は <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  があなたの FreeBSD の <filename xmlns:xlink="http://www.w3.org/1999/xlink">passwd</filename>
	  データベースに対して認証することを可能にします。
	  この方法は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym> 認証に必要となる、
	  それぞれのユーザに対する一組の新しいユーザ名とパスワードを
	  作成する際のトラブルを減らし、
	  ログインパスワードとメールパスワードを同じままにします。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/make.conf</filename> 編集し、
	  次の行を加えます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">SENDMAIL_CFLAGS=-I/usr/local/include/sasl1 -DSASL
SENDMAIL_LDFLAGS=-L/usr/local/lib
SENDMAIL_LDADD=-lsasl</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらの行は <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> に対して、
	  コンパイルするときに <package xmlns:xlink="http://www.w3.org/1999/xlink">cyrus-sasl</package>
	  とリンクするための適切な設定オプションを与えるものです。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> を再コンパイルする前に
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">cyrus-sasl</package>
	  がインストールされていることを確かめてください。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドを入力して <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  を再コンパイルしてください。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/usr.sbin/sendmail</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make obj</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> のコンパイルは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> が大幅に変更されていなくて、
	  必要な共有ライブラリが利用可能であれば何の問題も起こらないでしょう。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  をコンパイルして再インストールした後は、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/freebsd.mc</filename> ファイル
	  (またはあなたが <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename>
	  ファイルとして使用しているファイル。
	  多くの管理者は唯一の名前を用いるために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hostname</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> の出力を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename> として使用することを選んでいます)
	  を編集してください。
	  次の行を加えてください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl
define(`confAUTH_MECHANISMS', `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN')dnl
define(`confDEF_AUTH_INFO', `/etc/mail/auth-info')dnl</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのオプションは、ユーザを認証するために
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application>
	  が利用可能な異なる方法を設定します。
	  もし <application xmlns:xlink="http://www.w3.org/1999/xlink">pwcheck</application>
	  以外の方法を使用したいのならドキュメントを参照してください。</para>
      </step>

      <step xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">最後に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail</filename> で <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">make</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	  を実行してください。
	  これにより、新しい <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename>
	  ファイルから <filename xmlns:xlink="http://www.w3.org/1999/xlink">freebsd.cf</filename> という名前
	  (またはあなたの <filename xmlns:xlink="http://www.w3.org/1999/xlink">.mc</filename> に使用している名前) の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">.cf</filename> ファイルが作成されます。
	  それから <command xmlns:xlink="http://www.w3.org/1999/xlink">make install restart</command>
	  コマンドを実行してください。
	  新しい <filename xmlns:xlink="http://www.w3.org/1999/xlink">.cf</filename> ファイルが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">sendmail.cf</filename> にコピーされ、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> が適切に再起動されるでしょう。
	  この手続きについての詳細は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mail/Makefile</filename>を参照してください。</para>
      </step>
    </procedure>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてがうまくいけば、ログイン情報をメールクライアントに入力し、
      テストメッセージを送ることができるでしょう。
      より詳細に調べるには <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の
      <option xmlns:xlink="http://www.w3.org/1999/xlink">LogLevel</option> を 13 に設定し、
      すべてのエラーについて <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/log/maillog</filename>
      を見てください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このサービスがシステムを起動した後にいつでも利用可能となるように、
      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に次の行を追加しておくとよいでしょう。</para>

    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">sasl_pwcheck_enable="YES"
sasl_pwcheck_program="/usr/local/sbin/pwcheck"</programlisting>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">これにより、システムの起動時に
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP_AUTH</acronym> が確実に初期化されるでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sendmail.org/~ca/email/auth.html">
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym> 認証</link> に関する
      <application xmlns:xlink="http://www.w3.org/1999/xlink">sendmail</application> の文書を参照してください。</para>
  </sect1>
</chapter>

<!--
    &chap.network-servers;
    &chap.firewalls;
-->
    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r20284
     $FreeBSD$
-->
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="advanced-networking">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">高度なネットワーク</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="advanced-networking-synopsis">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">この章では</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
      システム上で良く利用されるネットワークサービスについて説明します。
      FreeBSD が利用するすべてのネットワークサービスをどのように定義し、
      設定し、テストし、そして保守するのかを扱います。さらに、
      本章を通してあなたの役に立つ設定例が載っています。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読めば以下のことが分かります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイと経路の基本</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD をブリッジとして動作させる方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークファイルシステム (NFS) の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスマシンのネットワークブートの設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザアカウントを共有するためのネットワークインフォメーションサーバ
	  (NIS) の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP を用いて自動的にネットワーク設定を行う方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ドメインネームサーバ (DNS) の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">NTP プロトコルを用いて日時を同期してタイムサーバを設定する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークアドレス変換 (NAT) の設定方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">inetd</command> デーモンの管理方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">PLIP 経由で二台のコンピュータを接続する方法</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で IPv6 を設定する方法</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">この章を読む前に、以下のことを行っておくべきです。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc</filename>
	  スクリプトの基本を理解していること</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">基礎的なネットワーク用語に精通していること</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-routing">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイと経路</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Coranth</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Gryphon</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <!--
    <para><emphasis>訳: &a.jp.yuki;.
	1996 年 9 月 6 日.</emphasis></para>
    -->

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルーティング</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サブネット</primary></indexterm>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">あるマシンがネットワーク上で他のマシンをみつけることができるようにするには、
      あるマシンから他のマシンへどのようにたどり着くかを記述する適切な仕組みが必要です。
      この仕組みを<firstterm xmlns:xlink="http://www.w3.org/1999/xlink">ルーティング</firstterm>と呼びます。
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">経路</quote> (route) は <quote xmlns:xlink="http://www.w3.org/1999/xlink">送信先</quote>
      (destination) と <quote xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ</quote> の
      2 つのアドレスの組で定義します。この組合せは、この
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">送信先</emphasis> へたどり着こうとする場合は、その
      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ</emphasis>
      を通じて通信することを示しています。
      送信先には個々のホスト、サブネット、<quote xmlns:xlink="http://www.w3.org/1999/xlink">デフォルト</quote>
      の 3 つの型があります。
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート</quote>
      は他のどの経路も適用できない場合に使われます。
      デフォルトルートについてはのちほどもう少し詳しく述べます。
      また、ゲートウェイには、個々のホスト、インタフェース
      (<quote xmlns:xlink="http://www.w3.org/1999/xlink">リンク</quote> とも呼ばれます)、
      イーサネットハードウェアアドレス (MAC アドレス)
      の 3 つの型があります。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">例</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に示す <command xmlns:xlink="http://www.w3.org/1999/xlink">netstat</command>
	の例を使って、ルーティングのさまざまな状態を説明します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">netstat -r</userinput>
Routing tables

Destination      Gateway            Flags     Refs     Use     Netif Expire

default          outside-gw         UGSc       37      418      ppp0
localhost        localhost          UH          0      181       lo0
test0            0:e0:b5:36:cf:4f   UHLW        5    63288       ed0     77
10.20.30.255     link#1             UHLW        1     2421
example.com      link#1             UC          0        0
host1            0:e0:a8:37:8:1e    UHLW        3     4601       lo0
host2            0:e0:a8:37:8:1e    UHLW        0        5       lo0 =&gt;
host2.example.com link#1             UC          0        0
224              link#1             UC          0        0</screen>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート (default route)</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初の 2 行はデフォルトルート
	(<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-routing-default">次節</link>で扱います) と、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">localhost</systemitem> への経路を示しています。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ループバックデバイス (loopback device)</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">localhost</literal> に割り当てるインタフェース
	(<literal xmlns:xlink="http://www.w3.org/1999/xlink">Netif</literal> 欄)
	としてこのルーティングテーブルが指定しているのは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">lo0</filename>
	で、これはループバックデバイスともいいます。
	これは結局のところ出たところに戻るだけなので、
	この送信先あてのトラフィックは、LAN
	に送られずに、すべて内部的に処理されます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">イーサネット</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">MAC アドレス</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の行では
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="etheraddress">0:e0:</systemitem> から始まるアドレスに注目しましょう。
	これはイーサネットハードウェアアドレスで、MAC アドレスともいいます。
	FreeBSD はローカルなイーサネット上の任意のホスト
	(この例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">test0</systemitem>) を自動的に認識し、
	イーサネットインタフェース <filename xmlns:xlink="http://www.w3.org/1999/xlink">ed0</filename>
	にそのホストへの直接の経路をつけ加えます。
	この種の経路には、タイムアウト時間 (<literal xmlns:xlink="http://www.w3.org/1999/xlink">Expire</literal> 欄)
	も結びつけられており、
	指定された時間内にホストからの応答がないことを判断するのに用いられます。
	その場合、そのホストへの経路情報は自動的に削除されます。
	これらのホストは
	RIP (Routing Information Protocol) という、
	最短パス判定に基づいてローカルなホストへの経路を決定する仕組みを利用して認識されます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">サブネット</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに FreeBSD
	ではローカルサブネットへの経路情報も加えることができます
	(<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.20.30.255</systemitem> は
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.20.30</systemitem>
	というサブネットに対するブロードキャストアドレスで、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.com</systemitem>
	はこのサブネットに結びつけられているドメイン名)。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">link#1</literal> という名称は、
	このマシンの一つ目のイーサネットカードのことをさします。
	これらについては、
	何も追加インタフェースが指定されていないことがわかります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これら 2 つのグループ
	(ローカルネットワークホストとローカルサブネット)
	は、両方とも <application xmlns:xlink="http://www.w3.org/1999/xlink">routed</application>
	というデーモンによって自動的に経路が設定されます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">routed</application> を動かさなければ、静的に定義した
	(つまり明示的に設定した) 経路のみが存在することになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">host1</literal> の行は私たちのホストのことで、
	イーサネットアドレスで示されています。送信側のホストの場合、
	FreeBSDはイーサネットインタフェースへ送るのではなく、
	ループバックインタフェース (<filename xmlns:xlink="http://www.w3.org/1999/xlink">lo0</filename>)
	を使います。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 つある <literal xmlns:xlink="http://www.w3.org/1999/xlink">host2</literal> の行は、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のエイリアスを使ったときにどのようになるかを示す例です
	(このようなことをする理由については
	Ethernet の節を参照してください)。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">lo0</filename> の後にある <literal xmlns:xlink="http://www.w3.org/1999/xlink">=&gt;</literal> は、
	インタフェースが (このアドレスがローカルなホストを参照しているので)
	ループバックを使っているというだけでなく、
	エイリアスになっていることも示しています。
	このような経路はエイリアスに対応しているホストにのみ現れます。
	ローカルネットワーク上の他のすべてのホストでは、
	それぞれの経路に対して単に<literal xmlns:xlink="http://www.w3.org/1999/xlink">link#1</literal> となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後の行 (送信先サブネット <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">224</systemitem>)
	はマルチキャストで扱うものですが、これは他の節で説明します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に <literal xmlns:xlink="http://www.w3.org/1999/xlink">Flags</literal> (フラグ)
	欄にそれぞれの経路のさまざまな属性が表示されます。
	以下にフラグの一部と、それが何を意味しているかを示します。
      </para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">U</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Up: この経路はアクティブです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">H</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Host: 経路の送信先が単一のホストです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">G</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Gateway: この送信先へ送られると、
		どこへ送ればよいかを明らかにして、
		そのリモートシステムへ送られます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">S</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Static:
		この経路はシステムによって自動的に生成されたのではなく、
		手動で作成されました。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Clone:
		マシンに接続したときにこの経路に基づく新しい経路が作られます。
		この型の経路は通常はローカルネットワークで使われます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">W</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">WasCloned:
		ローカルエリアネットワーク (LAN) の (Clone)
		経路に基づいて自動的に生成された経路であることを示します。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">L</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Link:
		イーサネットハードウェアへの参照を含む経路です。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-routing-default">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルシステムからリモートホストにコネクションを張る必要がある場合、
	既知の経路が存在するかどうかを確認するためにルーティングテーブルをチェックします。
	到達するための経路を知っているサブネットの内部にリモートホストがある場合
	(Cloned routes)、
	システムはそのインタフェースから接続できるかどうか確認します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">知っているパスがすべて駄目だった場合でも、
	システムには最後の手段として <quote xmlns:xlink="http://www.w3.org/1999/xlink">デフォルト</quote>
	ルートがあります。このルートはゲートウェイルート
	(普通はシステムに 1 つしかありません) の特別なものです。そして、
	フラグ欄には必ず <literal xmlns:xlink="http://www.w3.org/1999/xlink">c</literal>
	が表示されています。このゲートウェイは、LAN
	内のホストにとって、どのマシンでも外部へ
	(PPP リンク、DSL、ケーブルモデム、T1、
	またはその他のネットワークインタフェースのいずれかを経由して)
	直接接続するために設定されるものです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">外部に対するゲートウェイとして機能するマシンでデフォルトルートを設定する場合、
	デフォルトルートはインターネットサービスプロバイダ (ISP)
	のサイトのゲートウェイマシンになるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それではデフォルトルートの一例を見てみましょう。
	一般的な構成を示します。</para>

      <mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	<imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imagedata fileref="advanced-networking/net-routing"/>
	</imageobject>

	<textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">
[Local2]  &lt;--ether--&gt;  [Local1]  &lt;--PPP--&gt;  [ISP-Serv]  &lt;--ether--&gt;  [T1-GW]
	  </literallayout>
	</textobject>
      </mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">Local1</systemitem> とホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">Local2</systemitem>
	はあなたのサイト内にあります。<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">Local1</systemitem>
	はダイアルアップ PPP 接続経由で ISP に接続されています。
	この PPP サーバコンピュータは、その ISP
	のインターネットへの接続点に向けた外部インタフェースを備えた他のゲートウェイコンピュータへ
	LAN を通じて接続しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのマシンのデフォルトルートはそれぞれ次のようになります。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ホスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトゲートウェイ</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インタフェース</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local2</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Ethernet</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local1</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">T1-GW</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">PPP</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">なぜ (あるいは、どうやって)
	デフォルトゲートウェイを、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">Local1</systemitem> が接続されている
	ISP のサーバではなく、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">T1-GW</systemitem> に設定するのか</quote>
	という質問がよくあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP 接続で、あなたのサイト側の PPP インタフェースは、
	ISP のローカルネットワーク上のアドレスを用いているため、
	ISP のローカルネットワーク上のすべてのマシンへの経路は
	自動的に生成されています。
	つまりあなたのマシンは、どのようにして <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">T1-GW</systemitem>
	に到達するかという経路を既に知っていることになりますから、
	ISP サーバにトラフィックを送るのに、
	中間的な段階を踏む必要はありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般的にローカルネットワークでは
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">X.X.X.1</systemitem>
	というアドレスをゲートウェイアドレスとして使います。ですから
	(同じ例を用います)、あなたの class-C のアドレス空間が
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.20.30</systemitem> で ISP が
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.9.9</systemitem> を用いている場合、
	デフォルトルートは次のようになります。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ホスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルート</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local2 (10.20.30.2)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local1 (10.20.30.1)</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Local1 (10.20.30.1, 10.9.9.30)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">T1-GW (10.9.9.1)</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトルートは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	ファイルで簡単に定義できます。この例では、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">Local2</systemitem> マシンで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	に次の行を追加しています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">defaultrouter="10.20.30.1"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">route</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	コマンドを使ってコマンドラインから直接実行することもできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">route add default 10.20.30.1</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">経路情報を手動で操作する方法について詳しいことは
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">route</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルページをご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デュアルホームホスト</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">デュアルホームホスト</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで扱うべき種類の設定がもう一つあります。
	それは 2 つの異なるネットワークにまたがるホストです。
	技術的にはゲートウェイとして機能するマシン (上の例では
	PPP コネクションを用いています) はすべてデュアルホームホストです。
	しかし実際にはこの言葉は、2 つの
	LAN 上のサイトであるマシンを指す言葉としてのみ使われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2 枚のイーサネットカードを持つマシンが、
	別のサブネット上にそれぞれアドレスを持っている場合があります。
	あるいは、イーサネットカードが 1 枚しかないマシンで、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のエイリアスを使っているかもしれません。
	物理的に分かれている
	2 つのイーサネットのネットワークが使われているならば前者が用いられます。
	後者は、物理的には 1 つのネットワークセグメントで、
	論理的には 2 つのサブネットに分かれている場合に用いられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">どちらにしても、
	このマシンがお互いのサブネットへのゲートウェイ (inbound	route)
	として定義されていることが分かるように、
	おのおののサブネットでルーティングテーブルを設定します。このマシンが
	2 つのサブネットの間のルータとして動作するという構成は、
	パケットのフィルタリングを実装する必要がある場合や、
	一方向または双方向のファイアウォールを利用したセキュリティを構築する場合によく用いられます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">このマシンが二つのインタフェース間で実際にパケットを受け渡すようにしたい場合は、
      FreeBSD でこの機能を有効にしないといけません。
      くわしい手順については次の節をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-dedicated-router">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ルータの構築</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルータ</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークルータは単にあるインタフェースから別のインタフェースへパケットを転送するシステムです。
	インターネット標準およびすぐれた技術的な慣習から、
	FreeBSD プロジェクトは
	FreeBSD においてこの機能をデフォルトでは有効にしていません。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> 内で次の変数を <literal xmlns:xlink="http://www.w3.org/1999/xlink">YES</literal>
	に変更することでこの機能を有効にできます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">gateway_enable=YES          # Set to YES if this host will be a gateway</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 変数の
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">net.inet.ip.forwarding</varname> を
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">1</literal> に設定します。
	一時的にルーティングを停止する必要があるときには、
	この変数を一時的に <literal xmlns:xlink="http://www.w3.org/1999/xlink">0</literal> に設定しなおせます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、トラフィックの宛先を決めるために、
	そのルータには経路情報が必要になります。
	ネットワークが十分簡素なら、静的経路が利用できます。
	また、FreeBSD は BSD の標準ルーティングデーモンである
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">routed</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を備えています。これは RIP
	(バージョン 1 および 2)	および IRDP を扱えます。
	BGP バージョン 4、OSPF バージョン2、
	その他洗練されたルーティングプロトコルは
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/zebra</package>
	package を用いれば対応できます。
	また、より複雑なネットワークルーティングソリューションには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">GateD</trademark></application>
	のような商用製品も利用可能です。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BGP</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">RIP</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OSPF</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このように FreeBSD を設定したとしても、
	ルータに対するインターネット標準要求を完全に満たすわけではありません。
	しかし、通常利用に関しては十分といえます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">静的な経路の設定</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Al</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Hoang</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>
      <!-- Feb 2004 -->
      

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">手動による経路の設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下のようなネットワークが存在すると仮定します。</para>

	<literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">
    INTERNET
      | (10.0.0.1/24) Default Router to Internet
      |
      |Interface xl0
      |10.0.0.10/24
   +------+
   |      | RouterA
   |      | (FreeBSD gateway)
   +------+
      | Interface xl1
      | 192.168.1.1/24
      |
  +--------------------------------+
   Internal Net 1      | 192.168.1.2/24
                       |
                   +------+
                   |      | RouterB
                   |      |
                   +------+
                       | 192.168.2.1/24
                       |
                     Internal Net 2
	</literallayout>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このシナリオでは、FreeBSD マシンの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterA</systemitem>
	  がインターネットに向けられたルータとして動作します。
	  ルータは外側のネットワークへ接続できるように
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.1</systemitem>
	  へ向けたデフォルトルートを保持しています。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterB</systemitem> はすでに適切に設定されており、
	  どこへ向かう必要があるか、
	  行き着く方法を知っていると仮定します
	  (この例では、図のように簡単です。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.1.1</systemitem>
	  をゲートウェイとして <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterB</systemitem>
	  にデフォルトルートを追加するだけです)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterA</systemitem>
	  のルーティングテーブルを確認すると、
	  以下のような出力を得ます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">netstat -nr</userinput>
Routing tables

Internet:
Destination        Gateway            Flags    Refs      Use  Netif  Expire
default            10.0.0.1           UGS         0    49378    xl0
127.0.0.1          127.0.0.1          UH          0        6    lo0
10.0.0/24          link#1             UC          0        0    xl0
192.168.1/24       link#2             UC          0        0    xl1</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">現在のルーティングテーブルでは、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterA</systemitem>
	  はまだ Internal Net 2 には到達できないでしょう。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.2.0/24</systemitem>
	  の経路を保持していないからです。
	  解決するための一つの方法は、経路を手動で追加することです。
	  以下のコマンドで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterA</systemitem>
	  のルーティングテーブルに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.1.2</systemitem>
	  を送り先として、Internal Net 2 ネットワークを追加します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">route add -net 192.168.2.0/24 192.168.1.2</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これにより、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">RouterA</systemitem> は、 
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.2.0/24</systemitem>
	  ネットワーク上のホストに到達出来ます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">永続的な設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例は、
	  起動しているシステム上に静的な経路を設定する方法としては完全です。
	  しかしながら、FreeBSD
	  マシンを再起動した際にルーティング情報が残らないという問題が一つあります。
	  静的な経路を追加するには、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	  ファイルにルートを追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Add Internal Net 2 as a static route
static_routes="internalnet2"
route_internalnet2="-net 192.168.2.0/24 192.168.1.2"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">static_routes</literal> の設定変数は、
	  スペースによって分離される文字列のリストです。
	  それぞれの文字列は経路名として参照されます。
	  上記の例では <literal xmlns:xlink="http://www.w3.org/1999/xlink">static_routes</literal> 
	  は一つの文字列のみを持ちます。
	  その文字列は <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">internalnet2</replaceable> です。その後、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">route_internalnet2</literal>
	  という設定変数を追加し、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">route</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドに与えるすべての設定パラメータを指定しています。
	  前節の例では、以下のコマンド</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">route add -net 192.168.2.0/24 192.168.1.2</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">を用いたので、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">"-net 192.168.2.0/24 192.168.1.2"</literal>
	  が必要になります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記のように <literal xmlns:xlink="http://www.w3.org/1999/xlink">static_routes</literal> 
	  は一つ以上の文字列を持つことが出来るので、
	  多数の静的な経路を作ることができます。
	  以下の行は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.0/24</systemitem>
	  および <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.1.0/24</systemitem>
	  ネットワークを、
	  仮想ルータ上に静的な経路として追加する例です。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">static_routes="net1 net2"
route_net1="-net 192.168.0.0/24 192.168.0.1"
route_net2="-net 192.168.1.0/24 192.168.1.1"</programlisting>

      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ルーティングの伝搬</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルーティングの伝搬</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">外部との経路をどのように定義したらよいかはすでに説明しました。
	しかし外部から私たちのマシンをどのようにして見つけるのかについては説明していません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ある特定のアドレス空間 (この例では class-C のサブネット)
	におけるすべてのトラフィックが、
	到着したパケットを内部で転送するネットワーク上の特定のホストに送られるようにルーティングテーブルを設定することができるのは分かっています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのサイトにアドレス空間を割り当てる場合、
	あなたのサブネットへのすべてのトラフィックがすべて
	PPP リンクを通じてサイトに送ってくるようにサービスプロバイダはルーティングテーブルを設定します。
	しかし、国境の向こう側のサイトはどのようにしてあなたの
	ISP へ送ることを知るのでしょうか?</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">割り当てられているすべてのアドレス空間の経路を維持する
	(分散している DNS 情報とよく似た) システムがあり、
	そのインターネットバックボーンへの接続点を定義しています。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">バックボーン</quote> とは国を越え、
	世界中のインターネットのトラフィックを運ぶ主要な信用できる幹線のことです。
	どのバックボーンマシンも、
	あるネットワークから特定のバックボーンのマシンへ向かうトラフィックと、
	そのバックボーンのマシンからあなたのネットワークに届くサービスプロバイダまでのチェーンのマスタテーブルのコピーを持っています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのサイトが接続
	(プロバイダからみて内側にあることになります) したということを、
	プロバイダからバックボーンサイトへ通知することはプロバイダの仕事です。
	これが経路の伝搬です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">traceroute</command></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">経路の伝搬に問題が生じて、
	いくつかのサイトが接続をおこなうことができなくなることがあります。
	ルーティングがどこでおかしくなっているかを明らかにするのに最も有効なコマンドはおそらく
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">traceroute</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドでしょう。
	このコマンドは、あなたがリモートマシンに対して接続をおこなうことができない
	(たとえば <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ping</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に失敗するような)
	場合も、同じように有効です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">traceroute</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドは、
	接続を試みているリモートホストを引数にして実行します。
	試みている経路が経由するゲートウェイホストを表示し、
	最終的には目的のホストにたどり着くか、
	コネクションの欠如によって終ってしまうかのどちらかになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">より詳しい情報は、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">traceroute</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	のマニュアルページをみてください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">マルチキャストルーティング</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">マルチキャスト</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">options MROUTING</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はマルチキャストアプリケーションとマルチキャストルーティングの両方にネイティブ対応しています。
	マルチキャストアプリケーションを動かすのに FreeBSD
	で特別な設定をする必要は一切ありません。
	アプリケーションは普通はそのままで動くでしょう。
	マルチキャストルーティングに対応するには、
	下のオプションを追加してカーネルをコンパイルする必要があります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options MROUTING</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/mrouted.conf</filename>
	を編集してルーティングデーモン <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mrouted</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を設定し、トンネルと DVMRP を設置する必要があります。
	マルチキャスト設定についての詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mrouted</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	のマニュアルページを参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-wireless">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワーク</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Eric</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Anderson</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
    </info>
    

   <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワーク</primary></indexterm>
   <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
     <primary xmlns:xlink="http://www.w3.org/1999/xlink">802.11</primary>
     <see xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワーク</see>
   </indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">常にネットワークケーブルをつないでいるという面倒なことをせずに、
	コンピュータを使用できることは、とても有用でしょう。
	FreeBSD は無線のクライアントとして、
	さらに <quote xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイント</quote> としても使えます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">無線の動作モード</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">802.11 無線デバイスの設定には、BSS と IBSS
	の二つの方法があります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">BSS モード</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">BSS モードは一般的に使われているモードです。
	  BSS モードはインフラストラクチャモードとも呼ばれています。
	  このモードでは、
	  多くの無線アクセスポイントが
	  1 つの有線ネットワークに接続されます。
	  それぞれのワイヤレスネットワークは固有の名称を持っています。
	  その名称はネットワークの SSID と呼ばれます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無線クライアントはこれらの無線アクセスポイントに接続します。
	  IEEE 802.11 標準は無線ネットワークが接続するのに使用するプロトコルを規定しています。
	  SSID が設定されているときは、
	  無線クライアントを特定のネットワークに結びつけることができます。
	  SSID を明示的に指定しないことにより、
	  無線クライアントを任意のネットワークに接続することもできます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">IBSS モード</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アドホックモードとも呼ばれる IBSS モードは、
	  一対一通信のために設計された通信方式です。
	  実際には二種類のアドホックモードがあります。
	  一つは IBSS モードで、アドホックモード、または
	  IEEE アドホックモードとも呼ばれます。
	  このモードは IEEE 802.11 標準に規定されています。
	  もう一つはデモアドホックモードもしくは Lucent アドホックモード
	  (そして時々、紛らわしいことに、アドホックモード)
	  と呼ばれるモードです。
	  このモードは古く、802.11 が標準化する以前のアドホックモードで、
	  これは古い設備でのみ使用されるべきでしょう。
	  ここでは、どちらのアドホックモードについてもこれ以上言及しません。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インフラストラクチャーモード</title>
      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイントは一つ以上の無線クライアントが、
	  そのデバイスをセントラルハブとして利用できるようにする無線ネットワークデバイスです。
	  アクセスポイントを使用している間、
	  すべてのクライアントはアクセスポイントを介して通信します。
	  家屋や職場、または公園などの空間を無線ネットワークで完全にカバーするために、
	  複数のアクセスポイントがよく使われます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイントは一般的に複数のネットワーク接続
	  (無線カードと、
	  その他のネットワークに接続するための一つ以上の有線イーサネットアダプタ)
	  を持っています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイントは、出来合いのものを購入することもできますし、
	  FreeBSD と対応している無線カードを組み合わせて、
	  自分で構築することもできます。
	  いくつものメーカが、
	  さまざまな機能をもった無線アクセスポイントおよび無線カードを製造しています。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のアクセスポイントの構築</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワーク</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイント</secondary>
	</indexterm>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink"><title xmlns:xlink="http://www.w3.org/1999/xlink">要件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で無線アクセスポイントを設定するためには、
	    互換性のある無線カードが必要です。
	    現状では Prism チップセットのカードのみに対応しています。
	    また FreeBSD
	    に対応している有線ネットワークカードも必要になるでしょう
	    (これを見つけるのは難しくないでしょう。
	    FreeBSD は多くの異なるデバイスに対応しているからです) 。
	    この手引きでは、
	    無線デバイスと有線ネットワークカードに接続しているネットワーク間のトラフィックを
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bridge</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> したいと仮定します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がアクセスポイントを実装するのに使用する hostap
	    機能はファームウェアの特定のバージョンで一番よく性能を発揮します。
	    Prism 2 カードは、
	    1.3.4 以降のバージョンのファームウェアで使用すべきです。
	    Prism 2.5 および Prism 3 カードでは、バージョン 1.4.9
	    のバージョンのファームウェアで使用すべきです。
	    それより古いバージョンのファームウェアは、
	    正常に動くかもしれませんし、動かないかもしれません。
	    現時点では、カードのファームウェアを更新する唯一の方法は、
	    カードの製造元から入手できる <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
	    用ファームウェアアップデートユーティリティを使うものです。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめにシステムが無線カードを認識していることを確認してください。</para>
	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig -a</userinput>
wi0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet6 fe80::202:2dff:fe2d:c938%wi0 prefixlen 64 scopeid 0x7
        inet 0.0.0.0 netmask 0xff000000 broadcast 255.255.255.255
        ether 00:09:2d:2d:c9:50
        media: IEEE 802.11 Wireless Ethernet autoselect (DS/2Mbps)
        status: no carrier
        ssid ""
        stationname "FreeBSD Wireless node"
        channel 10 authmode OPEN powersavemode OFF powersavesleep 100
        wepmode OFF weptxkey 1</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">細かいことは気にせず、
	    無線カードがインストールされていることを示す何かが表示されていることを確かめてください。
	    PC カードを使用していて、無線インタフェースを認識できない場合、
	    詳しい情報を得るために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pccardc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pccardd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    のマニュアルページを調べてみてください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、アクセスポイント用に
	    FreeBSD のブリッジ機能を担う部分を有効にするために、
	    モジュールを読み込む必要があるでしょう。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bridge</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> モジュールを読み込むには、
	    次のコマンドをそのまま実行します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kldload bridge</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">モジュールを読み込む時には、何もエラーはでないはずです。
	    もしもエラーがでたら、カーネルに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bridge</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    のコードを入れてコンパイルする必要があるかもしれません。
	    ハンドブックの<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-bridging">ブリッジ</link>の節が、
	    この課題を成し遂げる手助けをになるかもしれません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジ部分が準備できたので、
	    どのインタフェース間をブリッジするのかを
	    FreeBSD カーネルに指定する必要があります。
	    これは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sysctl</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使って行います。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.link.ether.bridge=1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.link.ether.bridge_cfg="wi0,xl0"</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.inet.ip.forwarding=1</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.2-RELEASE
	  以降では、次のように指定しなければなりません。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.link.ether.bridge.enable=1</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.link.ether.bridge.config="wi0,xl0"</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.inet.ip.forwarding=1</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、無線カードを設定するときです。
	    次のコマンドはカードをアクセスポイントとして設定します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig wi0 ssid my_net channel 11 media DS/11Mbps mediaopt hostap up stationname "FreeBSD AP"</userinput>
	  </screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンド行は
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">wi0</filename> インタフェースを up
	    状態にし、SSID を <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">my_net</replaceable> に設定し、
	    ステーション名を <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD AP</replaceable> に設定します。
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">media DS/11Mbps</option> オプションはカードを 11Mbps
	    モードに設定し、また <option xmlns:xlink="http://www.w3.org/1999/xlink">mediaopt</option>
	    を実際に有効にするのに必要です。
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">mediaopt hostap</option>
	    オプションはインタフェースをアクセスポイントモードにします。
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">channel 11</option> オプションは使用するチャネルを
	    802.11b に設定します。
	    各規制地域 (regulatory domain) で有効なチャネル番号は
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページに載っています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、
	    これで完全に機能するアクセスポイントが立ち上がり、動作しています。
	    より詳しい情報については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> のマニュアルを読むとよいでしょう。
	  </para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">また、下記の暗号化に関する節を読むこともおすすめします。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ステータス情報</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一度アクセスポイントが設定されて稼働すると、
	    管理者はアクセスポイントを利用しているクライアントを見たいと思うでしょう。
	    いつでも管理者は以下のコマンドを実行できます。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol -l</userinput>
1 station:
00:09:b7:7b:9d:16  asid=04c0, flags=3&lt;ASSOC,AUTH&gt;, caps=1&lt;ESS&gt;, rates=f&lt;1M,2M,5.5M,11M&gt;, sig=38/15</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これは一つの局が、
	    表示されているパラメータで接続していることを示します。
	    表示された信号は、
	    相対的な強さを表示しているだけのものとして扱われるべきです。
	    dBm やその他の単位への変換結果は、
	    異なるファームウェアバージョン間で異なります。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無線クライアントはアクセスポイント、
	  または他のクライアントに直接アクセスするシステムです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">典型的には、
	  無線クライアントが有しているネットワークデバイスは、
	  無線ネットワークカード 1 枚だけです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無線クライアントを設定するにはいくつか方法があります。
	  それぞれは異なる無線モードに依存していますが、
	  一般的には BSS
	  (アクセスポイントを必要とするインフラストラクチャーモード) か、
	  IBSS (アドホック、またはピアツーピアモード) のどちらかです。
	  ここでは、アクセスポイントと通信をするのに、
	  両者のうちで最も広まっている BSS モードを使用します。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">要件</title>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を無線クライアントとして設定するのに、
	    本当に必要なものはたった 1 つだけです。
	    FreeBSD が対応している無線カードが必要です。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">無線 FreeBSD クライアントの設定</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">設定をはじめる前に、
	    あなたが接続しようとする無線ネットワークについていくつか知っておかなければなりません。
	    この例では、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">my_net</replaceable>
	    という名前で暗号化は無効になっているネットワークに接続しようとしています。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">この例では暗号化を行っていないのですが、
	    これは危険な状況です。次の節で、暗号化を有効にする方法と、
	    なぜそれが重要で、
	    暗号技術によっては完全にはあなたを保護することができないのはなぜか、
	    ということを学ぶでしょう。</para></note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">カードが FreeBSD に認識されていることを確認してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig -a</userinput>
wi0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet6 fe80::202:2dff:fe2d:c938%wi0 prefixlen 64 scopeid 0x7
        inet 0.0.0.0 netmask 0xff000000 broadcast 255.255.255.255
        ether 00:09:2d:2d:c9:50
        media: IEEE 802.11 Wireless Ethernet autoselect (DS/2Mbps)
        status: no carrier
        ssid ""
        stationname "FreeBSD Wireless node"
        channel 10 authmode OPEN powersavemode OFF powersavesleep 100
        wepmode OFF weptxkey 1</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">それでは、このカードをネットワークに合わせて設定しましょう。</para>

       <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig wi0 inet 192.168.0.20 netmask 255.255.255.0 ssid my_net</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.20</systemitem> と
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">255.255.255.0</systemitem>
	    を有線ネットワークで有効な
	    IP アドレスとネットマスクに置き換えてください。
	    アクセスポイントは無線ネットワークと有線ネットワークの間でデータをブリッジしているため、
	    ネットワーク上の他のデバイスには、このデバイスが、他と同様に、
	    有線ネットワーク上にあるかのように見えることに注意してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これを終えると、
	    あなたは標準的な有線接続を使用しているかのように、
	    有線ネットワーク上のホストに ping を送ることができるでしょう。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">無線接続に関する問題がある場合は、
	    アクセスポイントに接続されていることを確認してください。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig wi0</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">いくらか情報が表示されるはずです。
	    その中に以下の表示があるはずです。</para>
	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">status: associated</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし <literal xmlns:xlink="http://www.w3.org/1999/xlink">associated</literal> と表示されなければ、
	    アクセスポイントの範囲外かもしれないし、
	    暗号化が有効になっているかもしれないし、
	    または設定の問題を抱えているのかもしれません。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">暗号化</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワーク</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">暗号化</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワークを暗号化することが重要なのは、
	  十分保護された領域にネットワークを留める能力がもはやないからです。
	  無線データはその周辺全体にわたって放送されるので、
	  それを読みたいと思う人はだれでも読むことができます。
	  そこで暗号化が役に立ちます。
	  電波に載せて送られるデータを暗号化することによって、
	  興味を抱いた者が空中からデータを取得することをずっと難しくします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントとアクセスポイント間のデータを暗号化するもっとも一般的な方法には、
	  WEP と <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipsec</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> の二種類があります。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">WEP</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">WEP</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">WEP は Wired Equivalency Protocol
	    (訳注: 直訳すると、有線等価プロトコル) の略語です。WEP
	    は無線ネットワークを有線ネットワークと同程度に安全で確実なものにしようとする試みです。
	    残念ながら、これはすでに破られており、
	    破るのはそれほど苦労しません。
	    これは、機密データを暗号化するという場合に、
	    これに頼るものではないということも意味します。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">なにも無いよりはましなので、
	    次のコマンドを使って、あなたの新しい FreeBSD アクセスポイント上で
	    WEP を有効にしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig wi0 inet up ssid my_net wepmode on wepkey 0x1234567890 media DS/11Mbps mediaopt hostap</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントについては次のコマンドで WEP を有効にできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig wi0 inet 192.168.0.20 netmask 255.255.255.0 ssid my_net wepmode on wepkey 0x1234567890</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">0x1234567890</replaceable>
	    をより特異なキーに変更すべきであることに注意してください。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">IPsec</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipsec</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	    はネットワーク上で交わされるデータを暗号化するための、
	    はるかに頑健で強力なツールです。
	    これは無線ネットワーク上のデータを暗号化する明らかに好ましい方法です。
	    ハンドブック内の <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ipsec">IPsec</link> 節で
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipsec</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> セキュリティ、
	    およびその実装方法の詳細を読むことができます。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ツール</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワークをデバッグしたり設定するのに使うツールがわずかばかりあります。
	  ここでその一部と、それらが何をしているか説明します。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsd-airtools</application> パッケージ</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsd-airtools</application> パッケージは、
	    WEP キークラッキング、
	    アクセスポイント検知などの無線通信を監査するツールを含む完備されたツール集です。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">bsd-airtools</application> ユーティリティは
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">net/bsd-airtools</package> port
	    からインストールできます。
	    ports のインストールに関する情報はこのハンドブックの
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> を参照してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dstumbler</command> プログラムは、
	    アクセスポイントの発見および
	    S/N 比のグラフ化をできるようにするパッケージツールです。
	    アクセスポイントを立ち上げて動かすのに苦労しているなら、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">dstumbler</command>
	    はうまく行く手助けになるかもしれません。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">無線ネットワークの安全性をテストするのに、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">dweputils</quote> (<command xmlns:xlink="http://www.w3.org/1999/xlink">dwepcrack</command>,
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">dwepdump</command> および <command xmlns:xlink="http://www.w3.org/1999/xlink">dwepkeygen</command>)
	    を使用することで、
	    WEP があなたの無線安全性への要求に対する正しい解決策かどうか判断するのを助けられるかもしれません。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol</command>, <command xmlns:xlink="http://www.w3.org/1999/xlink">ancontrol</command> および <command xmlns:xlink="http://www.w3.org/1999/xlink">raycontrol</command> ユーティリティ</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これらは、無線ネットワーク上で無線カードがどのように動作するかを制御するツールです。
	    上記の例では、無線カードが <filename xmlns:xlink="http://www.w3.org/1999/xlink">wi0</filename>
	    インタフェースであるので、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    を使用することに決めました。
	    もし Cisco の無線デバイスを持っている場合は、それは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">an0</filename> として動作するでしょうから、
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ancontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使うことになるでしょう。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</command> コマンド</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</primary></indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wicontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    と同じオプションの多くを処理できますが、
	    いくつかのオプションを欠いています。
	    コマンドライン引数とオプションについて
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">対応しているカード</title>
	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">アクセスポイント</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のところ (アクセスポイントとして)
	    BSS モードに対応した唯一のカードは Prism 2, 2.5
	    または 3 チップセットを利用したデバイスです。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">wi</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> に完全な一覧があります。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">現在、FreeBSD では、ほとんどすべての 802.11b
	    無線カードに対応しています。
	    Prism, Spectrum24, Hermes, Aironet または Raylink
	    のチップセットを利用したほとんどのカードは、
	    (アドホック、ピアツーピア、そして BSS の)
	    IBSS モードで無線ネットワークカードとして動作するでしょう。</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-bluetooth">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">Bluetooth</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Pav</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lucistnik</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib><affiliation xmlns:xlink="http://www.w3.org/1999/xlink">
	    <address xmlns:xlink="http://www.w3.org/1999/xlink"><email xmlns:xlink="http://www.w3.org/1999/xlink">pav@oook.cz</email></address>
	  </affiliation></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Bluetooth</primary></indexterm>
    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">Bluetooth は免許のいらない 2.4 GHz の帯域を利用して、
	10 m 程度のパーソナルネットワークを作る無線技術です。
	ネットワークはたいていの場合、その場その場で、携帯電話や
	PDA やノートパソコンなどの携帯デバイスから形成されます。
	Wi-Fi などの他の有名な無線技術とは違い、
	Bluetooth はより高いレベルのサービスを提供します。
	たとえば、FTP のようなファイルサーバ、ファイルのプッシュ、
	音声伝送、シリアル線のエミュレーションなどのサービスです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 内での Bluetooth スタックは Netgraph フレームワーク
	(<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">netgraph</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> 参照) を使って実現されています。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_ubt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバは、
	多種多様な Bluetooth USB ドングルに対応しています。
	Broadcom BCM2033 チップを搭載した Bluetooth デバイスは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ubtbcmfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_ubt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバによって対応されています。
	3Com Bluetooth PC カード 3CRWB60-A は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_bt3c</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	ドライバによって対応されています。
	シリアルおよび UART を搭載した Bluetooth デバイスは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sio</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>,
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_h4</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hcseriald</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	ドライバによって対応されています。
	この節では USB Bluetooth ドングルの使用法について説明します。
	Bluetooth に対応しているのは FreeBSD 5.0 以降のシステムです。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">5.0, 5.1 Release ではカーネルモジュールは利用可能ですが、
	  種々のユーティリティとマニュアルは標準でコンパイルされていません。
	</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイスの挿入</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは Bluetooth
	デバイスドライバはカーネルモジュールとして利用できます。
	デバイスを接続する前に、
	カーネルにドライバを読み込む必要があります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kldload ng_ubt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Bluetooth デバイスがシステム起動時に存在している場合、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/loader.conf</filename>
	からモジュールを読み込んでください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ng_ubt_load="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">USB ドングルを挿してください。コンソールに (または syslog に)
	下記のような表示が現れるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ubt0: vendor 0x0a12 product 0x0001, rev 1.10/5.25, addr 2
ubt0: Interface 0 endpoints: interrupt=0x81, bulk-in=0x82, bulk-out=0x2
ubt0: Interface 1 (alt.config 5) endpoints: isoc-in=0x83, isoc-out=0x3,
      wMaxPacketSize=49, nframes=6, buffer size=294</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/netgraph/bluetooth/rc.bluetooth</filename>
	を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.bluetooth</filename>
	のようなどこか便利な場所にコピーしてください。
	このスクリプトは Bluetooth
	スタックを開始および終了させるのに使われます。
	デバイスを抜く前にスタックを終了するのはよい考えですが、
	(たいていの場合) しなくても致命的ではありません。
	スタックを開始するときに、下記のような出力がされます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.bluetooth start ubt0</userinput>
BD_ADDR: 00:02:72:00:d4:1a
Features: 0xff 0xff 0xf 00 00 00 00 00
&lt;3-Slot&gt; &lt;5-Slot&gt; &lt;Encryption&gt; &lt;Slot offset&gt;
&lt;Timing accuracy&gt; &lt;Switch&gt; &lt;Hold mode&gt; &lt;Sniff mode&gt;
&lt;Park mode&gt; &lt;RSSI&gt; &lt;Channel quality&gt; &lt;SCO link&gt;
&lt;HV2 packets&gt; &lt;HV3 packets&gt; &lt;u-law log&gt; &lt;A-law log&gt; &lt;CVSD&gt;
&lt;Paging scheme&gt; &lt;Power control&gt; &lt;Transparent SCO data&gt;
Max. ACL packet size: 192 bytes
Number of ACL packets: 8
Max. SCO packet size: 64 bytes
Number of SCO packets: 8</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ホストコントローラインタフェース (HCI)</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">HCI</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ホストコントローラインタフェース (HCI) は、
	ベースバンドコントローラおよびリンクマネージャへのコマンドインタフェースを提供し、
	ハードウェアステータスおよびコントロールレジスタへアクセスします。
	このインタフェースは
	Bluetooth ベースバンド機能へアクセスする画一的な方法を提供します。
	ホストの HCI 層は Bluetooth ハードウェア上の HCI ファームウェアと、
	データとコマンドをやり取りします。
	ホストコントローラトランスポート層 (つまり物理的なバス) のドライバは、
	両方の HCI 層に相互に情報を交換する能力を与えます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つの Bluetooth デバイスにつき、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">hci</emphasis>
	タイプの Netgraph ノードが一つ作成されます。
	HCI ノードは通常 Bluetooth デバイスドライバノード (下流) と
	L2CAP ノード (上流) に接続されます。
	すべての HCI 動作はデバイスドライバノード上ではなく、
	HCI ノード上で行われなくてはいけません。
	HCI ノードのデフォルト名は <quote xmlns:xlink="http://www.w3.org/1999/xlink">devicehci</quote> です。
	詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_hci</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> マニュアルを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最も一般的なタスクの一つに、無線通信的に近傍にある Bluetooth
	デバイスの発見があります。
	この動作は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">inquiry (問い合わせ)</emphasis> と呼ばれています。
	Inquiry や他の HCI に関連した動作は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	ユーティリティによってなされます。
	下記の例は、どの
	Bluetooth デバイスが通信圏内にあるかを知る方法を示しています。
	デバイスのリストが表示されるには数秒かかります。
	リモートデバイスは <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">discoverable (発見可能な)</emphasis>
	モードにある場合にのみ
	inquiry に返答するということに注意してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol -n ubt0hci inquiry</userinput>
Inquiry result, num_responses=1
Inquiry result #0
       BD_ADDR: 00:80:37:29:19:a4
       Page Scan Rep. Mode: 0x1
       Page Scan Period Mode: 00
       Page Scan Mode: 00
       Class: 52:02:04
       Clock offset: 0x78ef
Inquiry complete. Status: No error [00]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">BD_ADDR</literal> は
	Bluetooth デバイスに固有のアドレスです。
	これはネットワークカードの MAC アドレスに似ています。
	このアドレスはデバイスとの通信を続けるのに必要となります。
	BD_ADDR に人間が判読しやすい名前を割り当てることもできます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/bluetooth/hosts</filename> ファイルには、
	既知の Bluetooth ホストに関する情報が含まれています。
	次の例はリモートデバイスに割り当てられている、
	人間が判読しやすい名前を得る方法を示しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol -n ubt0hci remote_name_request 00:80:37:29:19:a4</userinput>
BD_ADDR: 00:80:37:29:19:a4
Name: Pav's T39</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リモートの Bluetooth デバイス上で inquiry を実行すると、
	あなたのコンピュータは <quote xmlns:xlink="http://www.w3.org/1999/xlink">your.host.name (ubt0)</quote>
	と認識されます。
	ローカルデバイスに割り当てられた名前はいつでも変更できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">Bluetooth システムは一対一接続 (二つの
	Bluetooth ユニットだけが関係します) または一対多接続を提供します。
	一対多接続では、接続はいくつかの Bluetooth デバイス間で共有されます。
	次の例は、ローカルデバイスに対するアクティブなベースバンド接続のリストを得る方法を示しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol -n ubt0hci read_connection_list</userinput>
Remote BD_ADDR    Handle Type Mode Role Encrypt Pending Queue State
00:80:37:29:19:a4     41  ACL    0 MAST    NONE       0     0 OPEN</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">connection handle</emphasis>
	はベースバンド接続の終了が必要とされるときに便利です。
	もっとも、通常はこれを手動で行う必要はありません。
	Bluetooth スタックはアクティブでないベースバンド接続を自動的に終了します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol -n ubt0hci disconnect 41</userinput>
Connection handle: 41
Reason: Connection terminated by local host [0x16]</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">利用可能な HCI コマンドの完全な一覧を得るには、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol help</command> を参照してください。
	HCI コマンドのほとんどはスーパユーザ権限を必要としません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ロジカルリンクコントロールおよびアダプテーションプロトコル (L2CAP)</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">L2CAP</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ロジカルリンクコントロールおよびアダプテーションプロトコル
	(L2CAP) は、プロトコル多重化ケーパビリティおよび分割・再編成動作を備えた、
	上位層プロトコルへのコネクション指向およびコネクションレスデータサービスを提供します。
	L2CAP は上位層プロトコルおよびアプリケーションが
	64 KB までの長さの
	L2CAP データパケットを送受信することを可能にします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">L2CAP は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">チャネル</emphasis> の概念に基づいています。
	チャネルはベースバンド接続の上位に位置する論理的な接続です。
	それぞれのチャネルは多対一の方法で一つのプロトコルに結びつけられます。
	複数のチャネルを同じプロトコルに結びつけることは可能ですが、
	一つのチャネルを複数のプロトコルに結びつけることはできません。
	チャネル上で受け取られたそれぞれの L2CAP パケットは、
	適切なより上位のプロトコルに渡されます。
	複数のチャネルは同じベースバンド接続を共有できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一つの Bluetooth デバイスに対して、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">l2cap</emphasis>
	タイプの Netgraph ノードが一つ作成されます。
	L2CAP ノードは通常 Bluetooth HCI ノード (下流) と
	Bluetooth ソケットノード (上流) に接続されます。
	L2CAP ノードのデフォルト名は <quote xmlns:xlink="http://www.w3.org/1999/xlink">devicel2cap</quote> です。
	詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ng_l2cap</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> マニュアルを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">便利なコマンドに、他のデバイスに ping を送ることができる
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">l2ping</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> があります。Bluetooth 実装によっては、
	送られたデータすべては返さないことがあります。
	したがって次の例で <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">0 バイト</emphasis> は正常です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">l2ping -a 00:80:37:29:19:a4</userinput>
0 bytes from 0:80:37:29:19:a4 seq_no=0 time=48.633 ms result=0
0 bytes from 0:80:37:29:19:a4 seq_no=1 time=37.551 ms result=0
0 bytes from 0:80:37:29:19:a4 seq_no=2 time=28.324 ms result=0
0 bytes from 0:80:37:29:19:a4 seq_no=3 time=46.150 ms result=0</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">l2control</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ユーティリティは
	L2CAP ノード上でさまざまな操作を行うのに使われます。
	この例は、ローカルデバイスに対する論理的な接続 (チャネル)
	およびベースバンド接続の一覧を得る方法を示しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">l2control -a 00:02:72:00:d4:1a read_channel_list</userinput>
L2CAP channels:
Remote BD_ADDR     SCID/ DCID   PSM  IMTU/ OMTU State
00:07:e0:00:0b:ca    66/   64     3   132/  672 OPEN
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">l2control -a 00:02:72:00:d4:1a read_connection_list</userinput>
L2CAP connections:
Remote BD_ADDR    Handle Flags Pending State
00:07:e0:00:0b:ca     41 O           0 OPEN</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">別の診断ツールが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">btsockstat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> です。
	これは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">netstat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と同様の作業を、Bluetooth
	ネットワークに関するデータ構造についての行います。
	下記の例は上の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">l2control</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と同じ論理的な接続を示します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">btsockstat</userinput>
Active L2CAP sockets
PCB      Recv-Q Send-Q Local address/PSM       Foreign address   CID   State
c2afe900      0      0 00:02:72:00:d4:1a/3     00:07:e0:00:0b:ca 66    OPEN
Active RFCOMM sessions
L2PCB    PCB      Flag MTU   Out-Q DLCs State
c2afe900 c2b53380 1    127   0     Yes  OPEN
Active RFCOMM sockets
PCB      Recv-Q Send-Q Local address     Foreign address   Chan DLCI State
c2e8bc80      0    250 00:02:72:00:d4:1a 00:07:e0:00:0b:ca 3    6    OPEN</screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">RFCOMM プロトコル</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">RFCOMM</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">RFCOMM プロトコルは L2CAP
	プロトコルを介してシリアルポートのエミュレーションを提供します。
	このプロトコルは ETSI (訳注: 欧州電気通信標準化機構)
	標準 TS 07.10 に基づいています。
	RFCOMM プロトコルは、単純な伝送プロトコルに RS-232 (EIATIA-232-E)
	シリアルポートの 9 本の結線をエミュレートする項目を加えたものです。
	RFCOMM プロトコルは、二つの Bluetooth デバイス間で、最大 60
	までの同時接続 (RFCOMM チャネル) に対応しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">RFCOMM の目的から、完全な通信経路は、異なるデバイス上
	(通信の端点) で動作している二つのアプリケーションと、
	その間の通信セグメントを含んでいます。RFCOMM
	は、それが動いているデバイスのシリアルポートを利用するアプリケーションをカバーするためのものです。
	通信セグメントはあるデバイスから他のデバイスへの Bluetooth リンクです
	(直接接続)。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">RFCOMM は直接接続している場合のデバイス間の接続、
	またはネットワークの場合のデバイスとモデムの間の接続にだけ関係があります。
	RFCOMM は、一方が Bluetooth 無線技術で通信し、
	もう一方で有線インタフェースを提供するモジュールのような、
	他の構成にも対応できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では RFCOMM プロトコルは
	Bluetooth ソケット層に実装されています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デバイスのペアリング</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">pairing</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは Bluetooth 通信は認証されておらず、
	すべてのデバイスが他のすべてのデバイスと通信できます。
	Bluetooth デバイス (たとえば携帯電話) は特定のサービス
	(たとえばダイアルアップサービス) を提供するために、
	認証を要求することも選択できます。
	Bluetooth 認証は通常 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">PIN コード</emphasis> で行われます。
	PIN コードは最長 16 文字のアスキー文字列です。
	ユーザは両デバイスで同じ PIN コードを入力することを要求されます。
	一度 PIN コードを入力すると、
	両デバイスは <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">リンクキー</emphasis> を作成します。
	その後、リンクキーはそのデバイス自身または、
	不揮発性記憶デバイス内に格納できます。
	次の機会には、両デバイスは前に作成されたリンクキーを使用するでしょう。
	このような手続きを<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ペアリング (pairing)</emphasis>
	と呼びます。いずれかのデバイス上でリンクキーが失われたときには、
	ペアリングをやり直さなければならないことに注意してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hcsecd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> デーモンが
	Bluetooth 認証要求のすべてを扱う責任を負っています。
	デフォルトの設定ファイルは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/bluetooth/hcsecd.conf</filename> です。
	PIN コードが <quote xmlns:xlink="http://www.w3.org/1999/xlink">1234</quote>
	に設定された携帯電話に関する例は以下の通りです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device {
        bdaddr  00:80:37:29:19:a4;
        name    "Pav's T39";
        key     nokey;
        pin     "1234";
      }</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PIN コードには (長さを除いて) 制限はありません。
	いくつかのデバイス (たとえば Bluetooth ヘッドフォン)
	には固定的な PIN コードが組み込まれているかもしれません。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-d</option> オプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hcsecd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	デーモンがフォアグラウンドで動作するように強制するため、
	何が起きているのか確認しやすくなります。
	リモートデバイスがペアリングを受け取るように設定して、
	リモートデバイスへの Bluetooth 接続を開始してください。
	リモートデバイスはペアリングが受け入れらた、と応答して
	PIN コードを要求するでしょう。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">hcsecd.conf</filename> 内にあるのと同じ
	PIN コードを入力してください。
	これであなたの PC とリモートデバイスがペアとなりました。
	また、リモートデバイスからペアリングを開始することもできます。
	以下は <command xmlns:xlink="http://www.w3.org/1999/xlink">hcsecd</command> の出力例です。</para>

<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hcsecd[16484]: Got Link_Key_Request event from 'ubt0hci', remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Found matching entry, remote bdaddr 0:80:37:29:19:a4, name 'Pav's T39', link key doesn't exist
hcsecd[16484]: Sending Link_Key_Negative_Reply to 'ubt0hci' for remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Got PIN_Code_Request event from 'ubt0hci', remote bdaddr 0:80:37:29:19:a4
hcsecd[16484]: Found matching entry, remote bdaddr 0:80:37:29:19:a4, name 'Pav's T39', PIN code exists
hcsecd[16484]: Sending PIN_Code_Reply to 'ubt0hci' for remote bdaddr 0:80:37:29:19:a4</programlisting>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">サービスディスカバリプロトコル (SDP)</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SDP</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サービスディスカバリプロトコル (SDP) は、
	クライアントアプリケーションが、
	サーバアプリケーションが提供するサービスの存在とその属性を発見する手段を提供します。
	サービスの属性には提示されているサービスのタイプまたはクラス、
	および、サービスを利用するのに必要な仕組みまたはプロトコルの情報が含まれます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">SDP には SDP サーバと SDP クライアント間の通信が含まれます。
	SDP サーバは、サーバに関連づけられたサービスの特性について記述しているサービスレコードの一覧を維持しています。
	各サービスレコードにはそれぞれ 1 つのサービスの情報が書かれています。
	クライアントは SDP リクエストを出すことによって、
	SDP サーバが維持しているサービスレコードから情報を検索できます。
	クライアントまたはクライアントに関連づけられたアプリケーションがサービスを利用することにしたら、
	サービスを利用するためには、
	サービスプロバイダへの接続を別途開かなければなりません。
	SDP はサービスとそれらの属性を発見するための仕組みを提供しますが、
	そのサービスを利用するための仕組みは提供しません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">通常 SDP
	クライアントは希望するサービスの特性に基づいてサービスを検索します。
	しかしながら、サービスに関する事前の情報なしに、
	どのタイプのサービスが SDP
	サーバのサービスレコードに記述されているか知ることが望ましいことがあります。
	この、提供されている任意のサービスを閲覧する手順を、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ブラウジング (browsing)</emphasis> と呼びます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のところ Bluetooth SDP サーバおよびクライアントは、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.geocities.com/m_evmenkin/">ここ</link>
	からダウンロードできる第三者パッケージ
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdp-1.5</application> で実装されています。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdptool</application>
	はコマンドラインの SDP クライアントです。
	次の例は SDP ブラウズの問い合わせ方法を示しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sdptool browse 00:80:37:29:19:a4</userinput>
Browsing 00:80:37:29:19:A4 ...
Service Name: Dial-up Networking
Protocol Descriptor List:
 "L2CAP" (0x0100)
 "RFCOMM" (0x0003)
   Channel: 1

Service Name: Fax
Protocol Descriptor List:
 "L2CAP" (0x0100)
 "RFCOMM" (0x0003)
   Channel: 2

Service Name: Voice gateway
Service Class ID List:
 "Headset Audio Gateway" (0x1112)
 "Generic Audio" (0x1203)
Protocol Descriptor List:
 "L2CAP" (0x0100)
 "RFCOMM" (0x0003)
   Channel: 3
</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">... 等々。
	それぞれのサービスは属性の一覧 (たとえば RFCOMM チャネル)
	を持っていることに注意してください。サービスによっては、
	属性のリストの一部についてメモをとっておく必要があるかもしれません。
	Bluetooth 実装のいくつかは、サービスブラウジングに対応しておらず、
	空の一覧を返してくるかもしれません。この場合、
	特定のサービスを検索をすることは可能です。下記の例は
	OBEX オブジェクトプッシュ (OPUSH)
	サービスを検索する方法です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sdptool search --bdaddr 00:07:e0:00:0b:ca OPUSH</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 上における Bluetooth クライアントへのサービス提供は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdpd</application> サーバが行います。</para>
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sdpd</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sdptool</application> は、ローカル
	SDP サーバにサービスを登録するのにも用いられます。
	下記の例は PPP (LAN)
	サービスを備えたネットワークアクセスを登録する方法を示しています。
	一部のサービスでは属性 (たとえば RFCOMM チャネル)
	を要求することに注意してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sdptool add --channel=7 LAN</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカル SDP サーバに登録されたサービスの一覧は SDP
	ブラウザの問い合わせを <quote xmlns:xlink="http://www.w3.org/1999/xlink">特別な</quote> BD_ADDR
	に送ることで得られます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sdptool browse ff:ff:ff:00:00:00</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップネットワーク (DUN) および PPP (LAN)
	を用いたネットワークアクセスプロファイル</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップネットワーク (DUN) プロファイルはほとんどの場合、
	モデムや携帯電話とともに使用されます。
	このプロファイルが対象とする場面は以下のものです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータから携帯電話またはモデムを、
	  ダイアルアップインターネットアクセスサーバへの接続、
	  または他のダイアルアップサービスを利用するための無線モデムとして使うこと</para></listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">データ呼び出しを受けるための、
	  コンピュータによる携帯電話またはモデムの使用</para></listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP (LAN) によるネットワークアクセスプロファイルは、
	次の状況で利用できます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">単一の Bluetooth デバイスへの LAN アクセス
	  </para></listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">マルチ Bluetooth デバイスへの LAN アクセス
	  </para></listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">(シリアルケーブルエミュレーション上の PPP
	    ネットワーク接続を使用した) PC から PC への接続</para></listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ではどちらのプロファイルも <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> と
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> (RFCOMM Bluetooth 接続を
	PPP が制御可能なように変換するラッパ) で実装されています。
	いずれかのプロファイルが使用可能となる前に、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename> 内に新しい
	PPP ラベルが作成されていなければなりません。
	例については、 <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	のマニュアルページを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では、DUN RFCOMM チャネル上で
	BD_ADDR が 00:80:37:29:19:a4 のリモートデバイスへの RFCOMM
	接続を開くのに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が使われます。実際の RFCOMM
	チャネル番号は SDP を介してリモートデバイスから得ます。
	手動で RFCOMM チャネルを指定することもでき、その場合
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は SDP 問い合わせを実行しません。
	リモートデバイス上の RFCOMM チャネルを見つけるには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdptool</application> を使ってください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd -a 00:80:37:29:19:a4 -c -C dun -l rfcomm-dialup</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">PPP (LAN) サービスでネットワークアクセスを提供するためには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdpd</application> サーバが動いていなければなりません。
	これはローカル SDP サーバに LAN サービスを登録するのにも必要です。
	LAN サービスは RFCOMM チャネル属性を必要とすることに注意してください。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename> ファイル内に
	LAN クライアントの新しいエントリを作成しなければなりません。
	例については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のマニュアルページを参照してください。
	最後に、RFCOMM PPP サーバが実行され、
	ローカル SDP サーバに登録されているのと同じ
	RFCOMM チャネルで待ち受けていなければなりません。
	次の例は RFCOMM PPP サーバを起動する方法を示しています。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_pppd -s -C 7 -l rfcomm-server</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">OBEX プッシュ (OPUSH) プロファイル</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OBEX</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OBEX はモバイルデバイス間で広く使われている単純なファイル転送プロトコルです。
	これは主に赤外線通信で利用されており、ノートパソコンや
	PDA 間の汎用的なファイル転送、および
	PIM アプリケーションを搭載した携帯電話その他のデバイス間で名刺やカレンダーエントリを転送するのに用いられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OBEX サーバおよびクライアントは、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.geocities.com/m_evmenkin/">ここ</link>
	からダウンロードできる <application xmlns:xlink="http://www.w3.org/1999/xlink">obexapp-1.0</application>
	という第三者のパッケージとして実装されています。
	このパッケージは <application xmlns:xlink="http://www.w3.org/1999/xlink">openobex</application> ライブラリ
	(上記の <application xmlns:xlink="http://www.w3.org/1999/xlink">obexapp</application> に含まれます) および
	<package xmlns:xlink="http://www.w3.org/1999/xlink">devel/glib12</package> port を必要とします。
	なお、<application xmlns:xlink="http://www.w3.org/1999/xlink">obexapp</application>
	はルート権限を必要としません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OBEX クライアントは OBEX
	サーバとの間でオブジェクトを渡したり (プッシュ)
	および受け取ったり (プル) するのに使用されます。
	オブジェクトは、たとえば名刺や予定などになります。
	OBEX クライアントは RFCOMM チャネル番号を
	SDP によってリモートデバイスから得ることができます。
	これは RFCOMM チャネル番号の代わりにサービス名を指定することによって行うことができます。
	対応しているサービス名は IrMC, FTRN および OPUSH です。
	RFCOMM チャネルを番号で指定することもできます。
	下記は、デバイス情報オブジェクトを携帯電話から受け取り、
	新しいオブジェクト (名刺) が携帯電話に渡される場合の
	OBEX セッションの例です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">obexapp -a 00:80:37:29:19:a4 -C IrMC</userinput>
obex&gt; get
get: remote file&gt; telecom/devinfo.txt
get: local file&gt; devinfo-t39.txt
Success, response: OK, Success (0x20)
obex&gt; put
put: local file&gt; new.vcf
put: remote file&gt; new.vcf
Success, response: OK, Success (0x20)
obex&gt; di
Success, response: OK, Success (0x20)</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">OBEX プッシュサービスを提供するためには、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">sdpd</application>
	サーバが実行されていなければなりません。
	また OPUSH サービスをローカル SDP サーバに登録することも必要です。
	なお、OPUSH サービスには RFCOMM チャネル属性が必要です。
	渡されるオブジェクトをすべて格納するルートフォルダを作成しなければいけません。
	ルートフォルダのデフォルトパスは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/spool/obex</filename> です。
	最後に OBEX サーバが実行され、
	ローカル SDP サーバに登録されているのと同じ
	RFCOMM チャネルで待ち受けていなければなりません。
	下記の例は OBEX サーバの起動方法を示します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">obexapp -s -C 10</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポート (SP) プロファイル</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルポート (SP) プロファイルは Bluetooth デバイスが RS232
	(または同様の) シリアルケーブルエミュレーションを行えるようにします。
	このプロファイルが対象とする場面は、
	レガシーアプリケーションが、仮想シリアルポート抽象を介して
	Bluetooth をケーブルの代替品として使うところです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_sppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	ユーティリティはシリアルポートプロファイルを実装します。
	Pseudo tty が仮想シリアルポート抽象概念として用いられます。
	下記の例はリモートデバイスのシリアルポートサービスへ接続する方法を示します。
	なお、RFCOMM チャネルを指定する必要はありません。―
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_sppd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> は
	SDP を介してリモートデバイスからその情報を得ることができます。
	これを上書きしたい場合にはコマンドラインで
	RFCOMM チャネルを指定してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rfcomm_sppd -a 00:07:E0:00:0B:CA -t /dev/ttyp6</userinput>
rfcomm_sppd[94692]: Starting on /dev/ttyp6...</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接続された pseudo tty はシリアルポートとして利用することができます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cu -l ttyp6</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">トラブルシューティング</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">リモートデバイスが接続できません</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">古い Bluetooth
	  デバイスのなかにはロールスイッチング (role switching)
	  に対応していないものがあります。
	  デフォルトでは FreeBSD が新しい接続を受け付けるときに、
	  ロールスイッチを実行してマスタになろうとします。
	  これに対応していないデバイスは接続できないでしょう。
	  なお、ロールスイッチングは新しい接続が確立されるときに実行されるので、
	  ロールスイッチングに対応しているかどうかリモートデバイスに問い合わせることはできません。
	  ローカル側でロールスイッチングを無効にする
	  HCI オプションがあります。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">hccontrol -n ubt0hci write_node_role_switch 0</userinput></screen>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">何かがうまくいっていないみたいです。
	  何が実際に起こっているか確認できますか?</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">できます。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.geocities.com/m_evmenkin/">ここ</link>
	  からダウンロードできる第三者パッケージ
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">hcidump-1.5</application> を使ってください。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">hcidump</application> ユーティリティは
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">tcpdump</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> と似ています。
	  これはターミナル上の Bluetooth パケットの内容の表示および
	  Bluetooth パケットをファイルにダンプするのに使えます。</para>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-bridging">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジ</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Steve</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Peterson</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IP サブネット</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジ</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">IP サブネットを作成して、
	それらのセグメントをルータを使って接続することなしに、
	(Ethernet セグメントのような)
	一つの物理ネットワークを二つのネットワークセグメントに分割することはとても有効な場合があります。
	この方法で二つのネットワークを繋ぐデバイスは
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジ</quote> と呼ばれます。
	二つのネットワークインタフェースカードを持つ FreeBSD
	システムは、ブリッジとして動作することができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジは、各ネットワークインタフェイスに繋がるデバイスの
	MAC 層のアドレス (Ethernet アドレス) を記憶することにより動作します。
	ブリッジはトラフィックの送信元と受信先が異なったネットワーク上にある場合にのみトラフィックを転送します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの点で、ブリッジはポート数の少ない Ethernet
	スイッチのようなものといえます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジがふさわしい状況</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">今日ブリッジが活躍する場面は大きく分けて二つあります。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">トラフィックの激しいセグメント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ひとつは、
	  物理ネットワークセグメントがトラフィック過剰になっているが、
	  なんらかの理由によりネットワークをサブネットに分け、
	  ルータで接続することができない場合です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">編集部門と製作部門がおなじサブネットに同居している新聞社を例に考えてみましょう。
	  編集部門のユーザはファイルサーバとして全員サーバ
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> を利用し、
	  製作部門のユーザはサーバ <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">B</systemitem> を利用します。
	  すべてのユーザを接続するのには Ethernet が使われており、
	  高負荷となったネットワークは遅くなってしまいます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もし編集部門のユーザを一つのネットワークセグメントに分離することができ、
	  製作部門のユーザも同様にできるのなら、
	  二つのネットワークセグメントをブリッジで繋ぐことができます。
	  ブリッジの <quote xmlns:xlink="http://www.w3.org/1999/xlink">反対</quote>
	  側へ向かうネットワークトラフィックだけが転送され、
	  各ネットワークセグメントの混雑は緩和されます。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタ/帯域制御用ファイアウォール</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークアドレス変換 (NAT)</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">もうひとつはネットワークアドレス変換 (NAT)
	  を使わずにファイアウォール機能を利用したい場合です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは DSL もしくは ISDN で
	  ISP に接続している小さな会社を例にとってみましょう。
	  この会社は ISP からグローバル IP アドレスを
	  13 個割り当てられており、ネットワーク上には 10 台の PC が存在します。
	  このような状況では、サブネット化にまつわる問題から、
	  ルータを用いたファイアウォールを利用することは困難です。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルータ</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DSL</primary></indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ISDN</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジを用いたファイアウォールなら、
	  IP アドレスの問題を気にすること無く、
	  DSL/ISDN ルータの下流側に置くように設定できます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジを設定する</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークインタフェースカードの選択</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジを利用するには少なくとも
	  2 枚のネットワークカードが必要です。
	  残念なことに FreeBSD 4.0
	  ではすべてのネットワークインタフェースカードがブリッジ機能に対応しているわけではありません。
	  カードに対応しているかどうかについては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bridge</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	  を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">以下に進む前に、
	  二枚のネットワークカードをインストールしてテストしてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">カーネルコンフィグレーションの変更</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネルオプション</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">options BRIDGE</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルでブリッジ機能を有効にするには</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options BRIDGE</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">という行をカーネルコンフィグレーションファイルに追加して
	  カーネルを再構築してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール対応</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールとしてブリッジを利用しようとしている場合には
 	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">IPFIREWALL</literal> オプションも指定する必要があります。
	  ブリッジをファイアウォールとして設定する際の一般的な情報に関しては、
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="firewalls"/> を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">IP 以外のパケット (ARP など)
	  がブリッジを通過するようにするためには、
 	  ファイアウォール用オプションを設定しなければなりません。
	  このオプションは <literal xmlns:xlink="http://www.w3.org/1999/xlink">IPFIREWALL_DEFAULT_TO_ACCEPT</literal>
	  です。この変更により、
 	  デフォルトではファイアウォールがすべてのパケットを受け入れるようになることに注意してください。
 	  この設定を行う前に、
	  この変更が自分のルールセットにどのような影響をおよぼすかを把握しておかなければなりません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">帯域制御機能</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジで帯域制御機能を利用したい場合、
	  カーネルコンフィグレーションで <literal xmlns:xlink="http://www.w3.org/1999/xlink">DUMMYNET</literal>
	  オプションを加える必要があります。
	  詳しい情報に関しては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dummynet</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> を参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジを有効にする</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジを有効にするには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/sysctl.conf</filename> に以下の行を加えてください。
      </para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">net.link.ether.bridge=1</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">指定したインタフェースでブリッジを可能にするには以下を加えてください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">net.link.ether.bridge_cfg=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if1</replaceable>,<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if2</replaceable></programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">(<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if1</replaceable> および
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if2</replaceable>
	は二つのネットワークインタフェースの名前に置き換えてください)。
	ブリッジを経由したパケットを <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ipfw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> でフィルタしたい場合には、
	以下の行も付け加える必要があります</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">net.link.ether.bridge_ipfw=1</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.2-RELEASE
	以降では、かわりに以下の行を使用してください。</para>
 
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">net.link.ether.bridge.enable=1
 net.link.ether.bridge.config=<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if1</replaceable>,<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">if2</replaceable>
 net.link.ether.bridge.ipfw=1</programlisting>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">その他の情報</title>

       <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークからブリッジに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">telnet</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> したい場合、
 	ネットワークカードの一つに IP アドレスを割り当てるのが正しいです。
	一般的に、両方のカードに
	IP アドレスを割り当てるのはよい考えではないとされています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク内に複数のブリッジを設置する場合、
	任意のワークステーション間で一つ以上の経路を持つことはできません。
	技術的には、
	これはスパニングツリーのリンク制御はサポートされていない、
	ということを意味します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ブリッジは、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ping</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	にかかる時間を遅らせることがあります。特に、
	一方のセグメントからもう一方へのトラフィックでそうなります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-nfs">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">NFS</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">追記と再編成: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Bill</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Swingle</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD がサポートしている多くのファイルシステムの中には、
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
      とも呼ばれているネットワークファイルシステムがあります。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> はあるマシンから他のマシンへと、
      ネットワークを通じてディレクトリとファイルを共有することを可能にします。
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> を使うことで、
      ユーザやプログラムはリモートシステムのファイルを、
      それがローカルファイルであるかのようにアクセスすることができます。
    </para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
      が提供可能な最も特筆すべき利点いくつかは以下のものです。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般的に使われるデータを単一のマシンに納めることができ、
	  ユーザはネットワークを通じてデータにアクセスできるため、
	  ローカルワークステーションが使用するディスク容量が減ります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク上のすべてのマシンに、
	  ユーザが別々にホームディレクトリを持つ必要がありません。
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバ上にホームディレクトリが設定されれば、
	  ネットワークのどこからでもアクセス可能です。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">フロッピーディスクや CDROM ドライブ、
	  ZIP ドライブなどのストレージデバイスを、
	  ネットワーク上の他のマシンで利用することができます。
	  ネットワーク全体のリムーバブルドライブの数を減らせるかもしれません。</para>
      </listitem>
    </itemizedlist>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> はどのように動作するのか</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> は最低二つの主要な部分、
	サーバと一つ以上のクライアントからなります。
	クライアントはサーバマシン上に格納されたデータにリモートからアクセスします。
	これが適切に機能するには、
	いくつかのプロセスが設定されて実行されていなければなりません。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X では <command xmlns:xlink="http://www.w3.org/1999/xlink">portmap</command> ユーティリティは
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">rpcbind</application> ユーティリティに置き換わりました。
	  したがって FreeBSD 5.X では、ユーザは下記の例で、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">portmap</application> の例のすべてを
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">rpcbind</command> に置き換える必要があります。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバは以下のデーモンを動作させなければなりません。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">サーバ</secondary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">portmap</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">mountd</application></primary>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">nfsd</application></primary>
      </indexterm>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デーモン</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">nfsd</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
		クライアントからのリクエストを処理する
		<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> デーモン</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">mountd</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nfsd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> から渡されたリクエストを実際に実行する
		<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> マウントデーモン</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">portmap</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバの利用しているポートを
		<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
		クライアントから取得できるようにするためのポートマッパデーモン</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント側では <application xmlns:xlink="http://www.w3.org/1999/xlink">nfsiod</application>
	というデーモンも実行できます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">nfsiod</application> デーモンは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバからのリクエストを処理します。
	これは任意であり、性能を改善しますが、
	通常の正しい動作には必要としません。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">nfsiod</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	マニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-configuring-nfs">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> の設定</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> の設定は比較的素直な工程です。
	動かさなければならないプロセスは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	ファイルを少し変更すれば起動時に実行させられます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバでは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルの中で、
	以下のオプションが設定されていることを確かめてください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">portmap_enable="YES"
nfs_server_enable="YES"
mountd_flags="-r"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mountd</command> は
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバが有効になっていれば、
	自動的に実行されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント側では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	内に以下の設定があることを確認してください。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nfs_client_enable="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> ファイルは <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	サーバがどのファイルシステムをエクスポート
	(ときどき <quote xmlns:xlink="http://www.w3.org/1999/xlink">共有</quote> と呼ばれます) するのかを指定します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> ファイル中の各行は、
	エクスポートするファイルシステム、
	およびそのファイルシステムにアクセスできるマシンを指定します。
	ファイルシステムにアクセスできるマシンとともに、
	アクセスオプションも指定できます。
	このファイルで指定できるオプションはたくさんありますが、
	ここではほんの少しだけ言及します。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">exports</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	マニュアルページを読めば、
	他のオプションは簡単にみつけられるでしょう。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつか <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> の設定例を示します。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">エクスポートの例</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例はファイルシステムのエクスポートの考え方を示しますが、
	あなたの環境とネットワーク設定に応じて設定は少し変わるでしょう。
	たとえば次の行は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/cdrom</filename>
	ディレクトリを、サーバと同じドメイン名か
	(そのため、いずれもドメイン名がありません)、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
	に記述されている三つの例となるマシンに対してエクスポートします。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-ro</option>
	フラグは共有されるファイルシステムを読み込み専用にします。
	このフラグにより、
	リモートシステムは共有されたファイルシステムに対して何の変更も行えなくなります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/cdrom -ro host1 host2 host3</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の設定は IP アドレスで指定した 3 つのホストに対して
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/home</filename> をエクスポートします。
	この設定はプライベートネットワークで
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> が設定されていない場合に便利でしょう。
	内部のホスト名に対して <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
	を設定するという手段もあります。
	詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hosts</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照してください。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-alldirs</option>
	フラグはサブディレクトリがマウントポイントとなることを認めます。
	言い替えると、これはサブディレクトリをマウントしませんが、
	クライアントが要求するか、
	または必要とするディレクトリだけをマウントできるようにします。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/home  -alldirs  10.0.0.2 10.0.0.3 10.0.0.4</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の設定は、サーバとは異なるドメイン名の
	2 台のクライアントがアクセスできるように
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/a</filename> をエクスポートします。
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-maproot=root</option> フラグは、リモートシステムの
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> ユーザが、
	エクスポートされたファイルシステムに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	として書き込むことを許可します。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">-maproot=root</literal> フラグが無ければ、
	リモートマシンの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限を持っていても、
	共有されたファイルシステム上のファイルを変更することはできないでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/a  -maproot=root  host.example.com box.example.org</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントがエクスポートされたファイルシステムにアクセスするためには、
	そうする権限が与えられていなければなりません。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> ファイルに
	クライアントが含まれているかどうか確認してください。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> ファイルでは、
	それぞれの行が一つのファイルシステムを一つのホストにエクスポートすることを表します。
	リモートホストはファイルシステム毎に一度だけ指定することができ、
	それに加えて一つのデフォルトエントリを置けます。たとえば
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> が単一のファイルシステムであると仮定します。
	次の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> は無効です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src   client
/usr/ports client</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">単一のファイルシステムである <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	は、2 行に渡って、同じホスト <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">client</systemitem>
	へエクスポートされています。
	この場合、正しい書式は次のとおりです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src /usr/ports  client</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あるホストにエクスポートされるある
	1 つのファイルシステムのプロパティは、
	1 行ですべて指定しなければなりません。
	クライアントの指定のない行は、単一のホストとして扱われます。
	これはファイルシステムをエクスポートできる方法を制限しますが、
	多くの場合これは問題になりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下記は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/exports</filename>
	がローカルファイルシステムである場合の、
	有効なエクスポートリストの例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Export src and ports to client01 and client02, but only
# client01 has root privileges on it
/usr/src /usr/ports -maproot=root    client01
/usr/src /usr/ports               client02
# The client machines have root and can mount anywhere
# on /exports. Anyone in the world can mount /exports/obj read-only
/exports -alldirs -maproot=root      client01 client02
/exports/obj -ro</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">変更が有効となるように、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> が変更されたら
	<command xmlns:xlink="http://www.w3.org/1999/xlink">mountd</command> を再起動しなければなりません。
	これは <command xmlns:xlink="http://www.w3.org/1999/xlink">mountd</command>
	プロセスに HUP シグナルを送ることで実行できます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP `cat /var/run/mountd.pid`</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他には、再起動すれば、FreeBSD はすべてを適切に設定します。
	しかしながら、再起動は必須ではありません。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限で以下のコマンドを実行すれば、すべてが起動するでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> サーバでは</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">portmap</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nfsd -u -t -n 4</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mountd -r</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> クライアントでは</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">nfsiod -n 4</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでリモートのファイルシステムを実際にマウントする準備がすべてできました。
	この例では、サーバの名前は <literal xmlns:xlink="http://www.w3.org/1999/xlink">server</literal> で、
	クライアントの名前は <literal xmlns:xlink="http://www.w3.org/1999/xlink">client</literal> とします。
	リモートファイルシステムを一時的にマウントするだけ、
	もしくは設定をテストするだけなら、クライアント上で
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限で以下のコマンドを実行するだけです。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">マウント</secondary>
      </indexterm>
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount server:/home /mnt</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで、サーバの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/home</filename>
	ディレクトリが、クライアントの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/mnt</filename>
	にマウントされます。もしすべてが正しく設定されていれば、
	クライアントの /mnt に入り、
	サーバにあるファイルすべてを見れるはずです。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リモートファイルシステムを起動のたびに自動的にマウントしたいなら、
	ファイルシステムを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	ファイルに追加してください。
	例としてはこのようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">server:/home	/mnt	nfs	rw	0	0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">fstab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	マニュアルページに利用可能なオプションがすべて掲載されています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">実用的な使い方</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym> には実用的な使用法がいくつもあります。
	ここで典型的な使用法をいくつか紹介しましょう。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">使用法</secondary>
      </indexterm>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">何台ものマシンで CDROM
	    などのメディアを共有するように設定します。
	    これは安上がりで、たいていは、
	    複数のマシンにソフトウェアをインストールするのにより便利な方法です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">大規模なネットワークでは、
	    すべてのユーザのホームディレクトリを格納するメイン
	    <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
	    サーバを構築すると、ずっと便利でしょう。
	    どのワークステーションにログインしても、
	    ユーザがいつでも同じホームディレクトリを利用できるように、
	    これらのホームディレクトリはネットワークに向けてエクスポートされます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">何台ものマシンで <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/distfiles</filename>
	    ディレクトリを共有できます。こうすると、
	    何台ものマシン上に port をインストールする必要がある時に、
	    それぞれのマシンでソースコードをダウンロードすることなく、
	    直ちにソースにアクセスできます。</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-amd">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> による自動マウント</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Wylie</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Stilwell</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成: </contrib></author>
	</authorgroup>
      </info>
      

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">amd</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">自動マウントデーモン</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">amd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> (自動マウントデーモン) は、
	ファイルシステム内のファイルまたはディレクトリがアクセスされると、
	自動的にリモートファイルシステムをマウントします。
	また、一定の間アクセスされないファイルシステムは
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application>
	によって自動的にアンマウントされます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> を使用することは、通常
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename>
	内に記述する恒久的なマウントに対する、
	単純な代替案となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> はそれ自身を NFS サーバとして
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/host</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/net</filename>
	ディレクトリに結びつけることによって動作します。
	このディレクトリ内のどこかでファイルがアクセスされると、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> は対応するリモートマウントを調べて、
	自動的にそれをマウントします。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/net</filename> が、エクスポートされたファイルシステムを
	IP アドレスで指定してマウントするのに利用される一方で、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/host</filename>
	は、エクスポートされたファイルシステムをリモートホスト名で指定してマウントするのに利用されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/host/foobar/usr</filename>
	内のファイルにアクセスすると、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> はホスト
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">foobar</systemitem> からエクスポートされた
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> をマウントします。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application>
	  によるエクスポートされたファイルシステムのマウント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">showmount</command> コマンドを用いて、
	  リモートホストのマウントで利用できるものが見られます。
	  たとえば、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">foobar</systemitem>
	  と名付けられたホストのマウントを見るために次のように利用できます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">showmount -e foobar</userinput>
Exports list on foobar:
/usr                               10.10.10.0
/a                                 10.10.10.0
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /host/foobar/usr</userinput></screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">例のように <command xmlns:xlink="http://www.w3.org/1999/xlink">showmount</command> はエクスポートとして
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> を表示します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/host/foobar/usr</filename> にディレクトリを変更すると、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> はホスト名 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">foobar</systemitem>
	を解決し、お望みのエクスポートをマウントしようと試みます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内に次の行を記述すれば、
	起動スクリプトによって起動されます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">amd_enable="YES"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに <varname xmlns:xlink="http://www.w3.org/1999/xlink">amd_flags</varname> オプションによって
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application>
	にフラグをカスタマイズして渡せます。デフォルトでは
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">amd_flags</varname> は次のように設定されています。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">amd_flags="-a /.amd_mnt -l syslog /host /etc/amd.map /net /etc/amd.map"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/amd.map</filename> ファイルは、
	エクスポートがマウントされるデフォルトオプションを決定します。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/amd.conf</filename> ファイルは、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">amd</application>
	のより高度な機能の一部を設定します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">amd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">amd.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	マニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-nfs-integration">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">他のシステムとの統合についての問題</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">John</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lind</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>
      

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 渡辺 智雄 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">tomo@jp.FreeBSD.org</email>. 6 September 1996.</emphasis></para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ISA バス用のイーサネットアダプタの中には性能が悪いため、
	ネットワーク、特に NFS で深刻な問題がおきるものがあります。
	これは FreeBSD に限ったことではありませんが
	FreeBSD でも起こり得ます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この問題は (FreeBSD を使用した) PC
	がシリコングラフィックス社やサン・マイクロシステムズ社などの高性能なワークステーションにネットワーク接続されている場合に頻繁に起こります。
	NFS マウントはうまく動作するでしょう。
	また、いくつかの操作もうまく動作するかもしれませんが、
	他のシステムに対する要求や応答は続いていても、
	突然サーバがクライアントの要求に対して応答しなくなります。これは、
	クライアントが FreeBSD
	か上記のワークステーションであるときにクライアント側に起きる現象です。
	多くのシステムでは、いったんこの問題が現われると、
	行儀良くクライアントを終了する手段はありません。
	NFS がこの状態に陥ってしまうと正常に戻すことはできないため、
	多くの場合クライアントをリセットすることが唯一の解決法となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">正しい</quote>
	解決法は、より高性能のイーサネットアダプタを
	FreeBSD システムにインストールすることですが、
	満足に動作させる簡単な方法があります。
	FreeBSD システムが <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">サーバ</emphasis> になるのなら、
	クライアントからのマウント時に <option xmlns:xlink="http://www.w3.org/1999/xlink">-w=1024</option>
	オプションをつけて下さい。FreeBSD システムが
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</emphasis> になるのなら、
	NFS ファイルシステムを
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-r=1024</option> オプションつきでマウントして下さい。
	これらのオプションは自動的にマウントをおこなう場合には
	クライアントの <filename xmlns:xlink="http://www.w3.org/1999/xlink">fstab</filename>
	エントリの 4 番目のフィールドに指定してもよいですし、
	手動マウントの場合は mount コマンドの <option xmlns:xlink="http://www.w3.org/1999/xlink">-o</option>
	パラメータで指定してもよいでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NFS サーバとクライアントが別々のネットワーク上にあるような場合、
	これと間違えやすい他の問題が起きることに注意して下さい。
	そのような場合は、ルータが必要な
	UDP 情報をきちんとルーティングしているかを確かめて下さい。
	していなければ、たとえあなたが何をしようと解決できないでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次の例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fastws</systemitem>
	は高性能ワークステーションのホスト (インタフェース) 名で、
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freebox</systemitem> は低性能のイーサネットアダプタを備えた
	FreeBSD システムのホスト (インタフェース) 名です。
	また <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sharedfs</filename> はエクスポートされる
	NFS ファイルシステムであり (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">exports</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照) 、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/project</filename> はエクスポートされたファイルシステムの、
	クライアント上のマウントポイントとなります。
	すべての場合において、アプリケーションによっては
	<option xmlns:xlink="http://www.w3.org/1999/xlink">hard</option> や <option xmlns:xlink="http://www.w3.org/1999/xlink">soft</option>,	<option xmlns:xlink="http://www.w3.org/1999/xlink">bg</option>
	といった追加オプションがふさわしいかもしれないことに注意して下さい。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント側 FreeBSD システム (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freebox</systemitem>)
	の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> の例は以下のとおりです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">fastws:/sharedfs /project nfs rw,-r=1024 0 0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">freebox</systemitem> 上で手動で mount
	コマンドを実行する場合は次のようにして下さい。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t nfs -o -r=1024 fastws:/sharedfs /project</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバ側 FreeBSD システム (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fastws</systemitem>)
	の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> の例は以下のとおりです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">freebox:/sharedfs /project nfs rw,-w=1024 0 0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fastws</systemitem> 上で手動で mount
	コマンドで実行する場合は次のようにして下さい。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mount -t nfs -o -w=1024 freebox:/sharedfs /project</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">近いうちにどのような
	16 ビットのイーサネットアダプタでも、上記の読み出し、
	書き込みサイズの制限なしで操作できるようになるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">失敗が発生したとき何が起きているか関心のある人に、
	なぜ回復不可能なのかも含めて説明します。NFS は通常
	(より小さいサイズへ分割されるかもしれませんが)
	8 K の <quote xmlns:xlink="http://www.w3.org/1999/xlink">ブロック</quote> サイズで動作します。
	イーサネットのパケットサイズは最大 1500 バイト程度なので、
	上位階層のコードにとっては 1 つのユニットであって、
	NFS <quote xmlns:xlink="http://www.w3.org/1999/xlink">ブロック</quote>
	は複数のイーサネットパケットに分割されるものの、
	上位階層のコードにとっては 1 つのユニットであって、
	ユニットとして受信され、組み立て直され、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">肯定応答</emphasis> (ACK) されなければなりません。
	高性能のワークステーションは次々に NFS ユニットを構成するパケットを、
	標準の許す限り間隔を詰めて次々に送り出すことができます。
	小さく、容量の低いカードでは、
	同じユニットの前のパケットがホストに転送される前に、
	後のパケットがそれを踏みつぶしてしまいます。
	このため全体としてのユニットは、再構成も肯定応答もできません。
	その結果、
	ワークステーションはタイムアウトして再送を試みますが、
	8 K のユニット全体を再送しようとするので、
	このプロセスは際限無く繰り返されてしまいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユニットサイズをイーサネットのパケットサイズの
	制限以下に抑えることにより、
	受信した完全なイーサネットパケットについて個々に肯定応答を返せることが保証されるので、
	デッドロック状態を避けられるようになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それでも、高性能なワークステーションが力任せに次々と
	PC システムにデータを送ったときには踏みつぶしが起きるかもしれません。
	しかし、高性能のカードを使っていれば、NFS <quote xmlns:xlink="http://www.w3.org/1999/xlink">ユニット</quote>
	で必ずそのような踏みつぶしが起きるとは限りません。
	踏みつぶしが起きたら、影響を受けたユニットは再送されて、
	受信され、組み立てられ、肯定応答される十分な見込みがあります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-diskless">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Jean-François</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Dockès</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">更新: </contrib></author>
      </authorgroup>
    </info>
    

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 鈴木 康修 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">yasu@hike.te.chiba-u.ac.jp</email></emphasis></para>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスワークステーション</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD マシンはネットワークを通じて起動でき、
      そして NFS サーバからマウントしたファイルシステムを使用して、
      ローカルディスクなしで動作することができます。
      標準の設定ファイルを変更する以上の、システムの修正は必要ありません。
      必要な要素のすべてが用意されているので、
      このようなシステムを設定するのは簡単です。</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークを通じてカーネルを読み込む方法は、
	  少なくとも二つあります。</para>
	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PXE</acronym>: <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> の
	      Preboot Execution Environment システムは、
	      一部のネットワークカードまたはマザーボードに組み込まれた、
	      スマートなブート ROM の一形態です。
	      詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">pxeboot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>
	  </listitem>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">port の <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	      (<package xmlns:xlink="http://www.w3.org/1999/xlink">net/etherboot</package>) は、
	      ネットワークを通じてカーネルを起動する ROM
	      化可能なコードを提供します。
	      コードはネットワークカード上のブート PROM に焼き付けるか、
	      あるいはローカルフロッピー (ハード) ディスクドライブ、
	      または動作している <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark> システムから読み込むことができます。
	      多くのネットワークカードに対応しています。</para>
	  </listitem>
	</itemizedlist>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">サンプルスクリプト
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/diskless/clone_root</filename>)
	  はサーバ上で、
	  ワークステーションのルートファイルシステムの作成と維持をやり易くします。
	  このスクリプトは少し書き換えないといけないでしょうが、
	  早く取り掛かれるようにします。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスシステム起動を検知しサポートする標準のシステム起動ファイルが
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename> 内にあります。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">必要なら、NFS
	  ファイルまたはローカルディスクのどちらかにスワップできます。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスワークステーションを設定する方法はいろいろあります。
      多くの要素が関わっており、
      その多くはローカルの状況に合わせてカスタマイズできます。下記は、
      単純さと標準の FreeBSD
      起動スクリプトとの互換性を強調した完全なシステムの設定を説明します。
      記述されているシステムの特徴は次のとおりです。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスワークステーションは、
	  共有された読み取り専用の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">ルート</filename>ファイルシステムと、
	  共有された読み取り専用の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> を使用します。</para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">ルート</filename> ファイルシステムは、
	  標準的な FreeBSD (典型的にはサーバの) のルートのコピーで、
	  一部の設定ファイルが、ディスクレス稼働、
	  また場合によってはそのワークステーションに特有のもので上書きされています。</para>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">書き込み可能でなければならない <filename xmlns:xlink="http://www.w3.org/1999/xlink">ルート</filename>
	  の部分は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">mfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> ファイルシステムで覆われます。
	  システムが再起動するときにはすべての変更が失われるでしょう。</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルは DHCP (または BOOTP) および TFTP を用いて
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application> によって読み込まれます。</para>
      </listitem>
    </itemizedlist>

    <caution xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">記述されているとおり、
	このシステムは安全ではありません。
	ネットワークの保護された範囲で使用されるべきであり、
	他のホストから信頼されてはいけません。</para>
    </caution>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セットアップの手順</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP/BOOTP の設定</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">起動</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークを通じて設定を取得し、
	  ワークステーションを起動するために一般的に使用されるプロトコルには、
	  BOOTP と DHCP の 2 つがあります。
	  それらはワークステーションのブートストラップ時に何ヵ所かで使用されます。</para>
	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	      はカーネルを見つけるために DHCP (デフォルト) または
	      BOOTP (設定オプションが必要) を使用します
	      (PXE は DHCP を使用します) 。</para>
	  </listitem>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">NFS ルートの場所を定めるためにカーネルは
	      BOOTP を使用します。</para>
	  </listitem>
	</itemizedlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP だけを使用するようにシステムを設定することもできます。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bootpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> サーバプログラムは
	  FreeBSD のベースシステムに含まれています。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら、DHCP には BOOTP に勝る点が多々あります。
	  (よりよい設定ファイル、PXE が使えること、
	  そしてディスクレス稼働には直接関係しない多くの長所)
	  ここでは BOOTP だけ利用する場合と、
	  BOOTP と DHCP を組み合わせた設定を扱います。特に ISC DHCP
	  ソフトウェアパッケージを利用する後者の方法に重点をおきます。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ISC DHCP を使用する設定</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</secondary>
	  </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">isc-dhcp</application> サーバは、
	    BOOTP および DHCP リクエストの両方に答えることができます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">4.4-RELEASE の時点で <application xmlns:xlink="http://www.w3.org/1999/xlink">isc-dhcp 3.0</application>
	    はベースシステムの一部では無くなりました。
	    まずはじめに
	    <package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package> port
	    または対応する package をインストールする必要があるでしょう。
	    ports および package に関する一般的な情報については
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> を参照してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">isc-dhcp</application> がインストールされると、
	    動作するために設定ファイルを必要とします
	    (通常 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/dhcpd.conf</filename>
	    が指定されます) 。
	    下記にコメントを含めた例を示します。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
          default-lease-time 600;
          max-lease-time 7200;
          authoritative;

          option domain-name "example.com";
          option domain-name-servers 192.168.4.1;
          option routers 192.168.4.1;

          subnet 192.168.4.0 netmask 255.255.255.0 {
            use-host-decl-names on; <co xml:id="co-dhcp-host-name"/>
            option subnet-mask 255.255.255.0;
            option broadcast-address 192.168.4.255;

            host margaux {
              hardware ethernet 01:23:45:67:89:ab;
              fixed-address margaux.example.com;
              next-server 192.168.4.4;<co xml:id="co-dhcp-next-server"/>
              filename "/tftpboot/kernel.diskless";<co xml:id="co-dhcp-filename"/>
              option root-path "192.168.4.4:/data/misc/diskless";<co xml:id="co-dhcp-root-path"/>
            }
          }</programlisting>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="co-dhcp-host-name"><para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">host</literal> 宣言の値を、
		ディスクレスホストへのホスト名として送るように
		<command xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</command> に指示します。
		別の方法として、ホスト宣言内に
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">option host-name margaux</literal>
		を加えるものがあります。</para>
	    </callout>

	    <callout arearefs="co-dhcp-next-server"><para xmlns:xlink="http://www.w3.org/1999/xlink">TFTP サーバを
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">next-server</literal> ディレクティブに指定します
		(デフォルトは DHCP サーバと同じホストを使います)。</para>
	    </callout>

	    <callout arearefs="co-dhcp-filename"><para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルとして
		<application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application> が読み込むファイルを
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">filename</literal> ディレクティブに指定します。
		<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">PXE は相対的なファイル名を好むようです。
		    また、カーネルではなく <command xmlns:xlink="http://www.w3.org/1999/xlink">pxeboot</command>
		    を読み込みます
		    (<literal xmlns:xlink="http://www.w3.org/1999/xlink">option filename "pxeboot"</literal>)。</para>
		</note>
	      </para>
	    </callout>

	    <callout arearefs="co-dhcp-root-path">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステムへのパスを、
		通常の NFS 書式で <literal xmlns:xlink="http://www.w3.org/1999/xlink">root-path</literal>
		オプションに指定します。</para>
	    </callout>
	  </calloutlist>
	</sect4>
	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP を使用する設定</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</secondary>
	  </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">続けて、<command xmlns:xlink="http://www.w3.org/1999/xlink">bootpd</command>
	    で同等のことをする設定です。
	    これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/bootptab</filename> におきます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP を使用するために、デフォルトではない
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">NO_DHCP_SUPPORT</literal> オプション付きで
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	    をコンパイルしなければならないことと、PXE は DHCP
	    を <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必要</emphasis> とすることに注意してください。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">bootpd</application> の唯一明白な利点は、
	    これがベースシステムに存在するということです。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
          .def100:\
            :hn:ht=1:sa=192.168.4.4:vm=rfc1048:\
            :sm=255.255.255.0:\
            :ds=192.168.4.1:\
            :gw=192.168.4.1:\
            :hd="/tftpboot":\
            :bf="/kernel.diskless":\
            :rp="192.168.4.4:/data/misc/diskless":

          margaux:ha=0123456789ab:tc=.def100</programlisting>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Etherboot</application>
	  を用いるブートプログラムの準備</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">Etherboot</primary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://etherboot.sourceforge.net">Etherboot
	  のウェブサイト</link> には主に Linux システムについて述べた<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://etherboot.sourceforge.net/doc/html/userman/t1.html">
	    広範囲の文書</link>
	  が含まれています。
	  しかし、それにもかかわらず有用な情報を含んでいます。
	  下記は FreeBSD システム上での <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	  の使用法についての概観を示します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">まずはじめに <package xmlns:xlink="http://www.w3.org/1999/xlink">net/etherboot</package>
	  の package または port をインストールしなければなりません。
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application> port は通常
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports/net/etherboot</filename> にあります。
	  ports ツリーがシステムにインストールされている場合、
	  このディレクトリ内で <literal xmlns:xlink="http://www.w3.org/1999/xlink">make</literal>
	  を実行すれば、よきに計らってくれます。
	  ports および packages に関する情報は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/>
	  を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここで説明している方法では、ブートフロッピーを使用します。
	  他の方法 (PROM または DOS プログラム) については
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	  の文書を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ブートフロッピーを作成するためには、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	  をインストールしたマシンのドライブにフロッピーディスクを挿入します。
	  それからカレントディレクトリを <application xmlns:xlink="http://www.w3.org/1999/xlink">etherboot</application>
	  ツリー内の <filename xmlns:xlink="http://www.w3.org/1999/xlink">src</filename>
	  ディレクトリにして次のように入力します。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">
	  <prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">gmake bin32/devicetype.fd0</userinput>
	</screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">devicetype</replaceable> は
	  ディスクレスワークステーションのイーサネットカードタイプに依存します。
	  正しい <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">devicetype</replaceable> を決定するために、
	  同じディレクトリ内の <filename xmlns:xlink="http://www.w3.org/1999/xlink">NIC</filename>
	  ファイルを参照してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">TFTP および NFS サーバの設定</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">TFTP</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</secondary>
	</indexterm>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">NFS</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">TFTP サーバ上で <command xmlns:xlink="http://www.w3.org/1999/xlink">tftpd</command>
	  を有効にする必要があります。</para>
	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">tftpd</command> が提供するファイルを置くディレクトリ
	      (たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/tftpboot</filename>)
	      を作成してください。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename>
	      ファイルに以下の行を追加してください。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">tftp    dgram   udp     wait    root  /usr/libexec/tftpd    tftpd -s /tftpboot</programlisting>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">少なくとも PXE のいくつかのバージョンが TCP 版の
		TFTP を要求するようです。その場合
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">dgram udp</literal> を <literal xmlns:xlink="http://www.w3.org/1999/xlink">stream tcp</literal>
		に置き換えた 2 番目の行を追加してください。</para>
	    </note>
	  </step>
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">inetd</command>
	      に設定ファイルを再読み込みさせてください。</para>
	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP `cat /var/run/inetd.pid`</userinput></screen>
	  </step>
	</procedure>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">tftpboot</filename>
	  ディレクトリはサーバ上のどこにでも置けます。
	  その場所が <filename xmlns:xlink="http://www.w3.org/1999/xlink">inetd.conf</filename> および
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename>
	  の両方に設定されていることを確かめてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">さらに NFS を有効にして
	  NFS サーバの適切なファイルシステムをエクスポートする必要があります。</para>

	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">この行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	      に追加してください。</para>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nfs_server_enable="YES"</programlisting>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">下記を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename> に加えることで、
	      ディスクレスマシンのルートディレクトリが位置するファイルシステムをエクスポートしてください
	      (ボリュームのマウントポイントを適当に調節し、
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">margaux</replaceable>
	      をディスクレスワークステーションの名前に置き換えてください)。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/data/misc</replaceable> -alldirs -ro <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">margaux</replaceable></programlisting>
	  </step>
	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">mountd</command>
	      に設定ファイルを再読み込みさせてください。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内で NFS
	      をはじめて有効にする必要があったのなら、
	      代わりに再起動した方がよいかもしれません。</para>
	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP `cat /var/run/mountd.pid`</userinput></screen>
	  </step>
	</procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス用のカーネル構築</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル設定</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のオプションを (通常のものに) 追加した、
	  ディスクレスクライアント用のカーネルコンフィグレーションファイルを作成してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
          options     BOOTP          # Use BOOTP to obtain IP address/hostname
          options     BOOTP_NFSROOT  # NFS mount root filesystem using BOOTP info
          options     BOOTP_COMPAT   # Workaround for broken bootp daemons.</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP_NFSV3</literal> および
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">BOOTP_WIRED_TO</literal> を利用してもよいかもしれません
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">LINT</filename> を参照してください)。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">カーネルを構築して (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> を参照)、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename> に記述した名称で
	  tftp ディレクトリにコピーしてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステムの準備</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステム</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename> に
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">root-path</literal> として記載された
	  ディスクレスワークステーションのためのルートファイルシステムを作成する必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これを行う最も簡単な方法は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/diskless/clone_root</filename>
	  シェルスクリプトを使用することです。
	  このスクリプトは、少なくともファイルシステムが作成される場所
	  (<literal xmlns:xlink="http://www.w3.org/1999/xlink">DEST</literal> 変数)
	  を調節するために変更する必要があります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">説明についてはスクリプトの一番上にあるコメントを参照してください。
	  ベースシステムをどのように構築するか、
	  またファイルがどのようにディスクレス稼働、サブネット、
	  または個々のワークステーションに固有のバージョンによって、
	  選択的にオーバライドできるかを説明します。
	  また、ディスクレスな場合の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/fstab</filename> ファイルおよび
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> ファイルの例を示します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/diskless</filename>
	  内の <filename xmlns:xlink="http://www.w3.org/1999/xlink">README</filename>
	  ファイルには、多くの興味深い背景情報が書かれています。
	  しかし <filename xmlns:xlink="http://www.w3.org/1999/xlink">diskless</filename> ディレクトリ内の他の例と同じく、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">clone_root</filename> と
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.diskless[12]</filename>
	  で実際に使われているものとは異なる設定方法が説明されています。
	  ここに書かれている方法は
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">rc</filename> スクリプトの変更が必要になりますが、
	  こちらの方が気に入ったというのでなければ、
	  参照にとどめてください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">スワップの設定</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">必要なら、サーバに置かれたスワップファイルに
	  NFS 経由でアクセスできます。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">bootptab</filename> または
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename> の正確なオプションは、
	  現時点では明確には文書化されていません。
	  下記の設定例は isc-dhcp 3.0rc11
	  を使用して動作したと報告されているものです。</para>
	<procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	  <step xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename>
	    に下記の行を追加してください。</para>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
              # Global section
              option swap-path code 128 = string;
              option swap-size code 129 = integer 32;

              host margaux {
                ... # Standard lines, see above
                option swap-path <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">"192.168.4.4:/netswapvolume/netswap"</replaceable>;
                option swap-size <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">64000</replaceable>;
              }</programlisting>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、少なくとも FreeBSD クライアントにおいては、
	      DHCP/BOOTP オプションコードの 128 は
	      NFS スワップファイルへのパスで、オプションコード 129
	      は KB 単位のスワップサイズだということです。
	      もっと古いバージョンの <command xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</command> では
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">option option-128 "...</literal>
	      という書式が受け付けられましたが、
	      もはや対応していません。</para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">代わりに、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/bootptab</filename>
	      では次の書式を使います。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">T128="192.168.4.4:/netswapvolume/netswap":T129=0000fa00
	      </literal></para>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/bootptab</filename>
	      では、スワップの大きさは
	      16 進数で表さなければなりません。</para></note>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">NFS スワップファイルサーバ側でスワップファイルを作成します。</para>
	    <screen xmlns:xlink="http://www.w3.org/1999/xlink">
              <prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir /netswapvolume/netswap</userinput>
              <prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /netswapvolume/netswap</userinput>
              <prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">dd if=/dev/zero bs=1024 count=64000 of=swap.192.168.4.6</userinput>
              <prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 0600 swap.192.168.4.6</userinput></screen>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">192.168.4.6</replaceable>
	      はディスクレスクライアントの IP アドレスです。</para>
	  </step>

	  <step xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">NFS スワップファイルサーバ上で
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/exports</filename>
	      に下記の行を追加してください。</para>
	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
	      <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/netswapvolume</replaceable>  -maproot=0:10 -alldirs <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">margaux</replaceable></programlisting>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">それから、上述したように <application xmlns:xlink="http://www.w3.org/1999/xlink">mountd</application>
	      にエクスポートファイルを再読み込みさせてください。</para>
	  </step>
	</procedure>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">雑多な問題</title>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">読み取り専用の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename>
	    で動作させる</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレス稼働</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">読み取り専用の /usr</secondary>
	  </indexterm>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ディスクレスワークステーションが X
	    を起動するように設定されている場合、
	    xdm 設定ファイルを調整しなければならないでしょう。
	    これはデフォルトでエラーファイルを
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr</filename> に置きます。</para>
	</sect4>
	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ではないサーバを使用する</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ルートファイルシステムを提供するサーバが FreeBSD
	    で動作していない場合、
	    FreeBSD マシン上でルートファイルシステムを作成し、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">tar</command> または <command xmlns:xlink="http://www.w3.org/1999/xlink">cpio</command>
	    を利用して置きたい場所にコピーしなければならないでしょう。</para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この状況では、major/minor 整数サイズが異なっていることにより
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	    内のスペシャルファイルに関する問題が時々おこります。
	    この問題を解決するには、非 FreeBSD
	    サーバからディレクトリをエクスポートして、
	    そのディレクトリを FreeBSD マシンでマウントし、
	    FreeBSD マシン上で <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command>
	    を実行して正しいデバイスエントリを作成します
	    (FreeBSD 5.0 およびそれ以降では、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="current"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">devfs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	    を使用してユーザに意識させずにデバイスノードを割り当てるので、
	    これらのバージョンでは
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">MAKEDEV</command> は必要ありません)。</para>
	</sect4>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-isdn">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ISDN</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">ISDN</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: はらだ きろう <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">kiroh@jp.FreeBSD.org</email>.
	11 December 1996.</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">ISDN 技術とハードウェアに関しては、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.alumni.caltech.edu/~dank/isdn/">
	Dan Kegel's ISDN Page</link> がよい参考になるでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">手軽な ISDN の導入手順は以下のようになります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ヨーロッパ在住の方は ISDN カードの節に進んでください。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ダイヤルアップ専用でない回線上で、
	  インターネットプロバイダをつかってインターネットに接続するために
	  ISDN を使用することを第一に考えている場合は、
	  ターミナルアダプタの使用を考えてみてください。
	  この方法はもっとも柔軟性があり、
	  プロバイダを変更した場合の問題も少ないでしょう。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 つの LAN を接続する場合や、
	  ISDN 専用線を使用する場合には、
	  スタンドアロンなルータまたはブリッジの使用を勧めます。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">費用はどの解決法を選ぶかを決める重要な要因です。
      以下に、最も安価な方法から、高価な方法まで順に説明していきます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-isdn-cards">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ISDN カード</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Hellmuth</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Michaelis</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>
      

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ISDN</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">カード</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の ISDN 実装は、パッシブカードを使用した DSS1/Q.931
	(または Euro-ISDN) 標準だけに対応しています。FreeBSD 4.4
	からは、ファームウェアが他の信号プロトコルにも対応している
	一部のアクティブカードにも対応しました。
	その中には、はじめて対応された一次群速度インタフェース (PRI)
	ISDN カードもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">isdn4bsd</application> は IP over raw HDLC
	または同期 PPP を利用して他の ISDN ルータに接続できるようにします。
	PPP では、カーネル PPP を <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">sppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> ドライバを修正した
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">isppp</literal>
	ドライバとともに利用するか、または ユーザプロセス <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を利用するかのどちらかになります。ユーザ <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を利用すると、二つ以上の ISDN B チャネルを併せて利用できます。
	ソフトウェア 300 ボーモデムのような多くのユーティリティとともに、
	留守番電話アプリケーションも利用可能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD が対応している PC ISDN カードの数は増加しており、
	ヨーロッパ全域や世界のその他多くの地域でうまく使えることが報告されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">対応しているパッシブ ISDN カードのほとんどは Infineon
	(前身は Siemens) の ISAC/HSCX/IPAC ISDN
	チップセットを備えたカードですが、
	Cologne Chip から供給されたチップを備えた ISDN カード
	(ISA バスのみ)、Winbond W6692 チップを備えた PCI カード、
	Tiger300/320/ISAC チップセットを組み合わたカードの一部、
	および AVM Fritz!Card PCI V.1.0 や AVM Fritz!Card PnP
	のようなベンダ独自のチップセットに基づいたカードもあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のところ、対応しているアクティブカードは
	AVM B1 (ISA および PCI) BRI カードと AVM T1 PCI PRI カードです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">isdn4bsd</application> についての文書は
	FreeBSD システム内の <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/isdn/</filename>
	ディレクトリまたは
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd-support.de/i4b/">isdn4bsd
	のウェブサイト</link>を参照してください。
	そこにはヒントや正誤表や
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://people.FreeBSD.org/~hm/">isdn4bsd
	ハンドブック</link>のような、
	さらに多くの文書に対するポインタがあります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">異なる ISDN プロトコルや、現在対応されていない ISDN PC
	カードに対応することや、その他 <application xmlns:xlink="http://www.w3.org/1999/xlink">isdn4bsd</application>
	を拡張することに興味があるなら、Hellmuth Michaelis に連絡してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">isdn4bsd</application> のインストール、設定、
	そしてトラブルシューティングに関して質問があれば
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isdn">freebsd-isdn</link> メーリングリストが利用可能です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ISDN ターミナルアダプタ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ターミナルアダプタ (TA) は ISDN で、
	通常の電話線におけるモデムに相当するものです。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">モデム</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどの TA は、標準のヘイズ AT
	コマンドセットを使用しているので、
	単にモデムと置き換えて使うことができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">TA は、基本的にはモデムと同じように動作しますが、
	接続方法は異なり、通信速度も古いモデムよりはるかに速くなります。
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ppp">PPP</link> の設定を、
	モデムの場合と同じように行ってください。
	特にシリアル速度を使用できる最高速度に設定するのを忘れないでください。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PPP</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">プロバイダへの接続に TA を使用する最大のメリットは、動的
	PPP を行えることです。
	最近 IP アドレス空間がますます不足してきているため、
	ほとんどのプロバイダは、
	固定 IP	アドレスを割り当てないようになっています。
	ほとんどのスタンドアローンルータは、動的 IP
	アドレス割り当てに対応していません。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">最近の ISDN ルータでは
	  IP アドレスの動的割り当てに対応しているものも多いようです。
	  ただし制限がある場合もありますので、
	  詳しくはメーカに問い合わせてください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">TA を使用した場合の機能や接続の安定性は、使用している PPP
	デーモンに完全に依存します。そのため、FreeBSD で PPP
	の設定が完了していれば、使用している既存のモデムを ISDN の TA
	に簡単にアップグレードすることができます。ただし、それまでの
	PPP のプログラムに問題があった場合、その問題は TA
	に置き換えてもそのまま残ります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最高の安定性を求めるのであれば、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="userppp">ユーザランド PPP</link> ではなく、カーネル
	<link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ppp">PPP</link>を使用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の TA は、FreeBSD で動作確認ずみです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Motorola BitSurfer および Bitsurfer Pro</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">Adtran</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">他の TA もほとんどの場合うまく動作するでしょう。TA
	のメーカーでは、TA  がほとんどの標準モデム AT
	コマンドセットを受け付けるようにするよう努力しているようです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">外部 TA を使う際の最大の問題点は、
	モデムの場合と同じく良いシリアルカードが必要であるということです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">シリアルデバイスの詳細と、
	非同期シリアルポートと同期シリアルポートの差を理解するには、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../en_US.ISO8859-1/articles/serial-uart/index.html">FreeBSD
	シリアルハードウェア</link>チュートリアルを参照してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">標準の PC シリアルポート (非同期) に接続された TA は
	128 Kbs の接続を行っていても、最大通信速度が 115.2 Kbs
	に制限されてしまいます。128 Kbs の ISDN
	の性能を最大限に生かすためには TA
	を同期シリアルカードに接続しなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">内蔵 TA を購入すれば、
	同期/非同期問題を回避できるとは思わないでください。内蔵 TA には、
	単に標準 PC シリアルポートのチップが内蔵されているだけです。
	内蔵 TA の利点といえば、
	シリアルケーブルを買わなくていいということと、
	電源コンセントが一つ少なくて済むということくらいでしょう。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同期カードと TA
	の組合せでも、スタンドアロンのルータと同程度の速度は確保できます。
	さらに、386 の FreeBSD マシンと組合せると、
	より柔軟な設定が可能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">同期カード/TA を選ぶか、スタンドアロンルータを選ぶかは、
	多分に宗教的な問題です。
	メーリングリストでもいくつか議論がありました。議論の全容については、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../../../../search/search.html">アーカイブ</link>
	を検索してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">スタンドアロン ISDN ブリッジ/ルータ</title>
     <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ISDN</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">スタンドアロン ブリッジ/ルータ</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">ISDN ブリッジあるいはルータは、
	FreeBSD あるいは他の OS に特有のものでは皆目ありません。
	ルーティングやブリッジング技術に関する詳細は、
	ネットワークの参考書をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では、
	ルータとブリッジのどちらでもあてはまるように記述します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローエンド ISDN ルータ/ブリッジ製品は、
	価格が下がってきていることもあり、
	より広く選択されるようになるでしょう。ISDN ルータは、
	ローカルイーサネットネットワークに直接接続し、
	自身で他のブリッジ/ルータとの接続を制御する小さな箱です。PPP
	や他の広く使用されているプロトコルをつかって通信するためのソフトウェアが組み込まれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ルータは、完全な同期 ISDN 接続を使用するため、通常の TA
	と比較してスループットが大幅に向上します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ISDN ルータ/ブリッジを使用する場合の最大の問題点は、
	各メーカーの製品間に相性の問題がまだ存在することです。
	インターネットプロバイダとの接続を考えている場合には、
	プロバイダと相談することをお勧めします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">事務所の LAN と家庭の LAN の間など、二つの LAN
	セグメントの間を接続しようとしている場合は、
	これはもっともメンテナンスが簡単で、安くあがる解決方法です。
	接続の両側の機材を購入するので、
	リンクがうまくいくであろうことを保証できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、
	家庭のコンピュータや支店のネットワークを本社のネットワークに接続するためには、
	以下のような設定が使用できます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">支店または家庭のネットワーク</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">10 base 2</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークは 10 Base 2 イーサネット
	  (<quote xmlns:xlink="http://www.w3.org/1999/xlink">thinnet</quote>)
	  のバス型トポロジを用いています。ルータとネットワークの間は、
	  必要に応じて AUI/10BT トランシーバを使って接続してください。</para>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="advanced-networking/isdn-bus"/>
	  </imageobject>

	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">---Sun ワークステーション
|
---FreeBSD box
|
---Windows 95
|
スタンドアロンルータ
   |
ISDN BRI ライン</literallayout>
	  </textobject>

	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <phrase xmlns:xlink="http://www.w3.org/1999/xlink">10 Base 2 イーサネット</phrase>
	  </textobject>
	</mediaobject>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">家庭/支店で一台しかコンピュータを使用しないのであれば、
	  クロスのツイストペアケーブルを使用して、
	  直接スタンドアロンルータに接続することも可能です。</para>
      </example>

      <example xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">本社 LAN や他の LAN</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークは 10 base T イーサネット
	  (<quote xmlns:xlink="http://www.w3.org/1999/xlink">Twisted Pair</quote>)
	  のスター型トポロジを用いています。</para>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="advanced-networking/isdn-twisted-pair"/>
	  </imageobject>
	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">    -------Novell サーバ
|  |
|ハ ---Sun
|  |
|   ---FreeBSD
|  |
|ブ ---Windows 95
|  |
|___---スタンドアローンルータ
    	|
    ISDN BRI ライン</literallayout>
	  </textobject>

	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <phrase xmlns:xlink="http://www.w3.org/1999/xlink">ISDN ネットワークダイアグラム</phrase>
	  </textobject>
	</mediaobject>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ほとんどのルータ/ブリッジの大きな利点は、
	別々の二つのサイトに対して、<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">同時</emphasis>
	にそれぞれ<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">独立した</emphasis>二つの PPP
	接続が可能であることです。
	これは、シリアルポートを 2 つもった特定の (通常は高価な)
	モデルを除いて、通常の TA では対応していません。
	チャネルボンディングや MPP などと混同しないでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば、事務所で専用線 ISDN 接続を使用していて、
	別の ISDN 回線を購入したくないときには大変便利な機能です。この場合、
	事務所のルータは、インターネットに接続するための一つの専用線 B
	チャネル接続 (64 Kbs) を管理し、
	別の B チャネルを他のデータ接続に使用できます。
	2 つ目の B チャネルは他の場所とのダイアルイン、
	ダイアルアウトに使用したり、バンド幅を増やすために、
	1 つ目の B チャネルと動的に結合すること (MPPなど)
	ができます。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IPX/SPX</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">またイーサネットブリッジは、IP パケット以外も中継できます。
	IPX/SPX など、使用するすべてのプロトコルを送ることが可能です。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-nis">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">NIS/YP</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Bill</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Swingle</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Eric</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Ogren</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">追記: </contrib></author>
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Udo</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Erdelhoff</surname></personname></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS/YP とは?</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">HP-UX</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">AIX</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Linux</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NetBSD</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">OpenBSD</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS とは Network Information Services の略で
	Sun Microsystems によって <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の (もともとは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">SunOS</trademark> の)
	集中管理のために開発されました。現在では事実上の業界標準になっており、
	主要な <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> ライクシステム
	(<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</trademark>, HP-UX, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">AIX</trademark>, Linux, NetBSD, OpenBSD, FreeBSD、等々)
	はすべてこれをサポートしています。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">イエローページ</primary><see xmlns:xlink="http://www.w3.org/1999/xlink">NIS</see></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS は元々、イエローページといっていましたが、
	商標問題から Sun はその名前を変えました。
	古い用語 (および yp) はまだよく見られ、使用されています。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ドメイン</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS は RPC を使ったクライアント/サーバシステムです。
	これを使うと NIS ドメイン内のマシン間で、
	共通の設定ファイルを共有することができます。
	また NIS を使うことでシステム管理者は最小限の設定データで
	NIS クライアントを立ち上げることができ、
	1 ヶ所から設定データの追加、削除、変更が可能です。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Windows NT</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS は <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> のドメインシステムに似ています。
	内部の実装は似ても似つかないものですが、
	基本的な機能を対比することはできます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">知っておくべき用語 / プロセス</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS サーバの立ち上げや NIS クライアントの設定など、
	NIS を FreeBSD に導入するにあたって、
	目にするであろう用語や重要なユーザプロセスがいくつかあります。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">portmap</application></primary>
      </indexterm>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用語</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS ドメイン名</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS マスタサーバとそのクライアントすべて
		(スレーブサーバを含む) には NIS ドメイン名がついています。
		<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> ドメイン名と同様に、NIS ドメイン名は
		DNS とは何の関係もありません。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">portmap</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">RPC (Remote Procedure Call,
		NIS で使用されるネットワークプロトコル)
		を利用するために実行しておかなければなりません。
		<command xmlns:xlink="http://www.w3.org/1999/xlink">portmap</command> が動作していなければ、
		NIS サーバを起動することも、
		NIS クライアントとして動作させることもできません。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアントを
		NIS サーバに <quote xmlns:xlink="http://www.w3.org/1999/xlink">結びつけ</quote> ます。
		これは NIS ドメイン名をシステムから取得し
		RPC を用いてサーバに接続します。<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command>
		は NIS 環境におけるクライアントとサーバ間の通信の中枢です。
		クライアントマシンの
		<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> が停止した場合は、NIS
		サーバへアクセスすることができなくなります。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">は NIS サーバでのみ実行されるべきもので、
		NIS サーバプロセスそのものです。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
		が停止した場合、サーバはもはや NIS
		リクエストに応答することができなくなるでしょう
		(できれば、後を引き継ぐスレーブサーバがあるとよいでしょう)。
		今まで使っていたサーバが機能を停止したとき、
		別のサーバに再接続しに行かない NIS の実装もいくつかあります
		(FreeBSD のものは違います)。
		そのような場合に復帰するための唯一の方法は、
		サーバプロセス (あるいはサーバ全体)、もしくはクライアントの
		<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command>
		プロセスを再スタートすることです。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">rpc.yppasswdd</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS マスターサーバで動かすべき、
		もう一つのプロセスです。これは NIS クライアントが
		NIS パスワードを変更することを可能にするデーモンです。
		このデーモンが動作していないときは、
		ユーザは NIS マスタサーバにログインし、
		そこでパスワードを変更しなければなりません。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
      <!-- XXX Missing: rpc.ypxfrd (not important, though) May only run
      on the master -->
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">動作のしくみ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS 環境にあるホストは、
	マスターサーバ、スレーブサーバ、クライアントの
	3 種類に分類されます。
	サーバは、ホストの設定情報の中心的な情報格納庫の役割をします。
	マスターサーバは元となる信頼できる情報を保持し、
	スレーブサーバは冗長性を確保するためこの情報をミラーします。
	そしてクライアントは、サーバから情報の提供を受けて動作します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この方法を用いることで、数多くのファイルにある情報が共有できます。
	よく NIS で共有されるのは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">master.passwd</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">group</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">hosts</filename> といったファイルです。
	クライアント上のプロセスが、
	通常ならローカルのファイルにある情報を必要とするときは、
	クライアントは代わりに接続している
	NIS サーバに問い合わせを行います。</para>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">マシンの分類</title>

	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS マスターサーバ</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">マスタサーバ</secondary></indexterm>。
	      このサーバは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark>
	      で言うところのプライマリドメインコントローラにあたります。
	      すべての NIS クライアントで利用されるファイルを保守します。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">passwd</filename> や <filename xmlns:xlink="http://www.w3.org/1999/xlink">group</filename>、
	      その他 NIS クライアントが参照するファイルは、
	      マスターサーバにあります。</para>

	    <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">一つのマシンが一つ以上の NIS
	        ドメインのマスターサーバになることは可能です。
	        しかし、ここでは比較的小規模の NIS 環境を対象としているため、
	        そのような場合については扱いません。</para></note>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS スレーブサーバ</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">スレーブサーバ</secondary></indexterm>。
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> のバックアップドメインコントローラに似たもので、
	      NIS スレーブサーバは NIS
	      マスターサーバのデータファイルのコピーを保持します。
	      NIS スレーブサーバは重要な環境で必要とされる冗長性を提供し、
	      マスターサーバの負荷のバランスをとります。
	      NIS クライアントは常に最初にレスポンスを返したサーバを
	      NIS サーバとして接続しますが、
	      これにはスレーブサーバも含まれます。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアント</emphasis><indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary><secondary xmlns:xlink="http://www.w3.org/1999/xlink">クライアント</secondary></indexterm>。
	      NIS クライアントは大部分の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark>
	      ワークステーションのように、ログオンに際して
	      NIS サーバ (<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> ワークステーションの場合は
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> ドメインコントローラ)
	      に接続して認証します。</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS/YP を使う</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節では NIS 環境の立ち上げ例を取り上げます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">この節ではあなたが FreeBSD 3.3
	  以降を使っているものとします。
	  ここで与えられる指示は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">おそらく</emphasis> FreeBSD の
	  3.0 以降のどのバージョンでも機能するでしょうが、
	  それを保証するものではありません。</para>
      </note>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">計画を立てる</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたが大学の小さな研究室の管理人であるとしましょう。
	  この研究室は 15 台の FreeBSD マシンからなっていて、
	  現在はまだ集中管理されていません。
	  すなわち、各マシンは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/passwd</filename> と
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename> を各々が持っています。
	  これらのファイルは手動でお互いに同期させています。
	  つまり現時点では、新しいユーザをあなたが追加するとき、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">adduser</command> を
	  15 ヶ所すべてで実行しなければなりません。
	  これは明らかに変える必要があるため、
	  あなたはこのうち 2 台をサーバにして
	  NIS を導入することを決めました。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">その結果、研究室の設定はこのようなものになります。</para>

	<informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	  <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	    <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">マシンの名前</entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">IP アドレス</entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">役割</entry>
	      </row>
	    </thead>
	    <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ellington</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.2</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS マスタ</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">coltrane</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.3</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">NIS スレーブ</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">basie</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.4</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">教員用のワークステーション</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">bird</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.5</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">クライアントマシン</entry>
	      </row>
	      <row xmlns:xlink="http://www.w3.org/1999/xlink">
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">cli[1-11]</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.[6-17]</systemitem></entry>
	        <entry xmlns:xlink="http://www.w3.org/1999/xlink">その他のクライアントマシン</entry>
	      </row>
	    </tbody>
	  </tgroup>
	</informaltable>

	 <para xmlns:xlink="http://www.w3.org/1999/xlink">もし NIS によるシステム管理の設定を行なうのが初めてなら、
	  どのようにしたいのか、
	  ひととおり最後まで考えてみることをお勧めします。
	  ネットワークの規模によらず、
	  いくつか決めるべきことがあるからです。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS ドメイン名を決める</title>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ドメイン名</secondary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでいうドメイン名は、今まであなたが使っていた、
	    いわゆる <quote xmlns:xlink="http://www.w3.org/1999/xlink">ドメイン名</quote> と呼んでいたものとは違います。
	    正確には <quote xmlns:xlink="http://www.w3.org/1999/xlink">NIS ドメイン名</quote> と呼ばれます。
	    クライアントがサーバに情報を要求するとき、
	    その要求には自分が属する NIS ドメインの名前が含まれています。
	    これは 1 つのネットワークに複数のサーバがある場合に、
	    どのサーバが要求を処理すれば良いかを決めるために使われます。
	    NIS ドメイン名とは、
	    関連のあるホストをグループ化するための名前である、
	    と考えると良いでしょう。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">組織によってはインターネットのドメイン名を
	    NIS ドメイン名に使っているところがあります。
	    これはネットワークのトラブルをデバッグするときに混乱の原因となるため、
	    お勧めできません。
	    NIS ドメイン名はネットワーク内で一意なければいけません。そして、
	    ドメイン名がドメインに含まれるマシンを表すようなものであれば分かり易いです。
	    たとえば Acme 社のアート (Art) 部門であれば NIS ドメイン名を
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">acme-art</quote> とすれば良いでしょう。この例では
	    NIS ドメイン名として <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">test-domain</emphasis>
	    を使用します。</para>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">SunOS</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">しかしながらオペレーティングシステムによっては (特に <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">SunOS</trademark>)、
	    NIS ドメイン名をネットワークドメイン名として使うものもあります。
	    あなたのネットワークにそのような制限のあるマシンが
	    1 台でもあるときは、NIS
	    のドメイン名としてインターネットのネットワークドメイン名を使わなければ
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">いけません</emphasis>。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">サーバマシンの物理的必要条件</title>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS サーバとして使うマシンを選ぶ際には、
	    いくつか注意すべき点があります。
	    NIS に関する困ったことの一つに、
	    クライアントのサーバへの依存度があります。
	    クライアントが自分の NIS ドメインのサーバに接続できないと、
	    マシンが使用不能になることがあまりに多いのです。
	    もし、ユーザやグループに関する情報が得られなければ、
	    ほとんどのシステムは一時的に停止してしまいます。
	    こういったことを念頭に置いて、頻繁にリブートされるマシンや、
	    開発に使われそうなマシンを選ばないようにしなければなりません。
	    理想的には NIS サーバはスタンドアロンで
	    NIS サーバ専用のマシンにするべきです。
	    ネットワークの負荷が重くなければ、
	    他のサービスを走らせているマシンを
	    NIS サーバにしてもかまいません。
	    ただし NIS サーバが使えなくなると、
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">すべての</emphasis>
	    クライアントに影響をおよぼす、
	    という点には注意しなければなりません。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">NIS サーバ</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">元となるすべての NIS 情報は、
	  NIS マスターサーバと呼ばれる 1 台のマシンに格納されます。
	  この情報が格納されるデータベースを NIS マップと呼びます。
	  FreeBSD では、このマップは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/[domainname]</filename> に置かれます。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">[domainname]</filename> は、
	  サーバがサービスする NIS ドメインです。
	  1 台の NIS サーバが複数のドメインをサポートすることも可能です。
	  つまり、このディレクトリを各々のドメインごとに作ることができます。
	  それぞれのドメインは、
	  独立したマップの集合を持つことになります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">NIS のマスターサーバとスレーブサーバ上では、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</command> デーモンがすべての NIS 要求を処理します。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</command> は NIS クライアントからの要求を受け付け、
	  ドメイン名とマップ名を対応するデータベースファイルへのパスに変換し、
	  データをクライアントに返送します。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS マスターサーバの設定</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">サーバ設定</secondary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">やりたいことにもよりますが
	    NIS マスターサーバの設定は比較的単純です。
	    FreeBSD は初期状態で NIS に対応しています。
	    必要なのは以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	    に追加することだけで、
	    あとは FreeBSD がやってくれます。</para>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink"><programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nisdomainname="test-domain"</programlisting>
	      この行はネットワークの設定後に (たとえば再起動後に)
	      NIS のドメイン名を <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">test-domain</emphasis>
	      に設定します。</para>
	    </step>
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nis_server_enable="YES"</programlisting>
		これは FreeBSD に次にネットワークが立ち上がったとき NIS
		のサーバプロセスを起動させます。</para>
	    </step>
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">
		<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nis_yppasswdd_enable="YES"</programlisting>
		これは <command xmlns:xlink="http://www.w3.org/1999/xlink">rpc.yppasswdd</command>
		デーモンを有効にします。上述したようにこれはユーザが NIS
		のパスワードをクライアントのマシンから変更することを可能にします。</para>
	    </step>
	  </procedure>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS の設定によっては、
	      さらに他のエントリを付け加える必要があるかもしれません。
	      詳細については、下記の <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-nis-server-is-client">NIS
	      クライアントとしても動作している NIS サーバ</link>
	      節を参照してください。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、あとはスーパユーザ権限で
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">/etc/netstart</command> コマンドを実行するだけです。
	    これにより <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	    で定義された値を使ってすべての設定が行なわれます。</para>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS マップの初期化</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">マップ</secondary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS マップ</emphasis> とは
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp</filename>
	    ディレクトリにあるデータベースファイルです。
	    これらは NIS マスタの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc</filename>
	    ディレクトリの設定ファイルから作られます。
	    唯一の例外は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	    ファイルです。これは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	    や他の管理用アカウントのパスワードまでその
	    NIS ドメインのすべてのサーバに伝えたくないという、
	    もっともな理由によるものです。このため NIS
	    マップの初期化の前に以下を行う必要があります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /etc/master.passwd /var/yp/master.passwd</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /var/yp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi master.passwd</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">システムに関するアカウント
	    (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">bin</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">tty</systemitem>,
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">kmem</systemitem>, <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">games</systemitem> など)
	    や、NIS クライアントに伝えたくないアカウント
	    (たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	    や他の UID が 0 (スーパユーザ) のアカウント)
	    をすべて NIS マップから取り除かなければなりません。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/master.passwd</filename> が
	      グループまたは誰もが読めるようになっていないようにしてください
	      (モード 600)!
	      必要なら <command xmlns:xlink="http://www.w3.org/1999/xlink">chmod</command>
	      コマンドを使ってください。</para></note>

	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">Tru64 UNIX</primary></indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてが終わったら NIS マップを初期化します!
	    FreeBSD には、これを行うために <command xmlns:xlink="http://www.w3.org/1999/xlink">ypinit</command>
	    という名のスクリプトが含まれています
	    (詳細はそのマニュアルページをご覧ください)。
	    このスクリプトはほとんどの <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> OS に存在しますが、
	    すべてとは限らないことを覚えておいてください。
	    Digital Unix/Compaq Tru64 UNIX では <command xmlns:xlink="http://www.w3.org/1999/xlink">ypsetup</command>
	    と呼ばれています。NIS マスタのためのマップを作るためには
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-m</option> オプションを <command xmlns:xlink="http://www.w3.org/1999/xlink">ypinit</command>
	    に与えます。上述のステップを完了しているなら、以下を実行して
	    NIS マップを生成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ypinit -m test-domain</userinput>
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? [y/n: n] <userinput xmlns:xlink="http://www.w3.org/1999/xlink">n</userinput>
Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please continue to add any slave servers, one per line. When you are
done with the list, type a &lt;control D&gt;.
master server   :  ellington
next host to add:  <userinput xmlns:xlink="http://www.w3.org/1999/xlink">coltrane</userinput>
next host to add:  <userinput xmlns:xlink="http://www.w3.org/1999/xlink">^D</userinput>
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  [y/n: y] <userinput xmlns:xlink="http://www.w3.org/1999/xlink">y</userinput>

[..output from map generation..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ypinit</command> は
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/Makefile</filename> を
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/Makefile.dist</filename> から作成します。
	    作成された時点では、そのファイルはあなたが FreeBSD
	    マシンだけからなるサーバが 1 台だけの
	    NIS 環境を扱っていると仮定しています。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">test-domain</emphasis>
	    はスレーブサーバを一つ持っていますので
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/Makefile</filename>
	    を編集しなければなりません。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /var/yp/Makefile</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の行を (もし既にコメントアウトされていないならば)
	    コメントアウトしなければなりません。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">NOPUSH = "True"</programlisting>
	</sect4>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS スレーブサーバの設定</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">スレーブサーバ</secondary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS スレーブサーバの設定はマスターサーバの設定以上に簡単です。
	    スレーブサーバにログオンし <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	    ファイルを前回と同様に編集します。唯一の違うところは
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ypinit</command> の実行に <option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option>
	    オプションを使わなければいけないことです。
	    <option xmlns:xlink="http://www.w3.org/1999/xlink">-s</option> オプションは
	    NIS マスターサーバの名前を要求し、
	    コマンドラインは以下のようになります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink">coltrane<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ypinit -s ellington test-domain</userinput>

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? [y/n: n]  <userinput xmlns:xlink="http://www.w3.org/1999/xlink">n</userinput>

Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Don't forget to update map ypservers on ellington.</screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この例の場合 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/test-domain</filename>
	    というディレクトリが必要になります。
	    NIS マスターサーバのマップファイルのコピーは、
	    このディレクトリに置いてください。
	    これらを確実に最新のものに維持する必要があります。
	    次のエントリをスレーブサーバの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/crontab</filename>
	    に追加することで、最新のものに保つことができます。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</programlisting>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">この二行はスレーブサーバにあるマップファイルを、
	    マスターサーバのマップファイルと同期させるものです。
	    このエントリは必須というわけではありませんが、マスターサーバは
	    NIS マップに対する変更をスレーブサーバに伝えようとしますし、
	    サーバが管理するシステムにとってパスワード情報はとても重要なので、
	    強制的に更新してしまうことはよい考えです。特に、
	    マップファイルの更新がきちんと行なわれるかどうかわからないくらい混雑するネットワークでは、
	    重要になります。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">スレーブサーバ上でも <command xmlns:xlink="http://www.w3.org/1999/xlink">/etc/netstart</command>
	    コマンドを実行して、NIS サーバを再起動してください。</para>
	</sect4>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアント</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアントは <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command>
	  デーモンを使って、特定の NIS
	  サーバとの間に結合 (binding) と呼ばれる関係を成立させます。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> はシステムのデフォルトのドメイン
	  (<command xmlns:xlink="http://www.w3.org/1999/xlink">domainname</command> コマンドで設定されます)
	  を確認し、RPC 要求をローカルネットワークにブロードキャストします。
	  この RPC 要求により <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command>
	  が結合を成立させようとしているドメイン名が指定されます。
	  要求されているドメイン名に対してサービスするよう設定されたサーバが
	  ブロードキャストを受信すると、
	  サーバは <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> に応答し<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command>
	  は応答のあったサーバのアドレスを記録します。複数のサーバ
	  (たとえば一つのマスターサーバと、複数のスレーブサーバ)
	  が利用可能な場合、<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> は、
	  最初に応答したサーバのアドレスを使用します。
	  これ以降、クライアントのシステムは、
	  すべての NIS の要求をそのサーバに向けて送信します。
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> は、
	  サーバが順調に動作していることを確認するため、
	  時々 <quote xmlns:xlink="http://www.w3.org/1999/xlink">ping</quote> をサーバに送ります。
	  反応が戻ってくるべき時間内に ping に対する応答が来なければ、
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> は、そのドメインを結合不能
	  (unbound) として記録し、別のサーバを見つけるべく、
	  再びブロードキャストパケットの送信を行います。</para>

	<sect4 xmlns:xlink="http://www.w3.org/1999/xlink">
	  <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアントの設定</title>
	  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	    <primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	    <secondary xmlns:xlink="http://www.w3.org/1999/xlink">クライアントの設定</secondary>
	  </indexterm>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD マシンを NIS クライアントにする設定は非常に単純です。</para>

	  <procedure xmlns:xlink="http://www.w3.org/1999/xlink">
	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークの起動時に NIS ドメイン名を設定して
	        <command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> を起動させるために
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
		ファイルを編集して以下の行を追加します。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nisdomainname="test-domain"
nis_client_enable="YES"</programlisting>
	    </step>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS サーバから、
		利用可能なパスワードエントリをすべて取り込むため、
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
		からすべてのユーザアカウントを取り除いて、
		<command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command> コマンドで以下の行を
		<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename> の最後に追加します。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+:::::::::</programlisting>

	      <note xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">この行によって NIS
		  サーバのパスワードマップにアカウントがある人全員にアカウントが与えられます。
		  この行を変更すると、
		  さまざまな NIS クライアントの設定を行なうことが可能です。
		  詳細は <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-netgroups">ネットグループ</link>
		  を、さらに詳しい情報については、O'Reilly の
		  <literal xmlns:xlink="http://www.w3.org/1999/xlink">Managing NFS and NIS</literal> を参照してください。</para>
	      </note>

	      <note xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
		  内に少なくとも一つのローカルアカウント
		  (つまり NIS 経由でインポートされていないアカウント)
		  を置くべきです。
		  また、このアカウントは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">wheel</systemitem>
		  グループのメンバーであるべきです。
		  NIS がどこか調子悪いときには、
		  リモートからこのアカウントでログインし、
		  root になって修復するのに利用できます。</para>
	      </note>
	    </step>

	    <step xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS
		サーバにあるすべてのグループエントリを取り込むため、
		以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/group</filename>
		に追加します。</para>

	      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+:*::</programlisting>
	    </step>
	  </procedure>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の手順がすべて完了すれば、
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">ypcat passwd</command> によって
	    NIS サーバの passwd マップが参照できるようになっているはずです。
	  </para>
	</sect4>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS セキュリティ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般にドメイン名さえ知っていれば、
	どこにいるリモートユーザでも <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に RPC を発行して
	NIS マップの内容を引き出すことができます。
	こういった不正なやりとりを防ぐため、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> には securenets と呼ばれる機能があります。これは、
	アクセスを決められたホストだけに制限するのに使える機能です。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は起動時に <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename>
	ファイルから securenets に関する情報を読み込みます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">上記のパス名は <option xmlns:xlink="http://www.w3.org/1999/xlink">-p</option>
	  オプションで指定されたパス名によって変わります。このファイルは、
	  空白で区切られたネットワーク指定とネットマスクのエントリからなっていて、
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">#</quote> で始まる行はコメントとみなされます。
	  簡単な securenets ファイルの例を以下に示します。</para>
      </note>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># allow connections from local host -- mandatory
127.0.0.1     255.255.255.255
# allow connections from any host
# on the 192.168.128.0 network
192.168.128.0 255.255.255.0
# allow connections from any host
# between 10.0.0.0 to 10.0.15.255
10.0.0.0      255.255.240.0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	が上記のルールの一つと合致するアドレスからの要求を受け取った場合、
	処理は正常に行なわれます。
	もしアドレスがルールに合致しなければ、
	その要求は無視されて警告メッセージがログに記録されます。
	また <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename> が存在しない場合、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</command> はすべてのホストからの接続を受け入れます。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</command> は Wietse Venema 氏による
	<application xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</application> パッケージもサポートしています。
	そのため <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename> の代わりに
	<application xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</application>
	の設定ファイルを使ってアクセス制御を行なうことも可能です。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">これらのアクセス制御機能は一定のセキュリティを提供しますが、
	  どちらも特権ポートのテストのような <quote xmlns:xlink="http://www.w3.org/1999/xlink">IP spoofing</quote>
	  攻撃に対して脆弱です。すべての NIS
	  関連のトラフィックはファイアウォールでブロックされるべきです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename>
	  を使っているサーバは、古い TCP/IP
	  実装を持つ正当なクライアントへのサービスに失敗することがあります。
	  これらの実装の中にはブロードキャストのホストビットをすべて
	  0 でセットしてしまったり、
	  ブロードキャストアドレスの計算でサブネットマスクを見落としてしまったりするものがあります。
	  これらの問題にはクライアントの設定を正しく行なえば解決できるものもありますが、
	  問題となっているクライアントシステムを引退させるか、
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename>
	  を使わないようにしなければならないものもあります。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このような古風な TCP/IP の実装を持つサーバで
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/securenets</filename>
	  を使うことは実に悪い考えであり、
	  あなたのネットワークの大部分において
	  NIS の機能喪失を招きます。</para>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">tcpwrapper</application>
	  パッケージを使うとあなたの NIS サーバのレイテンシ (遅延)
	  が増加します。特に混雑したネットワークや遅い NIS
	  サーバでは、遅延の増加によって、
	  クライアントプログラムのタイムアウトが起こるかもしれません。
	  一つ以上のクライアントシステムがこれらの兆候を示したなら、
	  あなたは問題となっているクライアントシステムを
	  NIS スレーブサーバにして自分自身に結び付くように強制すべきです。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">何人かのユーザのログオンを遮断する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">わたしたちの研究室には <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">basie</systemitem> という、
	教員専用のマシンがあります。わたしたちはこのマシンを
	NIS ドメインの外に出したくないのですが、
	マスタ NIS サーバの <filename xmlns:xlink="http://www.w3.org/1999/xlink">passwd</filename>
	ファイルには教員と学生の両方が載っています。
	どうしたらいいでしょう?</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">当該人物が NIS のデータベースに載っていても、
	そのユーザがマシンにログオンできないようにする方法があります。
	そうするには
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">username</replaceable></emphasis>
	をクライアントマシンの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	ファイルの末尾に付け足します。
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">username</replaceable>
	はあなたがログインさせたくないと思っているユーザのユーザ名です。
	これは <command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command> で行うべきです。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">vipw</command> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	への変更をチェックし、編集終了後パスワードデータベースを再構築します。
	たとえば、ユーザ <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">bill</emphasis> が <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">basie</systemitem>
	にログオンするのを防ぎたいなら、以下のようにします。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink">basie<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vipw</userinput>
<userinput xmlns:xlink="http://www.w3.org/1999/xlink">[add -bill to the end, exit]</userinput>
vipw: rebuilding the database...
vipw: done

basie<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat /etc/master.passwd</userinput>

root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:*:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
operator:*:2:5::0:0:System &amp;:/:/sbin/nologin
bin:*:3:7::0:0:Binaries Commands and Source,,,:/:/sbin/nologin
tty:*:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
kmem:*:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
games:*:7:13::0:0:Games pseudo-user:/usr/games:/sbin/nologin
news:*:8:8::0:0:News Subsystem:/:/sbin/nologin
man:*:9:9::0:0:Mister Man Pages:/usr/share/man:/sbin/nologin
bind:*:53:53::0:0:Bind Sandbox:/:/sbin/nologin
uucp:*:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:*:67:67::0:0:X-10 daemon:/usr/local/xten:/sbin/nologin
pop:*:68:6::0:0:Post Office Owner:/nonexistent:/sbin/nologin
nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
+:::::::::
-bill

basie<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-netgroups">
      <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ネットグループの利用</title>
	<authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	  <author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Udo</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Erdelhoff</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
	</authorgroup>
      </info>
      
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ネットグループ</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">前節までに見てきた手法は、
	極めて少ないユーザ/マシン向けに個別のルールを必要としている場合にはうまく機能します。
	しかし大きなネットワークでは、
	ユーザに触られたくないマシンへログオンを防ぐのを
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">忘れるでしょう</emphasis> し、
	そうでなくとも各マシンを個別に設定して回らなければならず、
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">集中</emphasis>管理という NIS の恩恵を失ってしまいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS の開発者はこの問題を <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ネットグループ</emphasis>
	と呼ばれる方法で解決しました。
	その目的と意味合いは <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>
	のファイルシステムで使われている一般的なグループと比較できます。
	主たる相違は数値 ID が存在しないことと、
	ユーザアカウントと別のネットグループを含めたネットグループを定義できることです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットグループは百人/台以上のユーザとマシンを含む、
	大きく複雑なネットワークを扱うために開発されました。
	あなたがこのような状況を扱わなければならないなら便利なものなのですが、
	一方で、この複雑さは単純な例でネットグループの説明をすることをほとんど不可能にしています。
	この節の残りで使われている例は、この問題を実演しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">あなたの行なった、
	研究室への NIS の導入の成功が上司の目に止ったとしましょう。
	あなたの次の仕事は、あなたの NIS
	ドメインをキャンパスの他のいくつものマシンを覆うものへ拡張することです。
	二つの表は新しいユーザと新しいマシンの名前とその説明を含んでいます。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザの名前</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">alpha, beta</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IT 学科の通常の職員</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">charlie, delta</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IT 学科の新しい見習い</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">echo, foxtrott, golf, ...</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">一般の職員</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">able, baker, ...</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">まだインターン</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">マシンの名前</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
              <!--  Names taken from "Good Omens" by Neil Gaiman and Terry
                    Pratchett.  Many thanks for a brilliant book.  -->
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">war, death, famine, pollution</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">最も重要なサーバ。IT 職員だけがログオンを許されます。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <!-- gluttony was omitted because it was too fat -->
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">pride, greed, envy, wrath, lust, sloth</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">あまり重要でないサーバ。
		IT 学科の全員がログオンを許されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">one, two, three, four, ...</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">通常のワークステーション。
	        <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">本当の</emphasis>
		職員だけがログオンを許されます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">trashcan</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">重要なデータの入っていないひどく古いマシン。
	        インターンでもこのマシンの使用を許されます。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしあなたがこの手の制限を各ユーザを個別にブロックする形で実装するなら、
	あなたはそのシステムにログオンすることが許されていない各ユーザについて
	-<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">user</replaceable> という 1 行を、各システムの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">passwd</filename> に追加しなければならなくなるでしょう。
	もしあなたが 1 エントリでも忘れればトラブルに巻き込まれてしまいます。
	最初のセットアップの時にこれを正しく行えるのはありえることかも知れませんが、
	遂には連日の業務の間に例の行を追加し<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">忘れてしまうでしょう</emphasis>。
	結局マーフィーは楽観主義者だったのです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この状況をネットグループで扱うといくつかの有利な点があります。
	各ユーザを別個に扱う必要はなく、
	ユーザを一つ以上のネットグループに割り当て、
	ネットグループの全メンバのログインを許可したり禁止したりすることができます。
	新しいマシンを追加するときはネットグループへログインの制限を定義するだけ、
	新しいユーザを追加するときはそのユーザを一つ以上のネットグループへ追加するだけで、
	それぞれ行なうことができます。
	これらの変更は互いに独立なので、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">ユーザとマシンの組合わせをどうするか</quote>
	は存在しなくなります。
	あなたの NIS のセットアップが注意深く計画されていれば、
	マシンへのアクセスを認めるにも拒否するにも中心の設定をたった一カ所変更するだけです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初のステップは NIS マップネットグループの初期化です。
	FreeBSD の <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypinit</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> はこのマップをデフォルトで作りませんが、
	その NIS の実装はそれが作られさえすればそれをサポートするものです。
	空のマップを作るには、単に</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">vi /var/yp/netgroup</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">とタイプして内容を追加していきます。
	わたしたちの例では、すくなくとも IT 職員、IT 見習い、一般職員、
	インターンの 4 つのネットグループが必要です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
	(,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">IT_EMP</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">IT_APP</literal>
	等はネットグループの名前です。
	それぞれの括弧で囲まれたグループが一人以上のユーザアカウントをそれに登録しています。
	グループの 3 つのフィールドは</para>

      <orderedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">その記述が有効なホスト (群) の名称。
	    ホスト名を特記しなければそのエントリはすべてのホストで有効です。
	    もしあなたがホスト名を特記するなら、
	    あなたは闇と恐怖と全き混乱の領域に入り込んでしまうでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このネットグループに所属するアカウントの名称。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">そのアカウントの NIS ドメイン。
	    もしあなたが一つ以上の NIS ドメインの不幸な仲間なら、
	    あなたは他の NIS
	    ドメインからあなたのネットグループにアカウントを導入できます。</para>
	</listitem>
      </orderedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">各フィールドには、ワイルドカードが使えます。
	詳細は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">netgroup</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> をご覧ください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ネットグループ</primary></indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">8 文字以上のネットグループ名は、特にあなたの NIS
	  ドメインで他のオペレーティングシステムを走らせているときは使うべきではありません。
	  名前には大文字小文字の区別があります。
	  そのためネットグループ名に大文字を使う事は、
	  ユーザやマシン名とネットグループ名を区別する簡単な方法です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(FreeBSD 以外の) NIS クライアントの中には
	  多数のエントリを扱えないものもあります。
	  たとえば <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">SunOS</trademark> の古い版では 15 以上の
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">エントリ</emphasis>
	  を含むネットグループはトラブルを起こします。
	  この制限は 15 ユーザ以下のサブネットグループをいくつも作り、
	  本当のネットグループはこのサブネットグループからなるようにすることで回避できます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">単一のネットグループに 225 人以上のユーザをいれたいときは、
	  このやり方を繰り返すことができます。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">新しい NIS マップの有効化と配布は簡単です。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /var/yp</userinput>
ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで新しい 3 つの NIS マップ
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">netgroup</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">netgroup.byhost</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">netgroup.byuser</filename> ができるはずです。
	新しい NIS マップが利用できるか確かめるには
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypcat</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> を使います。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ypcat -k netgroup</userinput>
ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ypcat -k netgroup.byhost</userinput>
ellington<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">%</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ypcat -k netgroup.byuser</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最初のコマンドの出力は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/yp/netgroup</filename>
	の内容に似ているはずです。
	2 番目のコマンドはホスト別のネットグループを作っていなければ出力されません。
	3 番目のコマンドはユーザに対するネットグループのリストを得るのに使えます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアント側の設定は非常に簡単です。
	サーバ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">war</replaceable> を設定するには、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">vipw</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行して以下の行</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+:::::::::</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">を</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+@IT_EMP:::::::::</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">に入れ替えるだけです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">今、ネットグループ <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">IT_EMP</replaceable>
	で定義されたユーザのデータだけが <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">war</replaceable>
	のパスワードデータベースに読み込まれ、
	そのユーザだけがログインを許されています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">残念ながらこの制限はシェルの ~ の機能や、
	ユーザ名や数値の ユーザ ID の変換ルーチンにも影響します。
	つまり、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">cd ~user</command> はうまく動かず、
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ls -l</command> はユーザ名のかわりに数値の ID を表示し
	<command xmlns:xlink="http://www.w3.org/1999/xlink">find . -user joe -print</command> は
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">No such user</quote> で失敗します。
	これを避けるためには、すべてのユーザのエントリを
	<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">サーバにログインすることを許さずに</emphasis>
	読み込まなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これはもう一行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	に追加することで実現できます。その行は以下の</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">+:::::::::/sbin/nologin</literal> を含んでおり、
	これは
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">すべてのエントリを読み込むが、読み込まれたエントリのシェルは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/nologin</filename> で置き換えられる</quote>
	ということを意味します。passwd エントリの他のフィールドを
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	の既定値から置き換えることも可能です。</para>

      <!-- Been there, done that, got the scars to prove it - ue -->
      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">+:::::::::/sbin/nologin</literal> の行が
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">+@IT_EMP:::::::::</literal>
	  の行より後ろに位置することに注意してください。
	  さもないと NIS から読み込まれた全ユーザが /sbin/nologin
	  をログインシェルとして持つことになります。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この変更の後では、新しい職員が IT 学科に参加しても
	NIS マップを一つ書き換えるだけで済みます。
	同様にして、あまり重要でないサーバのローカルの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename> のかつての
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">+:::::::::</literal> 行を以下のように置き換えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/sbin/nologin</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この行は、一般のワークステーションでは以下のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/sbin/nologin</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでしばらく順調に運用していましたが、
	数週間後、ポリシに変更がありました。
	IT 学科はインターンを雇い始め、IT
	インターンは一般のワークステーションと余り重要ではないサーバを使うことが許され、
	IT 見習いはメインサーバへのログインが許されました。
	あなたは新たなネットグループ IT_INTERN を追加して新しい IT
	インターンたちをそのグループに登録し、
	すべてのマシンの設定を変えて回ることにしました。
	古い諺にこうあります。
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">集中管理における過ちは、大規模な混乱を導く</quote>。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつかのネットグループから新たなネットグループを作るという
	NIS の機能は、このような状況に対処するために利用できます。
	その方法の一つは、役割別のネットグループを作ることです。
	たとえば、重要なサーバへのログイン制限を定義するために
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">BIGSRV</replaceable> というネットグループを作り
	あまり重要ではないサーバへは <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">SMALLSRV</replaceable>
	というネットグループを、そして一般のワークステーション用に
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">USERBOX</replaceable> という第 3 のネットグループを
	作ることができます。これらのネットグループの各々は、
	各マシンにログインすることを許されたネットグループを含みます。
	あなたの NIS マップネットグループの新しいエントリは、
	以下のようになるはずです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">このログイン制限の定義法は、
	同一の制限を持つマシンのグループを定義できるときには便利なものです。
	残念ながらこのようなケースは例外的なものです。
	ほとんどの場合、
	各マシンに基づくログイン制限の定義機能が必要となるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">マシンごとのネットグループの定義は、
	上述したようなポリシの変更を扱うことができるもうひとつの方法です。
	このシナリオでは、各マシンの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename> は
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">+</quote> で始まる 2 つの行からなります。
	最初のものはそのマシンへのログインを許されたアカウントを追加するもので、
	2 番目はその他のアカウントを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/nologin</filename>
	をシェルとして追加するものです。
	マシン名をすべて大文字で記述したものをネットグループの名前として使うのは良い考えです。
	言い換えれば、件の行は次のようになるはずです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">+@<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">BOXNAME</replaceable>:::::::::
+:::::::::/sbin/nologin</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一度、各マシンに対してこの作業を済ませてしまえば、
	二度とローカルの <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	を編集する必要がなくなります。
	以降のすべての変更は NIS マップの編集で扱うことができます。
	以下はこのシナリオに対応するネットグループマップに、
	いくつかの便利な定義を追加した例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"># Define groups of users first
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Now, define some groups based on roles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# And a groups for a special tasks
# Allow echo and golf to access our anti-virus-machine
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# machine-based netgroups
# Our main servers
WAR       BIGSRV
FAMINE    BIGSRV
# User india needs access to this server
POLLUTION  BIGSRV  (,india,test-domain)
#
# This one is really important and needs more access restrictions
DEATH     IT_EMP
#
# The anti-virus-machine mentioned above
ONE       SECURITY
#
# Restrict a machine to a single user
TWO       (,hotel,test-domain)
# [...more groups to follow]</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もしユーザアカウントを管理するのにデータベースの類を使っているなら、
	データベースのレポートツールからマップの最初の部分を作れるようにするべきです。
	そうすれば、新しいユーザは自動的にマシンにアクセスできるでしょう。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">最後に使用上の注意を:
	マシン別のネットグループを使うことが常に賢明というわけではありません。
	あなたが数ダースから数百の同一の環境のマシンを学生の研究室に配置しているのならば、
	NIS マップのサイズを手頃な範囲に押さえるために、
	マシン別のネットグループのかわりに役割別のネットグループを使うべきです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">忘れてはいけないこと</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NIS 環境にある今、
	今までとは違ったやり方が必要なことがいくつかあります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">研究室にユーザを追加するときは、それをマスター
	    NIS サーバに <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">だけ</emphasis>
	    追加しなければならず、さらに
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS マップを再構築することを忘れてはいけません</emphasis>。
	    これを忘れると新しいユーザは
	    NIS マスタ以外のどこにもログインできなくなります。
	    たとえば、新しくユーザ <quote xmlns:xlink="http://www.w3.org/1999/xlink">jsmith</quote>
	    をラボに登録したいときは以下のようにします。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pw useradd jsmith</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /var/yp</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make test-domain</userinput></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">pw useradd jsmith</command> のかわりに
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">adduser jsmith</command> を使うこともできます。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">管理用アカウントを
	    NIS マップから削除してください</emphasis>。
	    管理用アカウントやパスワードを、
	    それらのアカウントへアクセスさせてはいけないユーザが居るかも知れないマシンにまで伝えて回りたいとは思わないでしょう。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">NIS のマスタとスレーブをセキュアに、
	      そして機能停止時間を最短に保ってください</emphasis>。
	    もし誰かがこれらのマシンをクラックしたり、
	    あるいは単に電源を落としたりすると、
	    彼らは実質的に多くの人を研究室へログインできなくしてしまえます。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">これはどの集中管理システムにとってももっとも大きな弱点でしょう。
	    あなたの NIS
	    サーバを守らなければ怒れるユーザと対面することになるでしょう!</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS v1 との互換性</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ypserv</application> は、
	NIS v1 クライアントを部分的にサポートしています。
	FreeBSD の NIS 実装は NIS v2 プロトコルのみを使用していますが、
	ほかの実装では、古いシステムとの下位互換性を持たせるため
	v1 プロトコルをサポートしているものもあります。
	そのようなシステムに付いている
	<application xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</application> デーモンは、
	必要がないにもかかわらず NIS v1
	のサーバとの結合を成立させようとします
	(しかも v2 サーバからの応答を受信した後でも、
	ブロードキャストをし続けるかも知れません)。
	FreeBSD の ypserv は、
	クライアントからの通常のリクエストはサポートしていますが、
	v1 のマップ転送リクエストはサポートしていないことに注意してください。
	つまり FreeBSD の ypserv を、
	v1 だけをサポートするような古い NIS サーバと組み合わせて
	マスターやスレーブサーバとして使うことはできません。
	幸いなことに、現在、そのようなサーバが使われていることは
	ほとんどないでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-nis-server-is-client">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NIS クライアントとしても動作している NIS サーバ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">複数のサーバが存在し、サーバ自身が NIS
	クライアントでもあるようなドメインで
	ypserv が実行される場合には注意が必要です。
	一般的に良いとされているのは、
	他のサーバと結合をつくるようにブロードキャストさせるのではなく、
	サーバをそれ自身に結合させることです。
	もし、サーバ同士が依存関係を持っていて、一つのサーバが停止すると、
	奇妙なサービス不能状態に陥ることがあります。
	その結果、すべてのクライアントはタイムアウトを起こして
	他のサーバに結合しようと試みますが、
	これにかかる時間はかなり大きく、
	サーバ同士がまた互いに結合してしまったりすると、
	サービス不能状態はさらに継続することになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</command> に
	<option xmlns:xlink="http://www.w3.org/1999/xlink">-S</option> オプションフラグを指定して実行することで、
	ホストを特定のサーバに結合することが可能です。
	NIS サーバを再起動するたびに、これを手動で行いたくないなら、
	次の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	に追加すればよいでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">nis_client_enable="YES"	# run client stuff as well
nis_client_flags="-S <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">NIS domain</replaceable>,<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">server</replaceable>"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ypbind</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">パスワード形式</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NIS</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">パスワード形式</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	NIS を実装しようする人の誰もがぶつかる問題の一つに、
	パスワード形式の互換性があります。
	NIS サーバが DES 暗号化パスワード使っている場合には、
	同様に DES を使用しているクライアントしか対応できません。
	たとえば <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Solaris</trademark>； の NIS クライアントがネットワーク内にある場合、
	ほぼ確実に DES 暗号化パスワードを使用しなければならないでしょう。</para>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">サーバとクライアントがどのライブラリを使用しているかは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename> を確認してください。
	ホストが DES 暗号パスワードを使用するように設定されている場合、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">default</literal>
	クラスには以下のようなエントリが含まれます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">default:\
    :passwd_format=des:\
    :copyright=/etc/COPYRIGHT:\
    [Further entries elided]</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">passwd_format</literal>
	特性について他に利用可能な値は
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">blf</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">md5</literal>
	(それぞれ Blowfish および MD5 暗号化パスワード) です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/login.conf</filename> を変更したときは、
	ログイン特性データベースも再構築しなければなりません。
	これは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	権限で下記のようにコマンドを実行すればできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cap_mkdb /etc/login.conf</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">すでに <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/master.passwd</filename>
	内に記録されているパスワード形式は、
	ログイン特性データベースが再構築された<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">後</emphasis>、
	ユーザが彼らのパスワードをはじめて変更するまで変更されないでしょう。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次に、
	パスワードが選択した形式で暗号化されることを確実にするために、
	さらに <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/auth.conf</filename> 内の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">crypt_default</literal> において、
	選択したパスワード形式に高い優先順位がついていることも確認してください。
	そうするためには、選択した形式をリストの先頭に置いてください。
	たとえば DES 暗号化されたパスワードを使用するときは、
	エントリは次のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">crypt_default	=	des blf md5</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 上の各
	NIS サーバおよびクライアントにおいて上記の手順に従えば、
	ネットワーク内でどのパスワード形式が使用されるかが
	それらのマシン間で整合されているということを確信できます。
	NIS クライアント上で問題があれば、
	ここから問題となりそうな部分を探すと良いでしょう。
	覚えておいてください:
	異種混在ネットワークに NIS サーバを配置したいときには、
	DES が最大公約数的な標準となるでしょうから、
	すべてのシステムで DES を使用しなければならないかもしれません。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-dhcp">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Greg</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Sutter</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP とは何でしょうか?</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ダイナミックホストコンフィギュレーションプロトコル
	  (DHCP)</primary>
	<see xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</see>
      </indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">インターネットソフトウェアコンソーシアム (ISC)</primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP (Dynamic Host Configuration Protocol) は、
	システムをネットワークに接続するだけで、
	ネットワークでの通信に必要な情報を入手することができる仕組みです。
	FreeBSD では ISC (Internet Software Consortium) による
	DHCP の実装を使用しています。したがって、
	ここでの説明のうち実装によって異なる部分は
	ISC のもの用になっています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">この節で説明していること</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節は ISC DHCP
	システムのクライアント側およびサーバ側の構成要素の両方について説明します。
	クライアント側のプログラムである <command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> は
	FreeBSD のベースシステム内に含まれています。そして、サーバ側の要素は
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package> port
	から利用可能です。下記の説明の他に、
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>, <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcp-options</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	マニュアルページが役にたつ情報源です。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP の動作</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">UDP</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントとなるマシン上で、
	DHCP のクライアントである <command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> を実行すると、
	まず設定情報の要求をブロードキャストします。デフォルトでは、
	このリクエストには UDP のポート 68 を使用します。
	サーバは UDP のポート 67 で応答し、クライアントの IP アドレスと、
	ネットマスクやルータ、DNS サーバなどの関連する情報を提供します。
	これらの情報のすべては DHCP の
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">リース</quote> の形で送られ、DHCP
	サーバ管理者によって決められたある一定の時間内でのみ有効になります。
	これによって、ネットワークに存在しなくなったホストの
	IP アドレスは自動的に回収されることになります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP
	クライアントはサーバから非常に多くの情報を取得することができます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcp-options</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> に非常に大きなリストが載っています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD への組み込み</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は ISC の DHCP クライアントである
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> を完全に組み込んでいます。
	DHCP クライアントはインストーラと基本システムの両方で提供されています。
	ですから DHCP サーバを走らせているネットワーク上ではネットワーク関係の設定についての詳細な知識は必要になりません。
	<command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> は、3.2 以降のすべての
	FreeBSD の配布物に含まれています。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application></primary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP は <application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application>
	で対応されており、sysinstall でのネットワークインタフェイス設定の際は、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">このインタフェイスの設定として DHCP を試してみますか?
	(Do you want to try DHCP configuration of this interface?)</quote>
	という質問が最初になされます。
	これに同意することで <command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> が実行され、
	それが成功すればネットワークの設定情報は自動的に取得されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">システム起動時に DHCP を使ってネットワーク情報を取得するように
	するには、次の二つを行なう必要があります。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">必要条件</secondary>
      </indexterm>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	    デバイスがカーネルに組み込まれていることを確認します。
	    これを組み込むには、カーネルコンフィグレーションファイルに
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device bpf</literal>
	    という行を追加し、カーネルを再構築します。
	    カーネルの構築に関する詳細は、
	    <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/> を参照してください。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> デバイスは、
	    FreeBSD にはじめから用意されている
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename> カーネルに組み込まれていますので、
	    自分で設定を変えたカスタムカーネルを使っているのでなければ、
	    DHCP を動作させるためにカーネルを再構築する必要はありません。</para>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティに関心のある方向けに注意しておきます。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	      デバイスは、パケットスニファ (盗聴プログラム)
	      を動作させることができる
	      (ただし <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限が必要)
	      デバイスです。
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> は DHCP を動作させるために
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">かならず</emphasis>必要ですが、
	      セキュリティが非常に重要な場面では
	      DHCP をいつか使うかもしれないというだけで
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	      デバイスをカーネルに追加すべきではないでしょう。</para>
	  </note>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> を編集して、
	    次の行を追加してください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig_fxp0="DHCP"</programlisting>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><!-- XXX <xref linkend="config-network-setup"> -->
	      で説明されているように <literal xmlns:xlink="http://www.w3.org/1999/xlink">fxp0</literal> の部分を、
	      動的に設定したいインタフェースの名前で置き換えることを忘れないようにしてください。</para>
	  </note>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">もし、使っている <command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command>
	    の場所を変更していたり、<command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command>
	    にフラグを渡したい場合は、
	    同様に下のように書き加えてください。</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">dhcp_program="/sbin/dhclient"
dhcp_flags=""</programlisting>
	</listitem>
      </itemizedlist>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">サーバ</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP サーバ <command xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</command> は、Ports Collection に
	<package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package>
	の一部として収録されています。
	この port には ISC DHCP サーバと文書が含まれています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">関連ファイル</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</secondary>
      </indexterm>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/dhclient.conf</filename></para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> は設定ファイル
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/dhclient.conf</filename> を必要とします。
	    大抵の場合、このファイルはコメントだけであり、
	    デフォルトが通常使いやすい設定になっています。
	    この設定ファイルは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	    マニュアルページで説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/dhclient</filename></para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command> は静的にリンクされており、
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin</filename> に置かれています。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	    マニュアルページで <command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient</command>
	    コマンドについてより詳しく説明しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/sbin/dhclient-script</filename></para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">dhclient-script</command> は FreeBSD 特有の、
	    DHCP クライアント設定スクリプトです。これについては
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient-script</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページで説明されていますが、
	    これを編集する必要はほとんど発生しないでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/dhclient.leases</filename></para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP クライアントはこのファイルに有効なリースのデータベースをログとして記録します。
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhclient.leases</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> にもうすこし詳しい解説があります。</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">参考になる文献</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP のプロトコルは
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freesoft.org/CIE/RFC/2131/">RFC 2131</link>
	に完全に記述されています。また
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.dhcp.org/">dhcp.org</link>
	にも有用な情報源が用意されています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-dhcp-server">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP サーバのインストールと設定</title>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">この節で説明していること</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">この節は DHCP の ISC (Internet Software Consortium) 実装を用いて
	  FreeBSD システムを
	  DHCP サーバとして動作させる方法の情報を提供します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP のサーバ部分は FreeBSD の一部として提供されません。
	  したがって、このサービスを提供するために
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package>
	  port をインストールする必要があるでしょう。
	  Ports Collection を使用する情報についての詳細は
	  <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports"/> を参照してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP サーバのインストール</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">インストール</secondary>
	</indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムを DHCP サーバとして設定するために、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">bpf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	  デバイスがカーネルに組み込まれていることを保証する必要があります。
	  そうするためには、カーネルコンフィギュレーションファイルに
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">pseudo-device bpf</literal> を追加して、
	  カーネルを再構築してください。
	  カーネルの構築に関する詳細は <xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="kernelconfig"/>
	  を参照してください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> デバイスは、
	  FreeBSD にはじめから用意されている <filename xmlns:xlink="http://www.w3.org/1999/xlink">GENERIC</filename>
	  カーネルの一部なので、DHCP
	  を動作させるためにカスタムカーネルを作成する必要はありません。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティを特に意識する人は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> はパケットスニファ (盗聴プログラム)
	    が正常に (このようなプログラムはさらに特権アクセスを必要としますが)
	    動作することを可能にするデバイスでもあることに注意してください。
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename> は DHCP を使用するために必要
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">です</emphasis>。
	    しかし、セキュリティをとても気にしているなら、
	    DHCP をいつか使うかもしれないというだけで
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">bpf</filename>
	    デバイスをカーネルに含めるべきではないでしょう。</para>
	</note>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">次に行わねばならないのは、
	  <package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package> port
	  によってインストールされた <filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename>
	  のサンプルを編集することです。
	  デフォルトでは、これは
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/dhcpd.conf.sample</filename> で、
	  編集する前にこれを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/dhcpd.conf</filename>
	  にコピーするべきでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">DHCP サーバの設定</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</secondary>
	</indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename>
	  はサブネットおよびホストに関する宣言で構成されます。
	  例を使って説明するのが最も簡単でしょう。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">option domain-name "example.com";<co xml:id="domain-name"/>
option domain-name-servers 192.168.4.100;<co xml:id="domain-name-servers"/>
option subnet-mask 255.255.255.0;<co xml:id="subnet-mask"/>

default-lease-time 3600;<co xml:id="default-lease-time"/>
max-lease-time 86400;<co xml:id="max-lease-time"/>
ddns-update-style none;<co xml:id="ddns-update-style"/>

subnet 192.168.4.0 netmask 255.255.255.0 {
  range 192.168.4.129 192.168.4.254;<co xml:id="range"/>
  option routers 192.168.4.1;<co xml:id="routers"/>
}

host mailhost {
  hardware ethernet 02:03:04:05:06:07;<co xml:id="hardware"/>
  fixed-address mailhost.example.com;<co xml:id="fixed-address"/>
}</programlisting>

	<calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <callout arearefs="domain-name">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは、
	      デフォルト探索ドメインとしてクライアントに渡されるドメインを指定します。
	      これが意味するところの詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">resolv.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	      を参照してください。</para>
	  </callout>

	  <callout arearefs="domain-name-servers">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションはクライアントが使用する、
	      コンマで区切られた DNS サーバのリストを指定します。</para>
	  </callout>

	  <callout arearefs="subnet-mask">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントに渡されるネットマスクです。</para>
	  </callout>

	  <callout arearefs="default-lease-time">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントは特定のリース期限を要求することもできます。
	      それ以外の場合は、サーバはこのリース期限値 (秒)
	      でリースを割り当てるでしょう。</para>
	  </callout>

	  <callout arearefs="max-lease-time">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これはサーバがリースする時間の最大値です。
	      クライアントがこれより長いリースを要求しても、
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">max-lease-time</literal>
	      秒だけしか有効にならないでしょう。</para>
	  </callout>

	  <callout arearefs="ddns-update-style">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このオプションは、リースが受理、またはリリースされたときに
	      DHCP サーバが DNS を更新しようとするかどうかを指定します。
	      ISC 実装では、このオプションは
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">必須</emphasis> です。</para>
	  </callout>

	  <callout arearefs="range">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これはどの範囲の IP アドレスが、
	      クライアントに割り当てるために予約されたプールに使用されるかを示します。
	      この範囲に含まれている
	      IP アドレスはクライアントに渡されます。</para>
	  </callout>

	  <callout arearefs="routers">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クライアントに供給されるデフォルトゲートウェイを宣言します。</para>
	  </callout>

	  <callout arearefs="hardware">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">(リクエストが生じた時に
	      DHCP サーバがホストを認識できるように)
	      ホストのハードウェア MAC アドレスを指定します。</para>
	  </callout>

	  <callout arearefs="fixed-address">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ホストに常に同じ IP アドレスを付与することを指定します。
	      DHCP サーバはリース情報を返す前にホスト名の名前解決をするので、
	      ここにホスト名を書いても構いません。</para>
	  </callout>
	</calloutlist>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</filename>
	  を書き終えたら以下のコマンドでサーバを起動できます。</para>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/rc.d/isc-dhcpd.sh start</userinput></screen>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">今後サーバの設定に変更を加える必要が生じた時には、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGHUP</literal> シグナルを
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</application> に送っても、
	  多くのデーモンがそうであるようには、
	  設定ファイルが再読み込み <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">されない</emphasis>
	  ことに注意してください。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">SIGTERM</literal> シグナルを送ってプロセスを停止し、
	  それから上記のコマンドを用いて再起動させる必要があります。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</secondary>
	</indexterm>
	<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/sbin/dhcpd</filename></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</application> は静的にリンクされ
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/sbin</filename> に置かれます。
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</application>
	      に関するそれ以上の情報は port とともにインストールされる
	      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページにあります。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/dhcpd.conf</filename></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd</application>
	      はクライアントへのサービス提供をはじめる前に設定ファイル
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/etc/dhcpd.conf</filename>
	      を必要とします。このファイルは、
	      サーバの稼働に関する情報に加えて、
	      サービスされているクライアントに提供される情報のすべてを含む必要があります。
	      この設定ファイルについての詳細は、
	      port によってインストールされる <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	      マニュアルページを参照してください。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/db/dhcpd.leases</filename></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">DHCP
	      サーバは発行したリースのデータベースをこのファイルにログとして保持します。
	      port によってインストールされる <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcpd.leases</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
	      にはもう少し詳しい説明があります。</para>
	  </listitem>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/local/sbin/dhcrelay</filename></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">dhcrelay</application> は、DHCP
	      サーバがクライアントからのリクエストを、
	      別のネットワーク上にある
	      DHCP サーバに転送する高度な環境下で使用されます。
	      この機能が必要なら、<package xmlns:xlink="http://www.w3.org/1999/xlink">net/isc-dhcp3-server</package> port
	      をインストールしてください。
	      port とともに提供される <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" vendor="ports"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">dhcrelay</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      マニュアルページにはより詳細な情報が含まれます。</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-dns">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">DNS</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概観</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary></indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD はデフォルトでは
	DNS プロトコルの最も一般的な実装である BIND
	(Berkeley Internet Name Domain) を使用します。DNS はホスト名を
	IP アドレスに、そして IP アドレスをホスト名に関連づけるプロトコルです。
	たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">www.FreeBSD.org</systemitem> に対する問い合わせは
	The FreeBSD Project の ウェブサーバの IP アドレスを受け取るでしょう。
	その一方で <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ftp.FreeBSD.org</systemitem> に対する問い合わせは、
	対応する FTP マシンの IP アドレスを返すでしょう。
	同様に、その逆のことも可能です。
	IP アドレスに対する問い合わせを行うことで、
	そのホスト名を解決することができます。
	DNS 検索を実行するために、
	システム上でネームサーバを動作させる必要はありません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">DNS は、
	個々のドメイン情報を格納およびキャッシュした、
	権威のあるルートサーバおよび他の小規模なネームサーバによる多少複雑なシステムによって、
	インターネット全体にわたって協調して動作します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書は FreeBSD で安定版として利用されている
	BIND 8.x について説明します。
	FreeBSD では BIND 9.x を <package xmlns:xlink="http://www.w3.org/1999/xlink">net/bind9</package>
	port からインストールできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">RFC1034 および RFC1035 は DNS プロトコルを定義しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のところ BIND は
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.isc.org/">Internet Software Consortium
	  (www.isc.org)</link> によって保守されています。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">用語</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この文書を理解するには
	DNS 関連の用語をいくつか理解しなければいけません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">リゾルバ</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">逆引き DNS</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ルートゾーン</primary></indexterm>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">用語</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">定義</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">正引き DNS</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名から IP アドレスへの対応です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">オリジン (origine)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">特定のゾーンファイルによってカバーされるドメインへの参照です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>, BIND, ネームサーバ</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 内の BIND ネームサーバパッケージの一般名称です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">リゾルバ (resolver)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">マシンがゾーン情報についてネームサーバに問い合わせるシステムプロセスです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">逆引き DNS</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">正引き DNS の逆です。つまり
		IP アドレスからホスト名への対応です。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ルートゾーン</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">インターネットゾーン階層の起点です。
		すべてのゾーンはルートゾーンの下に属します。
		これはファイルシステムのすべてのファイルがルートディレクトリの下に属することと似ています。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ゾーン</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">同じ権威によって管理される個々の DNS ドメイン、
		DNS サブドメイン、あるいは DNS の一部分です。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">ゾーン</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">例</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ゾーンの例:
      </para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">.</systemitem> はルートゾーンです。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">org.</systemitem> はルートゾーンの下のゾーンです。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org</systemitem> は
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">org.</systemitem> ゾーンの下のゾーンです。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">foo.example.org.</systemitem> はサブドメインで、
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org.</systemitem> の下のゾーンです。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">1.2.3.in-addr.arpa</systemitem> は 3.2.1.* の
	    IP 空間に含まれるすべての IP アドレスを参照するゾーンです。
	  </para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">見て分かるように、ホスト名のより詳細な部分はその左側に現れます。
	たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org.</systemitem> は
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">org.</systemitem> より限定的です。同様に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">org.</systemitem>
	はルートゾーンより限定的です。
	ホスト名の各部分のレイアウトはファイルシステムに非常に似ています。
	たとえば <filename xmlns:xlink="http://www.w3.org/1999/xlink">/dev</filename>
	はルートの下であることなどです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ネームサーバを実行する理由</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ネームサーバは通常二つの形式があります:
	権威のあるネームサーバとキャッシュネームサーバです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">権威のあるネームサーバは以下の場合に必要です。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">問い合わせに対して信頼できる返答をすることで、
	    ある人が DNS 情報を世界に向けて発信したいとき。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org</systemitem>
	    といったドメインが登録されており、
	    その下にあるホスト名に
	    IP アドレスを割り当てる必要があるとき。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">IP アドレスブロックが (IP からホスト名への)
	    逆引き DNS エントリを必要とするとき。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">プライマリサーバがダウンしているかまたはアクセスできない場合に、
	    代わりに問い合わせに対してスレーブと呼ばれるバックアップネームサーバが返答しなければならないとき。</para>
	  </listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">キャッシュネームサーバは以下の場合に必要です。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルのネームサーバが、
	    外部のネームサーバに問い合わせするよりも、
	    キャッシュしてより速く返答できるとき。</para>
	</listitem>
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークトラフィックの総量を減らしたいとき
	    (DNS のトラフィックはインターネットトラフィック全体の
	    5% 以上を占めることが測定されています)</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">www.FreeBSD.org</systemitem> に対する問い合わせを発したとき、
	リゾルバは大体の場合上流の ISP
	のネームサーバに問い合わせをして返答を得ます。
	ローカルのキャッシュ DNS サーバがあれば、
	問い合わせはキャッシュ
	DNS サーバによって外部に対して一度だけ発せられます。
	情報がローカルに蓄えられるので、
	追加の問い合わせはいずれもローカルネットワークの外側にまで確認しなくてもよくなります。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">動作のしくみ</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD では BIND デーモンは自明な理由から
	<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> と呼ばれます。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイル</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">BIND デーモン</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">ndc</command></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ネームデーモンコントロールプログラム</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">BIND のゾーン情報が置かれるディレクトリ</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/named.conf</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デーモンの設定ファイル</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	ゾーンファイルは通常 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb</filename>
	ディレクトリ内に含まれており、ネームサーバによって処理される
	DNS ゾーン情報を含んでいます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">BIND の起動</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">起動</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">BIND はデフォルトでインストールされているので、
	すべてを設定することは比較的単純です。</para>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">named デーモンが起動時に開始されることを保証するには、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に以下の変更をいれてください。
      </para>
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">named_enable="YES"</programlisting>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">デーモンを手動で起動するためには (設定をした後で)</para>
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ndc start</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル</secondary>
      </indexterm>
      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">make-localhost</command> の利用</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドが</para>
	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /etc/namedb</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh make-localhost</userinput></screen>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ローカル逆引き DNS ゾーンファイルを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/localhost.rev</filename>
	  に適切に作成することを確認してください。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/named.conf</filename></title>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">// $FreeBSD$
//
// 詳細については named(8) マニュアルページを参照してください。プライマリサーバ
// を設定するつもりなら、DNS がどのように動作するかの詳細を確実に理解してくださ
// い。単純な間違いであっても、影響をうける相手に対する接続を壊したり、無駄な
// インターネットトラフィックを大量に引き起こし得ます。

options {
        directory "/etc/namedb";

// "forwarders" 節に加えて次の行を有効にすることで、ネームサーバに決して自発的
// に問い合わせを発せず、常にそのフォワーダにたいして尋ねるように強制すること
// ができます:
//
//      forward only;

// あなたが上流のプロバイダ周辺の DNS サーバを利用できる場合、その IP アドレス
// をここに入力し、下記の行を有効にしてください。こうすれば、そのキャッシュの
// 恩恵にあやかることができ、インターネット全体の DNS トラフィックが減るでしょう。
/*
        forwarders {
                127.0.0.1;
        };
*/</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">コメントが言っている通り、上流のキャッシュの恩恵を受けるために
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">forwarders</literal> をここで有効にすることができます。
	  通常の状況では、ネームサーバはインターネットの特定のネームサーバを調べて、
	  探している返答を見つけるまで再帰的に問い合わせを行います。
	  これが有効になっていれば、まず上流のネームサーバ
	  (または 与えられたネームサーバ) に問い合わせて、
	  そのキャッシュを利用するでしょう。
	  問い合わせをする上流のネームサーバが極度に通信量が多く、
	  高速であった場合、これを有効にする価値があるかもしれません。</para>

	<warning xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ここに <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">127.0.0.1</systemitem>
	    を指定しても動作 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">しません</emphasis>。
	    上流のネームサーバの IP アドレスに変更してください。</para>
	</warning>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">        /*
         * あなたと利用したいネームサーバとの間にファイアウォールがある場合、
         * 下記の quiery-source 指令を有効にする必要があるでしょう。
         * 過去の BIND のバージョンは常に 53 番ポートに問い合わせをしますが、
         * BIND 8.1 はデフォルトで非特権ポートを使用します。
         */
        // query-source address * port 53;

        /*
         * 砂場内で動作させている場合、ダンプファイルのために異なる場所を指定
         * しなければならないかもしれません。
         */
        // dump-file "s/named_dump.db";
};

// 注意: 下記は将来のリリースで対応されるでしょう。
/*
host { any; } {
        topology {
                127.0.0.0/8;
        };
};
*/

// セカンダリを設定することはより簡単な方法で、そのおおまかな姿が下記で説明さ
// れています。
//
// ローカルネームサーバを有効にする場合、このサーバが最初に尋ねられるように
// /etc/resolv.conf に 127.0.0.1 を入力することを忘れないでください。さらに、
// /etc/rc.conf 内で有効にすることも確認してください。

zone "." {
        type hint;
        file "named.root";
};

zone "0.0.127.IN-ADDR.ARPA" {
        type master;
        file "localhost.rev";
};

zone
"0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.INT" {
        type master;
        file "localhost.rev";
};

// 注意: 下記の IP アドレスを使用しないでください。これはダミーでありデモや文書
// だけを目的としたものです。
//
// セカンダリ設定の例です。少なくともあなたのドメインが属するゾーンに対するセカ
// ンダリになることは便利かもしれません。プライマリの責を負っている IP アドレス
// をネットワーク管理者に尋ねてください。
//
// 逆引き参照ゾーン (IN-ADDR.ARPA) を含めることを決して忘れないでください!
// (これは ".IN-ADDR.ARPA" を付け加えられたそれぞれの IP アドレスの最初のバイト
// の逆順です。)
//
// プライマリゾーンの設定をはじめる前に DNS および BIND がどのように動作するか
// 完全に理解してください。時々自明でない落し穴があります。それに比べるとセカン
// ダリを設定するのは単純です。
//
// 注意: 下記の例を鵜呑みにして有効にしないでください。:-) 実際の名前とアドレス
// を代わりに使用してください。
//
// 注意!!! FreeBSD は bind を砂場のなかで動かします (rc.conf 内の named_flags
// を参照してください)。セカンダリゾーンを含んだディレクトリは、bind によって
// 書き込み可能でなければなりません。次の手順が推奨されます:
//
//      mkdir /etc/namedb/s
//      chown bind:bind /etc/namedb/s
//      chmod 750 /etc/namedb/s</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">BIND を砂場 (sandbox) で
	  (訳注: chroot をもちいて) 動作させるための詳細は
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-named-sandbox">砂場で named を実行する</link> を参照してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">/*
zone "example.com" {
        type slave;
        file "s/example.com.bak";
        masters {
                192.168.1.1;
        };
};

zone "0.168.192.in-addr.arpa" {
        type slave;
        file "s/0.168.192.in-addr.arpa.bak";
        masters {
                192.168.1.1;
        };
};
*/</programlisting>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">named.conf</filename> の中で、
	  上記は転送と逆引きゾーンのためのスレーブエントリの例です。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">新しくサービスするそれぞれのゾーンについて、新規のエントリを
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">named.conf</filename> に加えなければいけません。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.org</systemitem>
	  に対する最もシンプルなゾーンエントリは以下のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">zone "example.org" {
	type master;
	file "example.org";
};</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンは <option xmlns:xlink="http://www.w3.org/1999/xlink">type</option>
	  命令で示されているようにマスタで、ゾーン情報を
	  <option xmlns:xlink="http://www.w3.org/1999/xlink">file</option> 命令で指示された
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/example.org</filename>
	  ファイルに保持しています。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">zone "example.org" {
	type slave;
	file "example.org";
};</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">スレーブの場合、
	  ゾーン情報は特定のゾーンのマスタネームサーバから転送され、
	  指定されたファイルに保存されます。
	  マスタサーバが停止するか到達できない場合には、
	  スレーブサーバが転送されたゾーン情報を保持していて、
	  サービスできるでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ゾーンファイル</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org</systemitem> に対するマスタゾーンファイル
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/example.org</filename> に保持されます)
	  の例は以下のようになります。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">$TTL 3600

example.org. IN SOA ns1.example.org. admin.example.org. (
                        5               ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        86400 )         ; Minimum TTL

; DNS Servers
@       IN NS           ns1.example.org.
@       IN NS           ns2.example.org.

; Machine Names
localhost       IN A    127.0.0.1
ns1             IN A    3.2.1.2
ns2             IN A    3.2.1.3
mail            IN A    3.2.1.10
@               IN A    3.2.1.30

; Aliases
www             IN CNAME        @

; MX Record
@               IN MX   10      mail.example.org.</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">.</quote>
	  が最後についているすべてのホスト名は正確なホスト名であり、
	  一方で <quote xmlns:xlink="http://www.w3.org/1999/xlink">.</quote>
	  で終了しないすべての行はオリジンが参照されることに注意してください。
	  たとえば <literal xmlns:xlink="http://www.w3.org/1999/xlink">www</literal> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">www + オリジン</literal>
	  に展開されます。この架空のゾーンファイルでは、
	  オリジンは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org.</systemitem> なので
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">www</literal> は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">www.example.org.</systemitem>
	  に展開されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">
	  ゾーンファイルの書式は次のとおりです。
	</para>
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">recordname      IN recordtype   value</programlisting>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">DNS</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">レコード</secondary>
	</indexterm>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">DNS レコードに使われる最も一般的なものは以下のとおりです。</para>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">SOA</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ゾーン権威の起点</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">NS</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">権威のあるネームサーバ</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">A</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ホストのアドレス</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">CNAME</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">別名としての正規の名称</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">MX</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">メールエクスチェンジャ</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink">PTR</term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ドメインネームポインタ
		(逆引き DNS で使用されます)</para></listitem>
	  </varlistentry>
	</variablelist>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
example.org. IN SOA ns1.example.org. admin.example.org. (
                        5               ; Serial
                        10800           ; Refresh after 3 hours
                        3600            ; Retry after 1 hour
                        604800          ; Expire after 1 week
                        86400 )         ; Minimum TTL of 1 day</programlisting>

	<variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org.</systemitem></term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンのオリジンでもあるドメイン名</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ns1.example.org.</systemitem></term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンに対して権威のあるプライマリネームサーバ</para></listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">admin.example.org.</literal></term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンの責任者。@
	      を置き換えた電子メールアドレスを指定します。
	      (<email xmlns:xlink="http://www.w3.org/1999/xlink">admin@example.org</email> は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">admin.example.org</literal> になります)</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	    <term xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">5</literal></term>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">ファイルのシリアル番号です。
		これはファイルが変更されるたびに増加させる必要があります。
		現在では多くの管理者は <literal xmlns:xlink="http://www.w3.org/1999/xlink">yyyymmddrr</literal>
		という形式をシリアル番号として使用することを好みます。
		2001041002 は最後に修正されたのが 2001/04/10 で、後ろの 02
		はその日で二回目に修正されたものであるということを意味するでしょう。
		シリアル番号は、
		それが更新されたときにスレーブネームサーバに対してゾーンを通知するので重要です。</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
@       IN NS           ns1.example.org.</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">これは <varname xmlns:xlink="http://www.w3.org/1999/xlink">NS</varname> エントリです。
	  このゾーンに対して権威のある返答を返すネームサーバはすべて、
	  このエントリを一つ有していなければなりません。
	  ここにある <literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> は
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.org.</systemitem> を意味します。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal> はオリジンに展開されます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
localhost       IN A    127.0.0.1
ns1             IN A    3.2.1.2
ns2             IN A    3.2.1.3
mail            IN A    3.2.1.10
@               IN A    3.2.1.30</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">A</varname> レコードはマシン名を示します。
	  上記のように <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ns1.example.org</systemitem> は
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">3.2.1.2</systemitem> に結びつけられるでしょう。
	  ふたたびオリジンを示す <literal xmlns:xlink="http://www.w3.org/1999/xlink">@</literal>
	  がここに使用されていますが、これは
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org</systemitem> が
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">3.2.1.30</systemitem>
	  に結び付けられることを意味しています。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
www             IN CNAME        @</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">CNAME</varname>
	  レコードは通常マシンに別名を与えるときに使用されます。
	  例では <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">www</systemitem> はオリジン、すなわち
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">example.org</systemitem>
	  (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">3.2.1.30</systemitem>)
	  のアドレスをふられたマシンへの別名を与えます。
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">CNAME</varname> はホスト名の別名、
	  または複数のマシン間で一つのホスト名をラウンドロビン
	  (訳注: 問い合わせがあるたびに別の IP アドレスを返すことで、
	  一台にアクセスが集中することを防ぐ手法)
	  するときに用いられます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">
@               IN MX   10      mail.example.org.</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><varname xmlns:xlink="http://www.w3.org/1999/xlink">MX</varname> レコードは、
	  ゾーンに対してどのメールサーバがやってきたメールを扱うことに責任を持っているかを示します。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">mail.example.org</systemitem>
	  はメールサーバのホスト名で、10 はメールサーバの優先度を示します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">優先度が 3,2 または
	  1 などのメールサーバをいくつも置くことができます。
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">example.org</systemitem>
	  へ送ろうとしているメールサーバははじめに一番優先度の高いメールサーバに接続しようとします。
	  そして接続できない場合、二番目に優先度の高いサーバに接続しようとし、
	  以下、メールが適切に配送されるまで同様に繰り返します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">in-addr.arpa ゾーンファイル (逆引き DNS) に対しても
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">A</varname> または <varname xmlns:xlink="http://www.w3.org/1999/xlink">CNAME</varname> の代わりに
	  <varname xmlns:xlink="http://www.w3.org/1999/xlink">PTR</varname> エントリが用いられることを除けば、
	  同じ書式が使われます。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">$TTL 3600

1.2.3.in-addr.arpa. IN SOA ns1.example.org. admin.example.org. (
                        5               ; Serial
                        10800           ; Refresh
                        3600            ; Retry
                        604800          ; Expire
                        3600 )          ; Minimum

@       IN NS   ns1.example.org.
@       IN NS   ns2.example.org.

2       IN PTR  ns1.example.org.
3       IN PTR  ns2.example.org.
10      IN PTR  mail.example.org.
30      IN PTR  example.org.</programlisting>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">このファイルは上記の架空のドメインの
	  IP アドレスからホスト名への対応を与えます。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">キャッシュネームサーバ</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">キャッシュネームサーバ</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">キャッシュネームサーバはどのゾーンに対しても権威をもたないネームサーバです。
	キャッシュネームサーバは単に自分で問い合わせをし、
	後で使えるように問い合わせの結果を覚えておきます。
	これを設定するには、ゾーンを何も含まずに、
	通常通りネームサーバを設定してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-named-sandbox">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">砂場で <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> を実行する</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">BIND</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">砂場での実行</secondary>
	</indexterm>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">chroot</command></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティを強めるために <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を非特権ユーザで実行し、
	砂場のディレクトリ内に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">chroot</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	して実行したいと思うかもしれません。
	こうすると <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	デーモンは砂場の外にはまったく手を出すことができません。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が乗っ取られたとしても、
	これによって起こりうる損害が小さくなるでしょう。
	FreeBSD にはデフォルトで、そのための <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">bind</systemitem>
	というユーザとグループがあります。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">多くの人々は <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	  を <command xmlns:xlink="http://www.w3.org/1999/xlink">chroot</command> するように設定する代わりに、
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 環境内で <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	  を実行することを奨めるでしょう。
	  この節ではそれは扱いません。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> は砂場の外
	(共有ライブラリ、ログソケットなど) にアクセスできないので、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	を正しく動作させるためにいくつもの段階を経る必要があります。
	下記のチェックリストにおいては、砂場のパスは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb</filename> で、
	このディレクトリの内容には何も手を加えていないと仮定します。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> 権限で次のステップを実行してください。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	    が存在することを期待しているディレクトリをすべて作成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /etc/namedb</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mkdir -p bin dev etc var/tmp var/run master slave</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chown bind:bind slave var/*</userinput><co xml:id="chown-slave"/></screen>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="chown-slave">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのディレクトリに対して
		<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
		が必要なのは書き込み権限だけなので、それだけを与えます。</para>
	    </callout>
	  </calloutlist>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">基本ゾーンファイルと設定ファイルの編集と作成を行います。</para>
	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp /etc/localtime etc</userinput><co xml:id="localtime"/>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv named.conf etc &amp;&amp; ln -sf etc/named.conf</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">mv named.root master</userinput>
<!-- I don't like this next bit -->
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">sh make-localhost &amp;&amp; mv localhost.rev localhost-v6.rev master</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cat &gt; master/named.localhost
$ORIGIN localhost.
$TTL 6h
@	IN	SOA	localhost. postmaster.localhost. (
			1	; serial
			3600	; refresh
			1800	; retry
			604800	; expiration
			3600 )	; minimum
	IN	NS	localhost.
	IN	A		127.0.0.1
^D</userinput></screen>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="localtime">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これは <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      に正しい時刻でログを書き込むことを可能にします。</para>
	    </callout>
	  </calloutlist>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">4.9-RELEASE より前のバージョンの FreeBSD を使用している場合、
	    静的リンクされた <application xmlns:xlink="http://www.w3.org/1999/xlink">named-xfer</application>
	    を構築し、砂場にコピーしてください。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/lib/libisc</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir &amp;&amp; make cleandir &amp;&amp; make depend &amp;&amp; make all</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/lib/libbind</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir &amp;&amp; make cleandir &amp;&amp; make depend &amp;&amp; make all</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/libexec/named-xfer</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir &amp;&amp; make cleandir &amp;&amp; make depend &amp;&amp; make NOSHARED=yes all</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cp named-xfer /etc/namedb/bin &amp;&amp; chmod 555 /etc/namedb/bin/named-xfer</userinput><co xml:id="clean-cruft"/></screen>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">静的リンクされた <command xmlns:xlink="http://www.w3.org/1999/xlink">named-xfer</command>
	    をインストールしたら、
	    ソースツリーの中にライブラリまたはプログラムの古くなったコピーを残さないように、
	    掃除する必要があります。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/lib/libisc</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/lib/libbind</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src/libexec/named-xfer</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make cleandir</userinput></screen>

	  <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <callout arearefs="clean-cruft">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">このステップは時々失敗することが報告されています。
		もし失敗した場合、次のコマンドを実行してください。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src &amp;&amp; make cleandir &amp;&amp; make cleandir</userinput></screen>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">そして <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/obj</filename>
		ツリーを削除します。</para>

	      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">rm -fr /usr/obj &amp;&amp; mkdir /usr/obj</userinput></screen>

	      <para xmlns:xlink="http://www.w3.org/1999/xlink">これはソースツリーからすべての
		<quote xmlns:xlink="http://www.w3.org/1999/xlink">がらくた</quote> を一掃します。
		もう一度上記の手順を行うと、今度はうまく動作するでしょう。</para>
	    </callout>
	  </calloutlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">バージョン 4.9-RELEASE 以降の
	    FreeBSD を使用している場合 <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec</filename>
	    にある <command xmlns:xlink="http://www.w3.org/1999/xlink">named-xfer</command>
	    のコピーはデフォルトで静的リンクされています。
	    砂場にコピーするために単純に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> が使えます。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が見ることができ、
	    書き込むことのできる <filename xmlns:xlink="http://www.w3.org/1999/xlink">dev/null</filename>
	    を作成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /etc/namedb/dev &amp;&amp; mknod null c 2 2</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">chmod 666 null</userinput></screen>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/var/run/ndc</filename> から
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/var/run/ndc</filename>
	    へのシンボリックリンクを作成します。</para>

	  <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ln -sf /etc/namedb/var/run/ndc /var/run/ndc</userinput></screen>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは単に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ndc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行するたびに <option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option>
	      オプションを指定しなくてもよいようにするだけです。
	      /var/run の中身は起動時に削除されるため、
	      これが有用だと思うなら、このコマンドをルートの crontab に
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">@reboot</option>
	      オプションを指定して追加してください。
	      詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">crontab</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照してください。</para>
	  </note>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が書き込める追加の
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">log</filename> ソケットを作成するように
	    <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を設定します。
	    これを行うためには、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	    内の <varname xmlns:xlink="http://www.w3.org/1999/xlink">syslogd_flags</varname> 変数に
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">-l /etc/namedb/dev/log</literal> を加えてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">次の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に加えて
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が起動し、
	    自身を砂場内に <command xmlns:xlink="http://www.w3.org/1999/xlink">chroot</command> するように調整します</para>

	  <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">named_enable="YES"
named_flags="-u bind -g bind -t /etc/namedb /etc/named.conf"</programlisting>

	  <note xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイル <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">/etc/named.conf</replaceable>
	      は <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">砂場のディレクトリに対して相対的な</emphasis>
	      フルパスで表されることに注意してください。
	      つまり、上記の行で示されたファイルは実際には
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/etc/named.conf</filename> です。</para>
	  </note>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のステップは <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	がどのゾーンを読み込むか、
	そしてディスク上のどこにゾーンファイルがあるのかを知るために
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb/etc/named.conf</filename> を編集することです。
	下記に例をコメントを加えて示します
	(ここで特にコメントされていない内容については、
	砂場の中で動作させない DNS サーバの設定と同じです)。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options {
        directory "/";<co xml:id="directory"/>
        named-xfer "/bin/named-xfer";<co xml:id="named-xfer"/>
        version "";		// Don't reveal BIND version
        query-source address * port 53;
};
// ndc control socket
controls {
        unix "/var/run/ndc" perm 0600 owner 0 group 0;
};
// Zones follow:
zone "localhost" IN {
        type master;
        file "master/named.localhost";<co xml:id="master"/>
        allow-transfer { localhost; };
        notify no;
};
zone "0.0.127.in-addr.arpa" IN {
        type master;
        file "master/localhost.rev";
        allow-transfer { localhost; };
        notify no;
};
zone "0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.int" {
	type master;
	file "master/localhost-v6.rev";
	allow-transfer { localhost; };
	notify no;
};
zone "." IN {
        type hint;
        file "master/named.root";
};
zone "private.example.net" in {
        type master;
        file "master/private.example.net.db";
	allow-transfer { 192.168.10.0/24; };
};
zone "10.168.192.in-addr.arpa" in {
        type slave;
        masters { 192.168.10.2; };
        file "slave/192.168.10.db";<co xml:id="slave"/>
};</programlisting>

      <calloutlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<callout arearefs="directory">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">directory</literal> は
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/</filename> を指定します。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	    が必要とするファイルはすべてこのディレクトリにあります。
	    (この指定は <quote xmlns:xlink="http://www.w3.org/1999/xlink">通常の</quote> (訳注: 砂場内で動作させない)
	    ユーザにとっての <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/namedb</filename>
	    と等価です)。</para>
	</callout>

	<callout arearefs="named-xfer">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">named-xfer</command>
	    バイナリへの (<application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> にとっての)
	    フルパスを指定します。
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> はデフォルトで
	    <command xmlns:xlink="http://www.w3.org/1999/xlink">named-xfer</command> を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/libexec</filename>
	    から探すようにコンパイルされているので、これが必要です</para>
	</callout>
	<callout arearefs="master">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンに対するゾーンファイルを
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application> が見つけられるようにファイル名を
	    (上記と同様に <literal xmlns:xlink="http://www.w3.org/1999/xlink">directory</literal> からの相対パスで)
	    指定します。</para>
	</callout>
	<callout arearefs="slave">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このゾーンに対するゾーン情報がマスタサーバからが転送されたあとに、
	    <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	    がゾーンファイルのコピーを書き込むファイル名を
	    (上記と同様に <literal xmlns:xlink="http://www.w3.org/1999/xlink">directory</literal> からの相対パスで)
	    指定します。これが、上記のように設定段階で
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">slave</filename> ディレクトリの所有者を
	    <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="groupname">bind</systemitem> に変更する理由です。</para>
	</callout>
      </calloutlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記のステップを完了したら、サーバを再起動するか <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">syslogd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	を再起動し、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を起動してください。その際、
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">syslogd_flags</varname> および
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">named_flags</varname>
	に新たに指定したオプションが有効になっていることを確かめてください。
	これで <application xmlns:xlink="http://www.w3.org/1999/xlink">named</application>
	を砂場のなかで動作させることができているはずです!</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">BIND は DNS の最も一般的な実装ではありますが、
	常にセキュリティ問題を抱えています。
	問題になり得る、また悪用可能なセキュリティホールが時々みつかります。
      </para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在のインターネットおよび FreeBSD
	のセキュリティ問題について常に最新の情報を得るために
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cert.org/">CERT</link> および
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="../handbook/eresources.html#ERESOURCES-MAIL">freebsd-security-notifications</link>
	を購読するとよいでしょう。</para>

      <tip xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">問題が生じたとしても、
	  最新のソースからビルドした named を用意しておけば、
	  問題にならないかもしれません。</para></tip>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">さらなる情報源</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">
	BIND/named のマニュアルページ: <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ndc</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">named.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry>
      </para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.isc.org/products/BIND/">ISC Bind
	      公式ページ</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.nominum.com/getOpenSourceResource.php?id=6">
	      BIND FAQ</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.oreilly.com/catalog/dns4/">O'Reilly
	      DNS and BIND 4th Edition</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.isi.edu/in-notes/rfc1034.txt">RFC1034
	      - Domain Names - Concepts and Facilities</link>
	    (ドメイン名、その概念と基盤)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.isi.edu/in-notes/rfc1035.txt">RFC1035
	      - Domain Names - Implementation and Specification</link>
	    (ドメイン名、その実装と仕様)</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-ntp">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">NTP</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Hukins</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">NTP</primary></indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概説</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">時間の経過とともに、コンピュータの時計はずれてしまいがちです。
	時間が経つと、コンピュータの時計は正確でなくなってゆきます。
	NTP (Network Time Protocol)
	は時計が正確であることを保証する方法の一つです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネットサービスの多くは、
	コンピュータの時計が正確であることに依存しているか、
	あるいは多くを負っています。
	たとえば web サーバ は、
	あるファイルがある時刻以降に修正されていたらそのファイルを送ってほしいという要求を受け取るかもしれません。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cron</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> のようなサービスは所定の時間にコマンドを実行します。
	時計が正確でない場合、
	これらのコマンドは期待したとおりには実行されないかもしれません。</para>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NTP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> NTP サーバを搭載しています。これは、
	マシンの時計を合わせるために他の NTP サーバに問い合わせをしたり、
	他のマシンに対して時刻を報じるために使用できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">適切な NTP サーバの選択</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NTP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">サーバ選択</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">時刻を同期するために利用する NTP サーバを、
	一つ以上見つける必要があります。
	ネットワーク管理者、または ISP はこの目的のために
	NTP サーバを設定しているかもしれません ―
	本当にそうなのか確かめるためにドキュメントを確認してください。
	あなたの近くの NTP サーバを探せる
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.eecis.udel.edu/~mills/ntp/servers.html">公にアクセス可能な
	NTP サーバのリスト</link> があります。
	どのサーバを選択するとしても、そのサーバの運営ポリシを理解し、
	要求されているなら利用許可を求めることを忘れないでください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">使用しているサーバのうちのどれかが到達不能になるか、
	その時計の信頼性が低い場合、無関係の
	NTP サーバをいくつか選択するとよいでしょう。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は他のサーバから受け取った応答を賢く利用します ―
	信頼できないサーバより信頼できるサーバを重視します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">マシンの設定</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">NTP</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">基本設定</title>
	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</primary></indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">マシンが起動するときだけ時計を同期させたい場合は
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が使えます。頻繁に再起動され、
	  たまに同期すれば十分なデスクトップマシンには適切かもしれません。
	  しかしほとんどのマシンでは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を実行するべきです。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を動かしているマシンでも、起動時に
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を使用するのはよい考えです。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムは時計を徐々に変更します。しかし
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  は正しい時刻と現在設定されているマシンの時刻がどんなに離れていようとも時計を設定します。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">起動時に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を有効にするためには、
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate_enable="YES"</literal> を
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に追加してください。
	  さらに、同期したいすべてのサーバおよび、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  に渡すあらゆるフラグを <varname xmlns:xlink="http://www.w3.org/1999/xlink">ntpdate_flags</varname>
	  に指定する必要があるでしょう。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">一般設定</title>

	<indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	  <primary xmlns:xlink="http://www.w3.org/1999/xlink">NTP</primary>
	  <secondary xmlns:xlink="http://www.w3.org/1999/xlink">ntp.conf</secondary>
	</indexterm>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">NTP は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntp.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> に記述された書式の
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ntp.conf</filename> ファイルによって設定されます。
	  簡単な例を以下に示します。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">server ntplocal.example.com prefer
server timeserver.example.org
server ntp2a.example.net

driftfile /var/db/ntp.drift</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">server</literal> オプションは、
	  使用するサーバを一行に一つずつ指定します。サーバが上記の
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">ntplocal.example.com</systemitem> のように
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">prefer</literal> 引数とともに指定された場合、
	  このサーバは他のサーバより優先されます。
	  優先されたサーバからの応答は、
	  他のサーバの応答と著しく異なる場合は破棄されますが、
	  そうでなければ他の応答を考慮することなく使用されます。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">prefer</literal> 引数は、通常、
	  特別な時間モニタハードウェアを備えているような非常に正確であるとされている
	  NTP サーバに対して使用されます。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">driftfile</literal>
	  オプションはシステム時計の周波数オフセットを格納するために使用するファイルを指定します。
	  <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムは、
	  時計の自然変動を自動的に補正するためにこれを用います。
	  これにより、一定時間外部の時刻ソースから切り離されたとしても、
	  十分正確な時刻を維持することを可能にします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">driftfile</literal> オプションは、使用している NTP
	  サーバから過去に受け取った応答に関する情報を格納するために、
	  どのファイルが使用されるか指定します。
	  このファイルは NTP に関する内部情報を含んでいます。
	  これは他のプロセスによって修正されてはいけません。</para>
      </sect3>

      <sect3 xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">サーバへのアクセス制御</title>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトでは NTP
	  サーバはインターネット上のすべてのホストからアクセスが可能です。
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ntp.conf</filename> 内で <literal xmlns:xlink="http://www.w3.org/1999/xlink">restrict</literal>
	  オプションを指定することによって、
	  どのマシンがサーバにアクセスできるかを制御できるようにします。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">NTP サーバにアクセスするマシンのすべてを拒否したいのなら、
	  以下の行を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ntp.conf</filename>
	  に追加してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">restrict default ignore</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">あなたのネットワーク内のマシンにだけサーバに接続して時計を同期することを認めたいが、
	  それらからサーバに対して設定を行うのを許さず、
	  同期する端末としても利用されないようにしたいのなら、
	  以下を加えてください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">restrict 192.168.1.0 mask 255.255.255.0 notrust nomodify notrap</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.1.0</systemitem>
	  をあなたのネットワークの IP アドレスに
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="netmask">255.255.255.0</systemitem>
	  をあなたのネットワークのネットマスクに置き換えてください。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ntp.conf</filename> には複数の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">restrict</literal> オプションを置けます。
	  詳細に付いては <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntp.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">Access Control Support</literal>
	  サブセクションを参照してください。</para>
      </sect3>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">NTP サーバの実行</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NTP サーバが起動時に実行されることを保証するために、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">xntpd_enable="YES"</literal> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に加えてください。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> にフラグを追加したい場合は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内の
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">xntpd_flags</varname> パラメータを編集してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">マシンを再起動することなくサーバを実行したいときは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内の <varname xmlns:xlink="http://www.w3.org/1999/xlink">xntpd_flags</varname>
	で追加されたパラメータをすべて指定して
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</command> を実行してください。以下に例を示します。</para>
      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ntpd -p /var/run/ntpd.pid</userinput></screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	  内のさまざまなオプションの名前が変わりました。
	  したがって、上記の
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">xntpd</literal> に関するオプションは
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</literal> に置き換えてください。</para></note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">一時的なインターネット接続で ntpd を使用する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ntpd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> プログラムは正しく機能するために、
	インターネットへの常時接続を必要としません。しかしながら、
	オンデマンドでダイアルアップされるように設定された一時的な接続の場合、
	NTP トラフィックがダイアルを引き起こしたり、
	接続を維持し続けるようなことを避けるようにした方がよいでしょう。
	ユーザ PPP を使用している場合、以下の例のように
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/ppp/ppp.conf</filename> 内で
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">filter</literal> ディレクティブが使用できます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink"> set filter dial 0 deny udp src eq 123
 # Prevent NTP traffic from initiating dial out
 set filter dial 1 permit 0 0
 set filter alive 0 deny udp src eq 123
 # Prevent incoming NTP traffic from keeping the connection open
 set filter alive 1 deny udp dst eq 123
 # Prevent outgoing NTP traffic from keeping the connection open
 set filter alive 2 permit 0/0 0/0</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ppp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 内の <literal xmlns:xlink="http://www.w3.org/1999/xlink">PACKET FILTERING</literal>
	セクション、および <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/examples/ppp/</filename>
	内の例を参照してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">小さい番号のポートをブロックするインターネットアクセスプロバイダでは、
	  応答があなたのマシンに到達しないので
	  NTP がきちんと動作しない場合もあります。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">さらなる情報源</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">NTP サーバに関する文書は HTML 形式で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/doc/ntp/</filename> にあります。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natd">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークアドレス変換 (NAT)</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>
    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natoverview">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概要</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application></primary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">一般に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> として知られている FreeBSD
	ネットワークアドレス変換デーモンは、
	raw IP パケットを受信して、
	ソースアドレスをローカルマシンに変更し、
	そのパケットを外向きの IP パケットの流れに再注入するデーモンです。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は、
	データが戻ってきたときに、データの本来の場所を判別し、
	もともと要求した相手へデータを返すことができるようにソース IP
	アドレスとポートを変更します。</para>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">インターネット接続共有</primary></indexterm>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">IP マスカレード</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">NAT の最も一般的な使用法は、
	一般的にはインターネット接続共有として知られているものを実行することです。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natsetup">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 の IP 空間が足りなくなりつつあること、および、
	ケーブルや DSL のような高速の加入者回線利用者の増加によって、
	人々はますますインターネット接続を共有する手段を必要としています。
	一つの接続および
	IP アドレスを通していくつものコンピュータを回線に接続する能力がある
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> が合理的な選択になります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もっともよくあるのは、ユーザが 1 つの
	IP アドレスでケーブルまたは DSL 回線に接続されたマシンを持っており、
	インターネットへのアクセスを
	LAN 経由でいくつかのコンピュータに提供するのに、
	この接続されたコンピュータを使用したいという場合です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">そのためには、インターネットに接続されている FreeBSD
	マシンはゲートウェイとして動作しなければなりません。
	このゲートウェイマシンは 2 つの NIC が必要です
	(1 つはインターネットルータへ接続するためで、もう 1 つは
	LAN に接続するためです)。
	LAN 上のすべてのマシンはハブまたはスイッチを通して接続されます。</para>

	<mediaobject xmlns:xlink="http://www.w3.org/1999/xlink">
	  <imageobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <imagedata fileref="advanced-networking/natd"/>
	  </imageobject>

	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <literallayout xmlns:xlink="http://www.w3.org/1999/xlink" class="monospaced">  _______       __________       ________
 |       |     |          |     |        |
 |  Hub  |-----| Client B |-----| Router |----- Internet
 |_______|     |__________|     |________|
     |
 ____|_____
|          |
| Client A |
|__________|</literallayout>
	  </textobject>

	  <textobject xmlns:xlink="http://www.w3.org/1999/xlink">
	    <phrase xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークレイアウト</phrase>
	  </textobject>
	</mediaobject>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インターネット接続を共有するために、
	このような設定がよく使用されています。
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">LAN</acronym> 内のマシンの
	1 台がインターネットに接続しています。
	残りのマシンはその <quote xmlns:xlink="http://www.w3.org/1999/xlink">ゲートウェイ</quote>
	マシンを通してインターネットにアクセスします。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natdkernconfiguration">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">カーネル</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">設定</secondary>
      </indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のオプションがカーネルコンフィギュレーションファイルに必要です。</para>
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options IPFIREWALL
options IPDIVERT</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、次のオプションを入れてもよいでしょう。</para>
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">options IPFIREWALL_DEFAULT_TO_ACCEPT
options IPFIREWALL_VERBOSE</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">下記の設定を <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	で行わなければなりません。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">gateway_enable="YES"
firewall_enable="YES"
firewall_type="OPEN"
natd_enable="YES"
natd_interface="<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">fxp0</replaceable>"
natd_flags=""</programlisting>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">gateway_enable="YES"</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">マシンがゲートウェイとして動作するように設定します。
		<command xmlns:xlink="http://www.w3.org/1999/xlink">sysctl net.inet.ip.forwarding=1</command>
		コマンドを実行しても同じ効果がえられます。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink"><entry xmlns:xlink="http://www.w3.org/1999/xlink">firewall_enable="YES"</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.firewall</filename>
		にあるファイアウォールルールを起動時に有効にします。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink"><entry xmlns:xlink="http://www.w3.org/1999/xlink">firewall_type="OPEN"</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">これはあらかじめ定義されている、
		すべてのパケットを通すファイアウォールルールセットを指定します。
		他のタイプについては <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.firewall</filename>
		を参照してください。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">natd_interface="fxp0"</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">パケットを転送するインタフェースを指定します
		(インターネットに接続されたインタフェース)。</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">natd_flags=""</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">起動時に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に渡される追加の引数</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename>
	に前述したオプションを定義すると、起動時に
	<command xmlns:xlink="http://www.w3.org/1999/xlink">natd -interface fxp0</command> が実行されます。
	これは手動でも実行できます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">オプションの定義に <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	  のコンフィグレーションファイルを使うこともできます。
	  この場合には、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に以下の行を追加し、
	  コンフィグレーションファイルを定義してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">natd_flags="-f /etc/natd.conf"</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/natd.conf</filename>
          ファイルでは、一行ごとにオプションを設定します。たとえば、
	  次節の例では以下のような行を含むファイルを用意してください。</para>

	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">redirect_port tcp 192.168.0.2:6667 6667
redirect_port tcp 192.168.0.3:80 80</programlisting>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">コンフィグレーションファイルに関する、より詳細な情報については、
          <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルページの <option xmlns:xlink="http://www.w3.org/1999/xlink">-f</option>
	  オプションを調べてください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">LAN にぶら下がっているマシンおよびインタフェースのそれぞれには
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.isi.edu/in-notes/rfc1918.txt">RFC 1918</link>
	で定義されているプライベートネットワーク空間の
	IP アドレス番号を割り当て、デフォルトゲートウェイアドレスを
	<application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application> マシンの内側の
	IP アドレスにすべきです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえば LAN 側のクライアント
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> および <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">B</systemitem> は
	IP アドレス <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.2</systemitem> および
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.3</systemitem> を割り当てられており、
	natd マシンの LAN インタフェースは IP アドレス
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.1</systemitem>
	を割り当てられています。
	クライアント <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> および <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">B</systemitem>
	のデフォルトゲートウェイは <application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application>
	マシンの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.1</systemitem>
	に設定されなければなりません。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application> マシンの外部、
	またはインターネットインタフェースは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	の動作に際して特別の修正を必要としません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natdport-redirection">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ポート転送</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> の短所は、インターネットから
	LAN 内のクライアントにアクセスできないということです。
	LAN 内のクライアントは外部に向けて接続を行うことはできますが、
	入って来るものを受け取ることができません。これは、LAN
	クライアントのどれかでインターネットサービスを動かそうとした場合に、
	問題になります。これを何とかする単純な方法は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application> マシンから LAN クライアントへ、
	選択したインターネットポートを転送することです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">たとえばクライアント <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> で実行されている
	IRC サーバがあり、
	クライアント <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">B</systemitem> 上で実行されている
	web サーバがあるとします。
	これが正しく動作するには、ポート 6667 (IRC) および 80 (web)
	への接続を対応するマシンに転送しなければなりません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_port</option> に適切なオプションを加えて
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> に渡さなければなりません。
	書式は以下のとおりです。</para>
      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">     -redirect_port proto targetIP:targetPORT[-targetPORT]
                 [aliasIP:]aliasPORT[-aliasPORT]
                 [remoteIP[:remotePORT[-remotePORT]]]</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例では、引数は以下のようにします。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">    -redirect_port tcp 192.168.0.2:6667 6667
    -redirect_port tcp 192.168.0.3:80 80</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これで適切な <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">tcp</emphasis> ポートが
	LAN クライアントマシンに転送されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_port</option>
	引数は個々のポートを対応させるポート範囲を示すのに使えます。
	たとえば <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">tcp 192.168.0.2:2000-3000 2000-3000</replaceable>
	は 2000 番から 3000番ポートに受け取られたすべての接続を、
	クライアント <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> 上の
	2000 番から 3000 番に転送します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これらのオプションは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を直接実行するか、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">natd_flags=""</literal> オプションで設定するか、
	もしくはコンフィグレーションファイルから渡してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定オプションの詳細については
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-natdaddress-redirection">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">アドレス転送</title>
      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">アドレス転送</primary></indexterm>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">複数の IP アドレスが利用可能ですが、
	それらが 1 台のマシン上になければならないときには、
	アドレス転送が便利です。
	これを用いれば <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は LAN クライアントのそれぞれに外部
	IP アドレスを割り当てることができます。
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">natd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は LAN
	クライアントから外部へ出て行くパケットを適切な外部の
	IP アドレスで書き直し、
	そして特定の IP アドレスに対してやって来るトラフィックのすべてを、
	指定された LAN クライアントに転送します。
	これは静的 NAT としても知られています。
	たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.1</systemitem>,
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.2</systemitem> および
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.3</systemitem> の IP アドレスが、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application>
	ゲートウェイマシンに属しているとします。
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.2</systemitem> および
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.3</systemitem> は
	LAN クライアントの <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">A</systemitem> および <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">B</systemitem>
	に転送される一方で、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">128.1.1.1</systemitem> は
	<application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application> ゲートウェイマシンの外部
	IP アドレスとして使用することができます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_address</option> の書式は以下のとおりです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_address localIP publicIP</programlisting>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">localIP</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">LAN クライアントの内部 IP アドレス</entry>
	    </row>
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">publicIP</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">LAN クライアントに対応する外部 IP アドレス</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記の例では引数は以下のようになります。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_address 192.168.0.2 128.1.1.2
-redirect_address 192.168.0.3 128.1.1.3</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">-redirect_port</option> と同様に、これらの引数は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">natd_flags=""</literal> オプションで設定するか、
	コンフィグレーションファイルから渡すことで指定できます。
	アドレス転送では、
	特定の IP アドレスで受け取られたデータはすべて転送されるので、
	port 転送は必要ありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">natd</application> マシン上の外部 IP アドレスは、
	アクティブで外部インタフェースにエイリアスされていなければなりません。
	やりかたは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rc.conf</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> を参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> <quote xmlns:xlink="http://www.w3.org/1999/xlink">スーパサーバ</quote></title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Chern</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Lee</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">寄稿: </contrib></author>
      </authorgroup>
    </info>

    

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-overview">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">概観</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> は複数のデーモンに対する接続を制御するので、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">インターネットスーパサーバ</quote> と呼ばれます。
	ネットワークサービスを提供するプログラムは、
	一般的にデーモン呼ばれます。<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	は他のデーモンを管理するサーバを努めます。
	接続が <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> によって受け付けられると、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	は接続がどのデーモンに対するものか判断して、
	そのデーモンを起動し、ソケットを渡します。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> を 1 つ実行することにより、
	それぞれのデーモンをスタンドアロンモードで実行することに比べ、
	全体としてのシステム負荷を減らします。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">基本的に、<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	は他のデーモンを起動するために使用されます。しかし、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">chargen</application>, <application xmlns:xlink="http://www.w3.org/1999/xlink">auth</application>
	および <application xmlns:xlink="http://www.w3.org/1999/xlink">daytime</application>
	のようなささいなプロトコルは直接扱われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この節ではコマンドラインオプションおよび設定ファイル
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> による
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> の設定の基本を説明します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-settings">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> の仕組によって初期化されます。
	デフォルトでは <literal xmlns:xlink="http://www.w3.org/1999/xlink">inetd_enable</literal> オプションは
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">NO</quote> に設定されています。
	しかし多くの場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">sysinstall</application>
	でセキュリティプロファイルを
	medium に設定することにより、有効化されます。
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">inetd_enable="YES"</programlisting> または
	<programlisting xmlns:xlink="http://www.w3.org/1999/xlink">inetd_enable="NO"</programlisting> を
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に置くことで、起動時に
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> を有効または無効にできます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに <literal xmlns:xlink="http://www.w3.org/1999/xlink">inetd_flags</literal> オプションによって、
	いろいろなコマンドラインオプションを
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> に渡すことができます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-cmdline">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コマンドラインオプション</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> 書式</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">     inetd [-d] [-l] [-w] [-W] [-c maximum] [-C rate] [-a address | hostname]
           [-p filename] [-R rate] [configuration file]</option></para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-d</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デバッグモードにします。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-l</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">成功した接続のログをとります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-w</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">外部サービスに対して TCP Wrapper を有効にします
	      (デフォルト)。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-W</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	      組み込みの内部サービスに対して TCP Wrapper を有効にします
	      (デフォルト)。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-c maximum</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">サービス毎に同時に起動可能な最大値のデフォルトを指定します。
	      デフォルトでは無制限です。サービスごとに指定する
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option>
	      パラメータで上書きできます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-C rate</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">1 分間にひとつの IP アドレスから起動されるサービスの、
	      最大値のデフォルトを指定します。デフォルトは無制限です。
	      サービスごとに指定する
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-connections-per-ip-per-minute</option>
	      パラメータで上書きできます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-R rate</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">あるサービスを 1 分間に起動できる最大の数を指定します。
	      デフォルトは 256 です。rate に 0 を指定すると、
	      起動可能な数は無制限になります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-a</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">バインドする IP アドレスを一つ指定します。
	      代わりにホスト名も指定できます。この場合、ホスト名に対応する
	      IPv4 または IPv6 アドレスが使用されます。通常
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> が <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry>
	      内で起動される時点で、ホスト名が指定されます。この場合、
	      ホスト名は <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">jail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> 環境に対応するものです。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ホスト名指定が使用され、
	      IPv4 および IPv6 両方にバインドしたい場合、
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> の各サービスに対して、
	      各バインドに対する適切なプロトコルのエントリが必要です。
	      たとえば TCP ベースのサービスは、
	      ひとつはプロトコルに <quote xmlns:xlink="http://www.w3.org/1999/xlink">tcp4</quote> を使用し、
	      もう一つは <quote xmlns:xlink="http://www.w3.org/1999/xlink">tcp6</quote> を使用する、
	      2 つのエントリが必要です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">-p</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デフォルトとは異なる
	       PID を保持するファイルを指定します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> 内の
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">inetd_flags</literal> オプションを用いて、これらのオプションを
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> に渡すことができます。デフォルトでは
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">inetd_flags</literal> は <quote xmlns:xlink="http://www.w3.org/1999/xlink">-wW</quote> に設定されており、
	これは <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	の内部および外部サービスに対して TCP wrapper を有効にします。
	初心者ユーザはこれらのパラメータを変更する必要は通常ありませんし、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/rc.conf</filename> に入力する必要もありません。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">外部サービスは、接続を受け取ったときに起動される
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> の外部にあるデーモンで、
	  それに対して、内部サービスは <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	  自身が提供する内部のデーモンです。</para>
      </note>

    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-conf">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">inetd.conf</filename></title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> の設定は
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename>
	ファイルによって制御されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> が変更されたときは、
	以下のように <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> プロセスに
	HangUP シグナルを送ることにより、<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	に設定ファイルを再読み込みさせられます。</para>

      <example xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-hangup">
	<title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> への HangUP シグナル送付</title>

	<screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">kill -HUP `cat /var/run/inetd.pid`</userinput></screen>
      </example>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">設定ファイルのそれぞれの行は、
	個々のデーモンについての指示になります。
	ファイル内のコメントは <quote xmlns:xlink="http://www.w3.org/1999/xlink">#</quote> が先頭につきます。
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/inetd.conf</filename> の書式は以下のとおりです。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">service-name
socket-type
protocol
{wait|nowait}[/max-child[/max-connections-per-ip-per-minute]]
user[:group][/login-class]
server-program
server-program-arguments</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 を利用する <application xmlns:xlink="http://www.w3.org/1999/xlink">ftpd</application>
	デーモンのエントリの例です。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">ftp     stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -l</programlisting>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">service-name</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは特定のデーモンのサービス名です。
	      これは <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/services</filename>
	      内のサービスリストに対応していなければなりません。
	      これは <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	      がどのポートで受け付けなければならないかを決定します。
	      新しいサービスが作成された場合、まずはじめに
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/services</filename>
	      内に記載しなければなりません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">socket-type</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">stream</literal>,
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">dgram</literal>, <literal xmlns:xlink="http://www.w3.org/1999/xlink">raw</literal> または
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">seqpacket</literal> のどれかを指定します。
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">stream</literal>
	      はコネクションに基づいた TCP デーモンに使用しなければならず、
	      一方で <literal xmlns:xlink="http://www.w3.org/1999/xlink">dgram</literal> は
	      UDP 転送プロトコルを利用したデーモンに対して使用されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">protocol</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">次のうちのどれか 1 つを指定します。</para>

	    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
		<thead xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">プロトコル</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
		  </row>
		</thead>
		<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">tcp, tcp4</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">TCP IPv4</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">udp, udp4</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">UDP IPv4</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">tcp6</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">TCP IPv6</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">udp6</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">UDP IPv6</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">tcp46</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">TCP IPv4 および v6 の両方</entry>
		  </row>
		  <row xmlns:xlink="http://www.w3.org/1999/xlink">
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">udp46</entry>
		    <entry xmlns:xlink="http://www.w3.org/1999/xlink">UDP IPv4 および v6 の両方</entry>
		  </row>
		</tbody>
	      </tgroup>
	    </informaltable>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">{wait|nowait}[/max-child[/max-connections-per-ip-per-minute]]</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">wait|nowait</option> は
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application> から起動したデーモンが、
	      自分のソケットを管理できるかどうかを示します。
	      通常マルチスレッド化されている stream ソケットデーモンは
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">nowait</option> を使用するべきである一方、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">dgram</option> ソケットタイプは
	      wait オプションを使用しなければなりません。
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">nowait</option>
	      は新しいソケット毎に子のデーモンを起動する一方で、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">wait</option>
	      は通常複数のソケットを 1 つのデーモンに渡します。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	      が起動できる子のデーモンの最大数は
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option> オプションで設定できます。
	      特定のデーモンに対して、起動する数が
	      10 までという制限が必要な場合、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">nowait</option> の後に <literal xmlns:xlink="http://www.w3.org/1999/xlink">/10</literal>
	      を置きます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option> に加えて、他にある
	      1 つの場所から特定のデーモンへの最大接続数を制限するオプションが利用できます。
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-connections-per-ip-per-minute</option>
	      がそれです。ここに 10 を指定すると、特定の
	      IP アドレスからの特定のサービスへの接続を
	      1 分間につき 10 回に制限します。
	      これは故意または故意でない資源の浪費および、
	      マシンへのサービス不能 (DoS) 攻撃を防ぐのに有用です。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">wait</option> または
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">nowait</option> はこの欄に必ず必要です。
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option> および
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-connections-per-ip-per-minute</option>
	      は任意です。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option> または
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">max-connections-per-ip-per-minute</option>
	      制限をかけない
	      stream タイプのマルチスレッドデーモンの設定は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">nowait</literal> になります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">作成できる子プロセスの上限が 10 である同じデーモンの設定は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">nowait/10</literal> になります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、
	      1 分間に IP アドレスあたりの接続制限が 20、
	      子プロセスの上限が 10 である同じデーモンの設定は
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">nowait/10/20</literal> になります。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のように、これらのオプションはすべて
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">fingerd</application>
	      デーモンのデフォルト設定に使われています。</para>

	    <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">finger stream  tcp     nowait/3/10 nobody /usr/libexec/fingerd fingerd -s</programlisting>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">user</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">user はあるデーモンが実行するときのユーザ名を指定します。
	      一般的にデーモンは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem>
	      ユーザとして実行します。セキュリティを考慮して、
	      いくつかのサーバは <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">daemon</systemitem> ユーザ、
	      または最低の権限が与えられている <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">nobody</systemitem>
	      ユーザとして実行することも多く見られます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">server-program</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">接続を受け取ったときに実行するデーモンのフルパスです。
	      デーモンが <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	      によって内部的に提供されるサービスの場合
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">internal</option> を使用します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">server-program-arguments</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ここには、起動するときにデーモンに渡される、
	      argv[0] から始まる引数を指定して、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">server-program</option> と協調して動作します。
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">mydaemon -d</application> がコマンドラインの場合、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">server program arguments</option> の値に
	      <literal xmlns:xlink="http://www.w3.org/1999/xlink">mydaemon -d</literal> を指定します。
	      また、デーモンが内部サービスの場合、ここに
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">internal</option> を指定します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-security">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">インストールの時に選択したセキュリティプロファイルによっては、
	多くの <application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	のデーモンがデフォルトで有効になっているかもしれません。
	あるデーモンが特に必要でない場合には、それを無効にしてください!
	問題となっているデーモンが記述されている行の先頭に
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">#</quote> をおいて <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="network-inetd-hangup">inetd
	  にハングアップシグナル</link>を送ってください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">fingerd</application> のようないくつかのデーモンは、
	動かそうとすべきではないかもしれません。なぜなら、
	それらは攻撃者に対してあまりにも多くの情報を与えるからです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティをあまり考慮せず、
	接続試行に対してタイムアウトまでの時間が長いか、
	タイムアウトしないデーモンもあります。
	これは、特定のデーモンに攻撃者がゆっくり接続要求を送ることによって、
	利用可能なリソースを飽和させることを可能にします。ある種のデーモンに
	<option xmlns:xlink="http://www.w3.org/1999/xlink">ip-per-minute</option> および <option xmlns:xlink="http://www.w3.org/1999/xlink">max-child</option>
	制限を設けることはよい考えかもしれません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">TCP wrapper はデフォルトで有効です。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	から起動されるさまざまなデーモンに対して
	TCP 制限を設けることの詳細については
	<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">hosts_access</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">5</manvolnum></citerefentry> マニュアルページを参照してください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-inetd-misc">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">その他</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">daytime</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">time</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">echo</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">discard</application>,
	<application xmlns:xlink="http://www.w3.org/1999/xlink">chargen</application> および
	<application xmlns:xlink="http://www.w3.org/1999/xlink">auth</application> はすべて
	<application xmlns:xlink="http://www.w3.org/1999/xlink">inetd</application>
	が内部的に提供するサービスです。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">auth</application> サービスは identity
	(ident, identd) ネットワークサービスを提供し、
	ある程度設定可能です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">inetd</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> マニュアルを参照してください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-plip">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">パラレルライン IP (PLIP)</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">PLIP</primary></indexterm>
    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">パラレルライン IP</primary></indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">PLIP はパラレルポート間で TCP/IP 通信を可能にします。
      これはネットワークカードの無いマシンやノートパソコンにインストールするときに役に立ちます。
      この節では以下について説明します。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">パラレル (ラップリンク または パラレルクロス)
	  ケーブルの作成。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">2 台のコンピュータの PLIP による接続。</para>
      </listitem>
    </itemizedlist>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-create-parallel-cable">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">パラレル (クロス) ケーブルの作成</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">コンピュータ用品店のほとんどでパラレル (クロス)
	ケーブルを購入することができます。
	購入することができないか、
	単にケーブルがどのような構造であるか知りたい場合は、
	次の表に通常のパラレルプリンタケーブルをもとに作成する方法が示されています。</para>

      <table xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">ネットワーク向けのパラレル (クロス) ケーブル結線</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="5">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">A-名称</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">A-端</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">B-端</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Post/Bit</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">DATA0
-ERROR</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">2
15</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">15
2</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Data</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">0/0x01
1/0x08</literallayout></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">DATA1
+SLCT</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">3
13</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">13
3</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Data</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">0/0x02
1/0x10</literallayout></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">DATA2
+PE</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">4
12</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">12
4</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Data</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">0/0x04
1/0x20</literallayout></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">DATA3
-ACK</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">5
10</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">10
5</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Strobe</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">0/0x08
1/0x40</literallayout></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">DATA4
BUSY</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">6
11</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">11
6</literallayout></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Data</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literallayout xmlns:xlink="http://www.w3.org/1999/xlink">0/0x10
1/0x80</literallayout></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GND</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">18-25</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">18-25</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GND</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">-</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-plip-setup">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">PLIP の設定</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめに、ラップリンクケーブルを入手しなければなりません。
	次に、両方のコンピュータのカーネルが <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	ドライバ対応であることを確認してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">grep lp /var/run/dmesg.boot</userinput>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルポートは割り込み駆動ポートでなければなりません。
	FreeBSD 4.X では、
	以下のような行がカーネルコンフィギュレーションファイル内になければならないでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">device ppc0 at isa? irq 7</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X では <filename xmlns:xlink="http://www.w3.org/1999/xlink">/boot/device.hints</filename>
	ファイルに以下の行がなければならないでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">hint.ppc.0.at="isa"
hint.ppc.0.irq="7"</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">それからカーネルコンフィギュレーションファイルに
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">device plip</literal> という行があるか、または
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">plip.ko</filename>
	カーネルモジュールが読み込まれていることを確認してください。
	どちらの場合でも <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> コマンドを直接実行したときに、
	パラレルネットワークインタフェースが現れるはずです。
	FreeBSD 4.X ではこのようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig lp0</userinput>
lp0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 5.X ではこのようになります。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig plip0</userinput>
plip0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</screen>

      <note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">パラレルインタフェースに対して用いられるデバイス名は
	  FreeBSD 4.X
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">lpX</filename>) と
	  FreeBSD 5.X
	  (<filename xmlns:xlink="http://www.w3.org/1999/xlink">plipX</filename>)
	  間で異なります。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">両方のコンピュータのパラレルインタフェースにラップリンクケーブルを接続します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">両方のネットワークインタフェースパラメータを
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="username">root</systemitem> で設定します。
	たとえば、FreeBSD 4.X を動作させている <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">host1</systemitem> と
	FreeBSD 5.X を動作させている <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">host2</systemitem>
	の両ホストを接続したい場合は次のようにします。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">                 host1 &lt;-----&gt; host2
IP Address    10.0.0.1      10.0.0.2</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">host1</systemitem>
	上のインタフェースを設定します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig lp0 10.0.0.1 10.0.0.2</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">次のコマンドで <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">host2</systemitem>
	上のインタフェースを設定します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig plip0 10.0.0.2 10.0.0.1</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さて、これで接続が確立したはずです。詳細については <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>
	および <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">lpt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> マニュアルページをご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに<filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/hosts</filename>
	に両ホストを加えるとよいでしょう。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">127.0.0.1               localhost.my.domain localhost
10.0.0.1                host1.my.domain host1
10.0.0.2                host2.my.domain</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">接続がうまくいっているか確かめるために、
	両方のホスト上で互いを ping してください。
	たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">host1</systemitem> で以下を実行します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig lp0</userinput>
lp0: flags=8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 --&gt; 10.0.0.2 netmask 0xff000000
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">netstat -r</userinput>
Routing tables

Internet:
Destination        Gateway          Flags     Refs     Use      Netif Expire
host2              host1              UH          0       0       lp0
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ping -c 4 host2</userinput>
PING host2 (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- host2 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms</screen>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="network-ipv6">
    <info><title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</title>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Aaron</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Kaplan</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">原作: </contrib></author>
      </authorgroup>
      <authorgroup xmlns:xlink="http://www.w3.org/1999/xlink">
	<author xmlns:xlink="http://www.w3.org/1999/xlink"><personname xmlns:xlink="http://www.w3.org/1999/xlink"><firstname xmlns:xlink="http://www.w3.org/1999/xlink">Tom</firstname><surname xmlns:xlink="http://www.w3.org/1999/xlink">Rhodes</surname></personname><contrib xmlns:xlink="http://www.w3.org/1999/xlink">再構成と追記: </contrib></author>
      </authorgroup>
    </info>

    
    <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 (IPng <quote xmlns:xlink="http://www.w3.org/1999/xlink">IP next generation</quote> とも呼ばれます)
      は、著名な IP プロトコル
      (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> とも呼ばれます) の新しいバージョンです。
      他の最新の *BSD システムと同様に FreeBSD は <acronym xmlns:xlink="http://www.w3.org/1999/xlink">KAME</acronym>
      IPv6 リファレンス実装を含んでいます。したがって、あなたの
      FreeBSD システムには IPv6を試すために必要なものすべてが備わっています。
      この節では IPv6 の設定と実行に関して説明します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">1990 年代のはじめには、人々は IPv4
      アドレス空間が急速に縮小していることに気づくようになりました。
      インターネットの成長率が増大するにしたがって、
      2 つの心配ごとがでてきました。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アドレスの枯渇。
	  今日では、プライベートアドレス空間
	  (<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">10.0.0.0/8</systemitem>,
	  <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">192.168.0.0/24</systemitem> など)
	  およびネットワークアドレス変換 (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">NAT</acronym>)
	  が使用されているので、それほど心配されていません。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ルーティングテーブルのエントリが大きくなりすぎていました。
	  これは今でも心配な事柄です。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 は以下の、そしてその他多くの問題を扱います。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">128 bit アドレス空間。言い換えると、理論上
	  340,282,366,920,938,463,463,374,607,431,768,211,456
	  個のアドレスが利用可能です。これは地球上の一平方メータあたり、
	  およそ 6.67 * 10^27 個の IPv6 アドレスがあることを意味します。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ルータは、
	  ルーティングテーブル内にネットワーク集約アドレスだけを格納することで、
	  ルーティングテーブルの平均を 8192 項目程度に減らします。</para>
      </listitem>
    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">他にも以下のように IPv6 の便利な機能がたくさんあります。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">アドレス自動設定 (RFC2462)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">エニーキャスト (anycast) アドレス
	  (<quote xmlns:xlink="http://www.w3.org/1999/xlink">one-out-of many</quote>
	  訳注: 複数の異なるノードが応答する 1 つのアドレス。
	  RFC2526 を参照してください)。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">強制マルチキャストアドレス</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">IPsec (IP セキュリティ)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">シンプルなヘッダ構造</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">モバイル <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 から IPv6 への移行手段</para>
      </listitem>
    </itemizedlist>


    <para xmlns:xlink="http://www.w3.org/1999/xlink">詳細については下記を参照してください。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.sun.com">Sun.com</link>
	  の IPv6 概観</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ipv6.org">IPv6.org</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kame.net">KAME.net</link></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.6bone.net">6bone.net</link></para>
      </listitem>
    </itemizedlist>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 アドレスの背景</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">いくつか違うタイプの IPv6 アドレスがあります。
	ユニキャスト (Unicast)、エニーキャスト (Anycast)
	およびマルチキャスト (Multicast) です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ユニキャストアドレスは周知のアドレスです。
	ユニキャストアドレスへ送られたパケットは、
	まさにそのアドレスに属するインターフェースに到着します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">エニーキャストアドレスはユニキャストアドレスと構文上判別不可能ですが、
	インタフェース群に宛てられています。
	エニーキャストアドレスに送られたパケットは (ルータメトリック的に)
	最も近いインタフェースに到着します。
	エニーキャストアドレスはルータでしか使ってはいけません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">マルチキャストアドレスはインタフェース群を識別します。
	マルチキャストアドレスに送られたパケットは、
	マルチキャスト群に属するすべてのインタフェースに到着します。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 のブロードキャストアドレス
	  (通常 <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">xxx.xxx.xxx.255</systemitem>)
	  は、IPv6 ではマルチキャストアドレスで表現されます。</para></note>

      <!-- XXX: J.Furukawa: take <screen> to <table> change in rev.1.283 in advance. -->
      <table xmlns:xlink="http://www.w3.org/1999/xlink" frame="none">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">予約された IPv6 アドレス</title>

	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 アドレス</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">プレフィックス長 (ビット)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">説明</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">備考</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">::</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">128 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">不特定</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 の
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">0.0.0.0</systemitem> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">::1</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">128 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ループバックアドレス</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 の
		<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="ipaddress">127.0.0.1</systemitem> 参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">::00:xx:xx:xx:xx</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">96 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 埋め込みアドレス</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">下位の 32 ビットは IPv4 アドレスです。
		<quote xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 互換 IPv6 アドレス</quote> とも呼ばれます。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">::ff:xx:xx:xx:xx</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">96 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 射影 IPv6 アドレス</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">下位の 32 ビットは IPv4 アドレスです。
		IPv6 に対応していないホストに対するアドレスです。</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fe80::</systemitem>
		- <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">feb::</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">10 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">リンクローカル</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IPv4 のループバックアドレス参照</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fec0::</systemitem>
		- <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fef::</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">10 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">サイトローカル</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"> </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ff::</systemitem></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">8 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">マルチキャスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"> </entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">001</systemitem> (基数 2)</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">3 ビット</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">グローバルユニキャスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">すべてのグローバルユニキャストアドレスはこのプールから割り当てられます。
		はじめの 3 ビットは <quote xmlns:xlink="http://www.w3.org/1999/xlink">001</quote> です。</entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 アドレスを読む</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">正規の書式では
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">x:x:x:x:x:x:x:x</systemitem>
	と表されます。それぞれの
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">x</quote> は 16 ビットの 16 進数です。たとえば
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">FEBC:A574:382B:23C1:AA49:4592:4EFE:9982</systemitem>
	となります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてゼロの長い部分文字列がアドレス内によく現れます。
	そのため、そのような部分文字列は <quote xmlns:xlink="http://www.w3.org/1999/xlink">::</quote>
	に短縮することができます。
	たとえば、<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fe80::1</systemitem> は正規形の
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fe80:0000:0000:0000:0000:0000:0000:0001</systemitem>
	に対応します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">3 番目の形式は、最後の 32 ビットの部分を
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">.</quote> を分割文字として使う、
	なじみ深い IPv4 (10 進) 形式で書くことです。
	たとえば <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">2002::10.0.0.1</systemitem>
	は (16 進) 正規形の
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">2002:0000:0000:0000:0000:0000:0a00:0001</systemitem>
	に対応し、同時に <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">2002::a00:1</systemitem>
	と書くこととも等価です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここまで来れば、下記を理解することができるでしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig</userinput></screen>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">rl0: flags=8943&lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1500
         inet 10.0.0.10 netmask 0xffffff00 broadcast 10.0.0.255
         inet6 fe80::200:21ff:fe03:8e1%rl0 prefixlen 64 scopeid 0x1
         ether 00:00:21:03:08:e1
         media: Ethernet autoselect (100baseTX )
         status: active</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">fe80::200:21ff:fe03:8e1%rl0</systemitem>
	は自動的に設定されたリンクローカルアドレスです。
	これは自動設定の一環として、
	イーサネット MAC アドレスを変換したものを含んでいます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 アドレス構造についての詳細は RFC3513 をご覧ください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">接続</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">現在、他の IPv6 ホストおよびネットワークに接続するためには
	4 つの方法があります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">6bone 実験ネットワークに参加する。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">上流のプロバイダから IPv6 ネットワークの割り当てを受ける。
	    手順については、インターネットプロバイダに問い合わせてください。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 over IPv4 によるトンネル。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ダイアルアップ接続の場合 freenet6 port を使用する。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここでは、現在もっともよく使われている方法と思われる
	6bone へ接続する方法を説明します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">はじめに 6bone サイトをみて、
	あなたに最も近い 6bone 接続先を見つけてください。
	責任者に連絡すると、少しばかり運がよければ、
	接続を設定する方法についての指示を受けられるでしょう。
	多くのばあい、これには
	GRE (gif) トンネルの設定が含まれます。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<title xmlns:xlink="http://www.w3.org/1999/xlink">訳注</title>
	<para xmlns:xlink="http://www.w3.org/1999/xlink">6bone は <systemitem xmlns:xlink="http://www.w3.org/1999/xlink">3ffe::</systemitem> (16 ビット)
	  という IPv6 アドレスを割り振られた実験目的のネットワークでしたが、
	  2006 年 6 月に運用を停止することになっています。
	  他の商用や試験的な IPv6 接続サービスを探してください。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここに <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">gif</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> トンネルを設定する典型的な例を示します。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig gif0 create</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig gif0</userinput>
gif0: flags=8010&lt;POINTOPOINT,MULTICAST&gt; mtu 1280
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig gif0 tunnel MY_IPv4_ADDR  HIS_IPv4_ADDR</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ifconfig gif0 inet6 alias MY_ASSIGNED_IPv6_TUNNEL_ENDPOINT_ADDR</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">大文字になっている単語を、
	上流の 6bone ノードから受け取った情報に置き換えてください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">これでトンネルが確立されます。<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ping6</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">8</manvolnum></citerefentry> を
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ff02::1%gif0</systemitem>
	に送ることによって、トンネルが動作しているか確かめてください。
	ping の応答を 2 つ受け取るはずです。</para>

	<note xmlns:xlink="http://www.w3.org/1999/xlink"><para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink">ff02:1%gif0</systemitem>
	  というアドレスに興味をそそられている場合のために説明すると、
	  これはマルチキャストアドレスです。
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">%gif0</literal> は、ネットワークインタフェース
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">gif0</filename>
	  上のマルチキャストアドレスが使用されるということを示しています。
	  マルチキャストアドレスに対して <command xmlns:xlink="http://www.w3.org/1999/xlink">ping</command>
	  を送ったので、トンネルのもう一方の端も応答します。</para></note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここまで来ると 6bone
	アップリンクに経路設定することは比較的簡単でしょう。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">route add -inet6 default -interface gif0</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ping6 -n MY_UPLINK</userinput></screen>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">traceroute6 www.jp.FreeBSD.org</userinput>
(3ffe:505:2008:1:2a0:24ff:fe57:e561) from 3ffe:8060:100::40:2, 30 hops max, 12 byte packets
     1  atnet-meta6  14.147 ms  15.499 ms  24.319 ms
     2  6bone-gw2-ATNET-NT.ipv6.tilab.com  103.408 ms  95.072 ms *
     3  3ffe:1831:0:ffff::4  138.645 ms  134.437 ms  144.257 ms
     4  3ffe:1810:0:6:290:27ff:fe79:7677  282.975 ms  278.666 ms  292.811 ms
     5  3ffe:1800:0:ff00::4  400.131 ms  396.324 ms  394.769 ms
     6  3ffe:1800:0:3:290:27ff:fe14:cdee  394.712 ms  397.19 ms  394.102 ms</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この出力はマシンによって異なります。
	これで、あなたが <package xmlns:xlink="http://www.w3.org/1999/xlink">www/mozilla</package>
	のような IPv6 が利用可能なブラウザを持っていれば、
	IPv6 サイト
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kame.net">www.kame.net</link>
	にいって踊るカメを見ることができるでしょう。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 世界の DNS</title>
      <para xmlns:xlink="http://www.w3.org/1999/xlink">IPv6 のための新しい DNS レコードが 2 種類あります。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">AAAA レコード</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">A6 レコード</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">AAAA レコードは簡単に使えます。</para>

      <programlisting xmlns:xlink="http://www.w3.org/1999/xlink">MYHOSTNAME           AAAA    MYIPv6ADDR</programlisting>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">上記をプライマリゾーン DNS ファイルに加えて、
	もらったばかりの IPv6 アドレスにホスト名を割り当ててください。
	あなた自身で <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> ゾーンを管理していない場合は、
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> プロバイダに頼んでください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">bind</application> の最新バージョン
	(バージョン 8.3 および 9) は AAAA レコードに対応しています。</para>
    </sect2>
  </sect1>
</chapter>


  </part>

  <part xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="appendices">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">付録</title>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46891
     $FreeBSD$
-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="mirrors">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の入手方法</title>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mirrors-cdrom">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> および
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym> セット</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym> および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVD</acronym>
      のセットは以下のオンライン業者から入手できます。</para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<address xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Mall, Inc.
	  <street xmlns:xlink="http://www.w3.org/1999/xlink">2420 Sand Creek Rd C-1 #347</street>
	  <city xmlns:xlink="http://www.w3.org/1999/xlink">Brentwood</city>, <state xmlns:xlink="http://www.w3.org/1999/xlink">CA</state>
	  <postcode xmlns:xlink="http://www.w3.org/1999/xlink">94513</postcode>
	  <country xmlns:xlink="http://www.w3.org/1999/xlink">USA</country>
	  電話: <phone xmlns:xlink="http://www.w3.org/1999/xlink">+1 925 240-6652</phone>
	  Fax: <fax xmlns:xlink="http://www.w3.org/1999/xlink">+1 925 674-0821</fax>
	  Email: <email xmlns:xlink="http://www.w3.org/1999/xlink">info@freebsdmall.com</email>
	  WWW: <otheraddr xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com/">http://www.freebsdmall.com/</otheraddr>
	</address>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<address xmlns:xlink="http://www.w3.org/1999/xlink">Getlinux
	  <street xmlns:xlink="http://www.w3.org/1999/xlink">78 Rue de la Croix Rochopt</street>
	  <city xmlns:xlink="http://www.w3.org/1999/xlink">Épinay-sous-Sénart</city>
	  <postcode xmlns:xlink="http://www.w3.org/1999/xlink">91860</postcode>
	  <country xmlns:xlink="http://www.w3.org/1999/xlink">France</country>
	  Email: <email xmlns:xlink="http://www.w3.org/1999/xlink">contact@getlinux.fr</email>
	  WWW: <otheraddr xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.getlinux.fr">http://www.getlinux.fr/</otheraddr>
	</address>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<address xmlns:xlink="http://www.w3.org/1999/xlink">Dr. Hinner EDV
	  <street xmlns:xlink="http://www.w3.org/1999/xlink">Kochelseestr. 11</street>
	  <postcode xmlns:xlink="http://www.w3.org/1999/xlink">D-81371</postcode> <city xmlns:xlink="http://www.w3.org/1999/xlink">München</city>
	  <country xmlns:xlink="http://www.w3.org/1999/xlink">Germany</country>
	  電話: <phone xmlns:xlink="http://www.w3.org/1999/xlink">(0177) 428 419 0</phone>
	  Email: <email xmlns:xlink="http://www.w3.org/1999/xlink">infow@hinner.de</email>
	  WWW: <otheraddr xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.hinner.de/linux/freebsd.html">http://www.hinner.de/linux/freebsd.html</otheraddr>
	</address>
      </listitem>

<!--
This site is just showing the Apache test page.
	<listitem>
	  <address>
	    Linux Distro UK
	    <street>42 Wharfedale Road</street>
	    <city>Margate</city>
	    <postcode>CT9 2TB</postcode>
	    <country>United Kingdom</country>
	    WWW: <otheraddr
	      xlink:href="https://linux-distro.co.uk/">https://linux-distro.co.uk/</otheraddr>
	  </address>
	</listitem>

This site doesn't have any products newer than 8.1 which is now EOL'd
<listitem>
	  <address>The Linux Emporium
	    <street>The Techno Centre, Puma Way</street>
	    <city>Parkside</city>
	    <postcode>CV1 2TT</postcode>
	    <country>United Kingdom</country>
	    電話: <phone>+44 (0)247 615 8121</phone>
	    Fax: <fax>+44 1491 837016</fax>
	    WWW: <otheraddr
	      xlink:href="http://www.linuxemporium.co.uk/products/bsd/">http://www.linuxemporium.co.uk/products/bsd/</otheraddr>
	  </address>
	</listitem>
-->

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<address xmlns:xlink="http://www.w3.org/1999/xlink">Linux Center
	  <street xmlns:xlink="http://www.w3.org/1999/xlink">Galernaya Street, 55</street>
	  <city xmlns:xlink="http://www.w3.org/1999/xlink">Saint-Petersburg</city>
	  <postcode xmlns:xlink="http://www.w3.org/1999/xlink">190000</postcode>
	  <country xmlns:xlink="http://www.w3.org/1999/xlink">Russia</country>
	  電話: <phone xmlns:xlink="http://www.w3.org/1999/xlink">+7-812-309-06-86</phone>
	  Email: <email xmlns:xlink="http://www.w3.org/1999/xlink">info@linuxcenter.ru</email>
	  WWW: <otheraddr xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://linuxcenter.ru/shop/freebsd">http://linuxcenter.ru/shop/freebsd</otheraddr>
	</address>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mirrors-ftp">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> サイト</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の公式な情報は anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      によって世界中のミラーサイトより入手できます。<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/">ftp://ftp.FreeBSD.org/pub/FreeBSD/</uri>
      サイトは、<acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTTP</acronym> および <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      経由で利用できます。
      これは、プロジェクトクラスタの管理者により運用されている数多くのコンピュータから構成されています。
      また、GeoDNS により、近くの利用可能なミラーをユーザに提供します。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さらに、FreeBSD は以下のミラーサイトから anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      によって入手できます。もし FreeBSD を anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      によって手にいれる場合は、
      近くのサイトを利用するようにしてください。
      <quote xmlns:xlink="http://www.w3.org/1999/xlink">一次ミラーサイト</quote> としてあげられているサイトには、
      FreeBSD の各アーキテクチャで利用可能なすべてのバージョンのアーカイブ一式が用意されています。
      あなたが住んでいる国や地域には、
      より高速にダウンロードできるサイトがおそらくあるでしょう。
      各国のミラーサイトには、
      人気のあるアーキテクチャの最新のバージョンが置いてありますが、
      FreeBSD のアーカイブ全体はもしかするとないかもしれません。
      すべてのサイトは anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      別の方法によるアクセスを提供しているサイトもあります。
      各サイトで提供しているアクセス方法は、
      ホスト名に続く括弧の中に記載されています。</para>

    
<para xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="central-ftp">中央サーバ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-primary-ftp">一次ミラーサイト</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ie-ftp">アイルランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-us-ftp">アメリカ合衆国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-am-ftp">アルメニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-uk-ftp">イギリス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ua-ftp">ウクライナ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ee-ftp">エストニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-au-ftp">オーストラリア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-at-ftp">オーストリア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-nl-ftp">オランダ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ca-ftp">カナダ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-gr-ftp">ギリシア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-sa-ftp">サウジアラビア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ch-ftp">スイス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-se-ftp">スウェーデン</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-es-ftp">スペイン</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-si-ftp">スロベニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-cz-ftp">チェコ共和国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-dk-ftp">デンマーク</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-de-ftp">ドイツ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-nz-ftp">ニュージーランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-no-ftp">ノルウェー</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-fi-ftp">フィンランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-fr-ftp">フランス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-br-ftp">ブラジル</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-pl-ftp">ポーランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-lv-ftp">ラトビア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-lt-ftp">リトアニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ru-ftp">ロシア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-kr-ftp">韓国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-hk-ftp">香港</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-tw-ftp">台湾</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-cn-ftp">中国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-za-ftp">南アフリカ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-jp-ftp">日本</link>.</para>


    
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">(  UTC 現在)</para>


    
<variablelist xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook">
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="central-ftp"/>中央サーバ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/">ftp://ftp.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.FreeBSD.org/pub/FreeBSD/">http://ftp.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.FreeBSD.org/pub/FreeBSD/">http://ftp.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-primary-ftp"/>一次ミラーサイト</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">mirror-admin@FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp1.FreeBSD.org/pub/FreeBSD/">ftp://ftp1.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.FreeBSD.org/pub/FreeBSD/">http://ftp4.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.FreeBSD.org/pub/FreeBSD/">http://ftp4.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp10.FreeBSD.org/pub/FreeBSD/">ftp://ftp10.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp10.FreeBSD.org/pub/FreeBSD/">http://ftp10.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp10.FreeBSD.org/pub/FreeBSD/">http://ftp10.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp11.FreeBSD.org/pub/FreeBSD/">ftp://ftp11.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp13.FreeBSD.org/pub/FreeBSD/">ftp://ftp13.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp14.FreeBSD.org/pub/FreeBSD/">ftp://ftp14.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp14.FreeBSD.org/pub/FreeBSD/">http://ftp14.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ie-ftp"/>アイルランド</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@ie.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.ie.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.ie.FreeBSD.org/pub/FreeBSD/</link> (ftp / rsync) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-us-ftp"/>アメリカ合衆国</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@us.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp1.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp1.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.us.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.us.FreeBSD.org/pub/FreeBSD/">http://ftp4.us.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.us.FreeBSD.org/pub/FreeBSD/">http://ftp4.us.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp8.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp8.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp10.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp10.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp11.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp11.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp13.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp13.us.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp13.us.FreeBSD.org/pub/FreeBSD/">http://ftp13.us.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp14.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp14.us.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp14.us.FreeBSD.org/pub/FreeBSD/">http://ftp14.us.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp15.us.FreeBSD.org/pub/FreeBSD/">ftp://ftp15.us.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-am-ftp"/>アルメニア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@am.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp1.am.FreeBSD.org/pub/FreeBSD/">ftp://ftp1.am.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp1.am.FreeBSD.org/pub/FreeBSD/">http://ftp1.am.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-uk-ftp"/>イギリス</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@uk.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/">ftp://ftp.uk.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.uk.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.uk.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://ftp2.uk.FreeBSD.org/ftp.freebsd.org/pub/FreeBSD/">rsync://ftp2.uk.FreeBSD.org/ftp.freebsd.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.uk.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.uk.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.uk.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.uk.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.uk.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.uk.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ua-ftp"/>ウクライナ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.ua.FreeBSD.org/pub/FreeBSD/">ftp://ftp.ua.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.ua.FreeBSD.org/pub/FreeBSD/">http://ftp.ua.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.ua.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.ua.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp6.ua.FreeBSD.org/pub/FreeBSD">http://ftp6.ua.FreeBSD.org/pub/FreeBSD</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://ftp6.ua.FreeBSD.org/FreeBSD/">rsync://ftp6.ua.FreeBSD.org/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.ua.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.ua.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ee-ftp"/>エストニア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@ee.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.ee.FreeBSD.org/pub/FreeBSD/">ftp://ftp.ee.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-au-ftp"/>オーストラリア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@au.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.au.FreeBSD.org/pub/FreeBSD/">ftp://ftp.au.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.au.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.au.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.au.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.au.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-at-ftp"/>オーストリア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@at.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.at.FreeBSD.org/pub/FreeBSD/">ftp://ftp.at.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.at.FreeBSD.org/pub/FreeBSD/">http://ftp.at.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.at.FreeBSD.org/pub/FreeBSD/">http://ftp.at.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-nl-ftp"/>オランダ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@nl.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.nl.FreeBSD.org/pub/FreeBSD/">ftp://ftp.nl.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.nl.FreeBSD.org/os/FreeBSD/">http://ftp.nl.FreeBSD.org/os/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.nl.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.nl.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ca-ftp"/>カナダ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@ca.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.ca.FreeBSD.org/pub/FreeBSD/">ftp://ftp.ca.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.ca.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.ca.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-gr-ftp"/>ギリシア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@gr.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.gr.FreeBSD.org/pub/FreeBSD/">ftp://ftp.gr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.gr.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.gr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-sa-ftp"/>サウジアラビア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">ftpadmin@isu.net.sa</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.isu.net.sa/pub/ftp.freebsd.org/">ftp://ftp.isu.net.sa/pub/ftp.freebsd.org/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ch-ftp"/>スイス</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@ch.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/">ftp://ftp.ch.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.ch.FreeBSD.org/pub/FreeBSD/">http://ftp.ch.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-se-ftp"/>スウェーデン</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@se.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp.se.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.se.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://ftp2.se.FreeBSD.org/">rsync://ftp2.se.FreeBSD.org/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.se.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.se.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.se.FreeBSD.org/pub/FreeBSD/">http://ftp4.se.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.se.FreeBSD.org/pub/FreeBSD/">http://ftp4.se.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/">rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/">rsync://ftp4.se.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.se.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.se.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp6.se.FreeBSD.org/pub/FreeBSD/">http://ftp6.se.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-es-ftp"/>スペイン</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@es.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.es.FreeBSD.org/pub/FreeBSD/">ftp://ftp.es.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.es.FreeBSD.org/pub/FreeBSD/">http://ftp.es.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.es.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.es.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-si-ftp"/>スロベニア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@si.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.si.FreeBSD.org/pub/FreeBSD/">ftp://ftp.si.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-cz-ftp"/>チェコ共和国</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@cz.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/">ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/">ftp://ftp.cz.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.cz.FreeBSD.org/pub/FreeBSD/">http://ftp.cz.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.cz.FreeBSD.org/pub/FreeBSD/">http://ftp.cz.FreeBSD.org/pub/FreeBSD/</link> / rsync / rsyncv6) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.cz.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.cz.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.cz.FreeBSD.org/pub/FreeBSD/">http://ftp2.cz.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-dk-ftp"/>デンマーク</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@dk.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.dk.FreeBSD.org/pub/FreeBSD/">ftp://ftp.dk.FreeBSD.org/pub/FreeBSD/</link> (ftp / ftpv6 / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.dk.FreeBSD.org/pub/FreeBSD/">http://ftp.dk.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.dk.FreeBSD.org/pub/FreeBSD/">http://ftp.dk.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-de-ftp"/>ドイツ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">de-bsd-hubs@de.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.de.FreeBSD.org/pub/FreeBSD/">ftp://ftp.de.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp1.de.FreeBSD.org/freebsd/">ftp://ftp1.de.FreeBSD.org/freebsd/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www1.de.FreeBSD.org/freebsd/">http://www1.de.FreeBSD.org/freebsd/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="rsync://rsync3.de.FreeBSD.org/freebsd/">rsync://rsync3.de.FreeBSD.org/freebsd/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.de.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.de.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.de.FreeBSD.org/pub/FreeBSD/">http://ftp2.de.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.de.FreeBSD.org/FreeBSD/">ftp://ftp4.de.FreeBSD.org/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp4.de.FreeBSD.org/pub/FreeBSD/">http://ftp4.de.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.de.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.de.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.de.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp7.de.FreeBSD.org/pub/FreeBSD/">http://ftp7.de.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp8.de.FreeBSD.org/pub/FreeBSD/">ftp://ftp8.de.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-nz-ftp"/>ニュージーランド</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.nz.FreeBSD.org/pub/FreeBSD/">ftp://ftp.nz.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.nz.FreeBSD.org/pub/FreeBSD/">http://ftp.nz.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-no-ftp"/>ノルウェー</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@no.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.no.FreeBSD.org/pub/FreeBSD/">ftp://ftp.no.FreeBSD.org/pub/FreeBSD/</link> (ftp / rsync) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-fi-ftp"/>フィンランド</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@fi.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.fi.FreeBSD.org/pub/FreeBSD/">ftp://ftp.fi.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-fr-ftp"/>フランス</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@fr.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp1.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp1.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp1.fr.FreeBSD.org/pub/FreeBSD/">http://ftp1.fr.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp8.fr.FreeBSD.org/pub/FreeBSD/">ftp://ftp8.fr.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-br-ftp"/>ブラジル</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@br.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.br.FreeBSD.org/FreeBSD/">ftp://ftp2.br.FreeBSD.org/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.br.FreeBSD.org/">http://ftp2.br.FreeBSD.org/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.br.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.br.FreeBSD.org/pub/FreeBSD/</link> (ftp / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.br.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.br.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-pl-ftp"/>ポーランド</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@pl.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.pl.FreeBSD.org/pub/FreeBSD/">ftp://ftp.pl.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink">ftp2.pl.FreeBSD.org</para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-lv-ftp"/>ラトビア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@lv.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.lv.FreeBSD.org/pub/FreeBSD/">ftp://ftp.lv.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.lv.FreeBSD.org/pub/FreeBSD/">http://ftp.lv.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-lt-ftp"/>リトアニア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@lt.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.lt.FreeBSD.org/pub/FreeBSD/">ftp://ftp.lt.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.lt.FreeBSD.org/pub/FreeBSD/">http://ftp.lt.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-ru-ftp"/>ロシア</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@ru.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/">ftp://ftp.ru.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp.ru.FreeBSD.org/FreeBSD/">http://ftp.ru.FreeBSD.org/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.ru.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.ru.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.ru.FreeBSD.org/pub/FreeBSD/">http://ftp2.ru.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.ru.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.ru.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.ru.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.ru.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp5.ru.FreeBSD.org/pub/FreeBSD/">http://ftp5.ru.FreeBSD.org/pub/FreeBSD/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.ru.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.ru.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-kr-ftp"/>韓国</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@kr.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.kr.FreeBSD.org/pub/FreeBSD/">ftp://ftp.kr.FreeBSD.org/pub/FreeBSD/</link> (ftp / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.kr.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.kr.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.kr.FreeBSD.org/pub/FreeBSD/">http://ftp2.kr.FreeBSD.org/pub/FreeBSD/</link>) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-hk-ftp"/>香港</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.hk.FreeBSD.org/pub/FreeBSD/">ftp://ftp.hk.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-tw-ftp"/>台湾</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@tw.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp.tw.FreeBSD.org/pub/FreeBSD/</link> / rsync / rsyncv6) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.tw.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.tw.FreeBSD.org/pub/FreeBSD/">http://ftp2.tw.FreeBSD.org/pub/FreeBSD/</link> / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp2.tw.FreeBSD.org/pub/FreeBSD/">http://ftp2.tw.FreeBSD.org/pub/FreeBSD/</link> / rsync / rsyncv6) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp6.tw.FreeBSD.org/">http://ftp6.tw.FreeBSD.org/</link> / rsync) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp8.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp8.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp11.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp11.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp / <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://ftp11.tw.FreeBSD.org/FreeBSD/">http://ftp11.tw.FreeBSD.org/FreeBSD/</link>) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp12.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp12.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp13.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp13.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp14.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp14.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp15.tw.FreeBSD.org/pub/FreeBSD/">ftp://ftp15.tw.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-cn-ftp"/>中国</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@cn.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.cn.FreeBSD.org/pub/FreeBSD/">ftp://ftp.cn.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-za-ftp"/>南アフリカ</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@za.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.za.FreeBSD.org/pub/FreeBSD/">ftp://ftp.za.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.za.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.za.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.za.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.za.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
  <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
    <term xmlns:xlink="http://www.w3.org/1999/xlink"><anchor xml:id="mirrors-jp-ftp"/>日本</term>
    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
      <para xmlns:xlink="http://www.w3.org/1999/xlink">問題がある場合は、このドメインのホストマスタ
        <email xmlns:xlink="http://www.w3.org/1999/xlink">hostmaster@jp.FreeBSD.org</email> 宛にお問い合わせください。</para>
      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp2.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp2.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp3.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp3.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp4.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp4.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp5.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp5.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp6.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp6.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp7.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp7.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp8.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp8.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
        <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
          <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp9.jp.FreeBSD.org/pub/FreeBSD/">ftp://ftp9.jp.FreeBSD.org/pub/FreeBSD/</link> (ftp) </para>
        </listitem>
      </itemizedlist>
    </listitem>
  </varlistentry>
</variablelist>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ctm">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">CTM を使う</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">CTM</primary>
    </indexterm>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 花井 浩之 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">hanai@FreeBSD.org</email>、1997 年 9 月 13 日</emphasis></para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> は、
      リモートのディレクトリツリーを中央のツリーに同期させるための手段です。
      FreeBSD システムに組み込まれており、FreeBSD
      のソースリポジトリとの同期に使うことができます。
      リポジトリ全体の同期や特定のブランチセットの同期に用いることができます。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> は、
      特にお粗末な TCP/IP 接続しか持っていなかったり、
      TCP/IP 接続が行なえない環境での利用を想定して設計されています。
      変更点を自動的にメールで送られてくるように設定することができます。
      アクティブなブランチでは 1
      日に最大三つまでのデルタを受け取る必要があります。
      デルタのサイズは常にできるだけ小さく保たれています。
      大抵の場合 5KB よりも小さく、
      たまに (10 回に 1 回程度) 10-50KB になり、
      ときおり 100KB 以上のサイズになります。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> を使って FreeBSD
      の開発を追いかける時には、
      あらかじめパッケージ化されたリリースとは異なり、
      開発ソースの作業ディレクトリに関連した注意点に気をつけてください。
      これに関しては、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="current-stable">開発ブランチを追いかける</link>
      の章を参照してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">デルタを作り出す過程や <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
      を他の目的に使うためのドキュメントは現在ほとんどありません。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> に関連した質問については、
      <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users">ctm-users</link> メーリングリストに相談してください。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mirrors-ctm">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">デルタを入手する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> が用いる <quote xmlns:xlink="http://www.w3.org/1999/xlink">デルタ</quote>
	は、anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
	もしくはメールで入手できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
	のデルタは以下のミラーサイトから入手できます。
	もし anonymous <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> を使って
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> のデルタを手にいれる場合は、
	地理的に近くにあるミラーサイトを利用するようにしてください。
	何か問題がある場合は、<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/ctm-users">ctm-users</link>
	メーリングリストに相談してください。</para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">カリフォルニア、サンフランシスコ近辺、公式なソース</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/">ftp://ftp.FreeBSD.org/pub/FreeBSD/development/CTM/</uri></para>
	      </listitem>
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/">ftp://ftp.FreeBSD.org/pub/FreeBSD/CTM/</uri></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">南アフリカ、古い差分ファイルのバックアップサーバ</term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/">ftp://ftp.za.FreeBSD.org/pub/FreeBSD/CTM/</uri></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">台湾/中華民国</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/">ftp://ctm.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</uri></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/">ftp://ctm2.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</uri></para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink"><uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/">ftp://ctm3.tw.FreeBSD.org/pub/FreeBSD/development/CTM/</uri></para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メールでデルタを得たいという場合は、<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.freebsd.org/mailman/listinfo">http://lists.freebsd.org/mailman/listinfo</uri>
	から、<literal xmlns:xlink="http://www.w3.org/1999/xlink">ctm-src</literal>
	配布メーリングリストのいずれかに参加してください。
	たとえば <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-cur">ctm-src-cur</link>
	は head 開発ブランチに対応しています。<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/ctm-src-9">ctm-src-9</link>
	は 9.X リリースのブランチに対応したものです</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メールで <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	の更新ファイルを受け取り始めたら、
	中身を取り出して使用するために
	<command xmlns:xlink="http://www.w3.org/1999/xlink">ctm_rmail</command> を使ってください。
	このプロセスを自動で行ないたいのであれば、
	このコマンドを <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/aliases</filename>
	から直接実行することもできます。
	さらに詳しいことは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ctm_rmail</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> をご覧ください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">どの方法を使ってデルタを入手していたとしても、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> のユーザは
	  <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/ctm-announce">ctm-announce</link>
	  メーリングリストを購読するようにしてください。
	  このメーリングリストは、
	  <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	  に関するアナウンスが投稿される唯一の場所です。</para>
      </note>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> の使い方</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">初めて <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	デルタを使う前に、出発点を作成しておく必要があります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">その方法の一つは、空のディレクトリに対して、
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">スタータ</quote> デルタを使う方法です。
	スタータデルタは
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">src-cur.3210XEmpty.gz</filename>
	のように、<literal xmlns:xlink="http://www.w3.org/1999/xlink">XEmpty</literal>
	というファイル名になります。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">X</literal>
	の後ろは最初の開始ポイントに対応し、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Empty</filename> は空のディレクトリを表します。
	ルールとして <literal xmlns:xlink="http://www.w3.org/1999/xlink">Empty</literal> からの移行デルタは
	100 デルタごとに作られます。
	スタータデルタである
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">XEmpty</filename> のデルタは、70 から 80MB の
	<command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command>
	で圧縮された大きなデータということに注意してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もう一つの方法は、RELEASE
	のメディアからソースをコピーしたり展開する方法です。
	この方法では、
	インターネット上で大きなデータの転送を行う必要がありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一度ベースとなるデルタを作成したら、
	それに続く大きな数字を持つ多数のすべてのデルタを適用してください。
	デルタを適用するためには、以下のように実行してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /directory/to/store/the/stuff</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ctm -v -v /directory/which/stores/the/deltas/src-xxx.*</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">一度に適用されるデルタは一つで、
	一度適用されたデルタは無視されるので、
	複数のデルタを一つのコマンドで適用することができます。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	は <command xmlns:xlink="http://www.w3.org/1999/xlink">gzip</command> で圧縮されているデルタを理解するので、
	ディスクの節約にもなります。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デルタを適用せずに確認だけを行うには、
	コマンドラインに <option xmlns:xlink="http://www.w3.org/1999/xlink">-c</option> フラグを加えてください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	はローカルのツリーに対して実際には何も行ないません。
	デルタの完全性を確認し、
	現在のツリーに問題なく使用できるかを確認します。
	オプションに関するより多くの情報や、
	デルタを適用する時に <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	が用いるプロセスの全体については、<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ctm</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> をご覧ください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ローカルのソースツリーを最新に保つには、
	新しいデルタが入手可能になるたびに、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> に適用してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">デルタを適用後、
	もしデルタを再ダウンロードするのが骨の折れる作業であれば、
	デルタを消さないでおいてください。
	このようにすると、将来のディザスタリカバリで必要になった場合に、
	ローカルにあるコピーを利用できます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ローカルの変更を保存する</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">開発者はソースツリー中のファイルを使って、
	実験したり変更したくなるものです。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	はローカルの変更を制限つきでサポートします。
	ファイルの存在をチェックする前に、同じ名前で
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">.ctm</filename>
	という拡張子のついたファイルを参照しにいきます。
	このファイルが存在する場合、<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
        はオリジナルファイルの代りにこのファイルを処理します。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この動作はローカルの変更を保持する簡単な手段を提供します。
	ファイルを変更する前に、<filename xmlns:xlink="http://www.w3.org/1999/xlink">.ctm</filename>
	という拡張子のファイル名にコピーしてください。
	あとは自由にオリジナルの名前を持つファイルを変更してください。
	<application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> は、<filename xmlns:xlink="http://www.w3.org/1999/xlink">.ctm</filename>
	の拡張子を持つファイルにのみに適用されます。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	のその他のオプション</title>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">更新で変更されるファイルを正確に知る</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      がローカルのソースリポジトリに対して、
	      どのような変更を行うかを知るには、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-l</option>
	      オプションを使ってください。
	      このオプションは、変更のログを作成したり、
	      変更されたファイルに対して、
	      なんらかの方法で 前・後処理したい場合には、
	      役に立つでしょう。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">更新前にバックアップを取る</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      の更新によって変更されるファイルすべてのバックアップをとるには、
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-B
		<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">backup-file</replaceable></option>
	      オプションを指定してください。
	      このオプションを使うと、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application> は、
	      デルタで変更されるファイルすべてを
	      <filename xmlns:xlink="http://www.w3.org/1999/xlink">backup-file</filename>
	      としてバックアップするようになります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">更新で変更されるファイルを制限する</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      の更新の範囲を制限したり一連のデルタのから
	      ほんの数ファイルを抽出するには、
	      使用するファイルを指定する
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-e</option> と
	      どのファイルを無視するかを指定する
	      <option xmlns:xlink="http://www.w3.org/1999/xlink">-x</option>
	      オプションを使って、正規表現で指定できます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">例えば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">lib/libc/Makefile</filename>
	      の最新のコピーを保存してある <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      デルタのコレクションから抽出するには、
	      以下のコマンドを実行してください。</para>

	    <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /directory/to/extract/to/</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">ctm -e '^lib/libc/Makefile' /directory/which/stores/the/deltas/src-xxx.*</userinput></screen>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      デルタで指定されたファイルごとに、<option xmlns:xlink="http://www.w3.org/1999/xlink">-e</option>
	      そして <option xmlns:xlink="http://www.w3.org/1999/xlink">-x</option>
	      オプションがコマンドラインで指定された順序で適用されます。
	      すべての<option xmlns:xlink="http://www.w3.org/1999/xlink">-e</option> そして <option xmlns:xlink="http://www.w3.org/1999/xlink">-x</option>
	      オプションが適用された後に更新対象と選択された場合に限り、
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">CTM</application>
	      はそのファイルを処理します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>
<!--
Comment out for now until these can be verified.
    <sect2>
      <title><application>CTM</application>の将来計画</title>

      <para>重要なもの</para>

      <itemizedlist>
	<listitem>
	  <para>なんらかの <application>CTM</application> システムへの認証機構を用い、不正な
	    <application>CTM</application> の更新の検出を可能とする。</para>
	</listitem>

	<listitem>
	  <para><application>CTM</application>
	    へのオプションを整理する。さもないと混乱し、
	    直観に反したものになります。</para>
	</listitem>
      </itemizedlist>

      <para><literal>ports</literal> コレクションに対するデルタもあるのですが、
        これに興味を持っている人はまだ少ないようです。</para>
    </sect2>
    -->
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> を使う</title>

    <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
      <primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</primary>
    </indexterm>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-intro">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">はじめに</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">2012 年 7 月から、FreeBSD
	はすべてのソースコード、ドキュメント、Ports Collection
	を管理するメインのバージョン管理システムに
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> を使っています。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">一般的には <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  は開発者向けのツールです。
	  大部分のユーザは、FreeBSD のベースシステムのアップデートに
	  <command xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-update</command> (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="updating-upgrading-freebsdupdate"/>)、
	  Ports Collection のアップデートには <command xmlns:xlink="http://www.w3.org/1999/xlink">portsnap</command> (<xref xmlns:xlink="http://www.w3.org/1999/xlink" linkend="ports-using"/>)
	  を使うべきでしょう。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この章では、FreeBSD システムへの
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> のインストール方法および、
	FreeBSD リポジトリをローカルに準備する方法について説明します。
	また、利用可能な FreeBSD <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> ミラーの一覧および、
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	を利用するための情報についても紹介します。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-install">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">インストール</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">リポジトリの中身をチェックアウトできるよう、事前に
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	をインストールしておく必要があります。
	もし、すでに ports ツリーが用意してあれば、
	以下のようにして <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	をインストールできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/ports/devel/subversion</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make install clean</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">もし ports ツリーを利用できなければ、package から
	<application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> をインストールできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">pkg install devel/subversion</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-usage">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> の実行</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command> コマンドを使って、
	必要なリポジトリのソースコードを以下のようにしてダウンロードします。
        このディレクトリにあるファイルを
        <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ローカル作業コピー</emphasis> と呼びます。</para>

      <warning xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">checkout</command> を使う前に、
	  ローカルディレクトリを移動するか削除してください。</emphasis></para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink"><command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command>
	  以外の方法で用意されたディレクトリでチェックアウトすると、
	  すでに存在するファイルと、
	  リポジトリから持ってきたファイルとの間で衝突が起きてしまいます。</para>
      </warning>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> では、リポジトリの指定に
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">protocol://hostname/path</replaceable> 形式の
	<acronym xmlns:xlink="http://www.w3.org/1999/xlink">URL</acronym> を用います。
	以下に記載されているように、
	ミラーサイトは異なる複数のプロトコルに対応しています。
	アクセスする FreeBSD リポジトリは、パス (path) の最初で指定します。
	リポジトリは 3 つあります。
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal> は FreeBSD ベースシステムのソースコード、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> は Ports Collection、
	そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> はドキュメントのリポジトリです。
	たとえば、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">svn://svn0.us-east.FreeBSD.org/ports/head/</literal>
	という URL は、<literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal> プロトコルによる <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn0.us-east.FreeBSD.org</systemitem>
	ミラー上の ports リポジトリのメインブランチを示しています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のように入力して、リポジトリからチェックアウトしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">svn-mirror</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable>/<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">branch</replaceable> <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lwcdir</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ここで、<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable>,
	<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">branch</replaceable> および <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">root</replaceable>
	は以下のとおりです。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">svn-mirror</replaceable> は、
	    <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="svn-mirrors">Subversion
	    ミラーサイト</link> のひとつの URL です。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">repository</replaceable> には、
	    プロジェクトのリポジトリ、すなわち <literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal>,
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal>, または <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal>
	    のどれかひとつを指定します。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">branch</replaceable> は、使うリポジトリによります。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> および <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal>
	    では、ほとんどの変更が
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal> ブランチで行われます。
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal> リポジトリでは、<literal xmlns:xlink="http://www.w3.org/1999/xlink">head</literal>
	    ブランチで -CURRENT の最新バージョンを管理しています。
	    -STABLE ブランチの最新バージョンは、
	    8.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/8</literal>,
	    9.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</literal>,
	    そして
	    10.<replaceable xmlns:xlink="http://www.w3.org/1999/xlink">x</replaceable> は <literal xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</literal>
	    で管理しています。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lwcdir</replaceable> は、
	    指定したブランチの中身が置かれるターゲットのディレクトリです。
	    通常 <literal xmlns:xlink="http://www.w3.org/1999/xlink">ports</literal> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">base</literal> は <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>、
	    そして <literal xmlns:xlink="http://www.w3.org/1999/xlink">doc</literal> では
	    <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename> と指定します。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">以下の例では、Ports Collection を western US リポジトリから
        <acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTTPS</acronym> プロトコルを使って、チェックアウトします。
	そしてそれらは、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>
	のローカル作業コピーに置かれます。
	もし <filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename> がすでに存在して、
	それが <command xmlns:xlink="http://www.w3.org/1999/xlink">svn</command> によって生成されたものでなければ、
	チェックアウトする前に、名前を変更するか削除してください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn checkout <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">https://svn0.us-west.FreeBSD.org</replaceable>/ports/head /usr/ports</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">初めてチェックアウトする際には、
	リモートリポジトリのすべてのブランチをダウンロードするので時間がかかります。
	どうぞ我慢してください。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">初めてのチェックアウト後は、
	以下を実行することでローカル作業コピーをアップデートできます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update <replaceable xmlns:xlink="http://www.w3.org/1999/xlink">lwcdir</replaceable></userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">この例で作成された
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename> をアップデートするには、
	以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">svn update /usr/ports</userinput></screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">アップデートはチェックアウトにくらべ、
	変更点のあるファイルのみが転送されるので高速です。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">チェックアウト後、ローカル作業コピーをアップデートするもうひとつの方法は、
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>,
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename> または
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename> ディレクトリの
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">Makefile</filename> で提供されています。
	<varname xmlns:xlink="http://www.w3.org/1999/xlink">SVN_UPDATE</varname> を設定して
	<buildtarget>update</buildtarget> ターゲットを使ってください。
	たとえば、<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename>
        をアップデートするには、以下のようにしてください。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink"><prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">cd /usr/src</userinput>
<prompt xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">#</prompt> <userinput xmlns:xlink="http://www.w3.org/1999/xlink">make update SVN_UPDATE=yes</userinput></screen>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-mirrors">
      <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> ミラーサイト</title>

      <indexterm xmlns:xlink="http://www.w3.org/1999/xlink">
	<primary xmlns:xlink="http://www.w3.org/1999/xlink">Subversion Repository</primary>
	<secondary xmlns:xlink="http://www.w3.org/1999/xlink">ミラーサイト</secondary>
      </indexterm>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">すべてのミラーはすべてのリポジトリを持っています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> サーバのマスタである
	<systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn.FreeBSD.org</systemitem> は、
	公には読み出し専用でアクセスできますが、
	将来的には変更される予定ですので、
	オフィシャルミラーを使うことが推奨されます。
	ブラウザを用いて FreeBSD の Subversion リポジトリを参照するには、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnweb.FreeBSD.org/">http://svnweb.FreeBSD.org/</link>
	を利用してください。</para>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application>
	  ミラーのネットワークは、
	  まだ初期の段階にあるので、今後変更されることがあります。
	  以下のミラー一覧を不変なものとは考えないでください。
	  特に、サーバの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSL</acronym> 証明書は、
	  いずれかの時点で変更になるでしょう。</para>
      </note>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="3*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="1*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="2*"/>
	  <colspec xmlns:xlink="http://www.w3.org/1999/xlink" colwidth="10*"/>
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">名前</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">プロトコル</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">位置</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSL</acronym> フィンガープリント</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn0.us-west.FreeBSD.org</systemitem></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svn0.us-west.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">http</literal></link>,
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://svn0.us-west.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">https</literal></link></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">USA, カリフォルニア</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SHA1
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1C:BD:85:95:11:9F:EB:75:A5:4B:C8:A3:FE:08:E4:02:73:06:1E:61</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn0.us-east.FreeBSD.org</systemitem></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svn0.us-east.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">http</literal></link>,
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://svn0.us-east.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">https</literal></link>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rsync</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">USA, ニュージャージ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SHA1
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">1C:BD:85:95:11:9F:EB:75:A5:4B:C8:A3:FE:08:E4:02:73:06:1E:61</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn0.eu.FreeBSD.org</systemitem></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svn0.eu.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">http</literal></link>,
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://svn0.eu.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">https</literal></link>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rsync</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Europe, UK</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SHA1
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">98:22:1F:B0:CF:20:ED:3F:5D:05:38:AB:50:F1:47:53:3C:6B:14:6A</literal></entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">svn0.ru.FreeBSD.org</systemitem></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svn0.ru.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">http</literal></link>,
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://svn0.ru.FreeBSD.org/"><literal xmlns:xlink="http://www.w3.org/1999/xlink">https</literal></link>,
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">rsync</literal></entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ロシア、モスクワ</entry>

	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SHA1
		<literal xmlns:xlink="http://www.w3.org/1999/xlink">F6:44:AA:B9:03:89:0E:3E:8C:4D:4D:14:F0:27:E6:C7:C1:8B:17:C5</literal></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTTPS</acronym> は推奨されているプロトコルです。
	他のコンピュータが FreeBSD ミラーを装う (一般的には
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">マン・イン・ザ・ミドル</quote> 攻撃として知られています)
	ことや、もしくは、
	エンドユーザに対し好ましくない内容を送りつけようということに対し保護を行います。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-mirrors-fingerprint"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTTPS</acronym>
	ミラーへの最初の接続の際には、
	サーバの <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">フィンガープリント</emphasis>
	の確認を求められます。</para>

      <screen xmlns:xlink="http://www.w3.org/1999/xlink">Error validating server certificate for 'https://svn0.us-west.freebsd.org:443':
 - The certificate is not issued by a trusted authority. Use the
   fingerprint to validate the certificate manually!
 - The certificate hostname does not match.
Certificate information:
 - Hostname: svnmir.ysv.FreeBSD.org
 - Valid: from Jul 29 22:01:21 2013 GMT until Dec 13 22:01:21 2040 GMT
 - Issuer: clusteradm, FreeBSD.org, (null), CA, US (clusteradm@FreeBSD.org)
 - Fingerprint: 1C:BD:85:95:11:9F:EB:75:A5:4B:C8:A3:FE:08:E4:02:73:06:1E:61
(R)eject, accept (t)emporarily or accept (p)ermanently?</screen>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">フィンガープリントを上の表の一覧のものと照合してください。
	フィンガープリントが一致したら、
	サーバのセキュリティ証明書を一時的 (permanently)
	もしくは恒久的 (temporarily) に受け入れてください。
	一時的な認証であれば、
	サーバとの一回のセッションで有効期限が切れるため、
	次回の接続時にはもう一度検証が行われます。
	恒常的な認証を選んだ場合には、認証のための証明書が
	<filename xmlns:xlink="http://www.w3.org/1999/xlink">~/.subversion/auth/</filename> に保存され、
	有効期限が切れるまでは、
	フィンガープリントの確認は求められません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォールまたは他の問題のため、<literal xmlns:xlink="http://www.w3.org/1999/xlink">https</literal>
	を使えなければ、転送速度がより少し早い <literal xmlns:xlink="http://www.w3.org/1999/xlink">svn</literal>
	を使ってください。
	両方を使えない場合には、
	<literal xmlns:xlink="http://www.w3.org/1999/xlink">http</literal> を使ってください。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">より詳しい情報</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</application> の利用に関する他の情報は、
	<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://svnbook.red-bean.com/">Version
	  Control with Subversion</link> や <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://subversion.apache.org/docs/">Subversion
	Documentation</link> といった
	<quote xmlns:xlink="http://www.w3.org/1999/xlink">Subversion Book</quote> をご覧ください。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mirrors-rsync">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">rsync</application> を使用する</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">次のサイトは、FreeBSD を rsync プロトコルで提供しています。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">rsync</application> ユーティリティは
      <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">rcp</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> コマンドとほぼ同じ機能を実現するもので、
      こちらの方が豊富なオプションを備え、送り側と受け側の差分だけを
      転送するという rsync リモート更新プロトコルを使用するという点が異なります。
      rsync を使うと、ネットワーク経由での同期を非常に高速に行なうことが可能です。
      特に、FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym> サーバや CVS
      リポジトリのミラーサイトを作成する時に便利でしょう。
      <application xmlns:xlink="http://www.w3.org/1999/xlink">rsync</application> は、多くのオペレーティングシステムで
      利用することができます。FreeBSD 版は、<package xmlns:xlink="http://www.w3.org/1999/xlink">net/rsync</package> の
      port か、package を使ってください。</para>

    <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">
      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">チェコ共和国</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp.cz.FreeBSD.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ftp: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの部分ミラー</para>
	    </listitem>
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">オランダ</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp.nl.FreeBSD.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">ロシア</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp.mtu.ru/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>
	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-Archive: FreeBSD アーカイブ <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバのミラー</para>
	    </listitem>
 	  </itemizedlist>
 	</listitem>
       </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">スウェーデン</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp4.se.freebsd.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>
	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
 	  </itemizedlist>
 	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">台湾</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp.tw.FreeBSD.org/</para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp2.tw.FreeBSD.org/</para>
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp6.tw.FreeBSD.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>
	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">イギリス</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://rsync.mirrorservice.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">ftp.freebsd.org: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>

      <varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	<term xmlns:xlink="http://www.w3.org/1999/xlink">アメリカ合衆国</term>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp-master.FreeBSD.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">このサーバは、FreeBSD の一次ミラーサイトとしてのみ使われています。</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバのマスタアーカイブ</para>
	    </listitem>

	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">acl: The FreeBSD マスタ ACL リスト</para>
	    </listitem>
	  </itemizedlist>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">rsync://ftp13.FreeBSD.org/</para>

	  <para xmlns:xlink="http://www.w3.org/1999/xlink">提供しているコレクション:</para>

	  <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	    <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: FreeBSD <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
		サーバの全体ミラー</para>
	    </listitem>
	  </itemizedlist>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>
</appendix>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r45637
     $FreeBSD$
-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="bibliography">

  <title xmlns:xlink="http://www.w3.org/1999/xlink">参考図書</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 中井 幸博 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">nakai@mlab.t.u-tokyo.ac.jp</email>, 1996 年 10 月 12 日。</emphasis></para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD オペレーティングシステムの個々の部分については
    マニュアルページで定義のような説明がなされていますが,
    どうやってその部分どうしをつなぎあわせて
    オペレーティングシステム全体を円滑に動作させるかについては,
    ほとんど説明されていません。
    それを補うためにはのよい本や, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> システム管理についての
    利用者向けのマニュアルが欠かせません。</para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-freebsd">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 専門の書籍</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">非英語文化圏の書籍:</emphasis></para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://jdli.tw.FreeBSD.org/publication/book/freebsd2/index.htm">
	    FreeBSD 入門與應用</link> (繁体字中国語)。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.drmaster.com.tw/">Drmaster</link>
	  発行, 1997. ISBN 9-578-39435-7.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Unleashed (簡体字中国語訳),
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.hzbook.com/">China Machine
	    Press</link> 発行. ISBN 7-111-10201-0.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD From Scratch Second Edition (簡体字中国語),
	  China Machine Press 発行. ISBN
	  7-111-10286-X.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブック第 2 版 (簡体字中国語訳), <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ptpress.com.cn/">Posts &amp;
	    Telecom Press</link> 発行. ISBN 7-115-10541-3.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD &amp; Windows (簡体字中国語),
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.tdpress.com/">China Railway
	    Publishing House</link> 発行. ISBN 7-113-03845-X</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Internet Services HOWTO (簡体字中国語),
	  China Railway Publishing House 発行. ISBN
	  7-113-03423-3</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD入門キット AT互換機版 第二版。 宮嵜忠臣 著。
	  秀和システム。 ISBN 4-87966-535-5 C3055 2900 円。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">ここまでできる FreeBSD パワーガイド。
	  霜山 滋, 仲道 嘉夫, 山中 右次 著。 秀和システム。
	  ISBN 4-87966-637-8 2600円。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.shoeisha.co.jp/book/Detail.asp?bid=650">
	    FreeBSD徹底入門</link>。
	  あさだ たくや / 天川 修平 / 衛藤 敏寿 / 浜田 直樹 / 細川 達己 / 三田 吉郎 著。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.shoeisha.co.jp/">翔泳社</link>。
	  ISBN 4-88135-473-6 3600 円。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ascii.co.jp/pb/book1/shinkan/detail/1322785.html">パーソナル
	    UNIX スターターキット FreeBSD</link>。
	  民田 雅人 / 古場 正行 / 増田 佳泰 / 天池 健 / 宮川 晋 共著。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ascii.co.jp/">アスキー</link>。
	  ISBN 4-7561-1733-3 3000 円。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ハンドブック (日本語版)。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ascii.co.jp/">アスキー</link>。
	  ISBN 4-7561-1580-2 3800 円。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD mit Methode (ドイツ語版)。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cul.de">Computer und Literatur
	    Verlag</link>/Vertrieb Hanser 発行。1998。 ISBN
	  3-932311-31-0</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mitp.de/vmi/mitp/detail/pWert/1343/">
	    FreeBSD de Luxe</link> (ドイツ語),
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mitp.de">Verlag Modere
	    Industrie</link> 発行, 2003 年。ISBN 3-8266-1343-0.
	</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/FreeBSD/install-manual.html">FreeBSD
	    インストール &amp; 活用マニュアル</link>,
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/">
	    毎日コミュニケーションズ</link>発行。1998 年. ISBN
	  4-8399-0112-0.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Onno W Purbo, Dodi Maryanto, Syahrial Hubbany, Widjil
	  Widodo 著 <emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://maxwell.itb.ac.id/">FreeBSD
	    を使ったインターネットサーバの構築 (Building Internet Server
	    with FreeBSD)</link></emphasis> (インドネシア語),
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.elexmedia.co.id/">Elex
	    Media Komputindo</link> 発行。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Absolute BSD: The Ultimate Guide to FreeBSD
	  (繁体字中国語訳) <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.grandtech.com.tw/">GrandTech
	    Press</link> 発行 (2003 年)。ISBN 986-7944-92-5.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.twbsd.org/cht/book/">The
	    FreeBSD 6.0 Book</link> (繁体字中国語),
	  Drmaster 発行 (2006 年)。ISBN 9-575-27878-X.</para>
      </listitem>

    </itemizedlist>

    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">英語の書籍:</emphasis></para>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.absoluteFreeBSD.com/">Absolute
	    FreeBSD, 2nd Edition:  The Complete Guide to
	    FreeBSD</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.nostarch.com/">No Starch
	    Press</link> 刊、2007 年。ISBN: 978-1-59327-151-0</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsdmall.com/cgi-bin/fm/bsdcomp">
	    The Complete FreeBSD</link>,
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.oreilly.com/">O'Reilly</link>、
	  2003 年。ISBN: 0596005164</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.freebsd-corp-net-guide.com/">The
	    FreeBSD Corporate Networker's Guide</link>,
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.awl.com/aw/">Addison-Wesley</link> 刊、
	  2000 年。ISBN: 0201704811</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://andrsn.stanford.edu/FreeBSD/introbook/">
	    FreeBSD: An Open-Source Operating System for Your Personal
	    Computer</link>、The Bit Tree Press 刊、2001 年。
	  ISBN: 0971204500</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Teach Yourself FreeBSD in 24 Hours, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.samspublishing.com/">Sams</link> 刊、
	  2002 年。ISBN: 0672324245</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 6 unleashed, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.samspublishing.com/">Sams</link> 刊、
	  2006 年。ISBN: 0672328755</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD: The Complete Reference, <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://books.mcgraw-hill.com">McGrawHill</link> 刊、
	  2003 年。ISBN: 0072224096</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-userguides">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">利用者向けのガイド</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">オハイオ州立大学による <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cs.duke.edu/csl/docs/unix_course/">UNIX
	    Introductory Course</link>。
	  オンラインで HTML 版と PostScript 版が利用可能。</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD イタリア語ドキュメンテーションプロジェクトの一環
	  として、このドキュメントの <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/it_IT.ISO8859-15/books/unix-introduction/index.html">イタリア語訳</link>
	  が用意されています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.jp.FreeBSD.org/">FreeBSD
	    友の会 jpman プロジェクト</link>。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/FreeBSD/urm.html">FreeBSD
	    User's Reference Manual</link> (日本語訳)。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/">毎日コミュニケーションズ</link>,
	  1998。ISBN4-8399-0088-4 P3800E。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ed.ac.uk/">Edinburgh
	    University</link> による UNIX 環境の初心者向け
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://unixhelp.ed.ac.uk/">オンラインガイド</link>。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-adminguides">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">管理者向けのガイド</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.jp.FreeBSD.ORG/">FreeBSD
	    友の会 jpman プロジェクト</link>。<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/FreeBSD/sam.html">FreeBSD
	    System Administrator's Manual</link> (日本語訳)。
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.pc.mycom.co.jp/">毎日コミュニケーションズ</link>,
	  1998.  ISBN4-8399-0109-0
	  P3300E.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Dreyfus, Emmanuel.  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.eyrolles.com/Informatique/Livre/9782212114638/">Cahiers
	  de l'Admin: BSD</link> 第 2 版。(フランス語、「管理者ノート」)、Eyrolles,
	  2004.  ISBN 2-212-11463-X</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">プログラマ向けのガイド</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Computer Systems Research Group, UC Berkeley.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">4.4BSD Programmer's Reference Manual</emphasis>.
	  O'Reilly &amp; Associates, Inc., 1994.  ISBN
	  1-56592-078-3</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Computer Systems Research Group, UC Berkeley.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">4.4BSD Programmer's Supplementary
	    Documents</emphasis>.  O'Reilly &amp; Associates, Inc.,
	  1994.  ISBN 1-56592-079-1</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Harbison, Samuel P. and Steele, Guy L. Jr. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">C:
	    A Reference Manual</emphasis>.  4th Ed. Prentice Hall,
	  1995.  ISBN 0-13-326224-3
	  (訳注: 邦訳は以下のものが出版されています。
	  斎藤 信男監訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">新・詳説 C 言語リファレンス
	    [H&amp;Sリファレンス]</emphasis>。
	  ソフトバンク, 1994。
	  ISBN 4-89052-506-8
	  原本は第 4 版だが, 訳出は第 3 版のみ。)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Kernighan, Brian and Dennis M. Ritchie.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The C
	    Programming Language</emphasis>.  2nd Ed. PTR Prentice
	  Hall, 1988.  ISBN 0-13-110362-8
	  (訳注: 邦訳は以下のものが出版されています。
	  石田 晴久 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プログラミング言語 C 第 2 版(訳書訂正版)</emphasis>
	  共立出版, 1989。
	  ISBN 4-320-02692-6)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Lehey, Greg.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Porting UNIX
	    Software</emphasis>.  O'Reilly &amp; Associates, Inc.,
	  1995.  ISBN 1-56592-126-7</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Plauger, P. J. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Standard C
	    Library</emphasis>. Prentice Hall, 1992.
	  ISBN 0-13-131509-9
	  (訳注: 邦訳は以下のものが出版されています。
	  福富 寛 / 門倉 明彦 / 清水 恵介 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">標準 C ライブラリ ANSI/ISO/JIS C規格</emphasis>.
	  トッパン, 1995。
	  ISBN 4-8101-8541-9)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Spinellis, Diomidis.  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.spinellis.gr/codereading/"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Code
	      Reading: The Open Source Perspective</emphasis></link>.
	  Addison-Wesley, 2003.  ISBN 0-201-79940-5</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Spinellis, Diomidis.  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.spinellis.gr/codequality/"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Code
	      Quality: The Open Source Perspective</emphasis></link>.
	  Addison-Wesley, 2006.  ISBN 0-321-16607-8</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Stevens, W. Richard and Stephen A. Rago.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Programming in the UNIX
	    Environment</emphasis>.  2nd Ed. Reading, Mass. :
	  Addison-Wesley, 2005.  ISBN 0-201-43307-9
	  (訳注: 第 1 版の邦訳は以下のものが出版されています。
	  大木 敦雄 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">詳解 UNIX プログラミング</emphasis>。トッパン, 1994。
	  ISBN 4-89052-524-6)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Stevens, W. Richard. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX Network
	    Programming</emphasis>. 2nd Ed. PTR Prentice Hall, 1998.
	  ISBN 0-13-949876-1
	  (訳注:
	  第 1 版の邦訳は以下のものが出版されています.
	  篠田 陽一 訳.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX ネットワークプログラミング</emphasis>。
	  トッパン, 1992.
	  ISBN 4-8101-8509-5)
	  第 2 版の邦訳は以下のものが出版されています。
	  篠田 陽一 訳.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX ネットワークプログラミング 第 2 版 Vol.1</emphasis>。
	  トッパン, 1999。
	  ISBN 4-8101-8612-1)</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">オペレーティングシステム内部</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Andleigh, Prabhat K.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX System
	    Architecture</emphasis>.  Prentice-Hall, Inc., 1990.  ISBN
	  0-13-949843-5</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Jolitz, William.  <quote xmlns:xlink="http://www.w3.org/1999/xlink">Porting UNIX to the
	    386</quote>.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Dr. Dobb's Journal</emphasis>.
	  January 1991-July 1992.</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Leffler, Samuel J., Marshall Kirk McKusick, Michael J
	  Karels and John Quarterman <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Design and
	    Implementation of the 4.3BSD UNIX Operating
	    System</emphasis>.  Reading, Mass. : Addison-Wesley, 1989.
	  ISBN 0-201-06196-1
	  (訳注: 邦訳は以下のものが出版されています。
	  中村 明 / 相田 仁 / 計 宇生 / 小池 汎平 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX 4.3BSDの設計と実装</emphasis>。丸善, 1991。
	  ISBN 4-621-03607-6)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Leffler, Samuel J., Marshall Kirk McKusick,
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Design and Implementation of the 4.3BSD UNIX
	    Operating System: Answer Book</emphasis>.  Reading, Mass.
	  : Addison-Wesley, 1991.  ISBN 0-201-54629-9
	  (訳注: 邦訳は以下のものが出版されています。
	  相田 仁 / 計 宇生 / 小池 汎平 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX 4.3BSDの設計と実装</emphasis>。
	  アンサーブック, トッパン, 1991。
	  ISBN 4-8101-8039-5)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">McKusick, Marshall Kirk, Keith Bostic, Michael J Karels,
	  and John Quarterman. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Design and
	    Implementation of the 4.4BSD Operating System</emphasis>.
	  Reading, Mass. : Addison-Wesley, 1996.  ISBN
	  0-201-54979-4</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">(この本の第二章が FreeBSD ドキュメンテーションプロジェクト
	  の一部として <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/books/design-44bsd/book.html">オンライン</link>
	  で公開されています。)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Marshall Kirk McKusick, George V. Neville-Neil
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Design and Implementation of the FreeBSD
	    Operating System</emphasis>.  Boston, Mass. :
	  Addison-Wesley, 2004.  ISBN 0-201-70245-2</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Marshall Kirk McKusick, George V. Neville-Neil,
	  Robert N. M. Watson <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Design and Implementation
	    of the FreeBSD Operating System, 2nd Ed.</emphasis>.
	  Westford, Mass. : Pearson Education, Inc., 2014.
	  ISBN 0-321-96897-2</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Stevens, W. Richard.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP Illustrated,
	    Volume 1: The Protocols</emphasis>.  Reading, Mass. :
	  Addison-Wesley, 1996. ISBN 0-201-63346-9</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Schimmel, Curt.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Unix Systems for Modern
	    Architectures</emphasis>.  Reading, Mass. :
	  Addison-Wesley, 1994.  ISBN 0-201-63338-8</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Stevens, W. Richard. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP Illustrated,
	    Volume 3: TCP for Transactions, HTTP, NNTP and the UNIX
	    Domain Protocols</emphasis>.  Reading, Mass. :
	  Addison-Wesley, 1996.  ISBN 0-201-63495-3
	  (訳注: 邦訳は以下のものが出版されています。
	  中本 幸一 / 石川 裕次 / 田中 伸佳 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">詳解 TCP/IP Vol.3: トランザクション
	    TCP, HTTP, NNTP, UNIX ドメインプロトコル</emphasis>,
	  アジソンウェスレイパブリッシャーズジャパン, 1998。
	  ISBN 4-8101-8039-5)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Vahalia, Uresh.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">UNIX Internals -- The New
	  Frontiers</emphasis>.	 Prentice Hall, 1996.  ISBN
	  0-13-101908-2
	  (訳注: 邦訳は以下のものが出版されています。
	  徳田 英幸 / 中村 明 / 戸辺 義人 / 津田 悦幸 訳。
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">最前線UNIXのカーネル</emphasis>,
	  ピアソンエデュケーション, 2000。
	  ISBN 4-89471-189-3)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Wright, Gary R. and W. Richard Stevens.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP Illustrated, Volume 2: The
	    Implementation</emphasis>.  Reading, Mass. :
	  Addison-Wesley, 1995.  ISBN 0-201-63354-X</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Messmer, Hans-Peter.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Indispensable PC
	    Hardware Book</emphasis>, 4th Ed. Reading, Mass :
	  Addison-Wesley Pub. Co., 2002.  ISBN 0-201-59616-4</para>
      </listitem>

    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティの参考資料</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Cheswick, William R. and Steven M. Bellovin.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Firewalls and Internet Security: Repelling the
	    Wily Hacker</emphasis>.  Reading, Mass. : Addison-Wesley,
	  1995.  ISBN 0-201-63357-4
	  (訳注: 邦訳は以下のものが出版されています。
	  川副 博 監訳。<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ファイアウォール</emphasis>。
	  ソフトバンク, 1995。
	  ISBN 4-89052-672-2)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Garfinkel, Simson.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">PGP Pretty Good
	    Privacy</emphasis> O'Reilly &amp; Associates, Inc., 1995.
	  ISBN 1-56592-098-8</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-hardware">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">ハードウェアの参考資料</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Anderson, Don and Tom Shanley.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Pentium
	    Processor System Architecture</emphasis>.  2nd Ed.
	  Reading, Mass. : Addison-Wesley, 1995.  ISBN
	  0-201-40992-5</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Ferraro, Richard F. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Programmer's Guide to the
	    EGA, VGA, and Super VGA Cards</emphasis>.  3rd ed.
	  Reading, Mass. : Addison-Wesley, 1995.  ISBN
	  0-201-62490-7</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Intel Corporation は、自社の CPU
	  やチップセットに関する文書を自社の
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://developer.intel.com/">開発者向け Web
	    サイト</link> で公開しています。文書のフォーマットは通常
	  PDF です。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Shanley, Tom. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">80486 System
	    Architecture</emphasis>.  3rd Ed. Reading, Mass. :
	  Addison-Wesley, 1995.  ISBN 0-201-40994-1</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Shanley, Tom. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ISA System
	    Architecture</emphasis>.  3rd Ed. Reading, Mass. :
	  Addison-Wesley, 1995.  ISBN 0-201-40996-8</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
 	<para xmlns:xlink="http://www.w3.org/1999/xlink">Shanley, Tom.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">PCI System
	    Architecture</emphasis>.  4th Ed. Reading, Mass. :
	  Addison-Wesley, 1999.  ISBN 0-201-30974-2</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Van Gilluwe, Frank.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The Undocumented
	    PC</emphasis>, 2nd Ed.  Reading, Mass: Addison-Wesley Pub.
	  Co., 1996.  ISBN 0-201-47950-8</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-history">
    <title xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> の歴史</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Lion, John <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Lion's Commentary on UNIX, 6th Ed.
	    With Source Code</emphasis>.  ITP Media Group, 1996.  ISBN
	  1573980137</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Raymond, Eric s. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The New Hacker's Dictionary,
	    3rd edition</emphasis>.  MIT Press, 1996.  ISBN
	  0-262-68092-0 これは <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.catb.org/~esr/jargon/html/index.html">ジャーゴンファイル
	    (Jargon File)</link> として知られています。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Saulus, Peter H.  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">A quarter century of
	    UNIX</emphasis>.  Addison-Wesley Publishing Company, Inc.,
	  1994.  ISBN 0-201-54777-5</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Simon Garfinkel, Daniel Weise, Steven Strassmann.
	  <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">The UNIX-HATERS Handbook</emphasis>.  IDG Books
	  Worldwide, Inc., 1994.  ISBN 1-56884-203-1.  絶版となりましたが、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.simson.net/ref/ugh.pdf">オンライン</link>
	  で入手できます。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Don Libes, Sandy Ressler <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Life with
	    UNIX</emphasis> ― special edition.  Prentice-Hall,
	  Inc., 1989.  ISBN 0-13-536657-7
	  (訳注: 邦訳は以下のものが出版されています。
	  坂本 文 監訳. <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Life with UNIX</emphasis>.
	  アスキー, 1990。
	  ISBN 4-7561-0783-4
	  邦訳が Special 版の訳出か否かは不明)</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">BSD 系 OS の系譜図</emphasis>。
	  <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://svnweb.freebsd.org/base/head/share/misc/bsd-family-tree?view=co">https://svnweb.freebsd.org/base/head/share/misc/bsd-family-tree?view=co</uri>
	  か、もしくは、FreeBSD マシンにある <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="file://localhost/usr/share/misc/bsd-family-tree"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/share/misc/bsd-family-tree</filename></link>。</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Networked Computer Science Technical Reports
	    Library</emphasis>.  <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ncstrl.org/">http://www.ncstrl.org/</uri></para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Computer Systems Research group (CSRG) からの古い
	    BSD リリース集</emphasis>。<uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.mckusick.com/csrg/">http://www.mckusick.com/csrg/</uri>:
	  この 4 枚 CD セットには、1BSD から 4.4BSD までと 4.4BSD-Lite2
	  が含まれます (残念ながら 2.11BSD は含まれていません)。
	  また 4 枚目の CD には、最終ソースおよび SCCS
	  ファイルが含まれています。</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bibliography-journals">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">定期刊行物、雑誌およびジャーナル</title>

    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.admin-magazin.de/">Admin
	    Magazin</link> (in German), published by
	  Medialinx AG. ISSN: 2190-1066</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.bsdmag.org/">BSD
	    Magazine</link>, published by Software Press Sp. z o.o.
	  SK. ISSN: 1898-9144</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.bsdnow.tv/">BSD Now
	    ― Video Podcast</link>, published by
	  Jupiter Broadcasting LLC</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://bsdtalk.blogspot.com/">BSD
	    Talk Podcast</link>, by Will Backman</para>
      </listitem>

      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://freebsdjournal.com/">FreeBSD
	    Journal</link>, published by S&amp;W
	  Publishing, sponsored by The FreeBSD Foundation.
	  ISBN: 978-0-615-88479-0</para>
      </listitem>
    </itemizedlist>
  </sect1>
</appendix>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r25211
     $FreeBSD$
-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="eresources">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">インターネット上のリソース</title>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">訳: 前田 幸範 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">yuki@jp.FreeBSD.org</email>、1996 年 8 月 28 日</emphasis></para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の進歩は急速であり、
    印刷したメディアは最新の開発をフォローするのに実用的ではありません。
    それだけしかない、というわけではありませんが、
    最新情報を入手する方法としては電子的なリソースがベストです。
    FreeBSD はボランティアの努力によって、ユーザコミュニティ自体が、
    一種の <quote xmlns:xlink="http://www.w3.org/1999/xlink">テクニカルサポート部門</quote> としての役割も通常果たしており、
    電子メールや Usenet
    のニュースがこれらのコミュニティにたどり着く最も効果的な方法になっています。</para>

  <para xmlns:xlink="http://www.w3.org/1999/xlink">以下に、FreeBSD
    ユーザコミュニティに連絡を取る場合の最も重要な点についての
    概略を示します。
    もしここに書かれていない他のリソースに気がついた場合は、それらを
    <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">FreeBSD documentation project メーリングリスト</link> に送って頂ければ、
    それらをここに含めるかもしれません。</para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-mail">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリスト</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">多くの FreeBSD の開発メンバは USENET を読むことができますが、
      もし、<literal xmlns:xlink="http://www.w3.org/1999/xlink">comp.unix.bsd.freebsd.*</literal>
      のグループの一つに質問を投稿したとしても
      タイムリにその質問を受け取るということは保証できません。
      質問を適切なメーリングリストに投稿すれば、
      私たちか FreeBSD の関係者から、よりよい
      (そして少なくともより早い)
      反応がいつでも得られることでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">さまざまなメーリングリストの憲章を
      このドキュメントの最後に記載します。<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">私たちは、
	メーリングリストの質、特に技術面に関する質を高く保つ
	ために努力しているので、
	メーリングリストに参加する前にその憲章を読んでください。
      </emphasis> 私たちのメーリングリストの参加者のほとんどは、
      現在非常 にたくさんの FreeBSD
      に関連したメッセージを毎日受け取っており、メーリン
      グリストに対するふさわしい
      用いられ方をするための憲章やルールを決めるこ とによって、
      メーリングリストの S/N 比を高くする保つように励んでいます。
      そうしないと、結果的に、メーリングリストがプロジェクトにとって
      事実上のコミュニケーションの手段になってしまうでしょう。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">どのメーリングリストに質問を投稿すべきか迷った場合には、
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/freebsd-questions">How to get best
      results from the FreeBSD-questions mailing list</link>
      をご覧ください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">どこのメーリングリストに投稿する場合でも、メーリングリストを
      最大限に活用する方法を理解しておいてください。
      たとえば、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/mailing-list-faq">Mailing
      List Frequently Asked Questions</link> (FAQ) 文書を読んで、
      繰り返し行われる議論を避ける方法を理解してください。</para>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストはいずれもアーカイブされており、それらは
      <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/search/index.html">FreeBSD World Wide Web
	server</link> で検索することができます。
      キーワード検索可能なアーカイブの提供は、
      良くある質問に対する回答を見つけるすぐれた方法ですから、
      質問を投稿する前に調べてみるべきでしょう。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-summary">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストの概説</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">一般的なメーリングリスト:</emphasis>
	以下のものは誰でも自由に参加できる (そしておすすめの)
	一般的なものです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">リスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">目的</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-advocacy">freebsd-advocacy</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の福音伝道</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-announce">freebsd-announce</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">重要なイベントやプロジェクトのマイルストン (モデレータ制)</entry>
	    </row>

 	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-arch">freebsd-arch</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">アーキテクチャ、設計に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bugbusters">freebsd-bugbusters</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
		障害報告データベースおよび関連するツールの管理に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bugs">freebsd-bugs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">バグレポート</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-chat">freebsd-chat</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
		コミュニティに関連する技術的ではない話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current">freebsd-current</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT の使用に関連する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isp">freebsd-isp</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD を用いている
		インターネットサービスプロバイダの話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-jobs">freebsd-jobs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 関連の雇用機会に関する話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions">freebsd-questions</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザからの質問と技術サポート</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security-notifications">freebsd-security-notifications</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティに関する通知 (モデレータ制)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable">freebsd-stable</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE の使用に関連する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-test">freebsd-test</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">メッセージの送信試験を行なうために、
                実際のメーリングリストの代わりに使うアドレス</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">技術的なメーリングリスト:</emphasis>
	以下のメーリングリストは、技術的な 議論のためのものです。
	それらの利用や内容のためにしっかりとしたガイドラ
	インがあるので、これらのメーリングリストに入ったり、
	どれか一つにメール を送ったりする前には、
	それらのメーリングリストの憲章を注意深く読むべきです。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">リスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">目的</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-acpi">freebsd-acpi</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ACPI および電源管理の開発</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-afs">freebsd-afs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD へのAFSの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/aic7xxx">freebsd-aic7xxx</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Adaptec</trademark> AIC 7xxx 用ドライバの開発</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-alpha">freebsd-alpha</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の Alpha への移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-amd64">freebsd-amd64</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の AMD64 システムへの移植 (モデレータ制)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-apache">freebsd-apache</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Apache</application>
		に関連した ports についての議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-arm">freebsd-arm</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">ARM</trademark> プロセッサへの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-atm">freebsd-atm</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD での ATM ネットワーク使用に関する話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bluetooth">freebsd-bluetooth</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD で <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark> 技術の使用</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-cluster">freebsd-cluster</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のクラスタ環境での利用</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-cvsweb">freebsd-cvsweb</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">CVSweb の管理</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-database">freebsd-database</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
		上でのデータベースの利用や開発に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-desktop">freebsd-desktop</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップでの FreeBSD の利用や改良について</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">freebsd-doc</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 関連ドキュメントの作成</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-emulation">freebsd-emulation</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Linux/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MS-DOS</trademark>/<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark>
		のような他のシステムのエミュレーション</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-firewire">freebsd-firewire</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">FireWire</trademark> (iLink, IEEE 1394)
		に関する技術的な議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-fs">freebsd-fs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-geom">freebsd-geom</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">GEOM に関連した議論と実装</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-gnome">freebsd-gnome</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> および
		<application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application> アプリケーションの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers">freebsd-hackers</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">一般的な技術の議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hardware">freebsd-hardware</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の走るハードウェアの一般的な議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-i18n">freebsd-i18n</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の国際化</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ia32">freebsd-ia32</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の IA-32 (<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> x86) プラットフォームへの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ia64">freebsd-ia64</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> が開発中の
		IA64 システムへの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-infiniband">freebsd-infiniband</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD での Infiniband の使用</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ipfw">freebsd-ipfw</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">IP firewall コードの再設計に関する技術的議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isdn">freebsd-isdn</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ISDN 開発者</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-java">freebsd-java</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> 開発者や、FreeBSD へ <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">JDK</trademark>
		を移植する人たち</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://mail.kde.org/mailman/listinfo/kde-freebsd">freebsd-kde</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> および
		<application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application> アプリケーションの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-lfs">freebsd-lfs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">LFS の FreeBSD への移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-mips">freebsd-mips</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">MIPS</trademark> への移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-mobile">freebsd-mobile</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">モーバイルコンピューティングについての議論</entry>
	    </row>

 	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-new-bus">freebsd-new-bus</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">バスアーキテクチャに関する技術的な議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-net">freebsd-net</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークおよび TCP/IP
		ソースコードに関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-numerics">freebsd-numerics</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">高品質な libm 機能の実装に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-office">freebsd-office</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でのオフィスアプリケーションについて</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-performance">freebsd-performance</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ハイパフォーマンス /
		高負荷での導入のためのパフォーマンスチューニングに関する質問</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-perl">freebsd-perl</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">数多く存在する Perl に関連する port
	        の管理について</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-pkg">freebsd-pkg</link></entry>
		<entry xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ package 管理および
		package ツールについての議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-pf">freebsd-pf</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタファイアウォールシステムに関する議論および質問</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-platforms">freebsd-platforms</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark>
		以外のアーキテクチャのプラットフォームへの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">freebsd-ports</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports-announce">freebsd-ports-announce</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection に関する重要なニュースと案内
		(モデレータ制)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports-bugs">freebsd-ports-bugs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports のバグや PR についての議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ppc">freebsd-ppc</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PowerPC</trademark> への移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-proliant">freebsd-proliant</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">HP ProLiant サーバプラットフォーム上での FreeBSD
		に関する技術的な議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-python">freebsd-python</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 固有の Python に関する話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-qa">freebsd-qa</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">品質保証 (通常はリリースの保留) についての議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-rc">freebsd-rc</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">rc.d</filename>
		システムおよび開発に関連した議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-realtime">freebsd-realtime</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 用のリアルタイム拡張の開発に関する話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-scsi">freebsd-scsi</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">SCSI サブシステム</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security">freebsd-security</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティに関する話題</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-small">freebsd-small</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">組み込みアプリケーションにおける FreeBSD の利用</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-smp">freebsd-smp</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">対称 / 非対称の
		マルチプロセッシングの設計に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-snapshots">freebsd-snapshots</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 開発スナップショットのアナウンス</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-sparc64">freebsd-sparc64</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC</trademark> ベースシステムへの移植</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-standards">freebsd-standards</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">C99 および <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">POSIX</trademark> 標準への FreeBSD の適合について</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-threads">freebsd-threads</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 固有の Tcl/Tk に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-threads">freebsd-threads</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のスレッドについて</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-tokenring">freebsd-tokenring</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でのトークンリングのサポート</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-usb">freebsd-usb</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の USB 対応に関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-vuxml">freebsd-vuxml</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">VuXML インフラストラクチャに関する議論</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-x11">freebsd-x11</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD での X11 のメンテナンスとサポート</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-xfce">freebsd-xfce</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">XFCE</application> の FreeBSD への移植や保守について</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-zope">freebsd-zope</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><application xmlns:xlink="http://www.w3.org/1999/xlink">Zope</application> の FreeBSD への移植や保守について</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">制限されているメーリングリスト:</emphasis>
	以下のメーリングリストはより特化された (そしてより厳しい)
	メンバーのためのものであり、一般的な興味を惹くようなものでは
	ありません。
	このようなメーリングリストに参加する前に、技術的なメーリングリストで
	自らの存在感をアピールするのは良い考えです。
	そうすることにより、議論の際のエチケットを学ぶことができるでしょう。
      </para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="2">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">目的</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hubs">freebsd-hubs</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ミラーサイトを運営している人達
		(基盤のサポート)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-user-groups">freebsd-user-groups</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザグループの調整</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストのダイジェスト版:</emphasis>
	上述のメーリングリストのすべてでダイジェスト版を利用できます。
	メーリングリストに登録すると、アカウントのオプションセクションで、
	ダイジェストのオプションを変更できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">SVN メーリングリスト:</emphasis>
	以下のメーリングリストはソースツリーの
	さまざまな場所の変更のログメッセージを見ることに
	興味のある人向けです。
	これらは<emphasis xmlns:xlink="http://www.w3.org/1999/xlink">読み専用</emphasis>のリストで、
	これらにメールを送る事は出来ません。</para>

      <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
	<tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="3">
	  <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリスト</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ソースの範囲</entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">(ソースの) 範囲の説明</entry>
	    </row>
	  </thead>

	  <tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all">svn-doc-all</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc subversion リポジトリへ加えられたすべての変更
		(<filename xmlns:xlink="http://www.w3.org/1999/xlink">user</filename>, <filename xmlns:xlink="http://www.w3.org/1999/xlink">projects</filename>
	        および <filename xmlns:xlink="http://www.w3.org/1999/xlink">translations</filename> を除く)</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-head">svn-doc-head</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc subversion リポジトリの <quote xmlns:xlink="http://www.w3.org/1999/xlink">head</quote>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-projects">svn-doc-projects</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc/projects</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">projects</filename>
		に加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-svnadmin">svn-doc-svnadmin</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/doc</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc subversion リポジトリの管理用スクリプト、
		フックおよび他のコンフィグレーションデータに対して加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all">svn-ports-all</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports subversion リポジトリへ加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-head">svn-ports-head</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports subversion リポジトリの <quote xmlns:xlink="http://www.w3.org/1999/xlink">head</quote>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-svnadmin">svn-ports-svnadmin</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">ports subversion リポジトリの管理用スクリプト、
		フックおよび他のコンフィグレーションデータに対して加えられたすべての変更</entry>
	    </row>

 	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">doc subversion リポジトリへ加えられたすべての変更
		(<filename xmlns:xlink="http://www.w3.org/1999/xlink">user</filename> および <filename xmlns:xlink="http://www.w3.org/1999/xlink">projects</filename>
	        を除く)</entry>
	    </row>

 	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-head">svn-src-head</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <quote xmlns:xlink="http://www.w3.org/1999/xlink">head</quote>
		ブランチ (FreeBSD-CURRENT ブランチ) に加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-projects">svn-src-projects</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/projects</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">projects</filename>
		に加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-release">svn-src-release</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">releases</filename>
		に加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-releng">svn-src-releng</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">releng</filename>
		ブランチ (セキュリティ / リリースエンジニアリングブランチ)
		に加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable">svn-src-stable</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリのすべての stable
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-6">svn-src-stable-6</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/6</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-7">svn-src-stable-7</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/7</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-8">svn-src-stable-8</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/8</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-9">svn-src-stable-9</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/9</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-10">svn-src-stable-10</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable/10</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-stable-other">svn-src-stable-other</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの古い <filename xmlns:xlink="http://www.w3.org/1999/xlink">stable</filename>
		ブランチに加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-svnadmin">svn-src-svnadmin</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの管理用スクリプト、
		フックおよび他のコンフィグレーションデータに対して加えられたすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-user">svn-src-user</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの <filename xmlns:xlink="http://www.w3.org/1999/xlink">user</filename>
		に加えられた実験的なすべての変更</entry>
	    </row>

	    <row xmlns:xlink="http://www.w3.org/1999/xlink">
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-vendor">svn-src-vendor</link></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/src</filename></entry>
	      <entry xmlns:xlink="http://www.w3.org/1999/xlink">src subversion リポジトリの vender
		に加えられたすべての変更</entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-subscribe">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">参加方法</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストに参加するには、上記のリストをクリックするか、
	<link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo">http://lists.FreeBSD.org/mailman/listinfo</link>
	に進んで興味を持っているメーリングリストをクリックしてください。
	メーリングリストのページには、登録に必要な手順が書かれています。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストにメールを送るには、ただ
	<email xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">listname</replaceable>@FreeBSD.org&gt;</email>
	にメールを送るだけです。すると、
	メーリングリストに登録されている世界中のメンバに再配布されます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストから登録を解除する場合は、
	メーリングリストで配信されているメールの最後にある
	URL をクリックしてください。
	または、
	<email xmlns:xlink="http://www.w3.org/1999/xlink"><replaceable xmlns:xlink="http://www.w3.org/1999/xlink">listname</replaceable>-unsubscribe@FreeBSD.org</email>
	にメールを送信することでも登録を解除できます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">再度言いますが、
	私たちは技術的なメーリングリストでは技術的な議論を保つよう
	要求します。もし、重要なアナウンスにのみ興味があるなら、
        <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-announce">FreeBSD announcements メーリングリスト</link> への参加をお勧めします。
	これには、あまりたくさんのメールは流れません。</para>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-charters">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストの憲章</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">すべて</emphasis> FreeBSD
	メーリングリストは誰でもそれらを利用することに
	固守しなければいけないという一定の簡単なルールがあります。
	これらのルールに従わないと、結果として FreeBSD の Postmaster
	<email xmlns:xlink="http://www.w3.org/1999/xlink">postmaster@FreeBSD.org</email>から 2 回までは警
	告を受けます。3 回違反すると、
	投稿者はすべての FreeBSD のメーリングリストから削除され、
	そのメーリングリストへのさらなる投稿から締め出されるでしょう。
	これらのルールや対策が必要なのは残念です。
	しかし、今日のインターネッ
	トはずいぶんいやらしい環境になっており、一般の人々は、
	その (対策の) メカニズムがいかにもろいかという事すら
	認識する事が出来ていないと思われます。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">道標</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">いかなる投稿記事もそのメーリングリストの
	    基本的な憲章を守るべきです。たとえば、
	    そのメーリングリストが技術的な問題に関するものであれば、
	    技術的な議論を含む投稿でなければなりません。現在継続中の
	    不適切な憲章やフレイムは、
	    所属しているすべての人に対してメーリングリスト
	    の価値を下げてしまうだけですし、
	    許される行為ではないでしょう。
	    とくに話題のない自由形式の議論に対しては <link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-chat">FreeBSD chat メーリングリスト</link>
	    が自由に認可されているので、
	    かわりに使うべきでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">一度に 3
	    つ以上のメーリングリストには決して投稿すべきでは
	    ありません。2
	    つのメーリングリストには双方に明確な必要性がある場合にのみ
	    投稿すべきです。どのリストに対しても、
	    (メーリングリストの)参加者は (複数のメーリングリ
	    ストに)重複して参加しており、関連する部分が少ない (たとえば、
	    <quote xmlns:xlink="http://www.w3.org/1999/xlink">-stable</quote> と <quote xmlns:xlink="http://www.w3.org/1999/xlink">-scsi</quote>) メーリングリストを除いては、
	    一度に複数のメーリングリストに投稿する理由は全くありません。もし、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Cc</literal> に複数の メーリングリストがそのような形で現れて、
	    あなたに届いたのであれば、再びそのメールに返事を出す前に、
	    <literal xmlns:xlink="http://www.w3.org/1999/xlink">Cc</literal> の部分もまた編集するべきです。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">元記事を書いたのが誰であっても、
	      あなた自身のクロスポストにまだ責任があります。
	    </emphasis></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">ユーザであれ開発者であれ、(議論の中で)
	    個人を攻撃したり冒涜したりすることは許されません。
	    個人的なメールを引用したり再投稿したり
	    する許可をもらえなかったり、もらえそうにない時に、
	    それをおこなう ようなネチケット (訳注:
	    ネットワークにおけるエチケット) に対する
	    ひどい違反は好まれませんが、
	    してはならないと特別に定められている わけではありません。
	    <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">しかしながら</emphasis>、そのような内容がメー
	    リングリストの憲章に沿う場合はほとんどありません。
	    このため、メー
	    リングリストの憲章に違反しているということだけで警告
	    (または禁止) に値するものと考えていいでしょう。</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 以外の関連する製品やサービスの広告は、
	    絶対に禁止し、spam
	    による違反者が宣伝していることが明確であったら、
	    すぐに禁止します。</para>
	</listitem>
      </itemizedlist>

      <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">個々のメーリングリストの憲章:</emphasis></para>

      <variablelist xmlns:xlink="http://www.w3.org/1999/xlink">

 	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-acpi">freebsd-acpi</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ACPI および電源管理開発</emphasis></para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-afs">freebsd-afs</link></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Andrew ファイルシステム</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このリストは、CMU/Transarc の AFS
	      の移植や使用に関する議論のためです．</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-announce">freebsd-announce</link></term>
	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><filename xmlns:xlink="http://www.w3.org/1999/xlink">重要なイベント/マイルストン</filename></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、単にたまに発表される重要な freebsd
	      のイベントに関心がある人のた めのメーリングリストです。
	      これは、スナップショットやその他のリリースに
	      ついてのアナウンスを含みます。
	      そのアナウンスは新しい FreeBSD の機能のア
	      ナウンスを含んでいます。
	      ボランティア等の呼びかけがあるかもしれません。
	      これは流通量の少ないメーリングリストで、
	      完全なモデレートメーリングリストです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-arch">freebsd-arch</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">アーキテクチャと設計の議論</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、FreeBSD
              のアーキテクチャに関する議論を行なうためのメーリングリストです。
              当然、その内容は原則的に技術的なものに限定されます。
              このメーリングリストにふさわしい話題は以下のようなものです。
	    </para>

	    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">複数のカスタマイズされたビルドを同時に行うには、
		  ビルドシステムをどういじり直せばよいか</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">VFS で Heidemann レイヤを動作させるには、
		  何を修正する必要があるか</para>
	      </listitem>

	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">同一のデバイスドライバを多数のバス、
                  アーキテクチャに共通で使えるようにするには、
		  デバイスドライバインタフェースをどう改変すれば良いか</para>
	      </listitem>

	      <!-- kuriyama - 不適切な話題の例: -->
	      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
		<para xmlns:xlink="http://www.w3.org/1999/xlink">ネットワークドライバの書き方</para>
	      </listitem>
	    </itemizedlist>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bluetooth">freebsd-bluetooth</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 上での <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark></emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark> ユーザが集まるフォーラムです。
	      デザイン、実装の詳細、パッチ、障害報告、開発進捗レポート、
	      機能の要求、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Bluetooth</trademark> に関連したすべての事柄が対象です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bugbusters">freebsd-bugbusters</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">障害報告の取り扱いに関する調整</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、
	      バグマイスター、バグバスター、および他の障害報告データベースに純粋に興味を持っているグループの調整や議論についてのフォーラムです。
	      このメーリングリストは、個別のバグ、パッチ、障害報告について議論を行うためのものではありません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-bugs">freebsd-bugs</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バグレポート</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、FreeBSD
	      のバグレポートのためのメーリングリストです。可能である
	      場合はいつでも、バグは <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">send-pr</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry>
	      を使うか、<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/send-pr.html">WEB
		interface</link>を用い
	      て送られる必要があります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-chat">freebsd-chat</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のコミュニティに関する
		技術的ではない話題</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは技術的ではなく、
	      社会的な情報について、
	      他のメーリングリストでは取り扱わない話題を含みます。
	      これは、Jordan がシロイタチに似ているかどうか、
	      大文字で打つかどうか、誰がたくさんコーヒーを飲むか、
	      どこのビールが一番うまいか、
	      誰が地下室でビールを作っているか、
	      などについての議論を含みます。時々重要なイベント
	      (将来開催されるパーティーや、結婚式、誕生日、
	      新しい仕事など) のお知らせが、
	      技術的なメーリングリストから でてきます。しかし、
	      フォローは直接
	      -chatメーリングリストにするべきです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-core</term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD コアチーム</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、コアメンバが使う内部メーリングリストです。
	      FreeBSD に関連する深刻なやっかい事の裁定や
	      ハイレベルな綿密な調査を要求するときに、このメー
	      リングリストにメッセージを送る事が出来ます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-current">freebsd-current</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CURRENT の使用に関する議論
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD-CURRENT
	      のユーザのためのメーリングリストです。
	      メーリングリストでの話題は、-CURRENT
	      で登場した新しい機能について、
	      その新機能によってユーザに影響することについての注意、
	      および -CURRENT
	      のままでいるために必要な手順についての説明を含みます。
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">CURRENT</quote>
	      を走らせている人はこのメーリングリストに
	      登録しなくてはなりません。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-cvsweb">freebsd-cvsweb</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD CVSweb プロジェクト</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-CVSweb
	      の利用、開発および管理についての技術的な議論の場です。</para>
 	  </listitem>
 	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-desktop">freebsd-desktop</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップでの FreeBSD の利用や改良について</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">デスクトップでの FreeBSD について議論を行うためのフォーラムです。
	      主として、デスクトップの移植者やユーザが FreeBSD
	      のデスクトップサポートに関する問題点や改良について議論する場です。</para>
 	  </listitem>
 	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">freebsd-doc</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ドキュメンテーションプロジェクト</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは FreeBSD
              向けの文書の作成に関連する事柄やプロジェクトについて議論を行なうためのものです。
	      このメーリングリストに参加しているメンバは、
              <quote xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ドキュメンテーションプロジェクト</quote>
	      に参加していることになります。
	      このメーリングリストは公開されているので、
              参加や投稿は自由に行なうことができます。</para>
	  </listitem><!-- kuriyama - strange translation -->
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-firewire">freebsd-firewire</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">FireWire</trademark> (iLink, IEEE 1394)</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、FreeBSD における
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">FireWire</trademark> (IEEE 1394, iLink)
	      サブシステムの設計と実装について議論を行うためのものです。
	      標準化、バスデバイスとそのプロトコル、
	      アダプタボード/カード/チップセット、そして、
	      それらに適切に対応するためのアーキテクチャとコードの実装が特に関連するトピックです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-fs">freebsd-fs</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ファイルシステム</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のファイルシステムに関する議論
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-geom">freebsd-geom</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">GEOM</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">GEOM および関連した実装に関する議論。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容が要求されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-gnome">freebsd-gnome</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の <application xmlns:xlink="http://www.w3.org/1999/xlink">GNOME</application>
	      Desktop Environment に関する議論。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-infiniband">freebsd-infiniband</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD での Infiniband の使用</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における Infiniband, OFED および OpenSM
	    に関する技術的なメーリングリストです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ipfw">freebsd-ipfw</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">IP Firewall</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD の IP firewall コードの再設計に関する
	      技術的な議論のためのフォーラムです。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ia64">freebsd-ia64</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の IA64 への移植</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> の IA-64 プラットフォームへの
	    移植に参加している人達のための技術的なメーリングリストで、
	    問題を提起し解決策を議論するためのものです。
	    このような技術的な議論に興味を持つ個人は歓迎します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isdn">freebsd-isdn</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ISDN コミュニケーション</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、
	      FreeBSD に対する ISDN サポートの開発の議論を
	      おこなう人のためのものです．</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-java">freebsd-java</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> の開発</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、FreeBSD
	      向けの重要な <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">Java</trademark> アプリケーションの開発や、<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">JDK</trademark>
	      の移植やメンテナンスの
	      議論をする人のためのものです．</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-charters-jobs">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-jobs">freebsd-jobs</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">求人情報および就職希望情報</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
	      に関連した就職情報および履歴書を投稿するためのフォーラムです。
	      例えば、もし、FreeBSD に関連した職業を探していたり、
	      FreeBSD に関連した仕事をお持ちで、
	      宣伝したいと考えているのであれば、ここに投稿してください。
	      このメーリングリストは一般的な就職情報のためのものでは
	      <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ありません</emphasis>。
	      一般的な就職情報については、
	      既に別な場所に適切なフォーラムがあるので、
	      そちらに投稿してください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">他の <systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>
	      メーリングリスト同様に、
	      このメーリングリストは全世界に配信されます。
	      そのため、地域および在宅勤務なのか、
	      移転のための支援を受けられるかどうかを明確にしてください。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">メールでは、オープンフォーマットのみを使う必要があります。
	      ― プレインテキストが好ましいのですが、
	      多くの読者は、
	      Portable Document Format (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym>),
	      HTML および他にもいくつかのフォーマットを使用できるでしょう。
	      <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Microsoft</trademark> Word (<filename xmlns:xlink="http://www.w3.org/1999/xlink">.doc</filename>)
	      のようなクローズドフォーマットは、
	      メーリングリストのサーバにより拒否されてしまいます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://mail.kde.org/mailman/listinfo/kde-freebsd">freebsd-kde</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">KDE</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD システムにおける <application xmlns:xlink="http://www.w3.org/1999/xlink">KDE</application>
	      に関する議論。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hackers">freebsd-hackers</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">技術的な議論</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD に関する技術的な議論のための
	      フォーラムです。
	      これは最もテクニカルなメーリングリストです。
	      このメーリングリストは、FreeBSD
	      上でアクティブに活動をしている人のためのもので、
	      問題を持ち出したり、代わりの解決法を議論します。
	      技術的な議論をフォローするのに興味がある人も歓迎します。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hardware">freebsd-hardware</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のハードウェアの一般的な議論
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD が走っているハードウェアのタイプや、
	      何を買ったり避けたりするかに関する様々な問題や、
	      提案に関する議論。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-hubs">freebsd-hubs</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ミラーサイト</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD ミラーサイトを運用している人達向けの、
              アナウンスと議論を行なうメーリングリストです。
            </para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-isp">freebsd-isp</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">
		インターネットサービスプロバイダのについての話題
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、
	      FreeBSD を用いたインターネット サービスプロバイダ (ISP)
	      に関する話題の議論のためのものです。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-office">freebsd-office</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD でのオフィスアプリケーション</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD におけるオフィスアプリケーションのインストール、
	      開発およびサポートについての議論の場です。</para>
	   </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ops-announce">freebsd-ops-announce</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">プロジェクトのインフラストラクチャに関するアナウンス</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD.org
	      プロジェクトのインフラストラクチャの変更や関連した問題について興味を持っている向けのメーリングリストです。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このモデレートメーリングリストは、アナウンスに制限されています
	      (返答や要求、議論、意見を述べる場ではありません)。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-performance">freebsd-performance</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD
		のチューニングや速度向上に関する議論</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、ハッカー、管理者および関連グループが、
	      FreeBSD のパフォーマンスに関するトピックを議論する場です。
	      このメーリングリストで議論されるべきトピックは、
	      高負荷における FreeBSD の導入において経験するパフォーマンスの問題や
	      FreeBSD の限界に挑むような話題を含みます。
	      FreeBSD のパフォーマンスを改善したいと考えている方は、
	      このメーリングリストに登録してください。
	      このメーリングリストは、FreeBSD の高速化、
	      堅牢さ、拡張性に興味をもっている、経験のある
	      FreeBSD ユーザ、ハッカー、管理者向けの高度な技術的メーリングです。
	      ドキュメントに目を通さずに質問して答えを求めるような
	      Q and A タイプのメーリングリストではなく、
	      未解決で答えのないパフォーマンスに関連したトピックへの貢献や問い合わせの場です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-pkg">freebsd-pkg</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">バイナリ package 管理および
	      package ツールについての議論</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">ソフトウェアのインストールにバイナリ package を用いる
	      FreeBSD システム管理のすべての側面に関する議論。
	      バイナリ package のツールキットとフォーマット、
	      それらの FreeBSD における開発とサポート、
	      package リポジトリ管理そしてサードパーティ製 package を含みます。</para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">package の作成に失敗する ports に関する議論は
	      ports の問題として考えるべきであり、
	      このメーリングリストで議論することは適切ではありません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-pf">freebsd-pf</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">パケットフィルタファイアウォールシステムに関する議論および質問</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のパケットフィルタ (pf)
	      ファイアウォールシステムに関連した議論。
	      技術的な議論およびユーザによる質問の両方が歓迎されます。
	      このメーリングリストは、ALTQ QoS
	      フレームワークについて議論する場でもあります。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-platforms">freebsd-platforms</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark> 以外のプラットフォームへの移植
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">クロスプラットフォームの FreeBSD の問題。<trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Intel</trademark>
	      以外のプラットフォームへの FreeBSD
	      の移植についての一般的な議論や提案。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">freebsd-ports</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">ports</quote> の議論</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD <quote xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection</quote>
	      (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>)
              に関連する話題や、
              Ports Collection の基盤および ports の一般的な構成の整備活動に関する議論。
	      これは技術的なメーリングリストなので、
	      厳密に技術的な内容のみが扱われます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports-announce">freebsd-ports-announce</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD <quote xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection</quote>
		に関する重要なニュースと案内</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection</quote> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>) の開発者、
	      作成者およびユーザへの重要なニュース。
	      アーキテクチャ/インフラストラクチャの変更、新しい機能、
	      重要なアップグレードの案内、
	      そしてリリースエンジニアリング情報が扱われます。
	      このメーリングリストの流量は少なく、
	      アナウンスを目的としたものです。</para>
	  </listitem>
	</varlistentry>

 	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports-bugs">freebsd-ports-bugs</link></term>

 	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">ports</quote>
		のバグに関する議論</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><quote xmlns:xlink="http://www.w3.org/1999/xlink">Ports Collection</quote> (<filename xmlns:xlink="http://www.w3.org/1999/xlink">/usr/ports</filename>) の障害報告や
	      新たな ports や変更についての提案についての議論。
	      これは技術的なメーリングリストなので、
	      厳密に技術的な内容のみが扱われます。</para>
 	  </listitem>
 	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-proliant">freebsd-proliant</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">HP ProLiant サーバプラットフォーム上での FreeBSD
		に関する技術的な議論</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、HP ProLiant サーバ上での FreeBSD
	      の利用に関した技術的な議論に用いられます。
	      ProLiant に特有のドライバ、管理ソフトウェア、設定ツール、および
	      BIOS アップデートなどが含まれます。
	      hpasmd, hpasmcli および hpacucli
	      モジュールについて議論する主要な場です。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-python">freebsd-python</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における Python</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD における Python
	      サポートの改良に関連した議論を行うためのメーリングリストです。
	      これは技術的なメーリングリストです。
	      Python の移植に関する作業を行っている方や、
	      サードパーティ製モジュールおよび
	      <application xmlns:xlink="http://www.w3.org/1999/xlink">Zope</application> を FreeBSD
	      に移植している方を対象としたメーリングリストです。
	      技術的な議論に興味を持っている方の参加も歓迎されます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions">freebsd-questions</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザからの質問</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD に関する質問のためのメーリングリストです。
	      その質問がかなり技術的だと思わないのであれば、
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">どのようにして</quote>
	      という質問を技術的なメーリングリストに送るべきではありません。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-scsi">freebsd-scsi</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">SCSI サブシステム</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD のための SCSI
	      サブシステムについて作業している人向けです。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security">freebsd-security</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティの関連の話題</emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD コンピュータのセキュリティの話題 (DES,
	      Kerberos, よく知られているセキュリティホールや、
	      それらのふさぎ方など)
	      これは技術的なメーリングリストなので、
	      完全に技術的な議論を要求します。
	      これは、Q and A のメーリングリストではありません。
	      FAQ に対する Q and A (質問と答えの両方) の貢献は、歓迎されます。
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-security-notifications">freebsd-security-notifications</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティ関連の通知</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のセキュリティ問題や、
	      修正に関する通知を行ないます。
	      このメーリングリストは議論を行なうための
	      メーリングリストではありません。
              議論は FreeBSD-security で行ないます。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-small">freebsd-small</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">組み込み用に FreeBSD を使う</emphasis></para>

            <para xmlns:xlink="http://www.w3.org/1999/xlink">特殊な FreeBSD 小型システムおよび FreeBSD
	      の組み込み技術に関する議論。
	      これは技術的なメーリングリストなので、
	      完全に技術的な内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-snapshots">freebsd-snapshots</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD 開発スナップショットのアナウンス
	      </emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">このメーリングリストは、head/ および stable/
	      ブランチからの新しい FreeBSD 開発スナップショットのアナウンスを行います。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-stable">freebsd-stable</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD-STABLE の使用に関する議論
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは FreeBSD-STABLE のユーザ用のメーリングリスト
	      です。メーリングリストでの話題は、-STABLE
	      で登場した新しい機能について、
	      その新機能によってユーザに影響することについての注意、
	      および -STABLE
	      のままでいるために必要な手順についての説明を含みます。
	      <quote xmlns:xlink="http://www.w3.org/1999/xlink">STABLE</quote> を走らせている人はこの
	      メーリングリストに登録すべきです。
	      これは技術的なメーリングリストなので、完全に技術的な
	      内容を要求します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-standards">freebsd-standards</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">C99 &amp; POSIX への適合</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">C99 および POSIX 標準への FreeBSD
	      の適合に関連した技術的な議論を行うためのフォーラムです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-usb">freebsd-usb</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD の USB 対応に関する議論</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、FreeBSD の USB
	      対応に関連した議論を行うメーリングリストです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-user-groups">freebsd-user-groups</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">ユーザグループの調整のメーリングリスト
	      </emphasis></para>
	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、ローカルなユーザグループがお互いに、または、
	      コアチームが指定した個人と問題を議論する、
	      それぞれのローカルエリアのユーザグループからの
	      調整人向けの メーリングリストです。
	      このメーリングリストはユーザグループ間の
	      ミーティングの概要やプロジェクトの調整に
	      制限されるべきです。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-xfce">freebsd-xfce</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">XFCE</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、<application xmlns:xlink="http://www.w3.org/1999/xlink">XFCE</application> 環境を
	      FreeBSD へ移植することを議論する、技術的なメーリングリストです。
	      活発に <application xmlns:xlink="http://www.w3.org/1999/xlink">XFCE</application> を FreeBSD
	      に移植する作業を行なっている人に向けたもので、
	      問題を提起したり、新しい解決法を議論することを目的としています。
	      技術的な議論に興味を持っている方の参加も歓迎します。</para>
	  </listitem>
	</varlistentry>

	<varlistentry xmlns:xlink="http://www.w3.org/1999/xlink">
	  <term xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-zope">freebsd-zope</link></term>

	  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	    <para xmlns:xlink="http://www.w3.org/1999/xlink"><emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Zope</emphasis></para>

	    <para xmlns:xlink="http://www.w3.org/1999/xlink">これは、<application xmlns:xlink="http://www.w3.org/1999/xlink">Zope</application> 環境を
	      FreeBSD へ移植することを議論する、技術的なメーリングリストです。
	      活発に <application xmlns:xlink="http://www.w3.org/1999/xlink">Zope</application> を FreeBSD
	      に移植する作業を行なっている人に向けたもので、
	      問題を提起したり、新しい解決法を議論することを目的としています。
	      技術的な議論に興味を持っている方の参加も歓迎します。</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-mailfiltering">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストのフィルタリング</title>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD のメーリングリストは、スパム、
	ウィルスおよび他の不要なメールを配布してしまわないよう、
	いくつかの方法でフィルタリングを行なっています。
	この節で説明するフィルタリングは、
	メーリングリストを守るために使われている方法のすべてというわけではありません。</para>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">メーリングリストでは、以下の添付ファイルを送ることができます。
	以下の一覧以外の MIME content type の添付ファイルを含むファイルは、
	メーリングリストに流れる前に取り除かれます。</para>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">application/octet-stream</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">application/pdf</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">application/pgp-signature</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">application/x-pkcs7-signature</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">message/rfc822</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">multipart/alternative</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">multipart/related</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">multipart/signed</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">text/html</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">text/plain</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">text/x-diff</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink">text/x-patch</para>
	</listitem>
      </itemizedlist>

      <note xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">他の MIME content type の添付を許可するメーリングリストもありますが、
	  上の一覧に含まれるものであれば、ほとんどのメーリングリストで適用できます。</para>
      </note>

      <para xmlns:xlink="http://www.w3.org/1999/xlink">HTML と plain テキストを両方含むメールでは、
	HTML の部分が削除されます。
	HTML のみを含むメールは、plain テキストに変換されます。</para>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-news">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Usenet ニュースグループ</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">2 つの FreeBSD 用のニュースグループがあります。ここでは
      FreeBSD の議論をするたくさんの様々な人がおり、
      他にも FreeBSD に関連するユーザがいます。</para>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">BSD 用のニュースグループ</title>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.bsd.freebsd.announce">comp.unix.bsd.freebsd.announce</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.bsd.freebsd.misc">comp.unix.bsd.freebsd.misc</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:de.comp.os.unix.bsd">de.comp.os.unix.bsd</link> (ドイツ)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:fr.comp.os.bsd">fr.comp.os.bsd</link> (フランス)</para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:it.comp.os.freebsd">it.comp.os.freebsd</link> (イタリア)</para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">関連する他の <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> のニュースグループ</title>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix">comp.unix</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.questions">comp.unix.questions</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.admin">comp.unix.admin</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.programmer">comp.unix.programmer</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.shell">comp.unix.shell</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.user-friendly">comp.unix.user-friendly</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.security.unix">comp.security.unix</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.sources.unix">comp.sources.unix</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.advocacy">comp.unix.advocacy</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.misc">comp.unix.misc</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.unix.bsd">comp.unix.bsd</link></para>
	</listitem>
      </itemizedlist>
    </sect2>

    <sect2 xmlns:xlink="http://www.w3.org/1999/xlink">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">X Window システム</title>

      <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.i386unix">comp.windows.x.i386unix</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x">comp.windows.x</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.apps">comp.windows.x.apps</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.announce">comp.windows.x.announce</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.intrinsics">comp.windows.x.intrinsics</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.motif">comp.windows.x.motif</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.windows.x.pex">comp.windows.x.pex</link></para>
	</listitem>

	<listitem xmlns:xlink="http://www.w3.org/1999/xlink">
	  <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="news:comp.emulators.ms-windows.wine">comp.emulators.ms-windows.wine</link></para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-web">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">World Wide Web サイト</title>

    
<para xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook"><link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="central-www">中央サーバ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ie-www">アイルランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-us-www">アメリカ合衆国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-am-www">アルメニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-uk-www">イギリス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-au-www">オーストラリア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-at-www">オーストリア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-nl-www">オランダ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ca-www">カナダ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ch-www">スイス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-se-www">スウェーデン</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-es-www">スペイン</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-si-www">スロベニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-cz-www">チェコ共和国</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-dk-www">デンマーク</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-de-www">ドイツ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-no-www">ノルウェー</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-fi-www">フィンランド</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-fr-www">フランス</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-lv-www">ラトビア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-lt-www">リトアニア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-ru-www">ロシア</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-hk-www">香港</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-tw-www">台湾</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-za-www">南アフリカ</link>, <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="mirrors-jp-www">日本</link>.</para>


    
<para xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">(  UTC 現在)</para>


    
<itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://docbook.org/ns/docbook">
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="central-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">中央サーバ</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/">http://www.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-ie-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">アイルランド</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ie.FreeBSD.org/">http://www.ie.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-us-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">アメリカ合衆国</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www5.us.FreeBSD.org/">http://www5.us.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-am-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">アルメニア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www1.am.FreeBSD.org/">http://www1.am.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-uk-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">イギリス</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www1.uk.FreeBSD.org/">http://www1.uk.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www3.uk.FreeBSD.org/">http://www3.uk.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-au-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">オーストラリア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.au.FreeBSD.org/">http://www.au.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.au.FreeBSD.org/">http://www2.au.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-at-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">オーストリア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.at.FreeBSD.org/">http://www.at.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-nl-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">オランダ</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.nl.FreeBSD.org/">http://www.nl.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-ca-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">カナダ</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ca.FreeBSD.org/">http://www.ca.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.ca.FreeBSD.org/">http://www2.ca.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-ch-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">スイス</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ch.FreeBSD.org/">http://www.ch.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.ch.FreeBSD.org/">http://www2.ch.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-se-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">スウェーデン</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.se.FreeBSD.org/">http://www.se.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-es-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">スペイン</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.es.FreeBSD.org/">http://www.es.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.es.FreeBSD.org/">http://www2.es.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-si-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">スロベニア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.si.FreeBSD.org/">http://www.si.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-cz-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">チェコ共和国</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.cz.FreeBSD.org/">http://www.cz.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-dk-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">デンマーク</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.dk.FreeBSD.org/">http://www.dk.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-de-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ドイツ</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.de.FreeBSD.org/">http://www.de.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-no-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ノルウェー</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.no.FreeBSD.org/">http://www.no.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-fi-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">フィンランド</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.fi.FreeBSD.org/">http://www.fi.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-fr-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">フランス</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www1.fr.FreeBSD.org/">http://www1.fr.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-lv-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ラトビア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.lv.FreeBSD.org/">http://www.lv.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-lt-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">リトアニア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.lt.FreeBSD.org/">http://www.lt.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-ru-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">ロシア</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ru.FreeBSD.org/">http://www.ru.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-hk-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">香港</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.hk.FreeBSD.org/">http://www.hk.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-tw-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">台湾</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.tw.FreeBSD.org/">http://www.tw.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.tw.FreeBSD.org/">http://www2.tw.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www4.tw.FreeBSD.org/">http://www4.tw.FreeBSD.org/</link>
        </para>
      </listitem>
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www5.tw.FreeBSD.org/">http://www5.tw.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-za-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">南アフリカ</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.za.FreeBSD.org/">http://www.za.FreeBSD.org/</link>
        </para>
      </listitem>
    </itemizedlist>
  </listitem>
  <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
    <anchor xml:id="mirrors-jp-www"/>
    <para xmlns:xlink="http://www.w3.org/1999/xlink">日本</para>
    <itemizedlist xmlns:xlink="http://www.w3.org/1999/xlink">
      <listitem xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.jp.FreeBSD.org/www.FreeBSD.org/">http://www.jp.FreeBSD.org/www.FreeBSD.org/</link> (IPv6)</para>
      </listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-email">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">Email アドレス</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のユーザーグループは、メンバーに FreeBSD に関係する
      メールアドレスを提供しています。管理者はアドレスがどのような形であれ
      悪用された場合に、
      アドレスを無効にする権利を留保しています。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
        <thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ドメイン</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">内容</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ユーザーグループ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">管理者</entry>
          </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ukug.uk.FreeBSD.org</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">forward のみ</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink"><email xmlns:xlink="http://www.w3.org/1999/xlink">freebsd-users@uk.FreeBSD.org</email></entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Lee Johnston
	      <email xmlns:xlink="http://www.w3.org/1999/xlink">lee@uk.FreeBSD.org</email></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>
  </sect1>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="eresources-shell">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">シェルアカウント</title>

    <para xmlns:xlink="http://www.w3.org/1999/xlink">以下のユーザーグループは、FreeBSD Project を活発にサポートしてくれる
      人たちにシェルアカウントを提供しています。
      管理者はアカウントがどのような形であれ悪用された場合に、
      アカウントを取り消す権利を留保しています。</para>

    <informaltable xmlns:xlink="http://www.w3.org/1999/xlink" frame="none" pgwide="1">
      <tgroup xmlns:xlink="http://www.w3.org/1999/xlink" cols="4">
	<thead xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">ホスト</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">アクセス方法</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">提供内容</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">管理者</entry>
          </row>
	</thead>

	<tbody xmlns:xlink="http://www.w3.org/1999/xlink">
	  <row xmlns:xlink="http://www.w3.org/1999/xlink">
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">dogma.freebsd-uk.eu.org</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Telnet/FTP/SSH</entry>
	    <entry xmlns:xlink="http://www.w3.org/1999/xlink">Email, Web space, Anonymous FTP</entry>
            <entry xmlns:xlink="http://www.w3.org/1999/xlink">Lee Johnston
		<email xmlns:xlink="http://www.w3.org/1999/xlink">lee@uk.FreeBSD.org</email></entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>
  </sect1>
</appendix>

    
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r46052
     $FreeBSD$
-->
<!--

  Do not edit this file except as instructed by the addkey.sh script.

  See the README file in head/share/pgpkeys for instructions.

  Note that only officer keys are shown here now.  All of the keys are
  shown in en_US.ISO8859-1/articles/pgpkeys/article.xml.

-->
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="pgpkeys">
  <title xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> 公開鍵</title>

  <indexterm xmlns:xlink="http://www.w3.org/1999/xlink"><primary xmlns:xlink="http://www.w3.org/1999/xlink">pgp公開鍵</primary></indexterm>

  <para xmlns:xlink="http://www.w3.org/1999/xlink"><systemitem xmlns:xlink="http://www.w3.org/1999/xlink" class="fqdomainname">FreeBSD.org</systemitem>
    オフィサの <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym> 公開鍵を以下に示します。
    これらの公開鍵は、署名を検証したり、
    オフィサに暗号メールを送る必要がある場合に使用できます。
    すべての FreeBSD 公開鍵の一覧は、
    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/pgpkeys"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PGP</acronym>
      Keys</link> にあります。
    また、完全なキーリングは
    <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.FreeBSD.org/doc/pgpkeyring.txt">https://www.FreeBSD.org/doc/pgpkeyring.txt</link> からダウンロードできます。</para>

  <sect1 xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkeys-officers">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">オフィサ</title>

    <!--
     The FreeBSD Documentation Project

     $FreeBSD$
-->

    <sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkey-security-officer">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティオフィサチーム <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">security-officer@FreeBSD.org</email></title>
      <!-- $FreeBSD$ -->
<!--
sh addkey.sh security-officer 15D68804CA6CDFB2 ED67ECD65DCF6AE7 ;
-->
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpfingerprint"><![CDATA[
pub   1024D/15D68804CA6CDFB2 2002-08-27 [expires: 2014-01-01]
      Key fingerprint = C374 0FC5 69A6 FBB1 4AED  B131 15D6 8804 CA6C DFB2
uid                          FreeBSD Security Officer <security-officer@FreeBSD.org>
sub   2048g/E8C96EEFA3071809 2002-08-27 [expires: 2014-01-01]

pub   4096R/ED67ECD65DCF6AE7 2013-09-24 [expires: 2018-01-01]
      Key fingerprint = 1CF7 FF6F ADF5 CA9F BE1B  8CB2 ED67 ECD6 5DCF 6AE7
uid                          FreeBSD Security Officer <security-officer@FreeBSD.org>
sub   4096R/B64357A343D9CBAE 2013-09-24 [expires: 2018-01-01]

]]></programlisting>
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpkey"><![CDATA[
-----BEGIN PGP PUBLIC KEY BLOCK-----

mQGiBD1rpGQRBACJ1CQS7VnTTvH3wjscXQed2RoeVi+n3HtxaF9ApJbxb77dXk+/
DL1ZR0bcZ8s7uQ1D5BkrqSHevoA9FlEN02MM9qyIerXter2/ZEporVOG+/XMkIiV
rd3AgVwUnawhOMKTlYmttcOpADKr9RkYvCT6QMqFDXJssbW7gPlEqOzhYwCgoIdD
ygZ5RdfXm/hBnp+oTWadeIED/2WvL/Iy0YheRTSmTvEdK+Cd4xPhmY2SrrvF2+lE
oFIn94C0fJhqKhJp+wGXmQ/h3yF0gcr1NfFBm6y1iztEz2n0ciaEmMf1tu0Y+u+Y
E0/1Igpoj9Kj5xxRJD5wYyDi0qzxP8BhvJ6sKJtO+f6/OIgZ0ITYWakim7d3RrNV
0ditA/0XUvDgdEB0hm7iqR8FbwKNmS8DVKGs+CYrFwSBJ0vUH65WFapbdWbi2uwm
8CDKgSWpS16/PVr/ql84ePWdiVhHYmkkjuWPUFHSUcDiYL8YG9rnymw6Enx3Nyyr
ewiUOJFzWN6/u3O4x2M9ljrQQ1FmmAbw9R4KT/KHOyBC0W+xHbQ3RnJlZUJTRCBT
ZWN1cml0eSBPZmZpY2VyIDxzZWN1cml0eS1vZmZpY2VyQEZyZWVCU0Qub3JnPoha
BBMRAgAaBQI9a6RkBQsHAwIBAxUCAwMWAgECHgECF4AACgkQFdaIBMps37J/wQCf
epaHjByMpiZ4IJ7I5va1CwHjTkwAoIWSaoQOtqTuUupwzv4bNpPSBWbBiGAEExEK
ACAFCwcDAgEDFQIDAxYCAQIeAQIXgAUCUkUymwUJFVe2HAAKCRAV1ogEymzfspbW
AKCDvRJCLhfcdt+Rs8j6rxNZeaiPugCdGf70yZDhLmHuZJcirtNKShReca2IRgQT
EQIABgUCPWurSgAKCRCMMoz/FgbbldR2AJ9TkXexibjUd/bysiVJnNAxq3S2FwCg
j2AK9NlD1soRBvC0VVYiTbB5TxWInAQTAQEABgUCPWurawAKCRBVLh4uc9KIpYgV
A/9RhH/BsCRrvLRyTQgtXVFF0bZdKeZxvgxJZ/8tnAx+ZpDncwL6kdtFZsxmplWX
CshFKjCf2pG+YVPSnjtF0nlOgpLwbwcj29Un+2M1TZth9216WvBk++M4noyfj6vO
Rsvc7NQ5kuokLQsq8+gEyZM3OxbtDaDIQx8i6MFueG/PdokBHAQTAQEABgUCPWuv
bQAKCRBnwoCPM8Fie7k1B/95K8U9+QunBDYcYbn/afd195xb5TYUEeHV5Qs2RES1
f78CLE+95jnAno2XfPW9ip6Vk3bHD/66MT3ZuMQhk9BYzzLbEZnbKck9wiwhOhva
Y5C/5R4+AK6fcTfE9EKj45vSOG5PjkxKhIVh5PDXGAwtsIY3sujBMAbeDPK3IkAs
Ya5rC/5X11SCnofkZW/u6RM3Q44MWD0b149sueSvb9NKNk/0oi2HgBgsA6Ziodyy
y5b9QIdvNC+gOajstneVLCWahONnr9npAJse9fS90/SYMbH8/BcRpVHT6TG1Jwoe
6fWegEEDjwDAw021msQc9FUfW/FpJMZiou2cFXXP5vpSiEYEEhECAAYFAj1r6bYA
CgkQbGPaBITQ1+flVQCgxKicYCuXL7hT3Iz/i5YK8vyZy/YAnRpwkzbKaEMnVzMn
smeFMTxejsexiEYEExECAAYFAj1sgqQACgkQhDa3C3+GgmhvrgCfUEAGrporit4V
G/xddNf33zi5jFIAniCdksJJ0DhTekfIGxBOvwq0Nh1viEYEExECAAYFAj1tVWgA
CgkQObaG4P6BelCYDQCgnyVaUr7s/PJhJYpwi256vJ/Ha4EAn1KbR6Wc8JZzv6Bh
+iXkwP5fvgVgiQCVAwUQPdMiy01WKCF5BQwRAQFr5gP/XnIcMS41EP7ooB5Q0th7
QSBtLFCauRCoib7uKmOM5RfftQlSVqvnLOkrIFe/9a9iS9TGSUrphJF3dztcvtp3
0VzsgjZ59NRI7Nlg//FR4re0UFKf3gvHlyYaMd/hYc8M4NDPacAqoSjbMwyXAIKH
UrPYZj+ELOqaW2mWsRGNQUCInAQTAQIABgUCPd1MsAAKCRDhyUtG3x3UcTr0A/48
M61zbAKzmJ0kHZ+Q6ssXtBb1Cd8YSCUGqlr7i+LvyJgdB+ebyUzzXE8KOektIjxj
y0TtVTgsZE8YLW/EdoLKoa6Zw+BQKLuUxH/xEaz7la3kOwrXXOVnmA3zWrKzXFFT
aqaFf8dddCb5iJ/f0aafBNdocaUphSyoJZwyVo4Z2YhGBBMRAgAGBQJAkt8pAAoJ
EOuA3h2LcdOkAuMAoKCz8SumnyZCf1T1C3rMdbmbYNkBAJ9YCNF2x/dPRsxSeKbu
SmBaHlPYH4hFBBMRAgAGBQI/bZczAAoJEN68VxqalnmwSaMAn1l/3BJQzSdWwKd5
1a9x+kxActRyAJi6s5sCKTv9opL9Wj9rWrb9ZPj3iEYEExECAAYFAj9i2VEACgkQ
TyzT2CeTzy0btgCg3BceMu8hKtRCW16fAd0vtHoSp1sAnRLvJuDmypHO3mgvg3TE
Y7gYNsEziEYEExECAAYFAj9iF9kACgkQyIakK9Wy8PuqIACgmj3gpbfiPpkx/tG4
Yf7mxzq4juEAn3cLYlJwL+dcZ074wY2pXfd7cHNliEYEExECAAYFAj4cXQYACgkQ
2MO5UukaublYAQCggRDpTQCl7fpUnunAxxJzK0fOuW0AoIjRbboNnilOL2o4fmt1
TaCRxp0jiEYEExECAAYFAj4cWrwACgkQbZTbIaRBRXHJjACePSDDtm3jIlezrxKu
F+RRo4w+3OkAn1BqRElRGWu8HrG9xhO9dE0jIG0LiEYEEhECAAYFAkBR5+EACgkQ
OO1t8kNcHJqBnQCeIHpxX8Zg3ZYa6ivBJe5AKZiWd8MAn2np9GJi9BMTTLTX2sL8
ekC2lzjaiEYEEhECAAYFAkA+wrsACgkQqh18sBJn8JIccQCfTTO0ZIdIp5CAqlha
drSuNhU48ygAoMmB5mXUlcaV8ee/VlLqSupEqJ51iEYEEhECAAYFAj9h5/cACgkQ
2MoxcVugUsM2vQCgrsl5oItD6odM0TkfSYx273P7WCEAoJDyxJ7b3Xy67sOf1xPh
FXbwmKOaiEYEEhECAAYFAj8+BuMACgkQ2z/V939+MWMItwCfTZsRZJujvGiFYCT3
8JXYY10DOE4AoIPcHvW1WvgMLothdYGLuSADkWrSiEYEEhECAAYFAj67eiwACgkQ
72rIAB3Lz7eyEwCgv5WXThEaxz4fnvKpe8M9xC1qJhsAmgJxO/as8NajfegYmW4u
Gwxt772biEYEERECAAYFAkBHsmYACgkQMEuQSofRzg/UawCglF93sAXFzUFgrPAh
AJldt6l5fkUAmgKVuaJVV5em8kpR/5iz77WV2TsKiEUEEBECAAYFAkAiqvAACgkQ
1hDu5GjD2mW+VgCgxPsh6evF8lP5m9qOA8Dw03SOVOUAl0UuwwXoTlIi550tPdZ4
apxDpFyIRgQQEQIABgUCP+P6fgAKCRCT72NexbJb07I5AJ9g5j8LUeynnc8Qdaa3
2/ELvsgMxgCgmAilm0OaV+GI6VrWMwra+oy4CU6IRgQQEQIABgUCP33yEgAKCRDn
Qgt4utuOEaxTAKCMA67/PUI62JfKwUuow/6NL26W2gCgnMthTlLATPwz2tNeL+Ek
g3o+hF6IRgQQEQIABgUCP3HtvQAKCRBNrPLCwxI7HxuyAJ9/a0KffzpWw2g1lAT4
P7c9eD709wCgkcR0gypA4PPqNlmWlwAWycLb08+IRgQQEQIABgUCPuGahQAKCRDF
CSV+DzAaLn9JAKCWJ4Boe6dag2ukC6jFugnYcloLDACfd5nTjGj2mjJiv16rP6es
KAkz4luIRgQQEQIABgUCPmKk6wAKCRBuxMs5TCWbRzvoAJ4rBT4UpsnuSXHm+W7H
Z1D2wf1wrwCgy0ZnBUT3fFOd1VCDSJLUpSrbE8WIRgQQEQIABgUCPmKdCgAKCRDh
qZsPqaYP4ycuAJwL7n7cri4NzC9yvqW9Gl9nZptpUACfdIRzYqBamZbyO4rOa6Jl
uhH8JAaIRgQQEQIABgUCPlxY8wAKCRDnZkDIb0WuacbQAJ97zdAe3/5VX+d6A8vK
/keJbkKcJACfS7e2yRBp6i/VC5G7bqZvYZqxKYGIRgQQEQIABgUCPkf7+wAKCRB+
kn2FdkGYY2SPAJ0WZWC2fNfdq6cLZPkiWGVnLY/PuwCg+t143ijjKQj61IGoU3ch
hRkYl7yIRgQQEQIABgUCQDeVLQAKCRAqbV2p6xmZrAJJAJ0U+DCVqGxkdSAcfbgm
hkSxW9yuZACcDN88/I6tTSm3/l/occuN7mQGOiOIRgQTEQIABgUCQH+KJAAKCRA1
nhUBgs2eQzJKAJ9hLUeoJ1KhzvmSftxFIAdjoyaB+QCfQZ6UDZDksdUYES0HyZaM
LoEnNsSIRgQTEQIABgUCQSeEqwAKCRA/oN4IoNORaOFPAKCE7SBgOuugO9OOq7LX
nziKHN/PlACfS6tHZbyt4A5HQfwh8G6ay43/7N2IRgQTEQIABgUCQLYRzAAKCRD3
RQ1yObRVQXmtAJ9NP/a9aYNJ6oLx0rlmxIuK6q0ezgCdHg++QjH5OSeEpTYTBxUT
kJWkfDqIRgQTEQIABgUCQLIoXAAKCRB5A4OpdGbmU+7CAKCi8EmsmWPUHVYzCksh
JL6rjcC4IwCeNdpDKcYiOqjrBGmBXYLHN62FgYWIRgQTEQIABgUCQKrpNwAKCRAV
G6mUEXXC4zQ6AJwJjeizo5nnCZ0Qzeo4keC1XPkUpQCffz/qkjK07PRGEfP3FE8m
OuUYIyWIRgQTEQIABgUCQKqnpAAKCRAHYXOxkoTEUrHuAJ93vaIg6+mJX3HDSb2f
vuJQiR2AHgCdHd+yVP5sqYXGeZ+ragpL9sP6K7+IRgQTEQIABgUCQKqCfwAKCRAP
WuglNDguUY1NAJ4wcyUIfCQMXvQ7wqToAH2sJULFJACgqlUFO1GoXQKTvG4JGnfn
0A8D/WuIRgQTEQIABgUCQKjgbwAKCRBxzq+s7KKK22EwAJ42eTYNPJ2bEHL5bgnl
+sgxDCx6GQCfXIFX+AgG9d5TMVf7qj/JKDQXU9KIRgQTEQIABgUCQKjfpgAKCRCg
7/ngeafIcHhRAJ9Vt5ZVFnqstoF7PS+Sl9mybiDdgACggm566eWLJjlax7v4YgDV
P80r8l6IRgQTEQIABgUCQKhLnwAKCRD9/49Y5NtE8tVrAJ0UoRfpoYzGFafo5xOn
tCl6ijp4EQCg0tAVYXnuE4egIEPRB5vtTui5ZL6IRgQTEQIABgUCQKhLnAAKCRDS
D9QFytUJxv8/AJ9fThcbzZTiJv68+i9CrWeZdIUY9gCfbBZoHsaX3GoWQvVLXozg
UxQD1OiIRgQTEQIABgUCQKfupgAKCRB9vQuV7YwgQnJSAJ4mDNsLfr8rBJZgKaks
zvb9W7HRFgCgmFN1I64Cnjr/gET0a05XLSWpnN6IRgQTEQIABgUCQKd8nAAKCRDf
7jeUa+yYCrC+AJ423DDnUbT3auMicWgsBTRioFOHBACfe/773KoNw9MA+0NFygQx
KS0+WYmInAQTAQIABgUCQKnAwAAKCRAff6kIA1j8vdTTA/9UzhCtYCc4vFlD8KDp
m4jGxfGxy420u+VdytDMJdpKWxiGTH7mKq87KGKKzsRli7m/Aeeyy6qezw8LgHlc
AkC5H/438Qfy3gqc//KohzTCngp+lVh/A82q71e+aqM6Zdq/qpg4ZIcNyzKyIBN4
3MSsMVuZApPoR4ecyMXgdllt+ohGBBIRAgAGBQJA5EuHAAoJED8Szz1kFZUJw60A
niDmbeslCVAQZJNxJsxZs2E4kV0ZAJ9Qjjh5d1cm05cTAjjOzEV2SLXpbIhGBBIR
AgAGBQJAsOzKAAoJEH63kt8ZH82KwNsAoKkZuz+38bJ961/LczZF92x0hdxIAJ9Y
HM8/GzeWZG0zq9XHevuibrfdyYhFBBIRAgAGBQJAquvkAAoJEEuzpm9+s1JA58QA
l2BPvrAyoyIcMODMfz80XcD/V9QAnjqI53HdvHKEusjWgeBFz2LMFtiZiEYEEhEC
AAYFAkCo+K8ACgkQM4SDxAv8uX4H9ACeJhldCoPQ8jPLXLeFvoIFLI2M5OwAn14Q
+n+iH5pyXZUO4+crfghC1B4ViEYEEhECAAYFAkCoC7EACgkQDMt+/gswqTtE8wCe
OYv6sCNDH1LS081Io1+4WddTM2YAn0UXd+aIt17uSqgNJD+31mbpldEdiEYEEhEC
AAYFAkCn3TMACgkQSUWlN9d7Q/tBoACghHZaTNqIV03NVSPW94hifHXH6Z8AoIXZ
43KpCmgk4cFI8dzGauB2ggZriEYEEhECAAYFAkCm/AkACgkQF47idPgWcsWfhwCc
DdggxPA9FNa9CFUZeoRQgz7vrUgAoIIaIC3f5Ci/flk4LIpD+8OTkETJiEYEEREC
AAYFAkCm2DEACgkQ6SYtkGO1mF+woACfX9IlrfU63iR+LvT8RUO4whUug/QAn2c0
AlM5wsSQUVYnRl7E5KphSKNSiEoEEBECAAoFAkCm0/gDBQh4AAoJEPYcyLWu8zhH
NIkAn0xhy9EjBPURUFO6teiTB9wcwno6AKCGwl2XUa9TyrKcnpNlHR2nWhvEkYhG
BBARAgAGBQJAqukfAAoJEBUbqZQRdcLjAn0An0TdGpuJxIHokIf0VMI2kXLc/6fe
AJ9WF3rNR2/zc/fk9psqHpdb9W6ItIhGBBARAgAGBQJAqWMbAAoJEGlqm6oW1qT4
8HAAn0drFNBEJ/q970omFYwptBqNZ68JAJoCJ5wIzYKmtytEuc0fgmLOQR8/yohG
BBARAgAGBQI+eTKEAAoJEJAtvZGMOKkKnOQAniJX3xzZ7uWHHTnnSFVQ+cQIdHAE
AKCDOhDg8BFu+brIv63YgzvxGhJcU4hGBBARAgAGBQI/fWYfAAoJELcM/uw7sga/
ulMAn1/jrciw6qJ4Zzp9fXj4tNKkI3hFAKDfiJyUaUf0KJn2buZVpZQIzBsJ8IhG
BBARAgAGBQJAyTLtAAoJEEcxdTMMgeE8SCcAoMUQPwGijQMIEhOqYVKgpHtoJMJw
AKCRT4bUCO4RMGX2QZe9Wt59QUkBbIhGBBARAgAGBQJA5WgKAAoJEFhOU3zw+3u3
UKMAn1WW2WZBBmuhZSA+qxyPuKdRqVgSAJ9B4KhrMFFuzxiKFa14/4wMOIVZhIhG
BBARAgAGBQJB9Na3AAoJEKH3GNLIXe3AXWMAoJzU1RKakiSrTaDWGRk/Ly0zVr4s
AJ9pt+bsB+ArJTjUyrbkDwDpitDV1YhGBBARAgAGBQJCSIaFAAoJEGmo7Unq2nxZ
NokAnA8WM1WobqfbQ9xJbAZpneezHTf/AKC4kbDUDr+b0Dxr0tocT2Efk3yao4hG
BBARAgAGBQJCT17CAAoJEBi2sjIC/3GyOKkAnA1o/lqo3WdBR0aqj6Qmg9dHqyQP
AJ49/qJFJrNO5kwk8azN4CCJzGY0rohGBBARAgAGBQJCe2iZAAoJEPMxmA5OilAb
UgoAoNd6HscseNFee9fE8305ujhGfcuxAJ4nT1RlwoOEpcF6YRzbNxgz2pVe7ohG
BBARAgAGBQJCinGSAAoJEN+ig2JUF1no1NsAn1ZGfKRP2L7njOuzwOEW7swas6UW
AJ0Tf+IBf8fuuo2Ihc6Np1ze67Ti2IhGBBARAgAGBQJCqgu3AAoJEKK7Smn1q0T/
n6EAn32upJu7p8WWtYbR27LLKrXpl/H4AJ9QGsowCK3VyMAES4irU73T9BVtgYhG
BBARAgAGBQJC7B6hAAoJEINk48Y0qnRPlEkAoNXnLLGCNWILyMUvhxSXAyZ5xFs3
AKDqeqqPVWZxzgF0qa/GetzAYPCJNIhGBBARAgAGBQJDb3R6AAoJEK+1mC+KAcSn
tRUAn0kl7pUHCOU77xfrjLWvszlq97giAJ9hQHMzuEqrEnpP+JWLNTy1+rVCAohG
BBARAgAGBQJDzhwGAAoJEDl84qgJDKm0EzcAnitO6fkU1KmnC0hqcpDQCNzJT743
AKCOSf5lEeLQeRjJLAjWBLstOEM57IhGBBARAgAGBQJD4aXHAAoJEMMQ14pUoOQX
VzMAniGfPL9myk46V/ESjoD3HHp6rZxdAJ9kBWJirGJMf1xLR+P/1/xhQ6AVaIhG
BBARAgAGBQJEUlIyAAoJEAssGHlMQ+b1UGEAoJECFUozma7E9Asmq5/SfaxqNTvM
AJ9uDRNRY8cVU+jZe5IAdLX8mTlgr4hGBBARAgAGBQJEkExNAAoJEJjt8eIHzJ5l
vFkAnj/yQBZE3ozWTVkGpySNwhx9JshzAJ4j0UHi+FeuyM+/1zAuBUPJfSM664hG
BBARAgAGBQJE1vEOAAoJEKIjlRMQhVQt3nAAn3aZ+RIOG5GhLjpvqy1OOr178Q1A
AJsEQk83rTJdBmXp3L43RD3crzFr8YhGBBARAgAGBQJFFsqyAAoJEKctGR6SoTMk
ROkAn3X+A+3ztaJ3TzQb5zyMTzkb77RsAJ0Q/Iu+xxIksgIMKj6e/3YdMG+m9ohG
BBARAgAGBQJFVx0aAAoJEDDUOm5k6+Ig7XcAnjNDKUxQwTH7pXu3H/mZU2LoOLNt
AJwMcjCeNwq3QYhlq4RjZivS6SzLY4hGBBARAgAGBQJFm24aAAoJEFpDCyQ8LuZq
eMwAnjvYrEl0MYUWDJON71k3AE80KPhHAJ94HusVFkxy8AIshFd7ykyHxbqehIhG
BBARAgAGBQJF+uPGAAoJEKenCzN5XdlxXuYAn2cKkEBQPgl+/sK70vs2kR/sFuEP
AKCfo09LN9cWyUyGVlyMmOM/u4ApeYhGBBARAgAGBQJGuXwNAAoJEMNToZJ25W+2
52IAni2jS3152HJklqJuNaH5AcAp712vAJ900+YK76yeMjSkC6pXzQIPD3vHeIhG
BBARAgAGBQJGyEG/AAoJELNRWTiXjTGseW0AoKMx1NIg8v0QVOeJLerufrXyojqC
AJ9bX3re1+sLTyAGuKZtMNlJr2bcZIhGBBARAgAGBQJGyEOpAAoJEF+0x22hWnfu
TksAn3+KEMREtXdpGMAU/3Vslc99IGh1AJ0RgkjBif65Oo+sbpid256jODaNxIhG
BBARAgAGBQJJJhYoAAoJEAoQd4z8f0YhVh0AnRNd7kx3gy54FgDkMS59ogKnpMJf
AJ4jW9kd9CnDewdqQQvgA9qWwyjElYhGBBARAgAGBQJKL5R6AAoJEKgTSad+1XPT
1+oAn0z7hK2tQ3TP3zVMtX1BJNlHqiX2AKCVN4GMJ0GtfUV/Ro9IKITqbJ4OQohG
BBARAgAGBQJLIgzIAAoJELTjE/U2ZxFeSnUAnRbPqh79z2K+Y4CYvlFsSLRw91nK
AJ9BZUWrhuqN8WaU2Vy8KzHCsAi2fohGBBARAgAGBQJLtOjFAAoJEGfzMRpuD7SU
+UcAn2zoN6Mz7jsU74iaIdDGl8g5qVh1AJ9RrXqLxHQFxaoQ7Ho+dXVhlOogTIhG
BBARAgAGBQJMRpL4AAoJEE/BMsN8gQR2QAkAoJ1OvW07kFwhFv1WXEN2VFbd9xL/
AJ98ipsE2CmW49OYax8H9+RBG7VUYohGBBARAgAGBQJMZpp4AAoJEFfAdbIXpfJc
dM0AnjomwQIi4csicV/KXOYyFf5ZEBcxAKCCiKBcE15makROEnHazgLpIwYRBIhG
BBARAgAGBQJNbsEQAAoJEE0sDPzVimehi9kAnAma3cts1K0o7cO92WYjJ1VhUco2
AJ4oNnprsH9kB+REAJROg2tb0kEAMohGBBERAgAGBQJLSCKFAAoJEG09p+pjnF0Q
cwAAoMstTzBlHEm1iKoY5ZmyxmXeU6dpAKC3j0aZFfw8hMov+UsNIeUCBTdaqYhG
BBIRAgAGBQI/bSymAAoJEBj1A4AkwngCAZwAoLYGe6+hh1eT95+T2K6lhfZzV5lG
AJ9s/ytvHef5qt3I66rzLb+Evqwq5ohGBBIRAgAGBQI/bSyzAAoJECH5xbz3apv1
w4gAnRGfACThXTlxxtvEc0d1rPsl9V+EAKCz/8yOT+wlxpaxHgW0qt/XHREaOIhG
BBIRAgAGBQJCcRScAAoJEEsiCRufMca1I9kAniwU0GNZDVXzKslbVu4G1EKEHjWg
AJ4hupCGN5Cnzy6ELhc/cXKzux/MDohGBBIRAgAGBQJDHl/wAAoJEPW0eMZmqaUQ
2PgAnRc4o7Id2njS/f4R1JdOCJGdl17xAJwOcnGAwN6I7HSh4KZ51Ks4GnN8aYhG
BBIRAgAGBQJDVnhBAAoJEGbPHiVU26Rh3ngAnjlURkEL/3EqB0gyMgitGbaSm7us
AKDv1bQ25mYhwv8vwXI1fz5MUKfFTYhGBBMRAgAGBQJA4+GnAAoJEOgkW4kiRO2p
qQYAn0xAuwT0FaBtf2nBST6clBcxGyqmAJ9smzk/bOtKBuTKm6M+eTIeME3I/ohG
BBMRAgAGBQJBhLIpAAoJEL9L0OYEnbh5BpkAnA2rOpPzo3Cn53N15UT/4sGmfWrc
AKDoMHtpmWF192QJAmgRGsiSCUnrsYhGBBMRAgAGBQJBmwt2AAoJEMdeyVAbfju7
hQMAn3MCk6kP3/Gr80VFFEZdt+MMNPN2AJ9SRHkmWrbOHKR885L9nb2eENAVQohG
BBMRAgAGBQJBnWMMAAoJEL6YDgZWajXgkjkAn2dOeURnR4RH6ML4/viKf3F++Zpb
AJ4jqD7ftRCxLa27aV+74VtmnR1DB4hGBBMRAgAGBQJCqJF4AAoJEDIrCnSoXv2X
doIAnRskFgXun20T/BEKwFFIk/tdjaIqAJ0W76fYR68dV9DWhWYhkxlHQzEgvYhG
BBMRAgAGBQJC30tQAAoJEGuSvENlxpT3ZnkAn37o3ziLVtmCoSnzHn24LtQzNYmK
AJ9dXs8VxXJEP0Ka6DqPxML56EoYoohGBBMRAgAGBQJEu+5dAAoJEJki45vXY/+i
Z0cAn2IoDE1U25fF2v7fjvG8qxduHM2+AJ990FV84qxE4fS4g4kR1Ahel+tDr4hM
BBARAgAMBQJDuNMtBQMCCMCAAAoJEHSdKVBj61zIIlMAnR6I3IIh0EzwQHezKKHe
jHhVlcK1AJoCbUgOQ8m5nyHMF0bl0VaBGhMrH4haBBMRAgAaBQI9a6RkBQsHAwIB
AxUCAwMWAgECHgECF4AACgkQFdaIBMps37J/wQCgje4X7iqjNbVDgwpk+98vc+/H
oE4An1usSnfAlNcEcd+05ksTw1gPh+h2iF0EExECAB0CHgECF4AFAkNGu/0GCwkI
BwMCBBUCCAMEFgIDAQAKCRAV1ogEymzfsp7eAJ0dbFbiegRXFnp6X1a8B1eTDNdX
WgCeLmzXUp83gjnUnVrJ3sJUREreKVqIXgQQEQgABgUCTJ9xAgAKCRB/urM2KlaH
OGhXAP0X4sBAkxjxf5AcUrbFvyElsACYou25SILHiBMjVzbL6AD/TQpi3dqC01OP
lmSHD/0kADdJm8qI2QdJ6POqj4RTl0yJARwEEAECAAYFAkM9Z0gACgkQgdpXm5x3
8d1Blgf/VEE+rXnWGqITLcnvhNGWE221fd43dJZwWBfw8lkuPMXyRlI1jdVStON6
DMiCS9+Ex9c4nzyGmkKneqkyuhW04+DgCoKpbflAM9tLpTG2Cz43pLMYfiKTPY9Z
4MIlWT8bzpF9jP2YSOt7RSoJna8hiBr3NCxRsll/SZZ5q/bjO8W/aLHGh3VmQFMO
kdsYy5J7NGdv7oTYAnIzyuc3QLESHD80qaJAjrmR7r7clDPPRXfy4GbBI4ZtuRrk
49SdTfz0OM90pGOBPEaZuP+MRLeitfMnRlHirfCv8TMK+Dlk1yH/eYQdVVfeqK7j
XHOCmYWn9OUCjsnP49iUI2lIUHmng4kBHAQQAQIABgUCRGDOXAAKCRCJsz+f21Oa
7WcoB/4kqfVfFZs+i8IvLmibdDL/sR48/SCjE0KSnWyQna6yHpId4t1kRQtuIJSI
7Z7DHNZlfs8xZHFHYRBiot9nfA8GPxw4RhR7MJMEnrPByqEqmtOUGFrCbYfTkSxd
SGXB+2U7MNilkGEeTxyYQ9Pyd0C2eoLGJ3II/fCs4TSb277C0X7G1YDG3/yycdPq
o5grlvikaIFrnP9UsQd9MYFeCM4KUw5Wb+QkxVtElBChBT3KKlYex5wx4IAV913x
P0DfzkUGlpuh8vlyXWriUxJimjUzV6HCyYr+zt+dIaqSqvgDCsq1eNgNO+N1qinW
8BefBW5UNxU7oW2YOaSKdIcW36WhiQEcBBABAgAGBQJNeUGZAAoJEEjb1pAwnDBe
gPIIAIf0exOxFLlv2buqwnPbAwCQUk9+tV4NumL49fs0++JLZnvWs4TlC/llnkTD
aJkd+BSuO+rInccO431RXsm9a9OpjEFzyF5KhFjJicfnFLa1bJoQxsmcmVxEHU4B
OSvDLnEs3NAkYRwDriGNdTiLI9IoBwfYriLgXAVU/PJ+hYKtka5R+akpXEaM7w8X
d1cweXCwl9FSzMEEul1RzxHK1U+7NMYE8XlfPCh7efkR0Vm/07xyNR/tW0jHf6uq
Ioj2WGzW7mJIq006YzBMTFmIOpPHKDF7qFpGakZjTXx7ljB44A9gQXR+WUnJy35p
Ms/RGXxL3BDxyRNf9PBM5Eqrl9CJARwEEQECAAYFAlI8HXIACgkQRG9u+TkF4/0T
vwf+J+nTvymJJNIk5tOH5m1qCdF85xYej2Ey0W+QJgdomfOJ/qfpZZFXnVSInl6y
XhV24iuFC7VfNh1sHvkI8Mz5pOdUWn3wH8NNL+RD8KHK+YVcwjs/eZg6EtAlUfLm
77p9w4tXdsRfE35zGtmNRRGp/CfXolX0UNyEZoTnqyRVjp91PepkY6yOHeLtAcmj
c7+OUM/f/z2lCe/ZXbRTvx0yuE3YGKsvVyNocucSUI67S3KyVXgDz9Gr2CMehjv8
Xx81NmfY76IVpOLRxxSXG8pahCw6xclWQo2BmG17wrELvEoiNTK9kp4Mi+tArcbE
u3y/9wCnkfTnGeofLxlpZ9I+0YkBHAQSAQIABgUCTox57QAKCRB5eCsGL5NY+7+9
B/4y30T1N8UDAPyy4A9D69bfElvULMNaJNbOVP6FQ6eJWWvir1kCkvqVnh5hCfP9
+sF9sdEd4UvmvgIb9bQcPxmtROVbMhK7CouPDbJ3PcFgIewt8G4z6TfMgAbIbNIA
ySo963RI+Hx4hc7UWruMYG/i7OXcRdoVKK73ROO5zxt4XFtSNcst4ThcWxlaWO8B
QnRWYaJIVjgkp++q5fNPUK4Fq2iKq3h65TGtVjD2jdnu37gdSpu0SVLVHjs7jzK9
qzlrMjub4JH38hWmII8d9LJ39izvYxTSY+9Vb10/rD9NjR/J5o/JYkbtLP3s4lht
CyFpfj+VkzMxk9dr86HShplUiQEcBBIBAgAGBQJO9LVPAAoJEOgBcD7A/5N89iUI
AOg+F4XnFFQvMLYodkUJiwOYjw0I/7Z0hfrNKHIj6wUpQKUD3n/fTFCrX+DihQ2d
jrcUrIza2ZQwoRnTyA6zJWrADGqqPlPCJb5zangYwVAyc7+yH/qJtK2TqdVYSgo3
MjvpOJHrQLqlVpUl9nXg75XuCU9BjlMDL+i5BRDOy1TcHQUUbhhPmTmpdeQpxnWY
tuCF2L5IAm8DOH6zkeHNATR7yr+/z3/s97+H0SfxfdocSHUAtpAbeb/HfYzQg15H
SwpLnFg+otJVDaeMiT79jd2G3Jy9MZD0HkuFSiKJzDGA7zr/cO9g/R175WRqFyHS
4zhI4uuVgbZmERpWZ2yETsSJASIEEAECAAwFAkL+Q7QFAwASdQAACgkQlxC4m8pX
rXyxwwgAvjFEl/lyPAFPXTNzHbjGsp3iPo0DxSSHlqCgHA/zcP0veRCsWyDmJmpN
tFnmoCiT23aNtTe/iHhibLcQ8hPbR9oZOiLU/J1A5wvdmK5NqCocbzDPI1u8h72l
YIyvUWvpWGv8e6xnuQQvtX1uxUXK/DPDlHB76TrqVjKVT2CUQ+8vNtgovRE+PHB6
hCEVrtnzoEWGWopruWKBXmdAlqna9os6AWDcK9+KA02KJnALX2XBwPzHU3a3xLJb
aVfqfsIeiGwMQXdaXBHAozM/4exdh9srGmGkHqoA1OmYf7etUe3wwykLCvmhcfBV
dPYu8LYaNUhBvYrCgXqt7ZYrrarvaIkBIgQQAQIADAUCQw98LAUDABJ1AAAKCRCX
ELibyletfEGvB/9/yJIqGF1PrMXhIs7jAhBF5KEqvmvQxnGKQabfYSKciXwewiR9
aSrSrXqGn1lt4ABsc3wqgiFKZBCRfAl/3QrQj46n3gTaiO5FBz5MBJ1VpYUL01+D
JILKfwWT9BbQs9cZuVrLawbId4vBmXvG5EN6bUhVPTgpHRYx1V60v7bjs86c2/du
ExM69o+gL7oXXRgdBhYmkbTewV7uERCvvgrXLUgUN3vuJj1JxBFksFSzGLZ/9ABQ
gBpSbHJlwrX8cXRPvOqu0YoeLuS6Cn7iq/xxLkdSxyZAhsYPUqrteGKLfs4ixzV5
9M1Xu82eNGaWDfCSYHPy6Pdu/ZEkLKBtpqi/iQEiBBABAgAMBQJDEMykBQMAEnUA
AAoJEJcQuJvKV618m8UIAJnp1WA2XMJ5mZ9rNGKCTow4Zs+Fn+8PSWjD+DWxCIUD
AcMqZaUGIv+TJ2YwZ8YqteCAzV7dvr6yjQpNn4XLTcxyQAqFGR39QvyVC4D6u4rW
v+NKgRk2o2J0BooudbEGRk2gwsjzo09OZfaCwtiOgPw9a6Sy4rPjd+fjZYx4EWT4
6u30sUsXiv0gIrUjzd4WPVeLn0j5QPnnDKa199Ekpj0XP5O7YQZUy2Rbh8sCJQQc
z+ewzziodRUsV8cHb3re2wpGHImJCXvMrXZJ6r4aipB60h7SlN0zHW2m9NrNOiHa
by8shlZe1lStADhOQ5BNMy5xvjVn3cNTmUJWxmd4nRSJASIEEAECAAwFAkMSyAsF
AwASdQAACgkQlxC4m8pXrXwPQggAsN8MgCCA2p7+KLETSIsAxOJMi8Sit1+QftkP
f7uuay6BeCyljwuLazl5KiLMjiIx0NWZn9hKYnETvaJAcEFk6VM/4KKc3Q8r/WIX
bqeCqZySRSNYIKXpQcUw7+f++coEiiXK+nHJykWp0z7PmjIVOEiUMwjP/hkE+YYt
/XMOl9p3mIHfQc2zxGm+Te4N7PhBX7QqMMTLJjXB40ajssQDdndbov85ZgTxlOv8
+rygAOfjGX49X3PO5QexTp8dcQUUn1qXVbMe7m5YSBtIVRbi3uTLc0RTWCFyUwdN
GAiwdwKnRrjnQhSN8fmMJ7YMgLeNqICs4pc5pJszdsQbsh3m0YkBIgQQAQIADAUC
QxNwkwUDABJ1AAAKCRCXELibyletfIYLCADIJqYvAp33q9UJzKrhXheAVDlZaNs+
z1XGUUSY+GJJUZ4jlf7UzLdUD3mUzfOSmkkQGzkM8jTz2GzX7LX5EZ9vLGWJXCFa
RauLApB4SW55SELqe2JrUhDJ1GAxmCTOWsjGdVatiiT2tR67z6tnjpcF0neaJiMz
VCXlM9dC/f4odPM71w4e62nSRvDvVKoFVwqKp0Ihwa2PXZBH8+M8V5a/kFt/Jqt2
ooSDM/WVY+ttqbnivh8o4Qvdw4FF9vyJr+buehyW1PZzf7SCG+q+3CKntDo30FAU
nmLU8eZ30rbqPqL7QfwpYRqW5Dc1vUFMAYbrGrcrwbcePHTqhgQ6rs3kiQEiBBAB
AgAMBQJDFBmlBQMAEnUAAAoJEJcQuJvKV618fUQH/3ueYtS/qV6sDgdjLaCTMfNN
dEPFTOTmTMlM8HMb78bYMhtt7KhFQ3z0qbvAZCvawM92fXmUbxCj1rgX1FINPeIx
Gg5FVz1TQjBT3WBLnVvVQgyq+PbBypnrrY2KzcVSg2MG8SRm29PXzZ3Z32IjzW85
f6GkWjq4V+5a9TVI9QUbj14KpcqbVaLXk4HxAQcXtzhUhyxpNs3Z1PlfxPaosZa/
02f7ys9vSMqPZeTionI08p+AkKYjYRrywW2KkGsu7vu0ASWNIf9Bc2qX5SUyv/I2
+CASIiSs9Y6OIECRDWopphEfjWAVmAGOvVFR6xNnKrOXPITipK5TSyQveEjhjYqJ
ASIEEAECAAwFAkMWE5EFAwASdQAACgkQlxC4m8pXrXyAXggAi7kl+4WYEZZex2Hi
t8Q7xpZnkXe9bpRZD7b6Ms50qv5XkCWz2YVKi+IXECFNI3EqvMYq1J8cG3iN2eBz
weXR00WFMnVwDLgY0ijdDKsiuFlaoPXHCR1ql7LKavcHHZYiX5PwHo4EFgNT4adR
eK3tLJtO1h9Fsu+377VzwRWhgFXf0+MxHpr+gkpgSLyxt2zIAYKm5Ekl/OJm6UIM
Qre6yEyYQ5r768s6UsseJoQvxVjuYp7ZJCGFTcRuAp04QFzgRAg47J/GR+CPbwTv
iy0PcnGD1Ag7ZN0t5QC4/gF1kD2GEVDGVOj0RYzuHg1E7pElFgHRYze0a3XeYzrZ
CIEWOIkBIgQQAQIADAUCQxdlmgUDABJ1AAAKCRCXELibyletfHejB/9mY9hrnyeJ
6EPkJumm96b/xCdojboUJmz59aX49DhOaqBLd7lZ4XkyxFxM+n3siJOxjXVc+5hv
AEE4F0laVlVqHiL2wLkGS/tOWlmkQ5DiSQPyhjZuS5JMuBPR8Qza1IIpjEb/hW2T
HongeH0rdICj3ksTgB6ppL7D73BxocO0kHdzqnPVH+kpc68oRsC4OeNKom1Sg2R2
rgeeyTA8HMvgJGpjo3zH3InYonNqkpQG0VXdpAIg/H8KeU/G6nX7dHvMzxOrG4dj
Bik43iOUpnPUeRN8EpZjUMHkTFZ9OTvxUS5/MVAbs9++IHDm9PNX/r1FLxI7ry7D
9XTzaONXx6esiQEiBBABAgAMBQJDGLZNBQMAEnUAAAoJEJcQuJvKV618klIH/RYe
XwfWfXmDk9hwEhl7mx3Tp37MpBFHVg+xAMbJp9RLzr+pMS7bpjq3b0WWbXVwjuIS
UV7lnHwKrBDM3WtNhIWkQbSRhi+B3a6Ky4Hpug6gSvrHce3sOHNYCyNatL1Dgm6i
3lv7xs3NzlmSDNuftEU3Gp6Jv5X5vASjnSL9Y/E4xN3gfot/ltDW+H6SAdFde3z7
IAxXvl7wjxot3M1WNTLqmtLN2MRFsukyX6xVKVboNSMbY48lfcehDwv6uJXkwnO+
aK0fJ75fXRrHonBf1hiiFmer5Oi7WhwGPxlEjmxzKLlyUWmqp3uExuzRDbeXPgbB
IJ1Y3GR4kzY1zt8DLgKJASIEEAECAAwFAkMZX5AFAwASdQAACgkQlxC4m8pXrXxH
Gwf+NSKiOGVC0jpp3IjY5+pZWkCG8qvB34dQga2YxRcvOA0op4pKbIXXsrYmWveX
q7+iK5TSCS7iQyBlLendaNZ7y8dGSS0rxlMKvWePVKmZBXY9uYmJdDEeDcMfj519
wVd8pPmu4Snpc0opaj2gu3n4Dr4tatdvA3sB4AiCiXocDcEub7EsunQab4I0Qvin
j8ApouRMJSTC9Udytow7beh1p7t7SfyoLdlsI/1a4T3TE58jPk3eir/DEAmh88Xy
hXtRq7GBTx48wSa3lGRXfWPJW1ODYS4FViNyhRnZ8q3wkPEJxaHs58MkQqOwxGdP
B/p14HW3T+IV59ACStlXLdfg5IkBIgQQAQIADAUCQxtZCQUDABJ1AAAKCRCXELib
yletfE3PB/9TfKN/QBfAOAmeC1S9Wn6o0YB0WL0i16gtkrxavhvUCkWp29BOuCoe
d8wh2ir6mg9KQ0i/QGTS028slOeO8IVX113aElUN7UsFgP6Oqx/aKtdCO+8ZppGv
6G2QbvebgzPeHKO+UJ5tboA47c2NB+E6Zx4X5dGXQoL1KXSxcUHral9yB13+YBQc
nMZWll+Lb2J4d5L2xG80/qZECxKspsSfTXtUdwYpQ0EN94DiWOt3YIVk+Fxv8328
81RJFMvuR2jY/C8+Finw1BYkVloaXqpyBF4HclJQ+q6xRckv6CaR3pRAqfbSECCS
ZmGpSHKDztTK8wWhnsi8GGb18U321arQiQEiBBABAgAMBQJDG1kJBQMAEnUAAAoJ
EJcQuJvKV618Tc8H/1N8o39AF8A4CZ4LVL1afqjRgHRYvSLXqC2SvFq+G9QKRanb
0E64Kh7/////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
//////////////////////////////////////+JAZwEEAECAAYFAlF1oN0ACgkQ
jw7rxHtHFsmrwgv/aVGvQnxFX1BGQse85UTZig5GvslhktVGRcdBb86YKzsLxFRE
Pc8IOqItTSxBtvSTQEyQuYXMZfP1+iw1uQm+OyqP0cEipeo/fCcUXDjndMslHb2O
5jE1kqOGh3SvvQzUtS8Y6O/iKiR6urQFJYXGF4gkyvBRw9MyIf60HnSxM8QX8AMh
C3JOoDrTIhFLq8WFkrdPU37zvJet/k80+uFXL7vToO8AIvzynRKzuQLRn0DlFUDA
hWvvy+lXsquL9sGzyE9oOQDcBmkSArNpJ5zFi9g8p/45dvjHWcqNYNe35zq+7QG1
ctN7kjPvJNWFuFE0PwwQ/LCNwg2XYoOUDDnNQXhcZAa/eD5bUmJtD71AYIx0SlmM
X8xoCh83SD6qK/eML6gKSOMc2Kxoq7BEHG230/sjSqUrWHW31ikcPTxB1q8aSW1X
pSNpBcpVNYeJfCImEi/FH+pUY3ueIEt1B2NzuUTmopg7kYqQfEnOFYnNjdV1G4D3
VwwDdWhVVET7x8ltiQGcBBABAgAGBQJRdaDiAAoJEBrKdusyNTqzoLcMAJsY/oTM
zdqj6rAd0rLulQ8ZrTb5VFGS6bhFrv98h8mn/nJ7nM368A7F0GoxjAHTgvXndgxl
7+xuxCCBdcxT0/oFGwU7T1chvZ/MEa6ErXLsJb2jXpI/tXMSuwkhX4Tkza063v+D
yfjDDgIgoblUUSQzJsfrnAGniq1kXl7EdlMTjIRUHKfXLnOqdvWq2cloP0W7RzXC
YMC03w7nOUSbz4PBHHGPareNPz//wEAUeCIt4GcqPNh8n+zRrylklVebO4HMaVuf
r/6F66Q56En8DvyVw4NtGvuo5bZjhmrM6muAvVqHc8qnAb6fhM7VmT57smWRUTDF
2wJeOr6JyAz6A6rRwKI2WUrSgHjBENDJnPJmTeX3O3XTDcN4Y8JeswjsMDBkr5io
qEdwykEEudMstGVV3negPYRQtOiZVPiHSRnrrnKGLHDKtwiwwAl9NmGCFpHqwGNW
+hse1Ze2hFVqlU/EO61TQO/dqwQTmfx4QanKxAIkFxWRFpkbDGiUnzDsCYkCHAQQ
AQIABgUCTDQ2jgAKCRDn+Npl/acoMW3ZD/9YJQejYaKOHz1YAH+jV/BQY+b1X100
ERsA6RzvuAT8Bh5RB0yHlt1cVAjJQlEnEzJuTSwT2EKbDb6MBHtdLjl89PkbvdHF
wVE18h2k2bQWQUHprDQKPjhACA9+ZXdYhVrj4d/W+zsWaFSEs/s1pSf1l1lEDutG
UQD/bmBiIaM10YlKp8YhRBCGPduH5/4p5NY/oF/gfZWDx7/Fy5SYlQc6OpJIx0/7
2V0dNC/ScnaJUHXhLR1D88ste3l0o6fLycUBqfVS2eztvzslXXxNYInhUMuH0SYX
zjJCyjrNxUCrh0g+Npsa9zqmULrPFwtNy/p/7wFww5v5DPAEdzCEw2x19/zWTw3/
EYum6Mv/dL5uvVx1Sm9hIknSmvSgpH5EdBWiJHDjBTD7bkQ4JlGUlzgjqXIFTemc
8VgzL4D/yik+/rlKgh+UHL/CVXcbjr9zsGFb4auZ02koxyWJUUyl+ScDzLd3cq3v
ZDZZTMBep0p+EXJrmxDAgknUe1H+PKRHb16319TaH1+V9JThr1+BAcFqTLJVgb9t
jiDChXxWe0/pTO3LnGp0GLZqP8KPabwI3wFtYYQKBdJBmMfQe0nMOuzg8aREC7qj
uwTncXH4Eqe1I2xtZgfUDx9cWWqLnBktm9b7OVXJ8+7lI4q2PGmDjHgGUpAAjRKp
KphxXsQJwRNYHIkCHAQQAQIABgUCTDz4zAAKCRB0m//TuofodBMTD/9Eh7Sjxn9Y
Z4vwXwcIpEAdJeCrwstNXQFb2MHJere3Ee4sjGQRV+Y8Y8f6axqFVxrpksvcNMuH
ysTo42E7etUWa9I3ZBRbHdzbbKzukUT0Gn9pHSmmAKtmjfZPsIYDQtOeRfjLUgEl
QfGTnexZ66BPqPbORVOGqw7MAniMz3nTtSOkfwJ6TPqBZFx4p+U5spWgw1jdzxwy
bWjAwDC2jronE+ssH3xQc5lb06y6PKYU5bv1D1eMh54yNsC2/R0mCszAB4TuuS5E
314ZuTJwyLgdnZrYqFg5k/lhl90gbJyTa1tADg/HgtkUwiag2gQbB3BmFfxlWwLO
ZkUzEvTIVSv7YqLb0XfYJJfOJHCiE3IyeZvtkX6p9qTH9DgvEgSxLC3dpAWtQYxP
p4KhQMpLoE7EIARRH4dtAr7+y6t4fR54mPJRDmbndErO3+v5YjQvQSPxt+lwDBvm
0pERrWpv7znL4TEZ/e8WA1JDDk9ym5TE1S/QGet8J/psWOgfIXDBGZfMzIgWNzkn
7esnUqG9Y0InWTf+Xtbkg4hPZJGuirI9Ofuzs4IBxuBZVx8tng13fvkIjonNLQxU
lGvCThSAz4KngQvy2nkoeeMa0QPADyFMCSZpL6yWakvY1QcaJkodlv0eP39yca4J
RwIJTGC0aPXlmcrOczj7eNa9zwdvccMY14kCHAQQAQIABgUCTtVixgAKCRBZeIn2
zl348lzrEAChOE/xwQN/deypoRF9+hIF/PAiijRctv0SZ7sqEZnKCSApVOE0i4LJ
X9g0EOC2kxh0D1YBPBdojXMl1uFDRmHQKJX+s+eEGLVWcO1gQVQKxARLtaigdFxv
TqEl+NjDHXOdxY6nksurxvJAgMUk++U+4Taz8qRdjp8YW4nYBAfiAdjTFLl4ub5A
0l/PgK2KsYyxV4e9eVF6HsTPUyZF7sVMOxFxf3j3niRiadLAnzGRF3RkZndhOuEU
+P0qOiZQHSzE29Iu8Eze1PBYpbC6a1T1YNpPKGlPIn5ZbCi0i6o5ZAuyc85qyxBT
yuoYrvixOD5yE2y5edMo4CBd427+V7fX27UU4vH2Vv9Cp1F2YkCZagXpQPYDCE7R
Bi1wmeTx165YOtiic0ScuFaBEa9Tr4VkI5xv04KvEZVyYL//NubNU0ul7Xhrghvz
27s9aZQIFWVjlIm5iGPTFm9I5evqo0LsFvDmxIUk3qooNv5adrN17PAmFLVyQQew
sjrZSN9T6MjP0IpvoomVGtCE6IqzNLqc1pimt871BNHF2p3zHQxx2KfV0lPGz67m
lEKYafCNqJTF+hE9GNyr78++rQnJUK27Ig3RVM9IpQp8QOhRloiQsGQtD//CvSWs
h54c36K15Yl9g5fQ8HUYkbcetiub3uBr0mMdVa7wgYfF1/VZB8bPJYkCHAQQAQIA
BgUCT5TSEQAKCRCjOKb8j8gZbNT+EACmzXhlgI33H0I0PzbSviO4yM0Sa1STzTK0
M1lm51g3Uc43vstS0ruQKZjpLXf1SUhQVyV3QIalx/cQsqxBXonTLfGvEr5EOerz
xrGNRzSNRyV8KNpZ0yoYjvxHGjbYDAEM5HkdBOt0eSJM6Mn5f5W1MwB93YDCg4RE
0ElyvKEezsuhY5tl4nF9X2GeciJBRrd9tE4MdJaj/nj0xcDx4NXNEFF5XMdh10DI
S1ZDVTCFs75coEedoW4GtZAQg6WkKX4yqJ8Vk80tJd4h6IYNYXmATXcuPJ40F28p
WphBbSJmwwLSJO+N8zYTHpbrN0+PmC1WsflMmpy01hp2/+6WFpDgaWToYptZwvau
Apoh3Lo9BMb5+cZd+knogDLB9RGMy9AV9Lt987dKlXexHfwUbfRZzdXuH/vJLwbv
ziYvTXO3N1PXSNE7AQ787KVc8dIPx00RVJf52Es6QuhOFl2Eb2L7sgHDbDpyhwoq
feFKdkH6kWVg90t+uKVuGALTvI0q8xxVnljvD2L2vqZMrmdGzqiylnOPyYXWzYDr
jBJXGaI2bR9mTEE2TWb60ptlKBOpWHLJC0ta+AiHItaDJUs77LPHmozT3UxS6Xtr
Wl40owVS2BdnveYtbS6ShKWYfiwSFqvGxMO6zTiMMLSJqHlM+yVuFVUsF64sICEh
rBZr9ofWZYkCHAQQAQIABgUCURQ6HQAKCRD2xo8/nF8DuUr9D/9r0Mpt+5SV9h+t
l8sYHQQev6odjAQ2u5wG5G7p/2nXFYs3dRpO09up0foqdOPqLYPhe1PaIyp4KFu4
R13yeVbh4iq6hjrOO5ftADj3bBWQTGKlUCaeKXi1TRouoejgO55KBABcVY6PORru
Kz7LQ03ADZFwUkzrG/31yxT/LEU0uHljpmvEmp0OEIIMEjIxUiUF5hOoMhnH+hMH
ENliPGlJJ6H/bvqPvKhyFIusleRktHMEKfNvY8QO4dAcziIcOSo/Mbu9HGBoE+WD
8GDcJE3DdqYOY0uZpghr+V0yvejt0vej5KhbRLO2Cgyora9FO7KUyhcGjMvK3Ti7
3Fe43lr/B1C7ahUmdPBrXKKJMnlVWUC2+8fXvjVQm37/v3JzjAN7lky8041JVNHR
k9Ve1rgTBq4X6bYkHNzCXwb1o06Y4bQr8UiRFLrwue1yUzYp7xTQ4vpsaqkqVVTK
YpKoeURH2qbZ93GJDJV/Pkmn1+VH0TNGzLE/KRtIZy9536YvmZovxF9jVs4kVNIW
0Q17D5mqH64nlRDJgCpOPuTW2jSg0JNzidIY6zvf70BmjiaityHIAtPH8LFyQ2/g
SyzHZ4UJENEw5mMkZG3j7fXN0Pt/NhlQ/mhl7ZbCtQIBnA/3d1fVxBWHuojFqgyZ
IAgIxvlUSwtTEq+KTJlIwuj8N+QrMYkCHAQQAQIABgUCUV2QewAKCRC7m0cb+U6H
svcwD/9LEjuSGv4vfTU8pKOcIzrwKScq6xTgJ9wAyNZ+rC0PJjHHEhLw8j27qZAv
32uohHt3T0F7n/iRKHsCszTKUkYLWmUVBVaOl3y6HufZE7sMDJuidiPhSi11tOgM
t9ekySI1uNBfnLLR1rOUMbxjoG1NbdJIYjUPHCpArlKp6zd0lW+TQdgEQhsWxuM7
Pw3F79s1SVf7twjdj4NbWfnw2ByHX9HGuDytKuoEm/OgjHDapUpD4Ctc8K7l8WCa
ve4YkikxebC6K3C9NAyRmMup1wC1PRpzLD7UNkFXxo+Zt0bETuac6g8UCSR2vs7W
aw8ZiARcLaml3uJvadLP76TkvM86y7zdPWoxPySDtaXtAfEdsBwkmoSma7qK4c1R
IHUGj77TNDsJp4rJW54bFuWMcyY1KYfp5ofqmvXx7nU/7+SG1g/T/e4foBbEsTQ2
nUTMGeEQokHpsDc15a4fTNHL+Yn2ngeO8k1/AtRp6MWPQvVDGWYUO4HFYnihDmMc
6c5H/aKtGepdIqd7vct8Nfdn7ABgNyb5o7znQ02PsClf6G1pQP3erJ1ryywSwKKF
QiIwIL+n/SpAwGO8BfcOeVM3tkLTtnZdvvzaA+VS7407J7AKiyxOFyKdg2NN6woX
dY5YASI4EN9z3TvmEOLtqmCVzUCIN7fL6a50cCdicIeohqej0YkCHAQRAQIABgUC
Ujx7ZwAKCRAnffdJdtkFnwGBEACYxYy1VjQKp6cc5CQQgWju6xTacJjJYMc3nZkq
X8OSuBby+bXLAAaCp+6lhckdtmdOCsw33b7D5/S+GbXoeakxonhN0nNy+zKRz3tl
lNwtNtKgWcM0pJOSH3+X3fPcvQSXY+SMUOtCcBFgg1Xo8dWwIof+M+ZoBghiwZ6O
T2QDoTUUPL6chV1/6FqNK6SoIuIafWTqFOT3mFBhXEd3felA3njkMnsgpGS7XG4i
A+nLB9PmKdkPvz/QBH/zMitJr/JgRGHQCiynh36PkQ8bmZN2fBoviuTxJgTA4jT3
YYAaLQDJjyadl9680TYXs7QX81ZObV5pw9L15qt0locm+eYRpbjJyTreWzrHsglT
MvqOF5RgH1xDX2D3dPLFgZcrHU0uMhqzsHbI/DzTrI9rlkJ6jfbiSTEmn16GThuo
ONVUJ1M3KayFgmkPgYH6OKngwYVynhUSY5YN54MEowuITq7eXfh7Vu9ZhWDeY4yO
pTw/4qdbrZ7AlpaiN74SXvfvm42oyZG4XhLOD7Vnt8zSYvOiHzUx8ci/B88TiX9P
C35OPOi+zxh8Sl4V3o4CqwcQg9SSm040p/CcMJIkan8Ql8UUH/2TiYjXc/89Oi7M
8mH3AW3eSelP1y1zjm9RLdBMsPYUZ1LRTFSsyL8vswwei0554YMWSZCv4ANdm4V0
SYixoIkCHAQTAQIABgUCQZpZ5wAKCRCQnUi5NkQ5u21zEACvJPiTSJhdmKhYmC5O
BoZJwT3kxYhWB4Lr2wsmH9qI/DrnRaCKYVYu39mFWR7i+dQrQT4I0a2HpxRKZRrR
pVlEh0nPHUkgslUyUN4W5XiPW3IsBfBNIsWsDf0ROAHjzuBtThYHDxTyYd/EYwQs
4i2sNVkMbu9BV7s/HElQmlIFSCu51YWbOuq53/19Ma7HMJW4CiX223pWX38n5mhV
e3+mNTO+jSgASNRuDq3pXyuu9gOeUBptlCCfkM63W740kbzlwz/9dYHasV1BX/61
ZWwGGylSrWQaNwMnBCxIfERqfXrsvWd1Y8wmlmGJn8ZUhnpspYbnJkSlV8rKx7+c
JopdZkTv5bzVKGAD6/0nge3iOKzwXY7YdyoboA5HJDNk6vY+HSLYwzHeM1BA/VnJ
JoDlI3XsRDvHbTUcYwp4RGnIsZWNwyQbWEcsDqshkSUM8p8ODkOzmetEBILIDUPb
l0UaUF4gbRUc3Rh+3UiB+MdQiqaPoBx5sKVeUd4SQc958a+z7vx/HrSxP9R9Qpm9
UYZwrIa03CrZMaKEfqInOs74GiA4qkADgw9b8uGXgvpgWMTz5AGSLZqN6B290NDq
GOnhOIZl21UOHrCwEu/qdw+3NqUBfkcLrHqLU9dZ6rHxR4TwwrZ4/nkaA3hS0quO
d66/IDnomgSWtY0vU/AdmZCut4kCHAQTAQoABgUCUaVYaAAKCRAIh22TLlSrLFiw
EAC6UdDRPB/VJnX6Wkg0FB8Y077cQFwnB9gw5jBKP/1kV2nNSQFZJthuKfa8R30l
5pwUBChblOad6aW5cyV43P0n24B5FE9anRpjqX5I6eB04IW/km0Dfg5d5z0PRsSV
EExwLQyxvJJx3gQKvhjzuygWzEfsGSc11+Qie+GEdLr3oNA5EQZ87Jz2En3d8UtQ
Q4zoJfOHaRtjuWMnzp4dxRB0cK2CsZLSsA2/aCygkVkO6wxkchBQLm/m6/cVDqUu
kWpDtZKYxeKcYl+ypwwY1taSoH9XpX/w4zVlkHblesOvfrBtgj6/51YaRhyNOAAf
ijYIyG7n4uNWRrgPNfXbo02NscRg1f2ey9BffZxAzi2lrzyuU536p93wn9wLpUOJ
R06FQyG4DVUEi10iy+jsSwDweqiNJGY0euG14P3770HtdRGmxJkikJRS2evIzzve
/34q/M5cIHOHYzcVX1+207sqH6EGGjypAeHS44CMonXsyV5CK5habTkbxz+X5G03
JKmJEu0yA7udQBPLsmOcQ3yD7BCh28GU0+LNIIuqIa1+Hl/NDkLnvs+u7HsQuqyK
F3M1W4iNre0JANuEN3uU5SOXDKY+sqjrFd8C6ADgR1Mm0nB0LBbudVjrJtF7OYKo
erY/DhCI2t776MPsEY/zIPJQ7QkVXg9i+BQnduEGNB3w8IkCSAQQAQIAMgUCRVcc
NSsaaHR0cDovL3d3dy5wYWVwcy5jeC9ncGcvc2lnbmluZy1wb2xpY3kuYXNjAAoJ
ECZJ5ijF000FvsAQAI16T+yMp+Wif0qllqKzzRrmEvSJi0v4Yj/WEj7fMDj2OHlD
3FPUMm+rZ2pkC+U3ULbUx/qtsRBGHLI5ZUUuw3/wYbMF7L0wSfBcyiqoMu4PF8dS
3E0QS5Y8XpPkPB44daZksCLj8nsMO6cSnGJt70hD6tXYJ8L6Wn6pEeYQ7RvQVA3H
1W37/SwBR+fO8iYUNOhDBxWZI4PfQoDN6uHNvAGm+GOUL6xyMOs2urJQf3TNF0Ct
U486BDp79/XvUXLLqb1NUh0ynHYk4aCXytPBnYYo1QBlStl+u79r45WS1pjmO7fN
vdG8R807jGaUz4Wrv+PC8SPT/W+W3E2FprwOCiYo39FJLy+fd3wrA1hN2zjuiT6k
fS+Mqq8fiolUXC/GpOtDR9d0XC6h5ZjNb9vpYyScAmfFalrpw/y8h+d4tP9+LvmW
a0QMlH04xOq+o+L2jeEpu8aq+9TGRQx5MikojocyNj6Gn1vsBFlRxrHS9Zv4984V
KZaSQbFWYJAL9IxTYiVJxgrZ2g4JO6FINSQLTXLrtS8+m8qjIXUD0QZqUB/JYghp
DtRl4y1GkFg6COqPOEviWbCd/26EFtgKzZWt2x0ZfW/EZOTqGrB46RCol8igwEFO
BAaTaASTiNVyxWweHlAh+Uw+tHyLAZMn9sRrZ9j8jQQxT4Y2R44CRGidk74WiQIc
BBABCAAGBQJSTYTDAAoJECC3DeE/HR5PJWAP/jkgCkQspG7iIpEt525V8W5ikBP2
hlEtDpGqyAvT3HcCuxT01PwrtepaEvyOdtX5TY8h03T8vUesFSMXywNiwt5sTVVs
JJ4jqSRnPjVxdYpf+vk40qZuAs/JHykefrtHpBoIBshKniV2mmNZcbRMZaFvfIRE
7TbQjid+c2dZ/v0Nyy1fD1aRQh4+QgE83Tx3oSGduyiPe6uqenM0+w5duy/xpiKL
d+8JXZDxiRZ77Nr6CCNLlDJc9apNsrFpJCt6/5kw/Q+HIOBQOhc5XS5qkmhkkQGc
JELIr4WpJBGFafBS36/OdbOBUiCDtUL7Fmr7axxMdnKRQCUQV+YqiUaFZnq8tSxZ
0DEMYkQuDZ2Tkyd96QlmmMD9TKUJWpRl6AtiO0bXtK6p3Y1ntQSPE+t0tcOtV3zD
Bxkw8uCKU1iR47OkeIsiBGiSS2GebSS6sFPEC16N3VBgaR2Vn9nM92B1YPhGIkyV
bsJAIwV4T9eH5kerTCgkpaSvTcr2m7MdfIneKk4pLp3lH0rlhL2v2Rr0XbYVRF0Y
LKsZTCZVWl/kamAAQDcwQdW++8n49AWqsOdutpz5rJ5I0CMQAeDb+5e+ofA7Hm9Q
MmHKV2sN+S/DfYkqOvwRUVRmCCK8s20J1CoWEQZR+efi9D1M7OfjyjX9kSn/Nbd2
rttCRoVu6BFJqAfauQINBD1rpGkQCADyZeINQyOAsPXyOkPR5OOj8LaYIs+Iw3vm
KndG0lKD+JBQ+w+jzuHIC6js+tfZTLMylbDtTw815tadrUiT4yGrpJ6ieKW1FhIS
Ae/gpCtAfIp1W82N8w14dVPBDVKyAa8w5Bvdk1iEKkyLaNMt9YFVvkvB1DKgbyqL
ZpwYE6vCPgVsyPuCxqDJzg+e2cMHSiOlY59DSesAr0UcDYwVnxK0p5b/CaxXKCLA
Yk1EJIK7v5SWHOseItOwauS8+EfroNDbOfx9HK8AabdLyu2BB5gBhVIjSmbslAUl
s24mMYRGHnOryse9gCG56xsRWvL6Y7Jtfnzn8lUCXc6cZ69nXtqjAAMFB/9IUrUP
dUVEqdysECd1NBoJ1DtIcEZGRCbONC1pKcG5QGVt+iFAbXjZkHeykw2j3DR9jwRe
cHLtgIOvg7SKf8w1958ifZ2sPmq8yh3+b8qxiwBGqqyKJ65v9vb9U8pRYxqRXpjh
/SZyhxieqPeWUoLZeyWF0Q/70nxjc55zHqCZ65bLxAnMWLrTTvqhRm1aYLznrnzK
4VoPcnv2zTBrSTqjvxa2Zd5Eev02kyPN5WyuR7EqlEN81IyCMFDiisUYJQUMsuq6
g6eMwVdfFfZHa299ENt6lFh5l9uOJ0E2U5P1evVfbVtxsdYRJAuZFm87QS1gRxGG
ntG3oCE/8vveBHgtiEwEGBEKAAwFAlJFMokFCRVXthcACgkQFdaIBMps37IyOwCe
IAXR+JM4sHsiOw4tfniC2LAhmvAAoJ1w1Osdp1sKIp47wyBJOmQPuOtcmQINBFJB
jOYBEADuKnefrbTVFTZf9mITVx1lFAqwDHPRHZeWBr2Vq1B/Y1eKKsenBKbK/O/C
XaLuGFRn/6Ptvi9eLuWnho88qzaPU1Aa7BFRRiZlN+WrTmaDwdONJnJQp1LTPjqH
mLVAkD7mFZe/H8Glxot62zEqY7LrEs+ZuxQ8oI51YKjhGaACvkrFMinO09+TDey1
fupVH1+yskVKQZo1zp//Hl/IrPbZKfGCxIGePQowZF7YLvl8DKPo4jI5KO4tZ1kO
PcPL2CqwhuCDy0fpUhrQZBswp6tsGx5mRJxDxfgePRBYDK4tMK+BSVsRputIKOZ4
zoBf12hYFiJ8Yd7e9cqxTiPa7AhxPbAjppiH7qJ3NJKCXOOp9DcSvrfbymu9cbDI
PNwh/LQ1wt3T+U8QkD6a1a2kJL5+mdg03Ny+8Ej8hUyuJOEx+sxLs+JX4TS1KRre
LzxN7Ak21dNMr8361lB+Uprgi9lOBNLO31TWPABtJhIzwBOhohSqstB9w6I2ZsPp
LqUp/p9BrWlw6+UfOqNDFILZ0CqL1CyFIyrkjutXrUshqniSc/u1VbTURlIcufZh
N3FtW1P6ktUq5ss4dqEh/QZfR1WxBYRMbKXXAN61XO8M2t44I+44DHi7jOs1q6jr
bfAli1ZGYam/5wjOJkvQ3xemP6SaDKnCKOnPHC45EAt2SEVGywARAQABtDdGcmVl
QlNEIFNlY3VyaXR5IE9mZmljZXIgPHNlY3VyaXR5LW9mZmljZXJARnJlZUJTRC5v
cmc+iQI9BBMBCgAnBQJSQYzmAhsDBQkIB+1BBQsJCAcDBRUKCQgLBRYCAwEAAh4B
AheAAAoJEO1n7NZdz2rnKEkQAJWJ2ctNY7vg2pqrabavfRZ4UOWrLi4AgOMnKrsm
4ozZ1mc7NVMRj0Ve8jLLHrySW5QaSmp8TcaI6twxKD8FfTOFYjBU35DUliyRlcbZ
msBk7aG561TPwaK0XnF47RyPZWKbHrO7WgiDveGx52AmBdm2VRyMBwnue3b5RlKn
NVMMSm4RLmrolkL0SAZNAWZGG4FqFtaxPRZo7LR9fEv/NydQN91b2cR8SnLc2F2y
iVc5mq/1f/t8dMBEbNx2+NoFaqP1O+1JeGYgmA/vE9fk1oDnn1pHej8OhoJJ9SsQ
EuaITvzKP9bU+5/o/UqYzAX+y8QbTthjhzpkRwjqwjuMVmp6/f/o8ivlnzD5K1lQ
OP/OJAki63h5LDUC/JHYkT/XN/bbgoSNveFSGV7cdocdSpCoBaZUJ9pfzZpqRxyp
RB57f7bKBCI36E42KJKJ3wo873MJeElAeo31tXi2pBvTN/Idmrl6sDCNPWwgsIOm
u4Xd2FG5lanbTsXHKebCDPh/KK51mWra5judWWFVxChsNSwRHJACBXVa2fPsahfz
4GAEVp0/VbC114m8CHrgm3nh/ZAyNjgJQN5jJ37gQjx2LFsAhW5WKK8U0Es5YXff
jLEiNOnmJ+q8IZj6Mj5lWXkbCvrqjfNTOKnzzZGws+6y4gRQkgkSY3BPp+mpCQPj
ORc/iEYEEBEKAAYFAlJBjuoACgkQFdaIBMps37Jv6QCeJjxijseWZzn/z7Cv3zSw
SFMAWPwAnig7ZgzoqKqwpvnwAXsQpGSnE8K5iQIcBBABCgAGBQJSQZHeAAoJEJLI
Q0VtpqZu8r8P/jHm+xi5yMz3DVj6emMazJdXLtnnGrKTNw5xL1X10a1Rvmo+sj4J
1gmL+Cy2hM6fl6r054E/BYt9GVGaIC4eYiF6DUzlcPWkwniDKfi1lNJzNIja4qha
nuGrK7EJtZXACRhUuNr2EzEm4dd3nXNaBQZv9FlIn79tk4vVho7wK7uiIT7nseUM
WDh7T0h4IVSs2LWdvP71WDx8acoyfspI35C2pKXB5GRWxnzN+wOl+V0kDn2fGd+n
L7ZEb/c/01h6AfyYJGetCXY1omkXSzgD9KKu/RqZuxL8TMMjNN6z4SAyMTthOHW0
lTK/5h55dJYSquBQwuEAX0Z8RT8S4Nva5LKGr25IpIJuP/TxaHIgdncrin4D0Ftu
G0JMOxjuzNdo2lOiMZ/lqZ75l61C68GuKAhU2Rn1toqc/NReL1yLhHoM1o3EvovA
fZmzX3sOugU2N8L+oiTnFFXezpY5Huup5KUkrX+C5EErBIVfvKjNyhhKFru6Jwy9
z3qiGhxNUFAAzftVYhNT1lDkMNqa4jPjOrcWS6+gwVfQAo9k0p5uwPNbIw59RA2q
/wwhZuRoai4nqN9WkgnwmWn0sS9XO87jwN3uvK0IF97MGPSXNcmAGXlxzF3GBFHY
f/bpagrvT4v+DE+gLpgfplo86oZbjDPsXGhVNu1iffC64R+vecw7r3DiiQIcBBAB
AgAGBQJSRaaeAAoJECZJ5ijF000F4jIP+weCFBeCkY7sprDa61kp10GNF4YujiZ1
QKQDgrQA9ipgv3pN+5ovC/ClzZm5baVGi+j5zWD/blG9YZAApM/kkpAIvCPYIuQ9
b+/crOUjuxyywuE2HSbaFuh66lW7Eox3NT8NNMEl6Zry6m8RDHqTZIpwJPBiCgEc
Nqr/dcbtE0XgzJj94NOWSuq1URpP4wIT9aAVBqdj+0KQDkDk6Sqvmf59Cjt8hihv
XAhOqcguKo8y262ABEO8kxwfqvRYECCE+eDEAPUEyOi/6uI0dQjQMytTWKogPIYg
4wQjpG+Pa7wl7AnxOTBp4WvoS0BuCgjSYaxnwVKHBMvxSCuDHBurLN0wqOaKSg9i
b6m/Vy2vfi9ak8crXJFZ6eLrIxt73gyiozfKEfvd6LBOJ9AeXstnubEs7ltNq9qK
yW4+vR9eABmn/wABxCsHNjW+mmi8xAVhhc1KqZC/D4vm6r8ZwrVAsmTADqcTr6A4
8J15FmIwcaQRQWQ4oytxTGA7rHRFVjrt3YIj/WP62byp8s59HOKJE+mA9q7ksAvn
ToLfrMiNA8/18Zm4CADKUny6GLzpuKgcYwTucqE/zBWUszI2NrJNtaKWafdXyEAw
gBxNIl1FiYF9+ntoMWlqDQROPZLYChRThJvRnNNsT+WwcuSHSFexLl14yrPJ3MBE
e7e+2Vpj9HR2iQIcBBABAgAGBQJSSFmrAAoJEDpFFvNRg85IHx8P/3exX3fATzNw
qfININlvYjxMzuGIHdV03w2pHrOllmPX28/UUHSQL9yRRNhzimm/9v3dvu5XHzjU
zCEozoAa74DnICe8wUfju8sGmN5FKolbvSz7VvcW4mAC5RY85zk+7luTg2wHZIId
girTDrgPSirtYkm+qpuX/k5LAkwmYtH6gghqv7rnYNKUChh+Ga+4yNbsdD7blWYr
52UwnfT3evbgI5GqBMZEbghmqNiR2fcII6trNnuawH646UcucwogxPtLxLuZnslE
pWiHQlAVvHlrCMoEkYqS+NRXOwZF04zTwRpLCUlj0PxlRInvTrEpBd1KVejbkNWK
K7wfyL/bF3rR9pMGWuDC32/9BfjtGgNDXJhQMDGntyAeQfiI3Ml5b5SA8bT5DsR/
FIQDg0UDe5jjeVIEGZKunmRT/IqOLFMpZoMHqNqWW8YrHlpN2o2c0/VqWSLzPKmo
cgqLwlkx5oqvn/F12xUzazGhFTFp6IXpqQVTlkSPdDsVJuidj9ZJLMRoKfFD9tIS
qTocGw3suLqp8u5KZf43THWspBi4tD4IoN5rlrLWtPnkteffyO62NZOOyg7rPUGJ
YlpgAMIDkXmsp58CyXqrL1/art0Ymcy5z8ea1eUCnq/ZJJxrj+HrXuwko4fXTewf
+nzSbJ2GEL/fMBkzAOKl9j5bOPAKwiD9iEYEEBECAAYFAlJKlYkACgkQ20zMSyow
1ymmfwCeLqsUDHBH8JnuaJjEUYqACGWZo88An0wcNy95yGdSJtgBFXNPZQJL2gSu
iF4EEBEIAAYFAlJNSA0ACgkQUYUJaGx+XoKvBAD/bUBqzL0oZtaF7WUDXchb4yki
f0ko+zh832R2Ad0KfygBAKNEUUKOnZFLJ8GZqAXmIWktgMiWFOMSxAXDLsyionoh
iQEcBBABCAAGBQJSRqY/AAoJEFF75hSlwe7HvwsIAJUnlLFMOBLvlBrRuxVeAO6X
8DhytdD5YlRzt866cXq6A/dw57O9qwyyDy3upJIGRy6hYlL18ngGZXv5djcw7Rch
QmvBJ9ROkmkCHLe3+fYn668nkxtgQJHWADd90MGFHkLDWa4Pbu5yJKqkTy3tqx2N
mBDEz317F6mMtyTP56QI8PVnh1p6w0McQIVctS3LOC3u4Wjbw7l3Hwof9Pl3u4BZ
L/gJz5KAozUa5TqNV4SLwtUqXBg7kipwfshXVuQekG9XfMC84GaFMqEKTExscHoF
VdSzrBKHn6VlEl1sdhcdS9aKSOsqMXB25xhBe0hOl4Ddw63j7b47XCqcyqAE5eiJ
AhwEEAEIAAYFAlJHAsIACgkQ8cUWs8g1l1OXkhAAvXUR237vXF/sZCZgG0748Dp0
eOhish/c4ODgW3JRehVWAyAlTAit/+xK6oI5xkQA+z3KO6+/bAtnDQgikAkykgpt
VeVW/6v4GGBarUTc/CTcofEpC3rsrEm1ZwPLyva3YuFFnYHATq/2Qi1a5PnSfj5C
O3fZrOgJTXsm6eNt21bH7RYF4DYi4kDNQHxtBOaEcUhcIkS1MsMz5F+/YeqOd12/
FrcIPDq8c0G3Ol+QsHFx+Y6b5Fp/HgkQem9Pzu7XkNcf7nj5UFJw+qx+BivaVYhJ
8Ugq3pXYkNkhYSy/AP/YYp7moOgpo2tY5e+fqho4pVlrHoPqWTNKJJrfYg2Mg/vP
e0nPxiCU3anmFXhfeZy87QLrA2BrO0I45StbU3uBhzT1dfNW2BIgxg+LqUZyTrZ2
qHq8TOPsnplu5Xn/UjEDQ5soTq1zDpslEjCX36R8wL3eai74HUTjstF4xq+kiXmK
bX7HhGKD9TILRjU+toOPXY0ffbS7FOUijLqOJqWEW1nBpoYoHbGfMHn2g2rNFGzz
wiLZgbL2HZsC+kDoog33s60b//A9E3yFIIiPtk668kQmiobs9Iel3RC+eOdHP8lD
gcMN/Rc/5B1S9a+wYC8VTf6KInUTq5YwC0veKbg1s+Ow7tB9ejqgxtHT7iFjR5NB
oOpVkI4UtHDpewRAW9SJAhwEEAEIAAYFAlJIEEoACgkQi+h5sChzHhzyGQ//e6o3
y+pnFTS4UWjUxFTKCtqJeqtS84jvcbXhXFGKfnXX15atLYkVoD2LcO5yvrFRNvY6
PjRkxJmLo2Lb/MpoDupRMfR1PxotFYuNYodmoHxVUun+1eIFQ5XUSiQSsIsjcUYd
EcOoZFzMfWIHZUOA1cGAtb8WL/Ql6cLcZT3fhPjEO253O8XcxKmU7sJ1sCCh3tyL
CY0dvLffA0jgxEXUYmf3DpC6p+MNkPU3EDk60OUzy4/C2HT26Lt4NR6TNcEZg6O/
lPvmD1/ATO9fAHCb4uEIkqR3VLdeg31EHND32gO/2HXc4Xp2dbV8qs+ts13w5L26
D+94PSsTwYF+85mfgu8nBhPOOn7lqWxIO/1MnOrEIVNu+K/fwh4lu8v/6PJYEYIn
LtYkDH3/LcKTsK6N/2KLbtROlHXeNKXyt0UliINteDlV9xYkn6TtzUcTrZ4Xa3HM
yN5mi+a0vptJFBPxyonMMHDAXRkLR8BexxUJqdk2aupIs0Y0Cet6Vk+8Q9bn04gl
pKjTjnnarJJsTlhrdmVobkDhbEGYB3KyrjZp2JmdYYzAbHXbdp3T7yJ4R3/7aQRg
XJIQgEHjmgFf0Wwzxs1JIN2URDZS8k2pyuI6M8ndPtJiYbwqy1Wcflz57aWYAOVf
b/G4IEsicSd1mHjYjsaMV/kp1kGrWihB/Dt79nWJAhwEEwECAAYFAlJJfnUACgkQ
cTWO1j93QHkxbA//SKb0a0wo5dTJpMp7pUL4pkCx1gR3YCZMyiJHAGnC0vHoTmxI
+6+YAU9DBFWjQk2uqqn+GW+3AxLEN08s2xYvNoxJHUB1bF43HI9lXscGmzfjDR62
cIptcWtggeMw6W66UStdFWUudwDM6WV8BTxg2LYD3upeY69GnN92HinMj90D6PMc
iQjfUdZxZAYLKEhic12dKHpWRC0PH9NIAS0EchARkZQmjyPc4trWevAyhmpqdw+H
gxh9EBH2I194SvIXVuU5Gyl/l3a/6ntEUZnitBijU3uUjRnkS5XkJfqy1MjdrJ0o
ymo8mlxOVFKV879ez10KBnE1BLe9ioylOeGQRNcyYehFE7GmzkZHbOk+Pqd1Meaf
AjNIgQxrqgh8pJ2F8Zd8pGDrYspjICGbbdR0WRNcoN4kckJruTWFQ1xr//Kfwp1b
kCQWRwYcRL/RNVVZuHGgvTiTa2wZNbWfZk3tF9cXaYHIqhYU8l7Lc1zK0Fhv2E1t
Phw4pu495RbGRAFOE14S+QmknIy+DgIkTzQ1s36vnI4SVw9zs0D4Np6d1mF1p4gi
VVrgTQnlF3poZNppCUK9Rih8s5kMnyuRruGm/Lod4jL3wcbBz4sxBkCgrc2pyU1M
SNAjM2V8c7cGLgPOqX0eVqgXJoTnlNItF07aIZyFEA6e7YeiTeXxPfU10Q2JAhwE
EAEIAAYFAlJNhQYACgkQILcN4T8dHk8Ifg/+JzwtYSnxoksuU5H4NIH0fchwRLfq
6VAscqaZYxz/KxH9suEaEGoXxMzeHO91OqPqnvMxkpOGEopUssHGOVXYwtw5XCEL
NCjD8PwSlSpDDe5+lYNjMIjtIXieiGt6ZeOO/0VlVXzRCHEtKoN96ikgEaxkPq/m
ZmfQK1PSEFcPWujBxlWjZl2DHv8eAvgFEfX1kyIoxV2nfrllDMaVFU1NvDB+zXdR
Mg1xyEDiCBsldfmHmhSjylunfJeyjpwye65rAVEO7XkmNBy2SloPIHRCiFLPeLku
oD3XaRFHWsRCOBcfwZy519DrvUUpn5InuXB36zu91Qwh8Bd+UJQIowsBoU9AH8n9
lPsUTCU7dl4UqtZxiaTHQB/3+J4o7+m12I5/Y5ftW8ToCRF5EGKoB4r0zhp2BLWG
e+z5B08HjR1NcQVG6Tv6FwSqpqf5m4yFaiEmUCFMfFMXxXGXSjI3JeJeImKYkxOw
aa8XbH65D9Lj7syDz4DSgZiPC+cUL7SNY73YjH0zfL66nGRzwo4zX9T2ermnvCN7
kw11wIfJVOlLG+D9sNpBiikpMPppW73i7g6VuFReSLgmdNCXCoVWQYeelb4E9ulD
KqFj63VChpRaBEv6fz5YFUKqUVAXy8iiptgY/hbF5V/KVlN9JVYOglQ8oq9sSzKG
lUWPldPvS8nzroSJAhwEEAECAAYFAlJNN0YACgkQTaEU5cSi5X+5JA/+L/Ilu9WT
FeVZmGTYkWEOllp7B0tNQKSCwN5L0zt917Vj81udXBKb9O3PKwjpc9rmUh5dRNOV
vAaIj9moU8NoOm1SYvnVvdyAxF5bajnN8u2cNlkdg+fzCiwwUyGPbCQ5elC/sM4k
FB/kw2c8e5uUHBjTmjh18MEqLQYpVaXxmQcica9EQnDvAXq6Ri2dZA4hpb/+qZXC
iS/fojYQmiigV2XugWFr4+rWfcOFACCKWfr8zP/3p+fs29i91tCUwaW49EA1W4qN
8/3NCugXwGaFZBsQdkZotP4WwPToD8KNaUqRvdiz83TAOL2RDZ7P8NmGNeAExeEm
t0+Z5MQeudfvTUCb7YMJKnPttuQ5rIgsLmDHwNariGMa7km0ZykkTgCw3r11efiv
/DwhR5ygZkb8KNVDIBxHGwhz2c4mbNsmRAas/wDboijT/GvA6NTaAaRhH4RpHej1
Bry1j+5mlhve3fKH5vQ+qfyks4yemjXq4meLf+0hj+SKoGcYXnfJUuOV6TB85FcF
EVncY2uh7bU5et9sdDv0HK0yNMGxBqF9ox0VkXVAg28Q10n49CGHHtHaDzTLGPru
hrQX9bTN2pgNticzZu0zDz2a/+rV/TGZ21pMlfPpmks9jcy0NYIn8twoMpRCqfJL
teKUP3kd0WdyT0Y8pB4X+aCzliVB5BmDxxKISgQQEQoACgUCUk3NEAMFAXgACgkQ
OfuToMruuMAgxQCfScnmgUcnT0J07KNsLKLMGW/6ffAAn2J50o8KV/wu8auCY1o6
EkjpiJt/uQINBFJBjOYBEAC2oNVWMm9p1UwMmKl7srU84rhC1wWzCIpgDBzQk6Q5
4zS0OKuis/zr2B0e2S4qvd8S5bSu0h3k54CNIIj00iKFfSvQDaInU+t2GGV6hXsI
XS7QPFNUCj9n0dKa5BahPPfOvTVdfJvulLMlvygYwsYW5DhfXI1FnD/R1oY3eNib
FFYsmP7++VRrO/O3wvbgl0kng8RndM1M46imFkOOfPEYxHbp30VvcxX2QJwEiki/
d7UjwgonKKCaU5SoZEKa6/oIwAMzQ1YQZEGQBSD5iM/sLblBHsO0UtLKiuknZBdR
rHYHCDwXZvX7nil9dtA7bydhGzPLT/JKKtiNqGtP4uIo6Ao3kctOfq8hv8pmCZo9
HgXVxUlg+OXEOJu7bqREiUcEhm5gn12JlKmb+6anhlfLlHzjU2OgZkGkgWx+biiv
Tacu7ESh/qSHLYrWX1Y7xT0CMbTlrM1CEMaKO/gYHgpd+cvENbnWrw9laY/HAESL
uZBuH93YPKrNUuchCJRYyTg44IHdUQdbNLSww5/00EdY4LyOGUdqT3PMHeo2wnrH
UNcgcLd/gPyjAUCrLrPYFWQpDKzubFfNyJO/JgiqtvnKdG2wsvYYx2fU14wXOIHn
XIxqT0EMwYbKZc5tjcaaDbaAXCdv5kHH6s0Aa3hHeeCT78LSN5cfIZA2ezrDCgLK
4wARAQABiQIlBBgBCgAPBQJSQYzmAhsMBQkIB+1BAAoJEO1n7NZdz2rn4csP/3gl
2XgdJvZsDo3WT5KdqO/LsLbEJLoak4wiQNoij4CjB7zmLFwl6qI0ziUGvw4YyoB7
bPRwyzgG88e502Y3/hx4GzHBSeZwKvWEmIRpCvh4BH+UML+nPqC+QKd0MpJ46+Dk
WKJcip/qxNeky7h65ptA7jjzmhtIFoXv/fM5R87dG1p3DSHMRy/9dqIJOgDx/AYU
2MaECaX87u5o+YAjet6XgcwQc3EiCoBEyJg2YU/ydWAmLs6rPqu/rn8T2yG01VCI
cGARcZl/+WyvEGxAmyAbZWP6CCQNk9fkB9PsoJXhSse0z51ffIpvCJbCiw/AqaDN
jFHmpfolnICv7vZmzn95vno0YQZQlgouZYl3znMJAdNmKsWwMi5mzzuhh2sNiYWv
ChaajFmpIt4EI1tRG78Fs7ieclbOvd/CWpY7os87usJp9Qrr+Z1g8m3gKmYN7ega
e10/9RUDXRlDupZgdPM0raF4Gbg0djRAwFdigATlscwIOc1hU3hBFXFTKOxcp+CM
7KLSNkdf738IeKEhdoKo4jgx0vBHHt1TCGgo63nX39aWHvXDSq+D2RW3rcDsS3Kv
vGP8g+kQZREN8P8SFdefSh99Yvz4EpwtinVNun2Al7cBv8XdU5a5p8yWk434iLhg
R6bnoCX8SLywMD4E3tynDujld/4cAbvQJ1xEOftW
=Ba2T
-----END PGP PUBLIC KEY BLOCK-----
]]></programlisting>

    </sect2>

    <sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkey-secteam-secretary">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">セキュリティチーム書記 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">secteam-secretary@FreeBSD.org</email></title>
      <!-- $FreeBSD$ -->
<!--
sh addkey.sh secteam-secretary 3CB2EAFCC3D6C666;
-->
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpfingerprint"><![CDATA[
pub   4096R/3CB2EAFCC3D6C666 2013-09-24 [expires: 2018-01-01]
      Key fingerprint = FA97 AA04 4DF9 0969 D5EF  4ADA 3CB2 EAFC C3D6 C666
uid                          FreeBSD Security Team Secretary <secteam-secretary@FreeBSD.org>
sub   4096R/509B26612335EB65 2013-09-24 [expires: 2018-01-01]
]]></programlisting>
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpkey"><![CDATA[
-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBFJBjIIBEADadvvpXSkdnBOGV2xcsFwBBcSwAdryWuLk6v2VxjwsPcY6Lwqz
NAZr2Ox1BaSgX7106Psa6v9si8nxoOtMc5BCM/ps/fmedFU48YtqOTGF+utxvACg
Ou6SKintEMUa1eoPcww1jzDZ3mxx49bQaNAJLjVxeiAZoYHe9loTe1fxsprCONnx
Era1hrI+YA2KjMWDORcwa0sSXRCI3V+b4PUnbMUOQa3fFVUriM4QjjUBU6hW0Ub0
GDPcZq45nd7PoPPtb3/EauaYfk/zdx8Xt0OmuKTi9/vMkvB09AEUyShbyzoebaKH
dKtXlzyAPCZoH9dihFM67rhUg4umckFLc8vc5P2tNblwYrnhgL8ymUaOIjZB/fOi
Z2OZLVCiDeHNjjK3VZ6jLAiPyiYTG1Hrk9E8NaZDeUgIb9X/K06JXVBQIKNSGfX5
LLp/j2wr+Kbg3QtEBkcStlUGBOzfcbhKpE2nySnuIyspfDb/6JbhD/qYqMJerX0T
d5ekkJ1tXtM6aX2iTXgZ8cqv+5gyouEF5akrkLi1ySgZetQfjm+zhy/1x/NjGd0u
35QbUye7sTbfSimwzCXKIIpy06zIO4iNA0P/vgG4v7ydjMvXsW8FRULSecDT19Gq
xOZGfSPVrSRSAhgNxHzwUivxJbr05NNdwhJSbx9m57naXouLfvVPAMeJYwARAQAB
tD9GcmVlQlNEIFNlY3VyaXR5IFRlYW0gU2VjcmV0YXJ5IDxzZWN0ZWFtLXNlY3Jl
dGFyeUBGcmVlQlNELm9yZz6JAj0EEwEKACcFAlJBjIICGwMFCQgH7b8FCwkIBwMF
FQoJCAsFFgIDAQACHgECF4AACgkQPLLq/MPWxmYt8Q/+IfFhPIbqglh4rwFzgR58
8YonMZcq+5Op3qiUBh6tE6yRz6VEqBqTahyCQGIk4xGzrHSIOIj2e6gEk5a4zYtf
0jNJprk3pxu2Og05USJmd8lPSbyBF20FVm5W0dhWMKHagL5dGS8zInlwRYxr6mMi
UuJjj+2Hm3PoUNGAwL1SH2BVOeAeudtzu80vAlbRlujYVmjIDn/dWVjqnWgEBNHT
SD+WpA3yW4mBJyxWil0sAJQbTlt5EM/XPORVZ2tvETxJIrXea/Sda9mFwvJ02pJn
gHi6TGyOYydmbu0ob9Ma9AvUrRlxv8V9eN7eZUtvNa6n+IT8WEJj2+snJlO4SpHL
D3Z+l7zwfYeM8FOdzGZdVFgxeyBU7t3AnPjYfHmoneqgLcCO0nJDKq/98ohz5T9i
FbNR/vtLaEiYFBeX3C9Ee96pP6BU26BXhw+dRSnFeyIhD+4g+/AZ0XJ1CPF19D+5
z0ojanJkh7lZn4JL+V6+mF1eOExiGrydIiiSXDA/p5FhavMMu8Om4S0sn5iaQ2aX
wRUv2SUKhbHDqhIILLeQKlB3X26obx1Vg0nRhy47qNQn/xc9oSWLAQSVOgsShQeC
6DSzrKIBdKB3V8uWOmuM7lWAoCP53bDRW+XIOu9wfpSaXN2VTyqzU7zpTq5BHX1a
+XRw8KNHZGnCSAOCofZWnKyJAhwEEAEKAAYFAlJBjYgACgkQ7Wfs1l3PaudFcQ//
UiM7EXsIHLwHxez32TzA/0uNMPWFHQN4Ezzg4PKB6Cc4amva5qbgbhoeCPuP+XPI
2ELfRviAHbmyZ/zIgqplDC4nmyisMoKlpK0Yo1w4qbix9EVVZr2ztL8F43qN3Xe/
NUSMTBgt/Jio7l5lYyhuVS3JQCfDlYGbq6NPk0xfYoYOMOZASoPhEquCxM5D4D0Z
3J3CBeAjyVzdF37HUw9rVQe2IRlxGn1YAyMb5EpR2Ij612GFad8c/5ikzDh5q6JD
tB9ApdvLkr0czTBucDljChSpFJ7ENPjAgZuH9N5Dmx2rRUj2mdBmi7HKqxAN9Kdm
+pg/6vZ3vM18rBlXmw1poQdc3srAL+6MHmIfHHrq49oksLyHwyeL8T6BO4d4nTZU
xObP7PLAeWrdrd1Sb3EWlZJ9HB/m2UL9w9Om1c6cb6X2DoCzQAStVypAE6SQCMBK
pxkWRj90L41BS62snja+BlZTELuuLTHULRkWqS3fFkUxlDSMUn96QksWlwZLcxCv
hKxJXOX+pHAiUuMIImaPQ0TBDBWWf5d8zOQlNPsyhSGFR5Skwzlg+m9ErQ+jy7Uz
UmNCNztlYgRKeckXuvr73seoKoNXHrn7vWQ6qB1IRURj2bfphsqlmYuITmcBhfFS
Dw0fdYXSDXrmG9wad98g49g4HwCJhPAl0j55f93gHLGIRgQQEQoABgUCUkGO5gAK
CRAV1ogEymzfsol4AKCI7rOnptuoXgwYx2Z9HkUKuugSRwCgkyW9pxa5EovDijEF
j1jG/cdxTOaJAhwEEAEKAAYFAlJBkdUACgkQkshDRW2mpm6aLxAAzpWNHMZVFt7e
wQnCJnf/FMLTjduGTEhVFnVCkEtI+YKarveE6pclqKJfSRFDxruZ6PHGG2CDfMig
J6mdDdmXCkN//TbIlRGowVgsxpIRg4jQVh4S3D0Nz50h+Zb7CHbjp6WAPVoWZz7b
Myp+pN7qx/miJJwEiw22Eet4Hjj1QymKwjWyY146V928BV/wDBS/xiwfg3xIVPZr
RqtiOGN/AGpMGeGQKKplkeITY7AXiAd+mL4H/eNf8b+o0Ce2Z9oSxSsGPF3DzMTL
kIX7sWD3rjy3Xe2BM20stIDrJS2a1fbnIwFvqszS3Z3sF5bLc6W0iyPJdtbQ0pt6
nekRl9nboAdUs0R+n/6QNYBkj4AcSh3jpZKe82NwnD/6WyzHWtC0SDRTVkcQWXPW
EaWLmv8VqfzdBiw6aLcxlmXQSAr0cUA6zo6/bMQZosKwiCfGl3tR4Pbwgvbyjoii
pF+ZXfz7rWWUqZ2C79hy3YTytwIlVMOnp3MyOV+9ubOsFhLuRDxAksIMaRTsO7ii
5J4z1d+jzWMW4g1B50CoQ8W+FyAfVp/8qGwzvGN7wxN8P1iR+DZjtpCt7J+Xb9Pt
L+lRKSO/aOgOfDksyt2fEKY4yEWdzq9A3VkRo1HCdUQY6SJ/qt7IyQHumxvL90F6
vbB3edrR/fVGeJsz4vE10hzy7kI1QT65Ag0EUkGMggEQAMTsvyKEdUsgEehymKz9
MRn9wiwfHEX5CLmpJAvnX9MITgcsTX8MKiPyrTBnyY/QzA0rh+yyhzkY/y55yxMP
INdpL5xgJCS1SHyJK85HOdN77uKDCkwHfphlWYGlBPuaXyxkiWYXJTVUggSjuO4b
jeKwDqFl/4Xc0XeZNgWVjqHtKF91wwgdXXgAzUL1/nwN3IglxiIR31y10GQdOQEG
4T3ufx6gv73+qbFc0RzgZUQiJykQ3tZK1+Gw6aDirgjQYOc90o2Je0RJHjdObyZQ
aQc4PTZ2DC7CElFEt2EHJCXLyP/taeLq+IdpKe6sLPckwakqtbqwunWVoPTbgkxo
Q1eCMzgrkRu23B2TJaY9zbZAFP3cpL65vQAVJVQISqJvDL8K5hvAWJ3vi92qfBcz
jqydAcbhjkzJUI9t44v63cIXTI0+QyqTQhqkvEJhHZkbb8MYoimebDVxFVtQ3I1p
EynOYPfn4IMvaItLFbkgZpR/zjHYau5snErR9NC4AOIfNFpxM+fFFJQ7W88JP3cG
JLl9dcRGERq28PDU/CTDH9rlk1kZ0xzpRDkJijKDnFIxT2ajijVOZx7l2jPL1njx
s4xa1jK0/39kh6XnrCgK49WQsJM5IflVR2JAi8BLi2q/e0NQG2pgn0QL695Sqbbp
NbrrJGRcRJD9sUkQTpMsLlQTABEBAAGJAiUEGAEKAA8FAlJBjIICGwwFCQgH7b8A
CgkQPLLq/MPWxmZAew//et/LToMVR3q6/qP/pf9ob/QwQ3MgejkC0DY3Md7JBRl/
6GWfySYnO0Vm5IoJofcv1hbhc/y3OeZTvK4s+BOQsNokYe34mCxZG4dypNaepkQi
x0mLujeU/n4Y0p0LTLjhGLVdKina2dM9HmllgYr4KumT58g6eGjxs2oZD6z5ty0L
viU5tx3lz3o0c3I9soH2RN2zNHVjXNW0EvWJwFLxFeLJbk/Y3UY1/kXCtcyMzLua
S5L5012eUOEvaZr5iYDKjy+wOxY4SUCNYf0GPmSej8CBbwHOF2XCwXytSzm6hNb3
5TRgCGbOSFTIy9MxfV5lpddQcdzijmuFSl8LySkL2yuJxjlI7uKNDN+NlfODIPMg
rdH0hBSyKci6Uz7Nz/Up3qdE+aISq68k+Hk1fiKJG1UcBRJidheds29FCzj3hoyZ
VDmf6OL60hL0YI1/4GjIkJyetlPzjMp8J7K3GweOUkfHcFihYZlbiMe7z+oIWEc7
0fNScrAGF/+JN3L6mjXKB6Pv+ER5ztzpfuhBJ/j7AV5BaNMmDXAVO4aTphWl7Dje
iecENuGTpkK8Ugv5cMJc4QJaWDkj/9sACc0EFgigPo68KjegvKg5R8jUPwb8E7T6
lIjBtlclVhaUrE2uLx/yTz2Apbm+GAmD8M0dQ7IYsOFlZNBW9zjgLLCtWDW+p1A=
=5gJ7
-----END PGP PUBLIC KEY BLOCK-----
]]></programlisting>

    </sect2>

    <sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkey-core-secretary">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">コアチーム書記 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">core-secretary@FreeBSD.org</email></title>
      <!-- $FreeBSD$ -->
<!--
sh addkey.sh core-secretary 36A7C05FE1ECF9BB ;
-->
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpfingerprint"><![CDATA[
pub   rsa4096/36A7C05FE1ECF9BB 2014-07-09 [expires: 2016-07-08]
      Key fingerprint = C07B F5E3 10AE 64BF 6120  B0F6 36A7 C05F E1EC F9BB
uid                          Core Secretary <core-secretary@freebsd.org>
uid                          FreeBSD Core Team Secretary <core-secretary@freebsd.org>
sub   rsa4096/7B5150C8D7CE5D02 2014-07-09 [expires: 2016-07-08]

]]></programlisting>
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpkey"><![CDATA[
-----BEGIN PGP PUBLIC KEY BLOCK-----

mQINBFO9HvEBEADRfuWeoNUwib7ZjNmhg0Kt1kjiGEEosf3O2yMDfYuAXt4De6qK
S4KECe5+vZH2T8g+zmNLl/7JxdqHiWj9cnoZ6T3bqKh7w7pW7QzC/Q2k4mZsQkGl
xzhStHvaHSPKw5808TME0d3ewAfs0dQkDuA0eari0HipCbOVzqHUMTIROr/syPXs
jHxb2bj0KVzzq7wgy+vF4Cv25VzaAPBVgPv3HAoO/gLOr4SnXqBCw2vgprWx335t
QX1JslWlsUDmwwq40q4+eMnSFPZ0ing1DgfhMb+Dnrl6Rbxhb0pwPhbwubppUKfe
W6owOrTuUbATVoAhsfNySmUWQKc2p9w/8uFV/jJj9HOSgIMKrNONvqekPrjWOQn9
/lcQtGhldWmtPbMogOfaQisBEn1XjMZ3VEOagQxIe/6LDjU7GGoYvSdwf8Z0wXUY
/qDntPwudjJA4wQid1Tzf53gpUjr0tYq7aclpiBGs3F5EOs4HMXq5/xlwRGtBDHY
i9RNAlbRSfSD2s1nGsfsImPowlpjtLa+3PqYs/cRLGDu51DsgV/p/CqtAyebG+9O
WsF0Ydt4Q62jEuU8HY7SOj+AuKJVdUkyAZGk5vkPvsKzjdZUqRslurme7d3LqKai
FjBGj8UyId/IomDCjth3baGc/Y4e+JKyx1XDXgFY2HoQ2KzEoANrizjy5QARAQAB
tDhGcmVlQlNEIENvcmUgVGVhbSBTZWNyZXRhcnkgPGNvcmUtc2VjcmV0YXJ5QGZy
ZWVic2Qub3JnPokCPQQTAQoAJwUCU70sxwIbAwUJAeEzgAULCQgHAwUVCgkICwUW
AwIBAAIeAQIXgAAKCRA2p8Bf4ez5u2R4D/4o7Qb/hFz3XFRiBLtcsr+v5CS1fYgk
VN2Xp40dOTtt+Xo257+1oQDsS6McNXT7XSAFOTrFW+XID8GBnY6+ZpRYzontMCJd
25qGHzGBs2aFA/ROfhdvpOkhngxsYG89+IOUjS6SRNqG85Iro6eI7ZLi8sznEhZd
lH1jEWHiJhEubOvcedWS1zSHpOZwNIpyQV5d2O3/EhAOJRWgy8VmegeQLGg0zqdL
r9MKfg8/OwNQlysjrsA5MRnZMZAm6kEO381zYg8+Rwe+HtspzL/1cu4M7k5aBw0m
a8nShgXTqfgX+pwW2zBBL8c42p5D3Jh4Oe7KQ1KEvysZJGWO5ZjR9p4KLu49X2Yl
9cuD3Ii6+Nz9/cUlEGaMm4I8N3jpSNH+GCj7k1Wa9KWMh2ZxmVO5AML8h4g+A7aT
qNasKpG4XLXpcZ38sOw2/h6G2kwnrCel1ViCe0Z4pxeW95bxREqs6pkkym7Wz4sy
F5Mkba0uwFhWg5zBANBteXfOS/WU3fLEWeHXvZu9t44vyvP84qqZfNzBhz9puDVi
kPAY4uiZK4BTDkYZZr3YNKIIwEQ/rjcJSDKZKGJ6dsHKBSi0oGxFZpCE+YMH/Zqq
hTQHgXbMKWLgJ7xxRYJS/apvgnTd1Dc7zc5J7IT7XCdML0+Qj8eD48DwyMu+uAAq
/048iyhu/R8RP4kCHAQQAQoABgUCU70tAgAKCRADb2ye5/Oevxk0D/4wEJarg3nO
/B8ks+s7DadvpmNZrNSGeeR4qSEeZlH1ye30xD1HDE+ekJXC97Td4mKWKTrbRVEX
F1y1aBCe8tL5BbsRDmwzKwpv3OqQ1rhowlAKZD8hdBEyEn15ciaoRisFKpWAv+mm
mZeTnG5sYOo9BF1v36WrX+9AOvy7yduVcZE3kLNoivS+8bXe5ULj6uMoyo/eC5uk
q35f1p1qBzrplMc+vs7z8Npc7YFP2ORhR/mVg0rYFLkPVdPV3uFkrkb/Z2SVu02B
IFWEeJojEBEbFNfziHUaQ8Z7ZdtkZ9OIS1Z0Wuy64xjgORWVcTlRe4AwZKVC8DJs
Fs9Gk9gnsPmfLgM46pcKaac445w9uUQzKLxdCBKLPxMV/JHBRrMghyahevwnpsuB
Ok+ldsCNqjFaeAnVAmv3YtTbZ1JdorupeFa65JyjQon7l1JwWD67P7N0xrn1gxJ+
9uGUeHwGAvDF3IRr5ECISKAW92NfLYuNpyv6re/bt6A+FxaSA+E8P7Z+I4Gl5l37
czz+9ciYipiusweDuxectOlEnh13/WKXuUb68v6ZzbwGjkW8wunavhAN9fWxqqgF
W0tKtmpAOHFzmNOw5WGPfGdKOzc+g5ZqRt3CREVHj/uizNJsHzfadkTqYum+kQTa
y4tSgGH0S3EAiHGsEy4YZ4M/nxdIyakmsIkBHAQQAQIABgUCU701xQAKCRBNWP3N
LKSXdmOGCADEySzz4Q6wKsx/gLiAyhYNbEJbiv1MirxhjIYGP9MqNpxxI1+Q3kuj
01K6ELIMuAhehoQOgU4AssJQxu7q78+hz2O7s+V0Syl+pvEOl2zUCgAmOYfle+BQ
75ZEEiINBuh6SOXBVLhfNp90FZ55KUSW4EeyoT+A4nRGHRgCTEfZ5WHi3lGlaLQd
Z9viLfNKA/DxrLWww+joTPIEhc3eU1mgDrcmfxo/L95EmTyUa5BtE0WuLwQEaY8H
J3eBgA9Y130ubuzzY4jGl4SCNedMzeIroHw2Bogd3V+E5aFtGd8gZUjXXr8rM6yX
PpttP2Hc8Bie2YXI2NffqwVqpL0dxo3uiQIcBBABAgAGBQJTvTYRAAoJEMATMJ1t
fkRccM4P/Rbg0W6l4KPFUvyKcUE6odRwoXExRGHdG9qW8Vf6xtW5eXUX/AZoCnXD
f3yWWttxgzN1e8iNRh0aYfuNSFTuHcHut/xw6GZ1yqASbuDmGWQ6uTb0yHYQcwQ5
ioaRaZZo5cpnSs0qZUpnrSzdUzyVmlKsD+1ut0/Z8yM8WGRyhplWX0dfXKnUUxJG
yh4GQc2dQon1vrsiuDTD2hr3EVues7le4WU+csegZTGPgPjhTSH6ZNFdDs4Y5KPi
unjXx+X6avPKPSJCnC9YlPMkI0RcokVLJW+K3+4QnbqU8m2MpZWVaaOo5s9PCx1I
208EHQ77A7EAFYNFrPZmtSV5X3BhU2rYNoRu0fpsNqJC34Oi7JdZdplPoO7FHRAC
AyQJyv8KUG8VVzK7m6Kt/Okq7LBc8RuvLQpUHSv1Z19fQvFgTegM5Pcpp3/ful/H
QIIc7XRElM57e+t8kbsoRpOlaKa3Okl3KisXdksWB4Fu6XdVArY/jIIQGs6dCpYa
jhRZcjkjHUAPvY/OqD2mBSwj0YwP0RoMVvFHMP1cgB3gjaB37A+DJeiKEXTWzGe1
fKC1TxCcOUZsrcqXnUyy23lKV9CXC7za3eB23dPIfWzJnD9BsVgYsemRVJx8r3Sv
QIL5zjKVDRAuV3M/HbCtSOgO68MExC0TFEl/8LPIMW8oVCY4+iqliQIcBBABCgAG
BQJTvUdSAAoJEO1n7NZdz2rnXxsP/R8WHku1nxjELqdM9M72JLD8UBlaAIwLStDy
hnTvLa0GO6eN0r2eJ1+tG8mKB+PZKOvNt8eZcSO/kjUvTIBILt7fAtN1BhsWpjQz
n+tuVWs4GVoPQssM4N09AYUzx8ni4byADY6n9l4zof2HsPsjXvuw/bzYXctKTQxg
gD3nswtLGY3q6unYewIChyaG8DStihFLcXIhXbwc6EOqdPN3VWwNInG/602UTO2L
eXoEM+tTaXkE51P5otACVH37AW0Vqqh1GxklYlMYLrKKn/YIBRvLVS5G+95iKs3g
MJhnaeFND2s9dmOTXyKyfTUffr/XTL/PVJSCbdqwiuXZQp8J77MtYyJn1262H8ko
59OlPtqvpBNuywco0/F8BOFvSTw5sS8CmU0EHvyunKaofS3mxCFd2B0DzX89+AoY
ZY7CKU8OYt/VqhsfsL0C+DL4+XschBOUoTg6HrqG4F69+gerkK4Ps2984vOeTXe3
IqlYN/Bn92m9rGy9PKkpqG5C6w5X58BgvfeWTAkM4X32rZHKOmyYSCdRJQw7MGSR
24OaWKPmgKvMaH8MQaJx9oSaAgF1y1892+ykVI9ntCVwywkmxNg1lfMuVFM4Vh9j
+C7OngnbQbhYtbFG90z9zfoMln39z8KT2yDP4A7Hklw0xmmT6t8KduGD2tfmaW4+
oz9attTyiQIcBBABCgAGBQJTvUdkAAoJEJLIQ0VtpqZuLNQP/RazXTtk1mixmLfu
nrScgh/1Gtb6XPVDTP5SGb/8HVdY1a+dDBClUIAFbEAUBIcBO4/NVlW9un4IHyri
xdD/ijE/Cr/BMLnSFU5EmHKn8yOc3Bv6eTTRbJ8EYru0Cj5MdSIAoq8JKF8Lbxba
hBFw9ZSIpREPGlxnKI3TEuHJQreSZR07/GPk50suTK2CXxzEsk4VZesSTnwt/1m+
hrdtyNke3+wy8R0Use+KKgmTzpQ9phc8wq3uhHFzLJ5HbE21VRHgFd5+osZuSDuH
jw5o/zU5o0Bq9DDY3TWXPD9lgqKQ2PgH5DG6od9gjpjJdvXpXpck08HJDu2V+u7M
zW5lsnthDsW39YVLRD4ZwZJQaw+0wBuGDDxV+8x4fYhYJnXD8ZtUHCQ56FlcMyzL
m00WRLNxBSJjRvH12geg5xK3JWZ8V6Ce+XhvIAduDkajuUKQoWvTMzYaviqQhfV1
zXNNt5rxDNT+jMiwnAtDeCTZPMfGvzOPw9sYBz5RUa4liVPrGiEW/snAhcMB9JDK
jMAsKHvJwIvB9QrRC9sz6JIgEqv+jlsdkslEVU2AALlcJ3QuXlW0j9Z26q0sNGt8
5FVqhc4DOyXtZhKR5Ru8Lyc3swYRi2ofu9Roycq3L0swcMoGnOikRbj2PuuRdQiU
ozJ7mT6JmNF8ynlx/1+uzniVneEliQIcBBIBCAAGBQJUGDc+AAoJEOqwPFi/3EeP
EpUP/i2p7BLtyrujFmwr6wxru8G2HBWySFeRZ7YC5iH1ZIiGPPi7nuinWEv6FaW6
dW8fzrwmJy0iUpstKM8CUdR10PZ66Un6A9yfj9MuYSWBDQwzkd3wSJ2+HPLeaTsc
hb545CYnIJBaUAWyfufyoeB2+u3DNQd4oHv5ceI781D6J0h9MUz1bNgV2w3prubD
9o8ycaUvXqHrADqDZiUA1zblm19AmbJIJbgeUaXD8iwkyk2hRHScVe9aLzd2J4TX
PIQt9Dj/VnW3TLvTtMPEls1SM+pQ9xYF3IBz5BWbrMuk3o3mpsIijs+vfjJdv77Q
UeyT0Ur0fJ5xa7zWxCs5AMpCFDdLGRW1jzFYipJBBhDVkylIjpr3eoIIU/RxVC6f
5dTaW8GeaspllyJT8BKe54R9u/uf7QPgIkuXdIdaZ4qbbftLxvyBJk6A2gSM/sLY
qeoo+zRxKi+lMZ/Zw8MUZ/ON+yE1ccQJAk1GDqAhUs5f7zCPU6xBLFeXhz9d6bFP
BGWZ3dy7mZaHgALDGqSd240hIoknwzqHaWZK5lWTmzIVUUQPV1Vn68stcaVsuaFd
tnGHv/JMvAj1F9ZlDDRwaPx0ATTXQbBI6JlvDQ8u2tTKIYEswtez/enkjX1dALFl
tV5FNartIWGiHWYxkGVRlh/QtAb0NsBU4/5uZkWpWzG0GtOniQI9BBMBCgAnAhsD
BQsJCAcDBRUKCQgLBRYDAgEAAh4BAheABQJVntrCBQkDwu9RAAoJEDanwF/h7Pm7
aw8QAIJadQ8+oJgvc9yMS+kW+EzkdmGQUDk/7Ozkkj8gk3Fyh2gTI6AenQaDm3QD
/qvShJts/JX9+zVREwGU7WAvXm2EGIB2OB6pVQOGhNc0V8BihykQ27BtetvMivgp
KTYCwdh/CWdF3hAGaPFcc/GkrQThTBZARISUC5zce/FvCSugvRsMdGYjhaCA/LYp
YBGRzXZIrfCaT19tvfW89WdFamT5dVcMVs0uVHw1qYzz9EyH8cj3KwVanZ/KF7zA
pENdsmx2/+EPmVL/oGqctcx5vXtzMYTdr54aRay67oDbtWZNqYoIksShaw5rsNkI
OnqMXCqQkDd0lf46CmqAqqwH0bNlnxTpm8cEcfGIee1yNUc0BGs7qgmtm/7+96My
WPKHixQR48OPiTAdT6/n8msm/+MeL8aRWvhLUkhi3zDWoilScPW121JbE0QytpWP
v+2QCRtvnJritKrzyfjO2CRHOoe5zOY/yRd91CVBde7Tpd0UdQP3vw3B0MznahYQ
+qdt1bMD6NLgADNDP0B2yWMnUS6xku6iBANwZcdLSav4gE7gVFbePKNJnGW6rOIp
ljl0Ivm//KVufLPNX0DAokfvHIvDNNuVuk82UpvVSVxrIaig4HhbWDOnYiDhtE0Q
CDNP7v5e9u/iC3VwBVI73iOsDpPGqEFp1E6UZF6Uvfcxmsp5tCtDb3JlIFNlY3Jl
dGFyeSA8Y29yZS1zZWNyZXRhcnlAZnJlZWJzZC5vcmc+iQIcBBABCgAGBQJTvR9B
AAoJEANvbJ7n856/QGAQANf7Qn3AvTB1Co9oCtKobbtLxOx/FFw6/jnfurJxQ2Y1
8N9zTNJ1KCzI8pYbanicWQFqUfC1wu6FrnSlNGQvW464NqcERElbFE41pvqX+Tb6
/dOX07mMBZYK8wgLDcHEjl4i7NHurx1AKA2ro/5utRvfIqmhPxcHwhNiP1He4MD1
NgkyrxmRWtO4VM99mhXdm+pl/8XwuFJrdg4v36pEws6tYJgPwDc86/XrmeJT6GOC
RFREdwXn6osSvvVYnx4Pyto/xTG5Fm4sa7S4bxgvvSzp2/L+eO4JpOGXuhiIGhfE
wISta1yf14GKTa4a0Qd+gquml4yd1DBybNoa0zcz/sJOBULe/CLKzSs5IuGkfdH0
os1WEjdqQ7JPct3Yizb7Iw/j1YfvDmnM+tt3EMU1DJ1ttY9+XB6pZvtjSHNApaDP
fSeizstpoLle3kvECBJyEIr5u/hL72dYEZtFiYFlHcvWIq6KqWJlIJrOa7vG7r58
6qstiG270tCeaVOfZT5grKNcDf4vYEoxL+2NKcHVA0rogRWPMwSWZbWEAaIilK/6
AVzc8xmefZJEHHxH7PprcPsH3MPpOwmWjfheHBKfIfEu1UqWAD+cRQmE+jEz1vc6
DzVUfA4c27j9/GXT9/NQsBTamC6rT3YUZKWlFulCC3ncRwf9ZTGSsiT5qCuV1ECn
iQIcBBABCgAGBQJTvUdSAAoJEO1n7NZdz2rnVCcP/3zh4y7MrLnV536rB0tDOM+l
sP3UYDmclWZmTENZ+r0ESM4YJzDjKO6ltXhh+MdYqDddY3vqLnsKTNYuMjKiu6jd
0ETy4ThzHxVhcyrgl1yWxyaSsdi5gMOnwNVClHfOD5gaOF0jdRJnLTLMueAEM3fy
NzSUjBOHJpk+RcIV3r/u8LvPFV2qwLWa937vYwfLRJ9jaQur5MnEVOWBz7CB0g1F
06JAcLv16FyWiLCOBxXZJd974lKXHd2yEMkSlF3Of1qX5FI6FK3HQU+c6eJcrWc5
4++zvgWHZTM3SwY9g5rl57Wz9Vpi13Ev6ArIIIEQ9P1ViwK4zyW78rFoM09juqHk
N4uUCWuk0f57XCFkrDA/n6YCSfAxSYXc1I+MKpAm/6yBYiBNpyS3Jz5HGO2S0QGs
PsBcUHGEmO6k/Z6boJLwaCAGx2dSQ84R4DQeFAd3NjBPab2xTNlitcOi+xnidCJZ
oDWQqx5dSLwLeORsw25ikOWroUS1hqfta2HDnnou4zuyppov0Q+50JGFJIril8sv
oUmLfuSk3XUrlxPHgL57Wp5K8NOIU4u/DStX4UaRuHQ+Uu9GV+c6rr3F46+MooqX
ISAw5cm/kDMwuOfQ4GOo8J/ADUfLQa6a/JnWFg3hb/rgt/lHJxjZliOZy8G08HyB
ddNfKCTBauqEyPYWTHzgiQIcBBABCgAGBQJTvUdkAAoJEJLIQ0VtpqZu/g0QAMXE
q8sNraENb3zO8wisdE0UZXOGuQduXDSrwpe26L9mCR/usjeWeGqbG9b6mP+fAwXx
m/BovdkF3bWguo1GCzztEHy+aTB4voxI6lEnyDKB8GG3mlkVjNAbDjVi/jCZfe6T
bJ6xDhX7633ees1An8tvizMHRr+z8zQ3xF4MNjlxLzawPE7/As5uHaT6Q3NhGTGy
G1oGsVlO8pYp97p2E/d44m6IlY5XEzO2A2fIq+0N4dcy8omTX8P4eUZFlUezRbbZ
tNP8Av77hESXO79gpmQir9fC5/qMBgJN+3iB9O+VcB0SeLm0TvUWtSFULqEdDkKA
rLOgZf0HNnsu7/rb1tR9zqSYN8gsF3MvF0RNHUdbyEh189LZTmapwSxcaoUYPcoO
Bfwo0MqMuEuyCkMWSD53BvsaSbcs2OWKYAp+oluM0TrnLup37O2G/EbxmMRHZVVy
uX60pIQDXO4DjLo9tqbM6OUNCG+1tKEX7Bs9GIzUL2mxZ072qE8x1A+eidSzy5Tx
2nE7DOurziiuv8G3JPFDtLkUVtPx9gqyyG3wmfThkMCl1jnutYDjetpeC8LcI5S9
mFE8BXBka7qEEY19GI/1LJcfMI8lMn16OITYv4/cwqWPMbjSMg6JpWBCFdsxRmIW
iggKodt6LfnuEciChejk8ewTf6/47z7aVhdBkYaOiQIcBBIBCAAGBQJUGDc+AAoJ
EOqwPFi/3EePCM0QAKFrkt0wW+am/O8ZzIejSCY+htWilGAIa6REk5gv00k2dKPC
Wf5rNPAXeQRAX4qItmd35hz7czElm2EVbrylDD+F9uN8wbkCMLdIe88caWfoj12l
JACAd0NiBSwJPgrajvER92fr173I31cKT6hwXP6bgjU3J4HICc1h7h5j7g+/YSeH
UacPSiY4MuXAQao6e2BtFI77LOwFvIFFdCEMdZDwoH+7lIF9I+Krm7ojMF5fauaS
K4e3kL029QugIFYlgb7HeDGLlonBSn40YXPenafAin0lNGWMWVv3SKN7tweNkKEh
MVoVReropjYpRg+khKaMumwJ9bdGkYP8jq7DwCKXy/J2rfCUzsyVX5Ga7keT8Ztn
y4RO6YqFtTryraiSPrxDZQ0Gt6kc1m3u+4vh93qJk+foUDRSLWfWjmX9aRf+7+4z
dsYBOrpt3tab6FqXrW7IcI+p8PCyBW4c/WHkU3YWreEba21BXGiMDoxfhQ9OyvSH
t6G8kgO9+k8sRY/78oGYxR4Aait8/Y54DmHkyZKSewu96So0+TDmcbkeatatDhra
sbjfQLWx8363tnQvmhWpw/bpWGmDQDLVTHn9OcXlckGU1fiUM7721g4s2UdijTMp
yYWfsLTaxOujHyxkwkBBtGV3DCas5Ep2KPMfSOgf3YVtPQH9IaotJSw/A6FdiQI9
BBMBCgAnBQJTvR7xAhsDBQkB4TOABQsJCAcDBRUKCQgLBRYDAgEAAh4BAheAAAoJ
EDanwF/h7Pm7QvMQAKE3pM3e7LrDH6+xsdafxb/RxnVwUI6FaoN3dIZRjIIh7Dyd
6WypD43+f4c4AeIX+b78RuCuu+oZMMkHk4/Y4PIRv6jw1wuGa67iHopFXy9KPYjE
QOtLptZUAorqC62CzoVJxwbpIPw1AkKBag7FFKtiymQKbxSAkEkCOTa64RF+FFDJ
zUqbRQPJMMhKR35lJ/W3TfNQQViF/nydDdNmSY+gYAPU8kqhx4K7K9al9DUwVa/P
dL0l549BLOHzmFcEtw4FQOGMYt4Gkma5+6OIMJOuoM/ADAUz7qdcWYYdsFl42HzC
73u7MGLcfGkElcZKkH8sn2zuKsTTtTKD5rhLfIiu132vK7vqoONdJLd7U1X2Bwif
/ub1we7x4eGonZjhKajENpD3o/1Y072gLy8rlZ1r6/J+GQ9TEwUBNV8NNOfDPv0p
xTP6OCFPHEFA4toG0rRBm7OIxmQXFWmfxMT3NnwBqPCufWlOm20JhaU/pefPCqHJ
Vc8Ap+k6/bct3iNuAg1buggFVDWg89uBqF9vfdELiCDF3nRYm4bQ6S1cWxvnu5aq
9MZdt4Dc1WnTSNfY9/zjKJWmG3miv1D1eo3fSyVJNYVfVzQ23KMOPwR/jdr47Gle
8/5OM38zPhZ+vC+XD//Lq0/c8iMO39B4pwQ0Bb8FAhk/6Ug0cYbap+lPWkY+iQI9
BBMBCgAnAhsDBQsJCAcDBRUKCQgLBRYDAgEAAh4BAheABQJVntrOBQkDwu9RAAoJ
EDanwF/h7Pm77qQQALNcLFh7Eqc6gztkIySQtqDgieH1Frj2YGMrTxdzP7fnl4sT
wWQF2H0rsLgvOTZszACwLm9Rg2GaRi/bFZ9S8AIM1klQEQmu5LoQDSPrfX0pNxDl
1WhESECgEAF7++HDk3kHUxr5bCr+AN6kG3mY2nuKtw33G5ZbPtM5Nwgk/GT8dB0w
EazZVAN103RpdDmqGgWhYP/dYjGZJjLQCjGyM4VoQcEu+dPrUlAxhFbm13wRyfgi
fBkOug9pB0lpblEXAbB3slDw+4A1++lUjTLzGHayRZIys3d4uM4l1C1b8Z5SeU4r
mpDcqvRbDkhxwVh6e7YdEbf1VTWjQ2WgvEDQXG74N/nN3npbjPfnyFF79udHTZvb
qW+uqyozxXdtLvIbcEHWVDdQGqqTeeRinRu7sK8PRuJxbI7YaECGFw/1QrXdIUzi
1jxRWgtfWihCArXiEuo1LBwdto8CaSxkKV+QTsaH/t5mUiA+fHzsMlexWe55K/7i
OZ5wViUcffNYwbQ7DgcRxwuzc+IYaGg0GYGzJfWeKnrpwm8uZSccH1LLXdIyf5vp
Q9UojD0qz1+byBPtl5/DBwFi5st248YMnXCItIYkjTfLeXQp4oSi3AHH0TEAxhUt
MLoI7CRnIiuCLmssfGI3sNH55wJQQeD7h8c/DaBI8yDuJ28dNY6H5zjPc82suQIN
BFO9HvEBEACynbl7EgcRIGWP7O6h1O6mrYXNZ2JpJBgYosqizdDHyru2nQSrNfgi
wAM1feB2NLJC0coQzRO1sDK2JP770+eK3ZhbWSP5BWN2toSFVEGlVpGWLBGoefae
ZnZA22IDzpOIjIi7iC92JBsTXESsBoV8iG1rylQ15pcE03IQEuuDu9r7H8RJ3vTf
X1c+a+B8MUHn56kn3QkdG2blV0/3gjFqqavZeOxZpAmyn9n9Vc3yCCPkagtNQwle
NyZOSOLjjVpBjncE6dATdLOj85phfOU6eO/0bMXAgTr7mY41EIqYqdPQYrY93ySG
gBvBkyNaH5AlDNZZwJ4ddtDMFoP8nUhBoRrf5ApYyHcEmSXahLfW3a2qrPm/w5VL
EGLt53/6GZvEetpP+TtBLAxX6XaC2SXAOrzfSZENdYt/Ew6F/dTCZ622m0eW65iV
wSi1sNZD2hNFPs/12a2tem7DAWqD2bi8BltKRbO+8T7BARwIl5hXGq5+YnO+DgTI
f4SYkSt8aiPYwDAF3YSkzpiUmZoBSRt6Sb9sZ3zIxpfnrtLFmSeujzinyCVNzFdn
+HKxZvI9Mc3Tv/LqPruVuWHt1Aj+eygH5bRZw4PTsMNX1FxM/K8hRY91A6Fyp3GC
kb5RzqdEGuSONBseaZirC0d+EYZ4smy1jydpzwT1O8VjY4wi5BdgwQARAQABiQIl
BBgBCgAPBQJTvR7xAhsMBQkB4TOAAAoJEDanwF/h7Pm7gzUP/Auq4I876RUqAP2D
gPNArjuc7jqvIIsgqBvwS2Vdvxg0pFQmsL13nvlmFHR1dp+yOhiz1WmXIVGa9UoB
rVdmDrzqCifHUVlFct99DLJlM+hNmQnHgTABTsClR4idkekOvyEgAW/gsgddYfqm
N8nRKSrokFZvwoR7HlCcSXEuATbqgHjJC8IuJuIgDWjshy3yVLIo5v/g/Yuio4bx
tRTJm72DtUIdDH3tDejc37wd945Rzk4hKzet64inF6XfRhqBsRob1m6/wtP62xPc
Gbb1GlzxYg9WllRJ/ZOTktB4BemVjRn4/0KU93YyxFxHOtXsoZpRGDlovQBUhRkd
b2JEyHaLnFVKa7w7JFKW9d+OdGjV93l//6139QEQlcuocV4QciXZOXTZkWsaKQOb
6WkrSwkQwvNFS2yeUd0x6HD0xebztmSGoXL3uCKyeIxP/8MJjJUkWHh/+DLue4kh
lHwva7Wym0cvYoS3RzfYd26t9OgM7rflE0tOeJovaoaKP6Aant/EkQj2Wb1MssO/
Ia44NyMTrLARAPlAEGW/HI5JL9DZDnmUtByf29yqaHDuJCZS3nvR3T/4q+pblTVd
xQgwopUWjiKkg72yCXMhr/6FcOr9Xgqn++GuMZzh/TFdEoFoJn9stUaScYsoMoih
ym2NFbd1l2Pw/ifTQk5/KpQD/HkwiQIlBBgBCgAPAhsMBQJVnts0BQkDwu/DAAoJ
EDanwF/h7Pm7fV4P/Rb4aYTZmpajgk26vnXIJ2L/Xorx1lV7+a1bDxct71qWSLv3
aCDGDXe1ZLYMnyaNCJHNn4SP2biF7QrRhRmGdETA2VXXCFYLDS7s4OQKltF3p1DS
1UPozfIyXkCFGbOasbaDtJ9SOSv04q1E6nXfCcF8xgjxMHbbrCsGiiHSNet+5A9f
AeZPWKWeUDgc3U7tho0FWyHZWgCjt5x1pYlCsUPgV3vlyo8HqRiWxLYF1WQ7SwV/
1536r5DD5vFbzhdxQ03mPDqLh0VZwPlQ6nb+bKwDX/75Q6tBNBkUQGM7XqI5tZ07
CjjI1/sTYMJz+GNnkIgrSiBr3vihtJgUzbJFfJqoIPkSdpayCP17k2Mdk9eCW6mc
tmtfhU91lzJUvAl3Og1TQP/wiyPQhTrQOlonwkrzY/Bve9Ilh2ZDt/9Q+XzEtSdG
59phFT4s7Yt5f9gVGx2hUhE5mmLN27rQJ2JnyIkA9IyNiycFPRo4ZURXI0yzCwXH
bwLEmA2FVnnyotURN7Z1k2PzUOL6lb7j2fMJZBbaFDR1G7J2pKNihJO3IY80z7Le
tpRpWKSdHTpSW1UXJFQBFT4W7fja03aEXP3bK+RV1MkAp/TCWlVCsqnyJae7BnEu
g9NgaY6PRozzy5ZAdWM36ylnwFyz48fgUWHFhDc7fMCHjwqDtP62K1TbRvFM
=cQn3
-----END PGP PUBLIC KEY BLOCK-----
]]></programlisting>

    </sect2>

    <sect2 xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pgpkey-portmgr-secretary">
      <title xmlns:xlink="http://www.w3.org/1999/xlink">ports 管理チーム書記 <email xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">portmgr-secretary@FreeBSD.org</email></title>
      <!-- $FreeBSD$ -->
<!--
sh addkey.sh portmgr-secretary D8294EC3BBC4D7D5 ;
-->
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpfingerprint"><![CDATA[
pub   2048R/D8294EC3BBC4D7D5 2012-07-24
      Key fingerprint = FB37 45C8 6F15 E8ED AC81  32FC D829 4EC3 BBC4 D7D5
uid                          FreeBSD Ports Management Team Secretary <portmgr-secretary@FreeBSD.org>
sub   2048R/5CC117965F65CFE7 2012-07-24
sub   4096R/CA20328577064EB7 2013-10-05
sub   4096R/8B114B3613867E00 2013-10-05

]]></programlisting>
<programlisting xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" role="pgpkey"><![CDATA[
-----BEGIN PGP PUBLIC KEY BLOCK-----

mQENBFAOzqYBCACYd+KGv0/DduIRpSEKWZG2yfDILStzWfdaQMD+8zdWihB0x7dd
JDBUpV0o0Ixzt9mvu5CHybx+9lOHeFRhZshFXc+bIJOPyi+JrSs100o7Lo6jg6+c
Si2vME0ixG4x9YjCi8DisXIGJ1kZiDXhmVWwCvL+vLInpeXrtJnK8yFkmszCOr4Y
Q3GXuvdU0BF2tL/Wo/eCbSf+3U9syopVS2L2wKcP76bbYU0ioO35Y503rJEK6R5G
TchwYvYjSXuhv4ec7N1/j3thrMC9GNpoqjVninTynOk2kn+YZuMpO3c6b/pfoNcq
MxoizGlTu8VT4OO/SF1y52OkKjpAsENbFaNTABEBAAG0R0ZyZWVCU0QgUG9ydHMg
TWFuYWdlbWVudCBUZWFtIFNlY3JldGFyeSA8cG9ydG1nci1zZWNyZXRhcnlARnJl
ZUJTRC5vcmc+iQE4BBMBAgAiBQJQDs6mAhsDBgsJCAcDAgYVCAIJCgsEFgIDAQIe
AQIXgAAKCRDYKU7Du8TX1QW2B/0coHe8utbTfGKpeM4BY9IyC+PFgkE58Hq50o8d
shoB9gfommcUaK9PNwJPxTEJNlwiKPZy+VoKs/+dO8gahovchbRdSyP1ejn3CFy+
H8pol0hDDU4n7Ldc50q54GLuZijdcJZqlgOloZqWOYtXFklKPZjdUvYN8KHAntgf
u361rwM4DZ40HngYY9fdGc4SbXurGA5m+vLAURLzPv+QRQqHfaI1DZF6gzMgY49x
qS1JBF4kPoicpgvs3o6CuX8MD9ewGFSAMM3EdzV6ZdC8pnpXC8+8Q+p6FjNqmtjk
GpW39Zq/p8SJVg1RortCH6qWLe7dW7TaFYov7gF1V/DYwDN5iQEcBBABAgAGBQJQ
DuVrAAoJENk3EJekc8mQ3KwIAImNDMXAF8ajPwCZFpM6KDi3F/jpwyBPISGY1oWu
YPEi1zN94k5jS90aZb3W8Y8x4JTh35Ewb6XODi3uGLSLCmnlqu2a80yPfXf5IuWm
IQdFNQxvosj9UHrg+icZGFmm+f0hPJxMTsZREv3AvivQfnb/N3xIICxW4SjKSYXQ
cq4hr4ObhUx7GKnjayq+ofU2cRlujr87uOH0fO3xhOJG4+cX5mI1HGK38k0Csc1z
qYa/66Qe5dnIZz+sNXpEPMLAHIt1a45UB967igJdZSDFN33bPl1QWmf3aUXU3d1V
ttiSyHkpm4kb9KgsDkUk1IJ5nUe9OXydWtoqNW5afDa5N0aIRgQQEQIABgUCUA7l
wwAKCRB59uBxdBRinNh2AJ41+zfsaQSRHWvSkqOXGcP/fgOduwCfUJDT+M1eXe2u
dmKof/9yzGYMirKJASIEEAECAAwFAlAaIT8FAwASdQAACgkQlxC4m8pXrXwCHAf+
J7l+L7AvRpqlQcezjnjFS/zG1098qkDflThHZlpVnrBMJZaXdvL6LzVgiIYVWZC5
CSSazW9EWFjp9VjM7FBHdWFZNMV7GAuUt0jzx6gGXOWwi+/v/hs1P11RyDZN5hIC
HdPNmyZVupciDxe+sIEP9aEbVxcaiccqzM/pFzIVIMMP5tCiA42q6Mz3h0hy6hnt
UKptS8Uon6sje5cDVcVlKAUj1wO2cphCqkYlwMQfZV5J9f/hcW5ODriD3cBwK8So
cA2Cq5JYF8kYDL1+pXnUutGnvAHUYt87RWvQdKmfXjzBcMFJ2LlPUB1+IFvwQ13V
9R8j9B/EdLmSWQYT9qRA2rkBDQRQDs6mAQgAzNxJYpf5PrqV8pdRXkn36Fe45q67
1YtbZ2WrT7D0CVZ8Z+AZsxnP/tiY1SrM2MepCeA2xBAhKGsWBWo1aRk5mfZOksKs
iXsi2XeBVhdZlCkrOMKBTVian7I1lH59ZnNIMX0Nl0tlj3L1IjeWWNvfej43URV8
1S9EmSwpjaWboatr2A+1oJku5m7nPD9JIOckE1TzBsyhx7zIUN9w6MKr7gFw8DCz
ypwUKyYgKYToVm8QlkT/L3B0fuQHWhT6ROGk4o8SC71ia5tc1TzUzGEZ1AQO8bbn
bmJLBDKveWHCoaeAkRzINzoD9wAn9z4pnilze59QtKC1cOqUksTvBSDh6wARAQAB
iQEfBBgBAgAJBQJQDs6mAhsMAAoJENgpTsO7xNfVOHoH/i5VyggVdwpqPX8YBmN5
mXQziYZNQoiON8IhOsxpX4W2nXCj5m6MACV6nJDVV6wyUH8/VvDQC9nHarCe1oaN
sHXJz0HamYt5gHJ0G1bYuBcuJp/FEjLa48XFI7nXQjJHn8rlwZMjK/PWj1lw2WZi
ekviuzTEDH8c3YStGJSa+gYe8Eyq3XJVAe2VQOhImoWgGDR3tWfgrya/IdEFb/jm
jHSG5XUfbI0vNwqlf832BqSQKPG/Zix4MmBJgvAz4R71PH8WBmbmNFjDelxVyfz8
0+iMgEb9aL91MfeBNC2KB1pFmg91mQTsiq7ajwVLVJK8NplHAkdLmkBCO8MgMjzG
hlG5Ag0EUk+ViAEQALkCj95JmvmfgytOxnR1w8xnQBuUxtYxf+BWwqU0IfOMBxAm
XDRfbfe9Bc3DDZygmjrZ0RCDcVJ4OmDNRc/vvoTst870so49dM1h2i6aWUhhD4Hy
cNjkx0wAIyZ9jXidT3LyAhCTSf/GjtpcORCvmAsXcJHzhhbJ5eM2SBkXmNdn4MeC
/hCbfUfzN64fmsGR4tKKIlPPayyQaQv/dOP3ofEh4SWRc8KtjEA6uIyHztWMWEJQ
KN/7nSeVuwDpVJL9l4yUGB0TqlK0p/necoQkOolnHUX5oK7Emin9TjPYCGqYAEWu
M1BbWXiYIdivlEm3ZU+vqq6CbSw/SKDZ2ZuK4UzDGQnW7WycsbXqZ18aewh1mdf+
5+YBxeXazRJvfFapB/WvtVqi84LOWior1IBMMg3PCyBiCjhHwXvoV5V6M3lthrnV
gyiCTreLXvTLNgIKQQFUvwW2Jscuwa3HhBgkhkJBSCPmpWAIZ9eA1RugvFQ893Xh
t8vy+z33WqxgUzhD8ZonKCBEZa29Zj7SeIYXcZmVmxCbRt4PYkgFoq6VC+93qtXu
OaOvC+0b9qkmNj5EqvozRt6SNv0sDe844T0LacR6QS9Pq/YMjAs8ao3gw0iwOAlV
vpiZfoEb6purf0Tz0h/URRHUZngEBsFmhciZxuCg9g/GaD8o/+PX0nzOWH4PABEB
AAGJAz4EGAECAAkFAlJPlYgCGwICKQkQ2ClOw7vE19XBXSAEGQECAAYFAlJPlYgA
CgkQyiAyhXcGTrfF9g/8C6JhufyxnYO0DmPURCFV0em3WjXcxQkhQa03u/sU8OFN
yp2UOB8jxI3XAsGe4RnclPF273K5G5OfUAJ2hjWFGrMqXGNLlsuJvDJCUmdHnI6c
sw1RvOn2myMzUSTqxPQynkvntughqiyXbGQaoxQJVWjruhogcIkVYvOT4nMGXCyk
9Q+uooLNw8xpzsZBw83znWhjjzemu/BbOfjXbf3qdK9NWMkBfcaR9sDhRA+YY4bc
o7oTKXFfh3gMN1pqTuAM8dbGc0/bS558yNQuFaJ+cX3lbSLXz5oibJi6kudyL9E/
CkVvMFWTLcQQWCPS5rK0dctodW1x8JnwVnaG80trFIxmQ+wk4S156CdYwTv/1LbW
GKcVz9Og1e9wIL2LsVaLD9OIRnx4G8dLqZJz4pmGEES7CX6rrJuSpXxNOg4PthiP
s0z/q9deohKJkUgj6tln0OCgI8203GSSLq3FTAFer2VS+m1XMkA2mqk1Wv6tZeyY
MnYAZCBzc16F2zMg5dVKmV114bHmRTX0b5QQNB7JU3C34kdTagjLr4dz/5BhXgof
zjP9HgVQKCp7JvTdUT7N0y/k+mRMmnK8vnWdbOZH48IOELDhMkU5QIiKHoJaXsw7
wVo68LtSQItfIoA/m6EORGZxUWCi/8G+kBK6NEExR1dlAW+M+fRhzNgqvqoLrcfR
4wgAkQGq3M2/hGdU/Z1j6CDKEvA1/iSRpnBnfVM8KUR661QrEctmIo1YwSU7x5+g
H5lfDUjU2cIlD+HgfxERKwl+hb2KY9OyLq2AUhhf8rAvG2dU9djDp7TWIvF3wexL
liu4C6EWcwlnEecCpkPUYv7/PKb0h0xAx32Umb6dzkfd24miWZTI/Gg7R1Qyl1DC
wBM9kgPRgEhnV3ummsD3KPXf5UwzHPslhqWTO1p2iML4exnXlknL7mJKjj4d3gyi
5LxVVSzt2xi5MyCkFhiHFkSfItihcRpHdzxsBW+7YWw1ELlcKMeOkZQcyBm3VpE/
ZD4DQK6zwGfk4y8WS7A5SJEjJrkCDQRST5W/ARAAwbT4loEoK7ZY8fzt8hyhdBgS
bpXFWAB6yeyGDYp9ucG4ySjlfZIAew/EOzIR/68pKiGzIE0+kxKjlvVDcJoqWfrr
gomondGK2oyK35qOsYOlae6tsZm73InJuGSC+fZ1Vv0HBIn8JZpJXFV7z4FotaG5
iaKDdZCjxawVEWDl7z0zDSLKgPLtK4uSsEVsQIhPo5YLSqT7mCnleCqdNu3S4cun
tXaZmmSZnfv3qnkiPNNNSagZrMUK349fVCdvnJ4hKDbMAEgbxZVwEeB4HFicjwAN
UQTO1qSc+h8bwkrN/RgaT0Zz3nak+DJOOrKRV5VWWemx4Oy2oT08SqMRbhip/veI
LvrV+rKH+lb9uxp0vYWnRvWodOlEla0NeBzfz6Sv8ZI2D+xLJ260mIB4f4BUYCBi
SDu8UKTDffYba+50I9RgV9+umJ2WTcp/PA5/59M9e6R2F3dcM0Qey8hVDcf+rPY2
thXymS85IHcPauDjvjpHpx1xvhoEu2iX0yJwBDUX/xVWwH/lei7DT0cd1dB1pKiP
zNvWSoPp6zhqcB6tUvE69CLRzotmb2OiAkFOReEVkcATL+bG9PBN0zWtSXJuCSL5
WAb+syRzBGwLA7+iQOY0yXCZ+Etl6BG8rsyQkBRwpTG5jXzDKUTl2hmKGFmU72xc
cPeNxhbq1tGMGfDVVmkAEQEAAYkBHwQYAQIACQUCUk+VvwIbDAAKCRDYKU7Du8TX
1cEOB/0WwX3yF/MC8upI0YAbjht+KG4cLgU6qo1ydZgQyHpAf8cttzq/uCDu4wLE
g0CDmreTXoiNR9W0ULhkn1LFkZQI6Z2uSH/wqQUJrE4P9Oo61TXClIzvjBoEufkS
3bg3wuAKiQ4cD1XxyThUG3qa4nbGVvKi4eWYuubpzJof7QD75LudHmLneY4mtCNA
ZgmgEWA2Utn0GWN1QNfoy1NGeLt0kza0VFjm6l6KeMc28ULZZztg0KbuFmQIreN9
JHQbJrrqX8ev57SqEtanoPyX4IjxVJFEmTn4xVSlRXY2uFZZtlB1SuyEPYmrdnjb
pDN9ZUgVOk/c+0+5u+G3JBRYu6P1
=fyjO
-----END PGP PUBLIC KEY BLOCK-----
]]></programlisting>

    </sect2>

  </sect1>
</appendix>

  </part>
  
<!--
    $FreeBSD$

    FreeBSD Glossary Terms
	Please keep this file sorted alphabetically/ASCIIly by glossterm.

	glossterms that are acronyms should have two entries - one for
	the expanded acronym and another for the acronym itself.  The
	second of these should reference the entry for the expanded acronym
	via a glosssee element.  For example:

	<glossentry>
	  <glossterm>FUBAR</glossterm>
	  <glosssee otherterm="fubar-glossary">
	</glossentry>

	<glossentry id="fubar-glossary">
	  <glossterm>Fuc... Up Beyond All Recognition</glossterm>
	  <acronym>FUBAR</acronym>
	  <glossdef>
	    <para>Broken.</para>
	  </glossdef>
	</glossentry>

	Note that in this instance, the expanded acronym sorts below the
	unexpanded acronym.  That's OK.

	Finally, id attribute values should end in the string
	"-glossary" to avoid conflicting with id attribute values in
	the main text.

-->
<glossary xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" status="draft" xml:id="freebsd-glossary">
  <title xmlns:xlink="http://www.w3.org/1999/xlink">FreeBSD Glossary</title>
  <para xmlns:xlink="http://www.w3.org/1999/xlink">This glossary contains terms and acronyms used within the FreeBSD
    community and documentation.</para>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">A</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ACL</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="acl-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="acpi-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">AMD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="amd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">AML</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="aml-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">API</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="api-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">APIC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="apic-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">APM</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="apm-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">APOP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="apop-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ASL</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="asl-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ATA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ata-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ATM</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="atm-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="aml-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> Machine Language</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AML</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">Pseudocode, interpreted by a virtual machine within an
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym>-compliant operating system, providing a
	  layer between the underlying hardware and the documented
	  interface presented to the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">OS</acronym>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="asl-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> Source Language</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASL</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The programming language <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AML</acronym> is written in.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="acl-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Access Control List</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACL</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A list of permissions attached to an object, usually either a
	  file or a network device.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="acpi-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Configuration and Power Interface</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A specification which provides an abstraction of the
	  interface the hardware presents to the operating system, so
	  that the operating system should need to know nothing about
	  the underlying hardware to make the most of it.  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym>
	  evolves and supersedes the functionality provided previously by
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APM</acronym>, <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PNPBIOS</acronym> and other technologies, and
	  provides facilities for controlling power consumption, machine
	  suspension, device enabling and disabling, etc.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="api-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Application Programming Interface</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">API</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A set of procedures, protocols and tools that specify the
	  canonical interaction of one or more program parts; how, when
	  and why they do work together, and what data they share or
	  operate on.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="apm-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Power Management</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APM</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">API</acronym> enabling the operating system to work
	  in conjunction with the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> in order to achieve
	  power management.  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APM</acronym> has been superseded by
	  the much more generic and powerful <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym>
	  specification for most applications.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="apic-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Programmable Interrupt Controller</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APIC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ata-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Advanced Technology Attachment</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="atm-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Asynchronous Transfer Mode</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATM</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="apop-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Authenticated Post Office Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APOP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="amd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Automatic Mount Daemon</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AMD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A daemon that automatically mounts a filesystem when a file
          or directory within that filesystem is accessed.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">B</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">BAR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="bar-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">BIND</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="bind-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="bios-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">BSD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="bsd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bar-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Base Address Register</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BAR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The registers that determine which address range a <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCI</acronym> device
	  will respond to.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bios-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Basic Input/Output System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The definition of <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> depends a bit on
	  the context. Some people refer to it as the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ROM</acronym>
	  chip with a basic set of routines to provide an interface between
	  software and hardware.  Others refer to it as the set of routines
	  contained in the chip that help in bootstrapping the system.  Some
	  might also refer to it as the screen used to configure the
	  boostrapping process. The <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIOS</acronym> is PC-specific
	  but other systems have something similar.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bind-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Berkeley Internet Name Domain</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BIND</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An implementation of the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym> protocols.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bsd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Berkeley Software Distribution</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">BSD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">This is the name that the Computer Systems Research Group
	  (CSRG) at <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.berkeley.edu">The University
	  of California at Berkeley</link>
	  gave to their improvements and modifications to
	  AT&amp;T's 32V <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark>.
	  FreeBSD is a descendant of the CSRG work.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="bikeshed-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Bikeshed Building</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A phenomenon whereby many people will give an opinion on
	  an uncomplicated topic, whilst a complex topic receives little
	  or no discussion.  See the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/books/faq/misc.html#BIKESHED-PAINTING">FAQ</link> for
	  the origin of the term.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">C</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CHAP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="chap-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CLIP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="clip-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">COFF</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="coff-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CPU</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cpu-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CTS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cts-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">CVS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cvs-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Carrier Detect</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> signal indicating that a carrier
	  has been detected.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cpu-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Central Processing Unit</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CPU</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">Also known as the processor.  This is the brain of the
	  computer where all calculations take place.  There are a number of
	  different architectures with different instruction sets.  Among
	  the more well-known are the Intel-x86 and derivatives, Sun SPARC,
	  PowerPC, and Alpha.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="chap-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Challenge Handshake Authentication Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CHAP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A method of authenticating a user, based on a secret shared
	  between client and server.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="clip-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Classical <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> over <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATM</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CLIP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cts-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Clear To Send</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CTS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> signal giving the remote system
          permission to send data.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rts-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="coff-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Common Object File Format</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">COFF</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="cvs-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Concurrent Versions System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">CVS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A version control system, providing a method of working with and
	  keeping track of many different revisions of files.  CVS provides the
	  ability to extract, merge and revert individual changes or sets of
	  changes, and offers the ability to keep track of which changes were
	  made, by who and for what reason.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">D</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DAC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dac-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DDB</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ddb-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DES</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="des-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dhcp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DNS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dns-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DSDT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dsdt-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DSR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dsr-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DTR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dtr-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">DVMRP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dvmrp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dac-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Discretionary Access Control</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DAC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="des-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Data Encryption Standard</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DES</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A method of encrypting information, traditionally used as the
	  method of encryption for <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> passwords and the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">crypt</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">3</manvolnum></citerefentry>
	  function.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dsr-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Data Set Ready</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DSR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> signal sent from the modem to the
	  computer or terminal indicating a readiness to send and receive
	  data.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="dtr-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dtr-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Data Terminal Ready</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DTR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> signal sent from the computer or
	  terminal to the modem indicating a readiness to send and receive
	  data.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ddb-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Debugger</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DDB</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An interactive in-kernel facility for examining the status of
	  a system, often used after a system has crashed to establish the
	  events surrounding the failure.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dsdt-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Differentiated System Description Table</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DSDT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> table, supplying basic configuration
	  information about the base system.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dvmrp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Distance-Vector Multicast Routing Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DVMRP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dns-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Domain Name System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DNS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The system that converts humanly readable hostnames (i.e.,
	  mail.example.net) to Internet addresses and vice versa.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="dhcp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Dynamic Host Configuration Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">DHCP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A protocol that dynamically assigns IP addresses to a computer
	  (host) when it requests one from the server.  The address assignment
	  is called a <quote xmlns:xlink="http://www.w3.org/1999/xlink">lease</quote>.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">E</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ECOFF</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ecoff-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ELF</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="elf-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ESP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="esp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="esp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Encapsulated Security Payload</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ESP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="elf-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Executable and Linking Format</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ELF</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ecoff-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Extended <acronym xmlns:xlink="http://www.w3.org/1999/xlink">COFF</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ECOFF</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">F</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">FADT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="fadt-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">FAT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="fat-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">FAT16</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="fat16-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">FTP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ftp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="fat-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">File Allocation Table</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FAT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="fat16-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">File Allocation Table (16-bit)</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FAT16</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ftp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">File Transfer Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A member of the family of high-level protocols implemented
	  on top of <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP</acronym> which can be used to transfer
	  files over a <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP</acronym> network.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="fadt-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Fixed <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ACPI</acronym> Description Table</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FADT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">G</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">GUI</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="gui-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="giant-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Giant</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The name of a mutual exclusion mechanism
	  (a <literal xmlns:xlink="http://www.w3.org/1999/xlink">sleep mutex</literal>) that protects a large
	  set of kernel resources.  Although a simple locking mechanism
	  was adequate in the days where a machine might have only
	  a few dozen processes, one networking card, and certainly
	  only one processor, in current times it is an unacceptable
	  performance bottleneck.  FreeBSD developers are actively working
	  to replace it with locks that protect individual resources,
	  which will allow a much greater degree of parallelism for
	  both single-processor and multi-processor machines.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="gui-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Graphical User Interface</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">GUI</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A system where the user and computer interact with
          graphics.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">H</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">HTML</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="html-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">HUP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="hup-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="hup-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">HangUp</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">HUP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="html-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">HyperText Markup Language</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">HTML</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The markup language used to create web pages.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">I</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">I/O</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="io-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IASL</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="iasl-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IMAP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="imap-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ip-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IPFW</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ipfw-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IPP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ipp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ipv4-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ipv6-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ISP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="isp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipfw-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> Firewall</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPFW</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipv4-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> Version 4</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> protocol version 4, which uses 32 bits
	  for addressing.  This version is still the most widely used, but it
	  is slowly being replaced with <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym>.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ipv6-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipv6-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> Version 6</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The new <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> protocol. Invented because the
	  address space in <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv4</acronym> is running out.  Uses 128
	  bits for addressing.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="io-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Input/Output</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">I/O</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="iasl-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Intel’s <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASL</acronym> compiler</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IASL</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">Intel’s compiler for converting <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ASL</acronym> into
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">AML</acronym>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="imap-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Internet Message Access Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IMAP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A protocol for accessing email messages on a mail server,
	  characterised by the messages usually being kept on the server as
	  opposed to being downloaded to the mail reader client.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pop3-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ipp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Internet Printing Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ip-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Internet Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The packet transmitting protocol that is the basic protocol on
	  the Internet.  Originally developed at the U.S. Department of
	  Defense and an extremely important part of the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP
	  </acronym> stack.  Without the Internet Protocol, the Internet
	  would not have become what it is today.  For more information, see
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.rfc-editor.org/in-notes/rfc791.txt">
	  RFC 791</link>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="isp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Internet Service Provider</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ISP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A company that provides access to the Internet.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">K</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kame-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">KAME</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">Japanese for <quote xmlns:xlink="http://www.w3.org/1999/xlink">turtle</quote>, the term KAME is used
	  in computing circles to refer to the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.kame.net/">KAME Project</link>, who work on
	  an implementation of <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IPv6</acronym>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">KDC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="kdc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">KLD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="kld-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">KSE</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="kse-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">KVA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="kva-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Kbps</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="kbps-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kld-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Kernel <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">ld</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">KLD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A method of dynamically loading functionality into a FreeBSD kernel
	  without rebooting the system.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kse-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Kernel Scheduler Entities</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">KSE</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A kernel-supported threading system.  See the <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/kse">project home page</link>
	  for further details.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kva-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Kernel Virtual Address</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">KVA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kdc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Key Distribution Center</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">KDC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="kbps-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Kilo Bits Per Second</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">Kbps</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Used to measure bandwidth (how much data can pass a given
	  point at a specified amount of time).  Alternates to the Kilo
	  prefix include Mega, Giga, Tera, and so forth.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">L</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">LAN</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="lan-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">LOR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="lor-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">LPD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="lpd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lpd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Line Printer Daemon</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">LPD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lan-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Local Area Network</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">LAN</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A network used on a local area, e.g. office, home, or so forth.
	  </para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="lor-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Lock Order Reversal</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">LOR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD kernel uses a number of resource locks to
	  arbitrate contention for those resources.  A run-time
	  lock diagnostic system found in FreeBSD-CURRENT kernels
	  (but removed for releases), called <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">witness</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry>,
	  detects the potential for deadlocks due to locking errors.
	  (<citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">witness</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">4</manvolnum></citerefentry> is actually slightly conservative, so
	  it is possible to get false positives.)  A true positive
	  report indicates that <quote xmlns:xlink="http://www.w3.org/1999/xlink">if you were unlucky, a deadlock would
	  have happened here</quote>.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">True positive LORs tend to get fixed quickly, so
	  check http://lists.FreeBSD.org/mailman/listinfo/freebsd-current and the
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://sources.zabbadoz.net/freebsd/lor.html">
	  LORs Seen</link> page before posting to the mailing lists.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">M</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MAC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mac-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MADT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="madt-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MFC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mfc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MFP4</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mfp4-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MFS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mfs-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MIT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mit-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MLS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mls-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MOTD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="motd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MTA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mta-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">MUA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mua-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mta-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Mail Transfer Agent</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An application used to transfer email.  An
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym> has traditionally been part of the BSD
	  base system.  Today Sendmail is included in the base system, but
	  there are many other <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MTA</acronym>s, such as postfix,
	  qmail and Exim.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mua-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Mail User Agent</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MUA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An application used by users to display and write email.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mac-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Mandatory Access Control</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MAC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mit-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Massachusetts Institute of Technology</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MIT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mfc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Merge From Current</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">To merge functionality or a patch from the -CURRENT
	  branch to another, most often -STABLE.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mfp4-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Merge From Perforce</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFP4</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">To merge functionality or a patch from the Perforce
	  repository to the -CURRENT branch.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="perforce-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mfs-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Merge From Stable</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MFS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">In the normal course of FreeBSD development, a change will
	  be committed to the -CURRENT branch for testing before being
	  merged to -STABLE.  On rare occasions, a change will go into
	  -STABLE first and then be merged to -CURRENT.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">This term is also used when a patch is merged from -STABLE
	  to a security branch.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="mfc-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="motd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Message Of The Day</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MOTD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A message, usually shown on login, often used to
	  distribute information to users of the system.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="mls-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Multi-Level Security</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MLS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="madt-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Multiple <acronym xmlns:xlink="http://www.w3.org/1999/xlink">APIC</acronym> Description Table</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">MADT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">N</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">NAT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="nat-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">NDISulator</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="projectevil-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">NFS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="nfs-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">NTFS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ntfs-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">NTP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ntp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nat-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Network Address Translation</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NAT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A technique where <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> packets are rewritten
	  on the way through a gateway, enabling many machines behind the
	  gateway to effectively share a single <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> address.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="nfs-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Network File System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NFS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ntfs-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">New Technology File System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NTFS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A filesystem developed by Microsoft and available in its
	  <quote xmlns:xlink="http://www.w3.org/1999/xlink">New Technology</quote> operating systems, such as
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> 2000, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows NT</trademark> and <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Windows</trademark> XP.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ntp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Network Time Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NTP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A means of synchronizing clocks over a network.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">O</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">OBE</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="obe-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">ODMR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="odmr-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">OS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="os-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="odmr-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">On-Demand Mail Relay</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ODMR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="os-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Operating System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">OS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A set of programs, libraries and tools that provide access to
	  the hardware resources of a computer.  Operating systems range
	  today from simplistic designs that support only one program
	  running at a time, accessing only one device to fully
	  multi-user, multi-tasking and multi-process systems that can
	  serve thousands of users simultaneously, each of them running
	  dozens of different applications.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="obe-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Overtaken By Events</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">OBE</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Indicates a suggested change (such as a Problem Report
	  or a feature request) which is no longer relevant or
	  applicable due to such things as later changes to FreeBSD,
	  changes in networking standards, the affected hardware
	  having since become obsolete, and so forth.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">P</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">p4</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="perforce-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PAE</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pae-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PAM</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pam-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PAP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pap-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PCNSFD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pcnfsd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PDF</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pdf-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PID</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pid-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">POLA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pola-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">POP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pop-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">POP3</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pop3-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PPD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ppd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PPP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ppp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PPPoA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pppoa-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PPPoE</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pppoe-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pppoa-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPP</acronym> over <acronym xmlns:xlink="http://www.w3.org/1999/xlink">ATM</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPPoA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pppoe-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPP</acronym> over <acronym xmlns:xlink="http://www.w3.org/1999/xlink">Ethernet</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPPoE</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pr-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PXE</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pxe-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pap-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Password Authentication Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PAP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="perforce-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Perforce</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A source code control product made by
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.perforce.com/">Perforce Software</link>
	  which is more advanced than CVS.  Although not open source, its use
	  is free of charge to open-source projects such as FreeBSD.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Some FreeBSD developers use a Perforce repository as a staging
	  area for code that is considered too experimental for the
	  -CURRENT branch.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Personal Computer</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pcnfsd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Personal Computer Network File System Daemon</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PCNFSD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pae-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Physical Address Extensions</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PAE</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A method of enabling access to up to 64 GB of <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym> on
	  systems which only physically have a 32-bit wide address space
	  (and would therefore be limited to 4 GB without PAE).</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pam-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Pluggable Authentication Modules</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PAM</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ppp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Point-to-Point Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pointyhat">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Pointy Hat</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A mythical piece of headgear, much like a
	  <literal xmlns:xlink="http://www.w3.org/1999/xlink">dunce cap</literal>, awarded to any FreeBSD
	  committer who breaks the build, makes revision numbers
	  go backwards, or creates any other kind of havoc in
	  the source base.  Any committer worth his or her salt
	  will soon accumulate a large collection.  The usage is
	  (almost always?) humorous.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pdf-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Portable Document Format</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PDF</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pop-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Post Office Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">POP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="pop3-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pop3-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Post Office Protocol Version 3</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">POP3</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A protocol for accessing email messages on a mail server,
	  characterised by the messages usually being downloaded from the
	  server to the client, as opposed to remaining on the server.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="imap-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ppd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">PostScript Printer Description</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PPD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pxe-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Preboot eXecution Environment</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PXE</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pola-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Principle Of Least Astonishment</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">POLA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">As FreeBSD evolves, changes visible to the user should be
	  kept as unsurprising as possible.  For example, arbitrarily
	  rearranging system startup variables in
	  <filename xmlns:xlink="http://www.w3.org/1999/xlink">/etc/defaults/rc.conf</filename> violates
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">POLA</acronym>.  Developers consider
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">POLA</acronym> when contemplating user-visible
	  system changes.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pr-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Problem Report</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A description of some kind of problem that has been
	  found in either the FreeBSD source or documentation.  See
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.FreeBSD.org/doc/ja_JP.eucJP/articles/problem-reports/index.html">
	  Writing FreeBSD Problem Reports</link>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="pid-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Process ID</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">PID</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A number, unique to a particular process on a system,
	  which identifies it and allows actions to be taken against it.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="projectevil-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Project Evil</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink" subject="FreeBSD">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The working title for the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NDISulator</acronym>,
	  written by Bill Paul, who named it referring to how awful
	  it is (from a philosophical standpoint) to need to have
	  something like this in the first place.  The
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">NDISulator</acronym> is a special compatibility
	  module to allow Microsoft Windows™ NDIS miniport
	  network drivers to be used with FreeBSD/i386.  This is usually
	  the only way to use cards where the driver is closed-source.
	  See <filename xmlns:xlink="http://www.w3.org/1999/xlink">src/sys/compat/ndis/subr_ndis.c</filename>.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">R</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RA</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ra-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RAID</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="raid-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RAM</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ram-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rd-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RFC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rfc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RISC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="risc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RPC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rpc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rs232c-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">RTS</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rts-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ram-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Random Access Memory</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rcs-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Revision Control System</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RCS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The <emphasis xmlns:xlink="http://www.w3.org/1999/xlink">Revision Control System</emphasis>
          (<acronym xmlns:xlink="http://www.w3.org/1999/xlink">RCS</acronym>) is one of the oldest software suites
          that implement <quote xmlns:xlink="http://www.w3.org/1999/xlink">revision control</quote> for plain
          files.  It allows the storage, retrieval, archival, logging,
          identification and merging of multiple revisions for each
          file.  RCS consists of many small tools that work together.
          It lacks some of the features found in more modern revision
          control systems, like CVS or Subversion, but it is very simple
          to install, configure, and start using for a small set of
          files.  Implementations of RCS can be found on every major
          UNIX-like OS.</para>

	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cvs-glossary"/>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="svn-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rd-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Received Data</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> pin or wire that data is
	  received on.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="td-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rs232c-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Recommended Standard 232C</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A standard for communications between serial devices.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="risc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Reduced Instruction Set Computer</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RISC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An approach to processor design where the operations the hardware
	  can perform are simplified but made as general purpose as possible.
	  This can lead to lower power consumption, fewer transistors and in
	  some cases, better performance and increased code density.  Examples
	  of RISC processors include the Alpha, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">SPARC</trademark>, <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">ARM</trademark> and
	  <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">PowerPC</trademark>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="raid-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Redundant Array of Inexpensive Disks</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAID</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rpc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Remote Procedure Call</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RPC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">repocopy</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="repocopy-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="repocopy-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Repository Copy</glossterm>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A direct copying of files within the CVS repository.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Without a repocopy, if a file needed to be copied or
	  moved to another place in the repository, the committer would
	  run <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs add</command> to put the file in its new
	  location, and then <command xmlns:xlink="http://www.w3.org/1999/xlink">cvs rm</command> on the old file
	  if the old copy was being removed.</para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">The disadvantage of this method is that the history
	  (i.e. the entries in the CVS logs) of the file would not be
	  copied to the new location. As the FreeBSD Project considers
	  this history very useful, a repository copy is often used
	  instead. This is a process where one of the repository meisters
	  will copy the files directly within the repository, rather than
	  using the <citerefentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"><refentrytitle xmlns:xlink="http://www.w3.org/1999/xlink">cvs</refentrytitle><manvolnum xmlns:xlink="http://www.w3.org/1999/xlink">1</manvolnum></citerefentry> program.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rfc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Request For Comments</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RFC</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A set of documents defining Internet standards, protocols, and
	  so forth.  See
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.rfc-editor.org/">www.rfc-editor.org</link>.
	  </para>

	<para xmlns:xlink="http://www.w3.org/1999/xlink">Also used as a general term when someone has a suggested change
	  and wants feedback.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="rts-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Request To Send</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RTS</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> signal requesting that the remote
	  system commences transmission of data.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cts-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ra-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Router Advertisement</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RA</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">S</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SCI</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="sci-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="scsi-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SG</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="sg-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SMB</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="smb-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SMP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="smp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="smtp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SMTP AUTH</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="smtpauth-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SSH</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ssh-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">STR</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="str-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">SVN</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="svn-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="smtpauth-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink"><acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym> Authentication</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP AUTH</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="smb-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Server Message Block</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMB</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sg-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Signal Ground</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SG</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232</acronym> pin or wire that is the ground
	  reference for the signal.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="smtp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Simple Mail Transfer Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMTP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ssh-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Secure Shell</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SSH</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="scsi-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Small Computer System Interface</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCSI</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="svn-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Subversion</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SVN</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">Subversion is a version control system, similar to CVS, but
	  with an expanded feature list.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="cvs-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="str-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Suspend To <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RAM</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">STR</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="smp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Symmetric MultiProcessor</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SMP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="sci-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">System Control Interrupt</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">SCI</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">T</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TCP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="tcp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="tcpip-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TD</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="td-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TFTP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="tftp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TGT</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="tgt-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">TSC</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="tsc-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tgt-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Ticket-Granting Ticket</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TGT</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tsc-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Time Stamp Counter</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TSC</acronym>
      <!-- From dg@, 20040814125503.GF40460@nexus.dglawrence.com -->
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A profiling counter internal to modern <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">Pentium</trademark> processors
	  that counts core frequency clock ticks.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tcp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Transmission Control Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A protocol that sits on top of (e.g.) the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym>
	  protocol and guarantees that packets are delivered in a reliable,
	  ordered, fashion.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tcpip-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Transmission Control Protocol/Internet Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">The term for the combination of the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP</acronym>
	  protocol running over the <acronym xmlns:xlink="http://www.w3.org/1999/xlink">IP</acronym> protocol.  Much of
	  the Internet runs over <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP/IP</acronym>.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="td-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Transmitted Data</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TD</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An <acronym xmlns:xlink="http://www.w3.org/1999/xlink">RS232C</acronym> pin or wire that data is transmitted
	  on.</para>
	<glossseealso xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="rd-glossary"/>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="tftp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Trivial <acronym xmlns:xlink="http://www.w3.org/1999/xlink">FTP</acronym></glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TFTP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink"/>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">U</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">UDP</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="udp-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">UFS1</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ufs1-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="ufs2-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">UID</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="uid-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">URL</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="url-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">USB</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="usb-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="url-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Uniform Resource Locator</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">URL</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A method of locating a resource, such as a document on
	  the Internet and a means to identify that resource.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ufs1-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Unix File System Version 1</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS1</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">The original <trademark xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" class="registered">UNIX</trademark> file system, sometimes called the
	  Berkeley Fast File System.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="ufs2-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Unix File System Version 2</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">An extension to <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS1</acronym>, introduced in
	  FreeBSD 5-CURRENT.  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UFS2</acronym> adds 64 bit block
	  pointers (breaking the 1T barrier), support for extended file
	  storage and other features.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="usb-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Universal Serial Bus</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">USB</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A hardware standard used to connect a wide variety of
	  computer peripherals to a universal interface.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="uid-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">User ID</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UID</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
        <para xmlns:xlink="http://www.w3.org/1999/xlink">A unique number assigned to each user of a computer,
	  by which the resources and permissions assigned to that
	  user can be identified.</para>
      </glossdef>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="udp-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">User Datagram Protocol</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UDP</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A simple, unreliable datagram protocol which is used
	  for exchanging data on a TCP/IP network.  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">UDP</acronym>
	  does not provide error checking and correction like
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">TCP</acronym>.</para>
      </glossdef>
    </glossentry>
  </glossdiv>

  <glossdiv xmlns:xlink="http://www.w3.org/1999/xlink">
    <title xmlns:xlink="http://www.w3.org/1999/xlink">V</title>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">VPN</glossterm>
      <glosssee xmlns:xlink="http://www.w3.org/1999/xlink" otherterm="vpn-glossary"/>
    </glossentry>

    <glossentry xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="vpn-glossary">
      <glossterm xmlns:xlink="http://www.w3.org/1999/xlink">Virtual Private Network</glossterm>
      <acronym xmlns:xlink="http://www.w3.org/1999/xlink">VPN</acronym>
      <glossdef xmlns:xlink="http://www.w3.org/1999/xlink">
	<para xmlns:xlink="http://www.w3.org/1999/xlink">A method of using a public telecommunication
	  such as the Internet, to provide remote access to a
	  localized network, such as a corporate
	  <acronym xmlns:xlink="http://www.w3.org/1999/xlink">LAN</acronym>.</para>
      </glossdef>
    </glossentry>
  </glossdiv>
</glossary>

  <index xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"/>
  
<!--
     The FreeBSD Documentation Project
     The FreeBSD Japanese Documentation Project

     Original revision: r43722
     $FreeBSD$
-->
<colophon xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="colophon">

  <para xmlns:xlink="http://www.w3.org/1999/xlink">この本は <quote xmlns:xlink="http://www.w3.org/1999/xlink">The FreeBSD Documentation Project</quote>
    に対するたくさんの人々の共同作業によって完成したものです。
    文書は DocBook DTD を用いた XML 形式で管理されており、
    XSLT を使って XML からさまざまな可読形式に組版されています。
    もし、Donald Knuth 氏による組版言語 <application xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">TeX</application>、
    Leslie Lamport 氏による <application xmlns:xlink="http://www.w3.org/1999/xlink">LaTeX</application> および
    Sebastian Rahtz 氏による <application xmlns:xlink="http://www.w3.org/1999/xlink">JadeTeX</application>
    マクロパッケージがなかったら、
    この文書の書籍版を実現することはできなかったでしょう。</para>
</colophon>

</book>
