<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>13.6. init: プロセス制御の初期化</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD ハンドブック" /><link rel="up" href="boot.html" title="第13章 FreeBSD の起動のプロセス" /><link rel="prev" href="device-hints.html" title="13.5. Device Hints" /><link rel="next" href="boot-shutdown.html" title="13.7. シャットダウン動作" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13.6. init: プロセス制御の初期化</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="device-hints.html">戻る</a>〓</td><th width="60%" align="center">第13章 FreeBSD の起動のプロセス</th><td width="20%" align="right">〓<a accesskey="n" href="boot-shutdown.html">次へ</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="boot-init"></a>13.6. init: プロセス制御の初期化</h2></div></div></div><a id="idp89007184" class="indexterm"></a><p>カーネルの起動が完了すると、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a>
      というユーザプロセスに制御が移されます。
      これは <code class="filename">/sbin/init</code>、
      もしくは <code class="command">loader</code> の
      <code class="envar">init_path</code> 変数で指定される場所にあります。</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="boot-autoreboot"></a>13.6.1. 自動再起動 (automatic reboot)の動作</h3></div></div></div><p>自動再起動では、
	システム上で利用できるファイルシステムの一慣性を確認します。
	もしそれに問題があって <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fsck&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fsck</span>(8)</span></a>
	がその不一致を修復できなければ、管理者に直接対処させるため
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> はシステムを<a class="link" href="boot-init.html#boot-singleuser" title="13.6.2. シングルユーザモード">シングルユーザモード</a>へと移行させます。</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="boot-singleuser"></a>13.6.2. シングルユーザモード</h3></div></div></div><a id="idp89014608" class="indexterm"></a><a id="idp89015120" class="indexterm"></a><p>このモードには、
	<a class="link" href="boot-init.html#boot-autoreboot" title="13.6.1. 自動再起動 (automatic reboot)の動作">自動再起動</a>の処理中か、
	ユーザが起動時に <code class="option">-s</code> オプションを指定した場合、
	あるいは <code class="command">loader</code> で
	<code class="envar">boot_single</code>
	変数を設定することによって移行します。</p><p>また、
	<a class="link" href="boot-init.html#boot-multiuser" title="13.6.3. マルチユーザモード">マルチユーザモード</a>から
	再起動オプション (<code class="option">-r</code>)
	や停止 (halt) オプション (<code class="option">-h</code>) なしで
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=shutdown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">shutdown</span>(8)</span></a> を呼び出すとこのモードに移行します。</p><p><code class="filename">/etc/ttys</code>
	でシステムコンソール <code class="literal">console</code>
	が <code class="literal">insecure</code> に設定されている場合、
	システムはシングルユーザモードに移行する前に
	<code class="systemitem">root</code> のパスワードを入力するように求めます。</p><div class="example"><a id="boot-insecure-console"></a><div class="example-title">例13.3 <code class="filename">/etc/ttys</code> の insecure コンソール</div><div class="example-contents"><pre class="programlisting"># name  getty                           type    status          comments
#
# If console is marked "insecure", then init will ask for the root password
# when going to single-user mode.
#
# 訳) console に "insecure" という印をつけると、シングルユーザモードへ移行する
# 際に init が root のパスワードを要求するようになります。
#
console none                            unknown off insecure</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">insecure</code> コンソールとは、
	  あなた自身、コンソールが物理的に安全でないと考えていて、
	  <code class="systemitem">root</code>
	  のパスワードを知る人だけがシングルユーザモードを
	  使えるようにしたいという意味であり、
	  コンソールを安全でない状態で使いたいという意味ではありません。
	  そのため、安全性を求めるならば
	  <code class="literal">secure</code> でなく
	  <code class="literal">insecure</code> を選んでください。</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="boot-multiuser"></a>13.6.3. マルチユーザモード</h3></div></div></div><a id="idp89031376" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=init&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">init</span>(8)</span></a> がファイルシステムが正常であると判断するか、
	ユーザが<a class="link" href="boot-init.html#boot-singleuser" title="13.6.2. シングルユーザモード">シングルユーザモード</a>を終了すると、
	システムはマルチユーザモードへ移行し、
	リソースの設定を始めます。</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="boot-rc"></a>13.6.3.1. リソース設定 (rc)</h4></div></div></div><a id="idp89034320" class="indexterm"></a><p>リソース設定システムはデフォルト設定を
	  <code class="filename">/etc/defaults/rc.conf</code> から、
	  そのシステム独自の細かな設定を
	  <code class="filename">/etc/rc.conf</code> から読み込みます。
	  そして <code class="filename">/etc/fstab</code>
	  に記述されるシステムファイルシステムをマウントし、
	  ネットワークサービスの開始、
	  さまざまなシステムデーモンの開始、
	  そして最後に、ローカルにインストールされた package
	  の起動スクリプトの実行へと進みます。</p><p>リソース設定システムに関する参考資料は、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rc&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rc</span>(8)</span></a> にあります。
	  これはスクリプトそのものを調べることと同じくらい優れたものです。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="device-hints.html">戻る</a>〓</td><td width="20%" align="center"><a accesskey="u" href="boot.html">上に戻る</a></td><td width="40%" align="right">〓<a accesskey="n" href="boot-shutdown.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">13.5. Device Hints〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓13.7. シャットダウン動作</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>