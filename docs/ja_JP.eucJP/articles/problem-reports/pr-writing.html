<?xml version="1.0" encoding="euc-jp" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=euc-jp" /><title>4. 障害報告の書き方</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 障害報告の書き方" /><link rel="up" href="index.html" title="FreeBSD 障害報告の書き方" /><link rel="prev" href="pr-prep.html" title="3. 準備" /><link rel="next" href="pr-followup.html" title="5. フォローアップ" /><link rel="copyright" href="trademarks.html" title="法律上の通知" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. 障害報告の書き方</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pr-prep.html">戻る</a>〓</td><th width="60%" align="center">〓</th><td width="20%" align="right">〓<a accesskey="n" href="pr-followup.html">次へ</a></td></tr></table><hr /></div><div class="section"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pr-writing"></a>4. 障害報告の書き方</h2></div></div></div><p>問題が障害報告を行うに値すると結論を出し、
      そしてそれが FreeBSD の問題点であると判断したら、
      実際に障害報告を執筆する時です。
      障害報告を作成して送信するプログラムの仕組みに入る前に、
      障害報告をもっとも効果的なものにするこつをいくつか紹介しましょう。</p><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76328272"></a>4.1. よい障害報告を書くこつ</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em><span class="quote">「<span class="quote">Synopsis</span>」</span>(概要)
	    行を空のままにしないでください。</em></span>
	    障害報告は、世界中に配布されるメーリングリストに送られる
	    (そこでは、<span class="quote">「<span class="quote">Synopsis</span>」</span> (概要) は
	    <code class="literal">Subject:</code> 行に使われます) と共に、
	    データベースにも入れられます。後でデータベースを synopsis (概要)
	    で参照する人は、題がついていない障害報告は単に無視することでしょう。
	    このデータベースに登録された障害報告は、
	    誰かが対応済にするまでは残っていることを忘れないでください。
	    内容不明のものは大抵雑音に埋もれてしまいます。</p></li><li class="listitem"><p><span class="emphasis"><em>わかりにくい<span class="quote">「<span class="quote">Synopsis</span>」</span> (概要)
	    行は避けましょう。</em></span>
	    あなたが提出した障害報告を読む人がどういう状況か分かっていると仮定すべきではありません。
	    できるだけ詳しく書きましょう。
	    たとえば、その問題はシステムのどの部分にあてはまるのでしょうか。
	    インストール中にしか問題に当たらないのか、それとも稼働中に当たるのか。
	    具体的な例でいうなら、
	    <code class="literal">Synopsis: portupgrade is broken</code>
	    (概要: portupgrade がおかしい) ではなく、
	    次のように書いたらどれだけ伝わりやすいか考えてみてください。
	    <code class="literal">Synopsis: port ports-mgmt/portupgrade coredumps on
	    -current</code> (概要: sysutils/portupgrade port が
	    -current でコアダンプします)。(ports の場合は、
	    <span class="quote">「<span class="quote">Synopsis</span>」</span> (概要) 行に分類と名前を入れると、
	    とても助かります)。</p></li><li class="listitem"><p><span class="emphasis"><em>パッチがあるなら、そう書いてください。</em></span>
	    パッチがついている障害報告は、
	    ついていないものよりも見てもらえる可能性が高いです。パッチをつける場合は、
	    <span class="quote">「<span class="quote">Synopsis</span>」</span> (概要) 行の先頭に
	    <code class="literal">[patch]</code> という文字列 (角括弧を含みます)
	    をいれて下さい。
	    (この通り書かなければならないというわけではありませんが、
	    慣習としてこの文字列が用いられています)。</p></li><li class="listitem"><p><span class="emphasis"><em>あなたがメンテナなら、そう書いてください。</em></span>
	    ソースコードの一部 (たとえば、ある port)
	    をメンテナンスしているなら、概要行の先頭に
 	    <code class="literal">[maintainer update]</code>
 	    という文字列 (角括弧を含みます) をできればいれて、障害報告の
 	    <span class="quote">「<span class="quote">Class</span>」</span> を必ず
 	    <code class="literal">maintainer-update</code>
 	    にしてください。こうすれば、committer
 	    がその障害報告を扱う際に、いちいち確認する必要がありません。</p></li><li class="listitem"><p><span class="emphasis"><em>具体的に書いてください。</em></span>
	    あなたが抱えている問題について多くの情報を出すほど、
	    回答してもらえる可能性は高くなります。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>FreeBSD のバージョン
 		(これを記載する場所があります。後述します)
 		と、どのアーキテクチャで動かしているのかを書いてください。
 		動かしているのが (CDROM から、またはダウンロードして入れた)
 		リリースでなのか、それとも
 		Subversion でメンテナンスしているシステムでなのか
 		(そうだとしたら、最後に更新したのはいつか)
 		も書いてください。あなたが FreeBSD-CURRENT
 		ブランチを追いかけていたら、それを真っ先に聞かれるでしょう。
 		なぜなら、FreeBSD-CURRENT では (注目を浴びる問題は特に)
 		修正がすぐに入る傾向があり、FreeBSD-CURRENT
 		のユーザはそれについて行くことが求められているからです。</p></li><li class="listitem"><p><code class="filename">make.conf</code>
 		に、どのグローバルオプションを指定したか書いてください。
 		注意: <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gcc&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gcc</span>(1)</span></a> に <code class="literal">-O2</code>
 		以上を設定するのは、多くの場合にバグがあることが分かっています。
 		FreeBSD 開発者はパッチを受け取るでしょうが、
 		単純に時間とボランティアが少ないため、
 		そのような問題は通常調査したがらず、
 		ただ対応していないだけだと答える可能性があります。</p></li><li class="listitem"><p>問題が容易に再現できるようであれば、
		開発者が自身で再現できるように情報を含めてください。
		もし、特別な入力が行われた時に問題が起きるようであれば、
		可能であれば、その入力例を入れてください。また、
		実際の出力や予想される出力も含めてください。
		もし、データが大きかったり、公開できないものであれば、
		同じ問題を表わすような最小限のファイルを作成し、
		障害報告に含めてください。</p></li><li class="listitem"><p>カーネルの問題なら、
 		次の情報を渡せるようにしておいてください
 		(はじめから入れるのは単にデータベースを一杯にするだけなので必要ありませんが、
 		関係があると思う部分の抜粋は入れるべきです)。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>カーネルコンフィグレーション
 		    (どのハードウェアデバイスがインストールされているかも含む)</p></li><li class="listitem"><p>(<code class="literal">WITNESS</code> などの)
 		    デバッグオプションを有効にしているか、
 		    しているなら、
 		    そのオプションを変更しても問題は変わらないか</p></li><li class="listitem"><p>もし生成しているなら、バックトレース、
		  パニックや他のコンソールの出力、または、<code class="filename">/var
/log/messages</code> のすべてのテキスト</p></li><li class="listitem"><p>問題がハードウェアのある部分に関連するのであれば、
		    <code class="command">pciconf -l</code> および
		    <code class="command">dmesg</code> 出力の関連する部分</p></li><li class="listitem"><p><code class="filename">src/UPDATING</code>
 		    は読んだか、そこにあなたの問題が挙がっていないか
 		    (間違いなく聞かれます)</p></li><li class="listitem"><p>代替として動かせるカーネルが他にないか
 		    (これは、故障したディスクや過熱した CPU
 		    などのハードウェアに関連した問題で、
 		    カーネルの問題に見えるものを除外するためです)</p></li></ul></div></li><li class="listitem"><p>Ports の問題であれば、
 		次の情報を渡せるようにしておいてください
 		(はじめから入れるのは単にデータベースを一杯にするだけなので必要ありませんが、
 		関係があると思う部分の抜粋は入れるべきです)。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p>どの ports をインストールしたのか</p></li><li class="listitem"><p><code class="varname">PORTSDIR</code>
 		    など、<code class="filename">bsd.port.mk</code>
 		    のデフォルトを上書きする環境変数すべて</p></li><li class="listitem"><p><code class="filename">ports/UPDATING</code>
 		    は読んだか、そこにあなたの問題が挙がっていないか
 		    (間違いなく聞かれます)</p></li></ul></div></li></ul></div></li><li class="listitem"><p><span class="emphasis"><em>漠然と機能を要求するのはやめましょう。</em></span>
	    <span class="quote">「<span class="quote">誰かこういうことするものを実装すべきだ</span>」</span>
	    という形の障害報告は、詳細な要望に比べて成果を得にくいものです。
	    ソースコードは誰でも利用できるのですから、何か機能が欲しければ、
	    それをいれる最善の手段は作業にとりかかることです。
	    また上述したように、こういうことは多くの場合、
	    障害報告データベースに登録するよりも
	    <code class="literal">freebsd-questions</code> で議論した方がよいでしょう。</p></li><li class="listitem"><p><span class="emphasis"><em>誰かが既に似たような障害報告を提出していないか確認してください。</em></span>
	    これは、既に述べたことではありますが、ここで繰り返しておくに値するでしょう。
	    Web ベースの検索エンジン
	    <code class="uri"><a class="uri" href="http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query" target="_top">http://www.FreeBSD.org/cgi/query-pr-summary.cgi?query</a></code>
	    で調べるのは 1, 2 分程度しかかかりません。
	    (もちろん、誰もがときどきこれを忘れてしまうという罪を犯しています)。</p></li><li class="listitem"><p><span class="emphasis"><em>ひとつの障害報告にはひとつの問題を報告してください。</em></span>
	    2 つ以上の問題は、関係がなければ同じ障害報告に含めないでください。
	    パッチを提出する際には、一つの障害報告に複数の機能や複数のバグを、
	    それらが極めて関係してなければ、含めることは避けてください。
	    そのような障害報告は、解決するのにより多くの時間がかかります。</p></li><li class="listitem"><p><span class="emphasis"><em>異論のある要望は出さないようにしましょう。</em></span>
	    あなたの障害報告がかつて論争になった分野に関するものであったら、
	    パッチを提出するだけでなく、そのパッチが
	    <span class="quote">「<span class="quote">正当なものである</span>」</span> 根拠も提出したほうがよいかもしれません。
	    どの場合でも上述のように
	    <code class="uri"><a class="uri" href="http://www.FreeBSD.org/search/search.html#mailinglists" target="_top">http://www.FreeBSD.org/search/search.html#mailinglists</a></code>
	    でメーリングリストのアーカイブを検索して備えるのはよいことでしょう。</p></li><li class="listitem"><p><span class="emphasis"><em>礼儀正しくしましょう。</em></span>
	    あなたの障害報告について作業する人は、
	    ほとんど全員がボランティアです。
	    金銭的収入以外の動機から行なっていることを、
	    やれと命令されるのは誰も好きではありません。
	    オープンソースプロジェクトに関しては、
	    これを常に念頭においておくとよいでしょう。</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76443216"></a>4.2. 始める前に</h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> プログラムを使うなら、環境変数
        <code class="envar">VISUAL</code> (もし <code class="envar">VISUAL</code>
	が設定されていなければ <code class="envar">EDITOR</code>)
	が意味のあるものに設定されているか確認しましょう。</p><p>また、メール配送ソフトウェアが正常に動作することも確認してください。
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> は障害報告の提出と追跡にメールを利用します。
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> を動かすマシンからメールを送ることができないと、
	あなたの障害報告は GNATS データベースに届きません。
 	FreeBSD におけるメールの設定の詳細については
 	FreeBSD ハンドブックの <span class="quote">「<span class="quote">電子メール</span>」</span> の章
	<code class="uri"><a class="uri" href="../../../../doc/ja_JP.eucJP/books/handbook/mail.html" target="_top">../../../../doc/ja_JP.eucJP/books/handbook/mail.html</a></code>
	をご覧ください。</p><p>あなたが使っているメーラが GNATS
	に送るメッセージに手を加えないことを確かめておいてください。
	特に、メーラが自動で改行したり、タブをスペースに変更したり、
	改行文字をエスケープしたりすると、
	提出したパッチは使えないものになってしまいます。
	もっとも、テキスト部については障害報告を web
	で表示した時に読みやすいように、
	70 文字前後で改行を入れることをお願いしています。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> の代わりに
	<a class="link" href="../../../../send-pr.html" target="_top">web
	ベースの障害報告提出フォーム</a>
	を利用する場合も、同様の配慮が必要です。
	カットアンドペースト操作はテキストをフォーマットするのに副作用がある場合があるので気をつけてください。
	場合によっては、パッチが変更されずに届くように、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uuencode&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">uuencode</span>(1)</span></a>
	を使わなければならないかもしれません。</p><p>最後に、提出物が長くなってしまうなら、
	提出時に問題が起きて失われてしまうことのないように、
	オフラインで準備しておきましょう。
	これは特に <a class="link" href="../../../../send-pr.html" target="_top">web
	フォーム</a> で問題になります。</p></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76480080"></a>4.3. パッチやファイルを添付する</h3></div></div></div><p>以下は、障害報告を電子メールで提出する場合にあてはまります。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> プログラムは、
	障害報告にファイルを添付する機能を備えています。
	それぞれのファイルの基本名称
	(すなわち、パスを除いたファイルそのものの名前)
	が一意でありさえすれば、好きなだけ添付できます。
	コマンドラインオプション <code class="option">-a</code>
	で添付するファイルの名前を指定してください。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>send-pr -a /var/run/dmesg -a /tmp/errors</code></strong></pre><p>添付するファイルがバイナリであっても心配しないでください。
	メールエージェントが混乱しないように、自動的に符合化されます。</p><p>パッチは context 形式か unified 形式の差分を <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=diff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">diff</span>(1)</span></a> の
	<code class="option">-c</code> か <code class="option">-u</code>
	オプションを使って作成してください (unified 形式の方が好まれます)。
	パッチを添付する場合、
	開発者があなたの報告を読んで簡単にパッチを適用できるように、
 	修正したファイルの正確な SVN のリビジョン番号が特定できるか確認してください。
 	カーネルやベースのユーティリティに関しては、新しいコードはすべて
 	FreeBSD-CURRENT (SVN の HEAD ブランチ)
 	でテストするべきなので、それに対するパッチが望ましいです。
 	適切か十分なテストが行なわれたら、そのコードは 
 	FreeBSD-STABLE ブランチにマージまたは移植されます。</p><p>パッチを添付するのではなく本文中に含める場合、
	もっともありがちな問題は、
	電子メールプログラムによってはタブをスペースに変更してしまい、
	Makefile に含めるつもりだったものを台無しにしてしまうことです。</p><p>パッチを
	<code class="command">Content-Transfer-Encoding: quoted-printable</code>
	を利用した添付ファイルとして送らないようにしてください。
	これは文字をエスケープしてしまい、
	パッチ全体が使い物にならなくなります。</p><p>また、障害報告の中に小さなパッチを含めるのは
	(とりわけ説明されている障害を修正する場合は) 大抵問題ないのですが、
	大規模なパッチや新しいコードの場合は十分な査読を行なった後にコミットすべきであるため、
	パッチを Web や FTP サーバに置き、その URL を障害報告に書くようにしてください。
	電子メールに含めたパッチはサイズが大きいと分割される傾向にあり
	(とりわけ GNATS が処理に関わるときはそうなります)、
	パッチが大きいほど興味をもった人がつなぎ直すのが面倒になります。
	また、Web にパッチをおけば、
	元の障害報告へのフォローアップとしてパッチ全体を再提出しなくても変更できます。
	最後に、大きなパッチはデータベースのサイズをとにかく増やしてしまいます。
	閉じられた障害報告は実際に消されることはなく、
	保持されたまま <code class="literal">closed</code>
	という印をつけられるだけだからです。</p><p>また、障害報告かパッチ自体に明確に指定がなければ、
	あなたが提出したパッチは修正した元のファイルと同じ条件の
	ライセンス下にあるものと仮定されることに留意しておくべきです。</p></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76509136"></a>4.4. テンプレートに記入する</h3></div></div></div><p>次の節は電子メール方式にのみあてはまります。</p><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> を動かすとテンプレートが表示されます。
	テンプレートは特定の項目から成り立っており、
	その一部にはあらかじめ埋められていたり、
	その項目の目的の解説やそこに記入できる値の一覧が記載されていたりします。
	コメントの部分は、自分で変更・削除しなくても、
	自動的に削除されますので心配する必要はありません。</p><p>テンプレートの先頭にある <code class="literal">SEND-PR:</code>
	と書かれている行の下が電子メールのヘッダです。
	通常、この部分を変更する必要はありませんが、
	障害報告を送信する機械やアカウントで
	メールを出すことはできても受けとることはできない場合、
	<code class="literal">From:</code> と <code class="literal">Reply-To:</code>
	に実際のメールアドレスを設定すべきです。
	また、自分 (や他の誰か) に障害報告の複製を送りたい場合は、
	電子メールアドレスを
	<code class="literal">Cc:</code> ヘッダに追加してください。</p><p>電子メールの雛型には、次の
	2 つの一行フィールドがあります。</p><div xmlns="" class="note"><h3 class="admontitle">訳注: </h3><p xmlns="http://www.w3.org/1999/xhtml">フィールドの意味が分かり易いように
	  フィールド名を訳していますが、
	  フィールドの値も含めて
	  実際のフィールド名は英文字でなければなりません。</p></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Submitter-Id (提出者-Id):</em></span>
	  これは変更しないでください。
	  あなたが FreeBSD-STABLE を動かしている場合でも、既定値である
	  <code class="literal">current-users</code> が正しいのです。</p></li><li class="listitem"><p><span class="emphasis"><em>Confidential (機密):</em></span>
	    これは <code class="literal">no</code> で既に埋められています。
	    機密扱いの FreeBSD 障害報告というものはないため、
	    変更することに意味はありません。―
	    障害報告データベースは、世界的に配布されています。</p></li></ul></div><p>次の節では、電子メールインタフェースと
	<a class="link" href="../../../../send-pr.html" target="_top">web インタフェース</a>
	の両方に共通なフィールドについて説明します。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Originator (あなたの名前):</em></span>
	    あなたの本名を指定してください。
	    お好みで、名前の後ろに電子メールアドレスを
	    山括弧 (&lt; と &gt; のこと) で閉じて付けることができます。
	    電子メールインタフェースでは、これは普通、現在ログインしているユーザの
	    <code class="literal">gecos</code>
	    フィールドを使って既に埋められています。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">指定した電子メールアドレスは公開情報となり、
	      スパマーに利用されるかもしれません。
	      スパム対策を使えるようにしておくか、
	      一時的なメールアカウントを利用してください。
	      しかし、あなたが有効な電子メールアドレスを書かないと、
	      わたしたちはあなたの障害報告に対して質問できなくなります。</p></div><div xmlns="" class="note"><h3 class="admontitle">訳注: </h3><p xmlns="http://www.w3.org/1999/xhtml">たとえば、以下のように書くことができます。</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen">From: <strong class="userinput"><code>FreeBSD Taro &lt;FreeBSD-Taro@example.org&gt;</code></strong></pre></div></li><li class="listitem"><p><span class="emphasis"><em>Organization (所属組織):</em></span>
	    あなたの好きなようにしてください。
	    このフィールドは何らかの深い意味で使われることはありません。</p></li><li class="listitem"><p><span class="emphasis"><em>Synopsis (概要):</em></span>
	    問題についての簡にして要を得た説明を書き込んでください。
	    概要は障害報告メールのサブジェクトとして利用されており、
	    一覧や要旨にも使われています。
	    概要が不明瞭な障害報告は無視される傾向があります。</p><p>上述したように、障害報告にパッチが含まれているなら、
	    概要の先頭に <code class="literal">[patch]</code> (角括弧を含みます)
	    と書いて下さい。
	    Ports に関する障害報告で、あなたがメンテナなら、
	    <code class="literal">[maintainer update]</code> (角括弧を含みます)
	    を追加して、
	    障害報告の <span class="quote">「<span class="quote">Class</span>」</span> を
	    <code class="literal">maintainer-update</code>
	    にするようにしてください。</p></li><li class="listitem"><p><span class="emphasis"><em>Severity (重要度):</em></span>
	    <code class="literal">non-critical (重要ではない)</code>、
	    <code class="literal">serious (重要)</code>、
	    <code class="literal">critical (致命的) </code> のどれかです。
	    重要度を過大に評価しないでください。
	    あなたの問題が本当に致命的 (たとえば、
	    データが壊れたり、-CURRENT
	    で以前に比べて機能が大きく退化したなど) でない場合は、
	    <code class="literal">critical</code>
	    に分類するのを、また多くの人に影響する
	    (カーネルがパニックしたりフリーズする、
	    または特定のデバイスドライバやシステムユーティリティに問題がある)
	    のでなければ、<code class="literal">serious</code>
	    に分類するのを控えてください。
	    まったく同じことをやった人があまりに多いため、
	    問題の重要性を水増ししても、必ずしも
	    FreeBSD 開発者がその問題に早くとりかかるわけではありません。
	    ― 実際、
	    それが理由でこのフィールドにほとんど注意を払わない開発者もいます。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">GNATS の情報はすべて公開されているので、
	      重要なセキュリティ上の問題は GNATS
	      に提出するべきでは<span class="emphasis"><em>ありません</em></span>。
	      そのような問題は、
	      <a class="link" href="http://www.FreeBSD.org/ja/security/#how" target="_top">セキュリティレポートガイドライン</a>
	      にしたがって送ってください。</p></div></li><li class="listitem"><p><span class="emphasis"><em>Priority (優先順位):</em></span>
	    <code class="literal">low (低い)</code>、
	    <code class="literal">medium (中間)</code>、
	    <code class="literal">high (高い)</code> のどれかです。
	    <code class="literal">high (高い)</code>
	    は実質的にすべての FreeBSD ユーザに影響するもの、
	    <code class="literal">medium (中間)</code>
	    は多くのユーザに影響するものに限定すべきです。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">このフィールドはあまりにも乱用されたため、
	      いまやほとんど意味がなくなってしまいました。</p></div></li><li class="listitem"><p><span class="emphasis"><em>Category (分類):</em></span>
	    適切な分類を選んでください。</p><p>まず最初に行わなければならないのは、
	    あなたの問題がシステムのどの部分に関連しているかを決めることです。
	    FreeBSD は完全なオペレーティングシステムなので、
	    カーネル、標準ライブラリの両方、および、
	    周辺ドライバ、多くのユーティリティ (<span class="quote">「<span class="quote">ベースシステム</span>」</span>)
	    をインストールします。
	    さらに、Ports Collection
	    には数多くの追加のアプリケーションが用意されています。
	    そのため、最初に判断しなくてならないのは、
	    問題がベースシステムに関連しているのか、
	    それとも Ports Collection からインストールされた何かに関係しているのか、
	    ということになります。</p><p>以下はメジャーなカテゴリについての説明です。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>もし、問題がカーネル、(標準 C ライブラリ <code class="literal">libc</code>)
		ライブラリ、またはベースシステムの周辺ドライバで起こるのであれば、
		通常は <code class="literal">kern</code> カテゴリを使うとよいでしょう
		(下記に説明するようにいくつかの例外があります)。
		一般的に、マニュアルページのセクション 2, 3 もしくは 4
		に書かれているようなものがここに分類されます。</p></li><li class="listitem"><p>問題が <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sh</span>(1)</span></a> や <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mount&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">mount</span>(8)</span></a>
		のようなバイナリプログラムで起きるのであれば、
		まず最初に、それらのプログラムがベースシステムのものか、
		もしくは Ports Collection から追加されたものなのかを判断してください。
		よくわかならければ、
		<code class="command">whereis programname</code>
		と実行してください。
		FreeBSD の Ports Collection の慣例では、
		(システム管理者は、この設定を変更することができますが) すべてのものは
		<code class="filename">/usr/local</code>
		以下にインストールされます。
		このような場合は、<code class="literal">ports</code> カテゴリを使うことになります
		(もし、その port のカテゴリが <code class="literal">www</code>
		であっても当てはまります。説明が下にあります)。
		もし、コマンドの場所が
		<code class="filename">/bin</code>,
		<code class="filename">/usr/bin</code>,
		<code class="filename">/sbin</code> もしくは
		<code class="filename">/usr/sbin</code> であれば、
		それはベースシステムの一部ですので、
		<code class="literal">bin</code> カテゴリを使ってください
		(<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gcc&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gcc</span>(1)</span></a> のようないくつかのプログラムでは、<code class="literal">gnu</code>
		カテゴリを使うことになりますが、今の時点では気にしないでください)。
		このカテゴリには、マニュアルページのセクション 1 または 8
		に記述されているすべてが分類されます。</p></li><li class="listitem"><p>もし、エラーがスタートアップ <code class="literal">(rc)</code>
		スクリプトで起きている、または他の非実行形式の設定ファイルに関連したようなものあれば、
		<code class="literal">conf</code> (configuration) が適切なカテゴリでしょう。
		マニュアルページのセクション 5
		に書かれている内容がここに分類されます。</p></li><li class="listitem"><p>問題がドキュメント (article, book もしくはマニュアルページ)
		に関連したものであれば、<code class="literal">docs</code>
		が適切なカテゴリです。</p></li><li class="listitem"><p>問題が
		<a class="link" href="http://www.FreeBSD.org" target="_top">FreeBSD ウェブページ</a>
		に関連したものであれば、<code class="literal">www</code>
		を選択してください。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">もし、問題が
		<code class="literal">www/someportname</code>
		という名前の port に関連したものであっても、
		<code class="literal">ports</code> カテゴリを選択してください。</p></div></li></ul></div><p>さらにいくつかの特別なカテゴリがあります。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>問題が <code class="literal">kern</code> に分類されるようなものでも、
	      USB サブシステムに関連したものであれば、<code class="literal">usb</code>
	      が適切なカテゴリです。</p></li><li class="listitem"><p>問題が <code class="literal">kern</code> に分類されるようなものでも、
	      スレッドのライブラリに関連したものであれば、<code class="literal">threads</code>
	      が適切なカテゴリです。</p></li><li class="listitem"><p>問題がベースシステムに分類されるようなものでも、
	      <span class="trademark">POSIX</span>® のような標準への準拠に関連したものであれば、
	      <code class="literal">standards</code> が適切なカテゴリです。</p></li></ul></div><p>その他の問題については、以下のカテゴリを使用してください。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>問題が、あなたの使っているプロセッサアーキテクチャでのみ起こると確信できるのであれば、
	      アーキテクチャ固有のカテゴリから選んでください。
	      良く使われている 32-bit モードの Intel 互換コンピュータは
	      <code class="literal">i386</code>, 64-bit モードで動作する AMD マシンの場合は
	      <code class="literal">amd64</code> (この分類には、EMT64 モードで動作する
	      Intel 互換のコンピュータも含まれます) を選択してください。
	      通常はあまりよく使われないアーキテクチャには、
	      <code class="literal">arm</code>, <code class="literal">ia64</code>,
	      <code class="literal">powerpc</code> および <code class="literal">sparc64</code>
	      があります。</p><div xmlns="" class="note"><h3 class="admontitle">注記: </h3><p xmlns="http://www.w3.org/1999/xhtml">これらのカテゴリは、<span class="quote">「<span class="quote">よくわからない</span>」</span>
		問題に対して間違ってよく使われます。
		とりあえず推測で選んでしまうのではなく、そのような場合には
		<code class="literal">misc</code> を選んでください。</p></div><div class="example"><a id="idp76680912"></a><div class="example-title">例1 アーキテクチャカテゴリの正しい使い方</div><div class="example-contents"><p>あなたは一般的な
		  PC アーキテクチャのマシンを持っていて、
		  特定のチップセットや特定のマザーボードの問題にぶつかったようです。
		  この場合は、<code class="literal">i386</code>
		がふさわしい分類になります。</p></div></div><br class="example-break" /><div class="example"><a id="idp76685008"></a><div class="example-title">例2 アーキテクチャカテゴリの正しくない使い方</div><div class="example-contents"><p>例: 一般的なバス用の追加の周辺カードや、
		  特定の種類のハードディスクドライブで問題があります。
		  この場合は、複数のアーキテクチャに影響する可能性があり、
		<code class="literal">kern</code> がふさわしい分類になります。</p></div></div><br class="example-break" /></li><li class="listitem"><p>もし、問題をどの分類に分ければよいのかわからなければ
	        (上で説明したものに当てはまらなければ)、
		<code class="literal">misc</code> カテゴリを選んでください。
		このカテゴリを選択する前に、まず最初に <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-questions" target="_top">FreeBSD general questions メーリングリスト</a> で、
		助けを求めてみてください。
		存在するカテゴリの中から本当に選択すべきものをアドバイスされるかもしれません。</p></li></ul></div><p>以下に現在の分類一覧を示します (
	  <code class="uri"><a class="uri" href="http://svnweb.freebsd.org/base/head/gnu/usr.bin/send-pr/categories" target="_top">http://svnweb.freebsd.org/base/head/gnu/usr.bin/send-pr/categories</a></code>
	    からもってきています)。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="literal">advocacy:</code>
		FreeBSD の世間的なイメージに関する問題。
		もはや用いられません。</p></li><li class="listitem"><p><code class="literal">amd64:</code>
		AMD64 プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">arm:</code>
		ARM プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">bin:</code>
		基本システムに含まれるユーザランドプログラムに関する問題。</p></li><li class="listitem"><p><code class="literal">conf:</code>
		設定ファイルや、既定値などに関する問題。</p></li><li class="listitem"><p><code class="literal">docs:</code>
		マニュアルページ、オンライン文書に関する問題。</p></li><li class="listitem"><p><code class="literal">gnu:</code>
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gcc&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gcc</span>(1)</span></a> や <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=grep&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">grep</span>(1)</span></a> などの、取り込まれた
		GNU ソフトウェアに関する問題。</p></li><li class="listitem"><p><code class="literal">i386:</code>
		<span class="trademark">i386</span>™ プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">ia64:</code>
		ia64 プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">java:</code>
		<span class="trademark">Java</span>™ 仮想マシンに関する問題。</p></li><li class="listitem"><p><code class="literal">kern:</code>
		カーネル、(特定のプラットフォーム用ではない)
		デバイスドライバや、
		ベースシステムのライブラリにに関する問題。</p></li><li class="listitem"><p><code class="literal">misc:</code>
		これらの分類に適合しないその他の分類。(なお、
		本当にここに分類されるべきものは、
		リリースおよびビルドのための基盤をのぞけば、
		ほとんどありません。<code class="literal">HEAD</code>
		における一時的なビルドの失敗はここに分類すべきではありません。
		また、ここに分類すると見失われやすいです)。</p></li><li class="listitem"><p><code class="literal">ports:</code>
		Ports Collection に関する問題。</p></li><li class="listitem"><p><code class="literal">powerpc:</code>
		<span class="trademark">PowerPC</span>® プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">sparc64:</code>
		<span class="trademark">SPARC64</span>® プラットフォーム固有の問題。</p></li><li class="listitem"><p><code class="literal">standards:</code>
		標準規格への適合問題。</p></li><li class="listitem"><p><code class="literal">threads:</code>
		FreeBSD のスレッド実装 (特に FreeBSD-CURRENT 上のもの)
		に関する問題。</p></li><li class="listitem"><p><code class="literal">usb:</code>
		FreeBSD の USB 実装に関する問題。</p></li><li class="listitem"><p><code class="literal">www:</code>
		FreeBSD ウェブサイトへの変更と改善。</p></li></ul></div></li><li class="listitem"><p><span class="emphasis"><em>Class:</em></span> 以下から一つを選んでください。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="literal">sw-bug:</code>
		ソフトウェアのバグ。</p></li><li class="listitem"><p><code class="literal">doc-bug:</code>
		文書中の間違い。</p></li><li class="listitem"><p><code class="literal">change-request:</code>
		機能の追加や、既存の機能の変更についての要望。</p></li><li class="listitem"><p><code class="literal">update:</code>
		ports やその他の寄贈ソフトウェアに対する更新。</p></li><li class="listitem"><p><code class="literal">maintainer-update:</code>
		あなたが保守している ports の更新。</p></li></ul></div></li><li class="listitem"><p><span class="emphasis"><em>Release:</em></span>
	    あなたが動作させている FreeBSD のバージョン。
	    これは <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> を使うと自動的に書き込まれますが、
	    あなたが障害が起きているものと違うシステムから障害報告を送信する場合に限り、
	    変更する必要があります。</p></li></ul></div><p>最後に、一連の複数行フィールドがあります。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><span class="emphasis"><em>Environment (環境):</em></span>
	    問題が発生した環境を可能な限り正確に記述すべきです。
	    ここには、オペレーティングシステムのバージョン、
	    特定のプログラムのバージョンまたは問題があるファイル、
	    そしてシステムの設定などのような関係する項目、
	    問題に影響を及ぼすインストールしたその他の
	    ソフトウェアなどが含まれます。―
	    手短にいうなら、その問題が生じる環境を再構築するために、
	    開発者が知らなければならないことすべてです。</p></li><li class="listitem"><p><span class="emphasis"><em>Description:</em></span>
	    あなたが経験した問題の完全で正確な説明。
	    開発者が誤解してしまうかもしれないので、
	    問題の原因について正しく追跡ができたと確信していない限り
	    推測は避けるようにしてください。</p></li><li class="listitem"><p><span class="emphasis"><em>How-To-Repeat:</em></span>
	    問題を再現させるために取る必要のある行動の概要。</p></li><li class="listitem"><p><span class="emphasis"><em>Fix:</em></span>
	    できればパッチか、少なくとも回避方法を記述する
	    (同じ問題を回避する方法として他の人達の助けになるだけではなく、
	    開発者が問題の原因を理解する役に立つかもしれません) べきですが、
	    はっきりとしたアイデアがなければ開発者が思索をめぐらすために、
	    このフィールドは空にしておけば良いでしょう。</p></li></ul></div></div><div class="section"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76841552"></a>4.5. 障害報告を送信する</h3></div></div></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> を使っている場合</p><p>テンプレートを埋め、保存してエディタを終了すると、
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> は
	<code class="prompt">s)end, e)dit or a)bort?</code>
	と表示して指示を求めます。
	<strong class="userinput"><code>s</code></strong> を押せば障害報告の提出に進めますし、
	<strong class="userinput"><code>e</code></strong> だとエディタが再び実行され、
	ひきつづき編集できます。
	<strong class="userinput"><code>a</code></strong> なら作業を中止します。
	abort を選択した場合、いままで書いていた障害報告はディスクに残りますので
	(<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> は終了前にそのファイル名を示します)、
	暇な時にそれを編集したり、場合によっては
	よりネットワーク接続性のよいシステムに持っていくことができるでしょう。
	この作業ファイルは、<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a> の
	<code class="option">-f</code> オプションを使って送ることができます。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>send-pr -f ~/my-problem-report</code></strong></pre><p>上記の操作では、指定されたファイルを読み込み、
	書式が正しいか検証し、ファイル中のコメント部分を取り除いて、
	障害報告が送信されます。</p><p><a class="link" href="../../../../send-pr.html" target="_top">Web フォーム</a>
	を使っている場合</p><p><code class="literal">submit</code> を押す前に、
	そのページに画像で表示されているテキストをフィールドに記入しなければなりません。
	この不幸な手順は自動化されたシステムや、
	誤りを教えられた人たちによる誤用があったために導入されました。
	これは、誰もが嫌う必要悪なのです。
	お願いですから、これを取り除くように要望しないでください。</p><p>なお、<code class="literal">submit</code> を押す前に、
	どこかにあなたが書いた内容を保存しておくことを
	<code class="literal">強く奨めます</code>。
	ユーザがよく出くわす問題に、web ブラウザが、
	キャッシュから無効になった画像を表示してしまうというものがあります。
	あなたがそういう目に遭ってしまったら、
	あなたの報告は拒否されてしまい、
	書いたものを失ってしまうでしょう。</p><p>何らかの理由で画像が見られず、また <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=send-pr&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">send-pr</span>(1)</span></a>
	も使えない場合は、ご迷惑をおかけして大変申し訳ありませんが、
	障害報告を bugbuster チームに
	<code class="email">&lt;<a xmlns="" class="email" href="mailto:freebsd-bugbusters@FreeBSD.org">freebsd-bugbusters@FreeBSD.org</a>&gt;</code>
	宛で送ってください。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pr-prep.html">戻る</a>〓</td><td width="20%" align="center">〓</td><td width="40%" align="right">〓<a accesskey="n" href="pr-followup.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">3. 準備〓</td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top">〓5. フォローアップ</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文書、および他の文書は
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>
    からダウンロードできます。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>FreeBSD に関する質問がある場合には、
    <a href="http://www.FreeBSD.org/ja/docs.html">ドキュメント</a> を読んだ上で
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt; まで (英語で) 連絡してください。<br></br>
    本文書に関する質問については、
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt; まで電子メールを (英語で) 送ってください。</small></p></body></html>