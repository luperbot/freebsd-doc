<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.14. Ajouter de l'espace de pagination</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="config-tuning.html" title="Chapitre 12. Configuration et optimisation" /><link rel="prev" href="configtuning-kernel-limits.html" title="12.13. Optimisation des limitations du noyau" /><link rel="next" href="acpi-overview.html" title="12.15. Gestion de l'énergie et des ressources" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.14. Ajouter de l'espace de pagination</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Précédent</a> </td><th width="60%" align="center">Chapitre 12. Configuration et optimisation</th><td width="20%" align="right"> <a accesskey="n" href="acpi-overview.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="adding-swap-space"></a>12.14. Ajouter de l'espace de pagination</h2></div></div></div><p>Peu importe comment vous l'avez pensé, parfois un
      système ne fonctionne pas comme prévu.  Si vous
      trouvez que vous avez besoin de plus d'espace de pagination, il
      est assez simple d'en rajouter.  Vous avez trois manières
      d'augmenter votre espace de pagination: ajouter un nouveau
      disque dur, activer la pagination sur NFS, et créer un fichier
      de pagination sur une partition existante.</p><p>Pour des informations sur comment chiffrer l'espace de
      pagination, quelles options existent pour mener à bien
      cette tâche et pourquoi on devrait le faire, veuillez vous
      référer à la <a class="xref" href="swap-encrypting.html" title="19.17. Chiffrage de l'espace de pagination">Section 19.17, « Chiffrage de l'espace de pagination »</a>
      du Manuel.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="new-drive-swap"></a>12.14.1. Espace de pagination sur un nouveau disque dur</h3></div></div></div><p>La meilleur façon d'ajouter de l'espace de pagination,
	bien sûr, est d'utiliser ceci comme excuse pour ajouter un
	autre disque dur.  Vous pouvez toujours utiliser un autre
	disque après tout.  Si vous pouvez faire cela, allez relire la
	discussion sur l'espace de pagination dans la <a class="xref" href="configtuning-initial.html" title="12.2. Configuration initiale">Section 12.2, « Configuration initiale »</a>
	du Manuel pour des suggestions sur la meilleure façon
	d'arranger votre espace de pagination.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="nfs-swap"></a>12.14.2. Espace de pagination sur NFS</h3></div></div></div><p>L'espace de pagination sur NFS n'est recommandé que si
	vous n'avez pas de disque dur local sur lequel avoir l'espace
	de pagination; la pagination sur NFS sera limitée
	par la bande passante du réseau et sera un fardeau
	supplémentaire pour le serveur NFS.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="create-swapfile"></a>12.14.3. Fichiers de pagination</h3></div></div></div><p>Vous pouvez créer un fichier d'une taille
	spécifique pour	l'utiliser comme fichier de pagination.
	Dans notre exemple nous utiliserons un fichier de 64MO appelé
	<code class="filename">/usr/swap0</code>.  Vous pouvez, bien sûr,
	utiliser le nom de votre choix.</p><div class="example"><a id="idp77214416"></a><div class="example-title">Exemple 12.1. Créer un fichier de pagination sous FreeBSD</div><div class="example-contents"><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Assurez-vous que votre configuration de noyau inclut
	    le pilote de disque mémoire (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=md&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">md</span>(4)</span></a>).  Il se
	    trouve par défaut dans le noyau
	    <code class="filename">GENERIC</code>.</p><pre class="programlisting">device   md   # Memory "disks"</pre></li><li class="listitem"><p>Créez un fichier de pagination
	    (<code class="filename">/usr/swap0</code>):</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>dd if=/dev/zero of=/usr/swap0 bs=1024k count=64</code></strong></pre></li><li class="listitem"><p>Fixez les bonnes permissions sur
	    <code class="filename">/usr/swap0</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod 0600 /usr/swap0</code></strong></pre></li><li class="listitem"><p>Activez le fichier de pagination dans
	    <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">swapfile="/usr/swap0"   # Set to name of swapfile if aux swapfile desired.</pre></li><li class="listitem"><p>Redémarrez la machine ou activez directement le
	    fichier de pagination:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mdconfig -a -t vnode -f /usr/swap0 -u 0 &amp;&amp; swapon /dev/md0</code></strong></pre></li></ol></div></div></div><br class="example-break" /></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-kernel-limits.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="acpi-overview.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">12.13. Optimisation des limitations du noyau </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 12.15. Gestion de l'énergie et des ressources</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>