<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.7. Allouer l'espace disque</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="bsdinstall.html" title="Chapitre 3. Installer FreeBSD 9.X et versions suivantes" /><link rel="prev" href="bsdinstall-netinstall.html" title="3.6. Installation à partir du réseau" /><link rel="next" href="bsdinstall-final-warning.html" title="3.8. Procéder à l'installation" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.7. Allouer l'espace disque</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bsdinstall-netinstall.html">Précédent</a> </td><th width="60%" align="center">Chapitre 3. Installer FreeBSD 9.<em class="replaceable"><code>X</code></em> et versions
      suivantes</th><td width="20%" align="right"> <a accesskey="n" href="bsdinstall-final-warning.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="bsdinstall-partitioning"></a>3.7. Allouer l'espace disque</h2></div></div></div><p>Il existe trois manières pour allouer l'espace disque pour
      FreeBSD.  Le partionnement guidé (<span class="emphasis"><em>Guided</em></span>) fixe
      automatiquement les partitions disque, alors que le
      partionnement manuel (<span class="emphasis"><em>Manual</em></span>) permet aux
      utilisateurs avancés de créer des partitions sur mesures.
      Enfin, il y a la possibilité de lancer un interpréteur de
      commandes dans lequel les programmes en ligne de commande comme
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=fdisk&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">fdisk</span>(8)</span></a>, et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> pourront être
      utilisés directement.</p><div class="figure"><a id="bsdinstall-part-guided-manual"></a><div class="figure-title">Figure 3.10. Sélection du partitionnement guidé ou manuel</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-guided-manual.png" alt="Sélection du partitionnement guidé ou manuel" /></div></div></div><br class="figure-break" /><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bsdinstall-part-guided"></a>3.7.1. Partitionnement guidé</h3></div></div></div><p>Si plusieurs disques sont connectés, choisissez celui sur
	lequel FreeBSD doit être installé.</p><div class="figure"><a id="bsdinstall-part-guided-disk"></a><div class="figure-title">Figure 3.11. Sélection parmi plusieurs disques</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-guided-disk.png" alt="Sélection parmi plusieurs disques" /></div></div></div><br class="figure-break" /><p>L'intégralité ou juste une portion du disque peut être
	allouée pour FreeBSD.  Si
	<span class="guibutton">[ Entire Disk ]</span> est
	sélectionné, une partition recouvrant la totalité du disque
	est créée.  Sélectionner
	<span class="guibutton">[ Partition ]</span> créé une
	partition dans l'espace inutilisé du disque.</p><div class="figure"><a id="bsdinstall-part-entire-part"></a><div class="figure-title">Figure 3.12. Sélection de l'intégralité du disque ou d'une
	  partition</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-entire-part.png" alt="Sélection de l'intégralité du disque ou d'une partition" /></div></div></div><br class="figure-break" /><p>Une fois les partitions créés, vérifiez attentivement le
	résultat.  Si une erreur a été faite, sélectionner
	<span class="guibutton">[ Revert ]</span> permettra de
	revenir au partionnement de départ, ou
	<span class="guibutton">[ Auto ]</span> créera les
	partitions FreeBSD automatiquement.  Les partitions peuvent être
	créées, modifiées, ou supprimées manuellement.  Quand le
	partionnement est correct, sélectionner
	<span class="guibutton">[ Finish ]</span> pour poursuivre
	l'installation.</p><div class="figure"><a id="bsdinstall-part-review"></a><div class="figure-title">Figure 3.13. Vérification des partitions créés</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-review.png" alt="Vérification des partitions créés" /></div></div></div><br class="figure-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="bsdinstall-part-manual"></a>3.7.2. Partitionnement manuel</h3></div></div></div><p>Le partionnement manuel envoie directement dans l'éditeur
	de partitions.</p><div class="figure"><a id="bsdinstall-part-manual-create"></a><div class="figure-title">Figure 3.14. Créer manuellement les partitions</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-manual-create.png" alt="Créer manuellement les partitions" /></div></div></div><br class="figure-break" /><p>Sélectionner un disque (<code class="filename">ada0</code> dans
	cet exemple) et <span class="guibutton">[ Create ]</span>
	permet d'afficher un menu pour le choix du type de
	<span class="emphasis"><em>table de partitionnement</em></span>.</p><div class="figure"><a id="bsdinstall-part-manual-partscheme"></a><div class="figure-title">Figure 3.15. Créer manuellement les partitions</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-manual-partscheme.png" alt="Créer manuellement les partitions" /></div></div></div><br class="figure-break" /><p>Le partionnement <acronym class="acronym">GPT</acronym> est généralement
	le choix le plus approprié pour les ordinateurs de type PC.
	Les systèmes d'exploitation anciens ne sont pas compatibles
	avec <acronym class="acronym">GPT</acronym> et peuvent nécessiter à la place
	un partitionnement de type <acronym class="acronym">MBR</acronym>.  Les autres
	systèmes de partitionnement sont en général utilisés pour les
	ordinateurs anciens ou particuliers.</p><div class="table"><a id="idp69328976"></a><div class="table-title">Tableau 3.1. Tables de partitionnement</div><div class="table-contents"><table summary="Tables de partitionnement" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th align="left">Abbréviation</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">APM</td><td align="left"><a class="link" href="http://support.apple.com/kb/TA21692" target="_top">Table
		de partion Apple, utilisée par le <span class="trademark">PowerPC</span>®
		<span class="trademark">Macintosh</span>®.</a></td></tr><tr><td align="left">BSD</td><td align="left">Partitions BSD (<span class="emphasis"><em>BSD Labels</em></span>)
		sans MBR, parfois appelé <span class="emphasis"><em>dangerously
		dedicated mode</em></span> ou <span class="quote">« <span class="quote">mode
		dédié</span> »</span>.  Consulter la page de manuel
		<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a>.</td></tr><tr><td align="left">GPT</td><td align="left"><a class="link" href="http://en.wikipedia.org/wiki/GUID_Partition_Table" target="_top">Table
		de partition GUID.</a></td></tr><tr><td align="left">MBR</td><td align="left"><a class="link" href="http://en.wikipedia.org/wiki/Master_boot_record" target="_top">Master
		Boot Record.</a></td></tr><tr><td align="left">PC98</td><td align="left"><a class="link" href="http://en.wikipedia.org/wiki/Pc9801" target="_top">Variante
		du MBR, utilisée par les ordinateurs de type NEC
		PC-98.</a></td></tr><tr><td align="left">VTOC8</td><td align="left"><span class="emphasis"><em>Volume Table Of Contents</em></span>,
		utilisé par les ordinateurs Sun SPARC64 et
		UltraSPARC.</td></tr></tbody></table></div></div><br class="table-break" /><p>Après avoir choisi et créé le partitionnement,
	sélectionner à nouveau
	<span class="guibutton">[ Create ]</span> créera les
	nouvelles partitions.</p><div class="figure"><a id="bsdinstall-part-manual-addpart"></a><div class="figure-title">Figure 3.16. Créer manuellement les partitions</div><div class="figure-contents"><div class="mediaobject"><img src="bsdinstall/bsdinstall-part-manual-addpart.png" alt="Créer manuellement les partitions" /></div></div></div><br class="figure-break" /><p>Une installation standard de FreeBSD avec
	<acronym class="acronym">GPT</acronym> utilise au moins trois
	partitions:</p><div class="itemizedlist"><div class="itemizedlist-title">Partitionnement <acronym class="acronym">GPT</acronym> standard sous
	  FreeBSD</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">freebsd-boot</code> - Code de démarrage
	    FreeBSD.</p></li><li class="listitem"><p><code class="literal">freebsd-ufs</code> - Une système de
	    fichiers UFS FreeBSD.</p></li><li class="listitem"><p><code class="literal">freebsd-swap</code> - Espace de pagination
	    pour FreeBSD.</p></li></ul></div><p>Un autre type de partition qui vaut la peine d'être
	mentionné <code class="literal">freebsd-zfs</code>, employé pour des
	partitions qui contiendront un système de fichiers FreeBSD ZFS.
	Voir linkend="filesystems-zfs" .  La page de manuel
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gpart&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">gpart</span>(8)</span></a> liste d'autres types de partitions disponibles
	pour <acronym class="acronym">GPT</acronym>.</p><p>Des partitions avec plusieurs systèmes de fichiers peuvent
	être utilisées, certaines personnes peuvent préférer une
	organisation plus traditionnelle avec des partitions séparées
	pour les systèmes de fichiers <code class="filename">/</code>,
	<code class="filename">/var</code>, <code class="filename">/tmp</code>, et
	<code class="filename">/usr</code>.  Consulter <a class="xref" href="bsdinstall-partitioning.html#bsdinstall-part-manual-splitfs" title="Exemple 3.3. Création d'un système traditionnel de partitions pour systèmes de fichiers séparés">Exemple 3.3, « Création d'un système traditionnel de partitions pour
	  systèmes de fichiers séparés »</a>, pour un
	exemple.</p><p>Les tailles peuvent être entrées avec les abréviations
	courantes: <span class="emphasis"><em>K</em></span> for kilooctet,
	<span class="emphasis"><em>M</em></span> pour mégaoctets, ou
	<span class="emphasis"><em>G</em></span> pour gigaoctets.</p><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Un alignement correct des secteurs sur le disque permet
	  de meilleures performances, et créer des partitions de
	  tailles multiples de 4K permet de s'assurer de l'alignement
	  sur les disques à secteur de 512 octets ou 4 Koctets.
	  Généralement, employer des tailles de partition qui sont des
	  multiples d'1M ou 1G est le moyen le plus simple de garantir
	  que chaque partition débute sur un multiple de 4K.  Une
	  exception: à présent, la partition
	  <span class="emphasis"><em>freebsd-boot</em></span> ne devrait pas dépasser
	  512K en raison de limitations du code de démarrage.</p></div><p>Un point de montage est nécessaire si cette partition
	contiendra un système de fichiers.  Si une seule partition UFS
	unique sera créée, le point de montage devra être
	<code class="filename">/</code>.</p><p>Un <span class="emphasis"><em>label</em></span> est également demandé.  Un
	label (ou étiquette) est le nom par lequel la partition sera
	connue.  Les noms ou numéros de disques peuvent varier si le
	disque est connecté à un contrôleur ou port différent, mais le
	label de partition ne changera pas.  Se référer aux labels
	plutôt qu'aux noms de disques et numéros de partitions dans
	les fichiers comme <code class="filename">/etc/fstab</code> rend le
	système plus tolérant aux changements de matériel.  Les labels
	GPT apparaissent dans le répertoire
	<code class="filename">/dev/gpt/</code> lorsqu'un disque est attaché au
	système.  Les autres systèmes de partitionnement présentent
	d'autres possibilités au niveau des labels, et leur labels
	apparaissent sous différentes répertoires dans
	<code class="filename">/dev/</code>.</p><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Employez un label unique pour chaque système de fichiers
	  pour éviter les conflits avec les labels identiques.
	  Quelques lettres du nom du l'ordinateur, de son rôle, ou de
	  son emplacement peuvent être ajoutées au label.  Par
	  exemple, <code class="literal">labroot</code> ou
	  <code class="literal">rootfs-lab</code> pour la partition UFS racine
	  de l'ordinateur du laboratoire.</p></div><div class="example"><a id="bsdinstall-part-manual-splitfs"></a><div class="example-title">Exemple 3.3. Création d'un système traditionnel de partitions pour
	  systèmes de fichiers séparés</div><div class="example-contents"><p>Pour une organisation traditionnelle de partitions dans
	  laquelle les répertoires <code class="filename">/</code>,
	  <code class="filename">/var</code>, <code class="filename">/tmp</code>, et
	  <code class="filename">/usr</code> sont des systèmes de fichiers
	  séparés ayant chacun leur propre partition, créer une table
	  de partition GPT, puis créer les partitions comme montré
	  ci-après.  Les tailles de partitions indiquées sont celles
	  typiques pour un disque de 20G.  Si plus d'espace est
	  disponible sur le disque cible, une partition de pagination
	  ou une partition <code class="filename">/var</code> plus importantes
	  peuvent être utiles.  Les labels utilisés ici sont préfixés
	  par <code class="literal">ex</code> pour <span class="quote">« <span class="quote">exemple</span> »</span>, mais
	  le lecteur peut utiliser un autre label unique comme décrit
	  plus haut.</p><p>Par défaut, le programme <code class="filename">gptboot</code> de
	  FreeBSD s'attend à ce que la première partition UFS trouvée soit la
	  partition <code class="filename">/</code>.</p><div class="informaltable"><table border="0"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Type de partition</th><th>Taille</th><th>Point de montage</th><th>Label</th></tr></thead><tbody><tr><td><code class="literal">freebsd-boot</code></td><td><code class="literal">512K</code></td><td class="auto-generated"> </td><td class="auto-generated"> </td></tr><tr><td><code class="literal">freebsd-ufs</code></td><td><code class="literal">2G</code></td><td><code class="filename">/</code></td><td><code class="literal">exrootfs</code></td></tr><tr><td><code class="literal">freebsd-swap</code></td><td><code class="literal">4G</code></td><td> </td><td><code class="literal">exswap</code></td></tr><tr><td><code class="literal">freebsd-ufs</code></td><td><code class="literal">2G</code></td><td><code class="filename">/var</code></td><td><code class="literal">exvarfs</code></td></tr><tr><td><code class="literal">freebsd-ufs</code></td><td><code class="literal">1G</code></td><td><code class="filename">/tmp</code></td><td><code class="literal">extmpfs</code></td></tr><tr><td><code class="literal">freebsd-ufs</code></td><td>valeur proposée par défaut (le reste du
		disque)</td><td><code class="filename">/usr</code></td><td><code class="literal">exusrfs</code></td></tr></tbody></table></div></div></div><br class="example-break" /><p>Après la création des partitions, sélectionnez
	<span class="guibutton">[ Finish ]</span> pour poursuivre
	l'installation.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bsdinstall-netinstall.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="bsdinstall.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="bsdinstall-final-warning.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">3.6. Installation à partir du réseau </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 3.8. Procéder à l'installation</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>