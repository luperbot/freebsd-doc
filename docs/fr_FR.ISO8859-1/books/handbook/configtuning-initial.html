<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.2. Configuration initiale</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="config-tuning.html" title="Chapitre 12. Configuration et optimisation" /><link rel="prev" href="config-tuning.html" title="Chapitre 12. Configuration et optimisation" /><link rel="next" href="configtuning-core-configuration.html" title="12.3. Configuration principale" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.2. Configuration initiale</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="config-tuning.html">Précédent</a> </td><th width="60%" align="center">Chapitre 12. Configuration et optimisation</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-initial"></a>12.2. Configuration initiale</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76404560"></a>12.2.1. Organisation des partitions</h3></div></div></div><a id="idp76405200" class="indexterm"></a><a id="idp76405712" class="indexterm"></a><a id="idp76406608" class="indexterm"></a><a id="idp76407632" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76408528"></a>12.2.1.1. Partitions de base</h4></div></div></div><p>Quand vous organisez votre système de fichiers à
	  l'aide de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=bsdlabel&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">bsdlabel</span>(8)</span></a> ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a>, il est
	  important de se rappeler que les disques durs peuvent
	  transférer des données plus rapidement depuis
	  les pistes externes que depuis celles à l'intérieur.
	  En sachant cela, vous devriez placer vos systèmes de
	  fichiers les plus petits, auxquels on accède le plus
	  souvent, comme la racine et l'espace de pagination, proche
	  de la partie externe du disque, alors que les grandes
	  partitions, comme <code class="filename">/usr</code>, devraient être
	  plus à l'intérieur.  Pour faire cela, c'est une bonne
	  idée de créer les partitions dans l'ordre
	  suivant: racine, pagination, <code class="filename">/var</code>,
	  <code class="filename">/usr</code>.</p><p>La taille de votre partition <code class="filename">/var</code>
	  reflète l'utilisation prévue de votre machine.
	  <code class="filename">/var</code> est principalement utilisée pour
	  héberger les boîtes aux lettres, les fichiers journaux,
	  les queues d'impression.  Les boîtes aux lettres et les fichiers
	  journaux, en particulier, peuvent croître vers des tailles
	  inattendues en fonction du nombre d'utilisateurs de votre
	  système et de combien de temps sont conservés ces
	  fichiers.  Si vous avez l'intention de faire fonctionner un
	  serveur de courrier électronique, une partition
	  La plupart des utilisateurs n'auront jamais besoin de plus d'un
	  gigaoctet, mais rappelez-vous que
	  <code class="filename">/var/tmp</code> doit être
	  assez grand pour contenir tout logiciel pré-compilé que
	  vous pourrez vouloir ajouter.</p><p>La partition <code class="filename">/usr</code> contient la
	  majeure partie des fichiers nécessaires au système,
	  le catalogue des logiciels portés (recommandé)
	  et le code source du système (optionnel).  Les deux
	  étant optionnels à l'installation.  Utiliser
	  au moins 2 gigaoctets pour cette partition est
	  recommandé.</p><p>Quand vous dimensionnez vos partitions, gardez à
	  l'esprit les besoins en espace pour permettre à votre
	  système de se développer.  Manquer d'espace sur une
	  partition alors qu'il y en a plein sur les autres peut être
	  très frustrant.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Certains utilisateurs qui ont employé
	    l'option <code class="literal">Auto-defaults</code> de l'outil de
	    partitionnement de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysinstall&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysinstall</span>(8)</span></a> ont trouvé plus
	    tard que leurs partitions racine et
	    <code class="filename">/var</code> étaient trop petites.
	    Partitionnez généreusement et avec
	    sagesse.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="swap-design"></a>12.2.1.2. Partition de pagination</h4></div></div></div><a id="idp76422224" class="indexterm"></a><a id="idp76422736" class="indexterm"></a><p>Par principe, votre espace de pagination devrait
	  typiquement avoir une taille double de la quantité de
	  mémoire principale.  Par exemple, si la machine
	  possède 128 mégaoctets de mémoire, le
	  fichier de pagination devrait être de 256 mégaoctets.
	  Les systèmes avec peu de mémoire pourront avoir
	  de meilleures performances avec beaucoup plus d'espace de
	  pagination.  Il n'est pas recommandé d'avoir moins
	  de 256 mégaoctets d'espace de pagination sur un
	  système et vous devriez garder à l'esprit les futures
	  extensions de mémoire quand vous dimensionnez votre
	  partition de pagination.  Les algorithmes de pagination du
	  noyau sont optimisés pour une meilleure efficacité
	  avec une partition de pagination d'au moins deux fois la
	  taille de la mémoire principale.  Configurer trop peu
	  d'espace de pagination peut conduire à une certaine
	  inefficacité du code de pagination de la mémoire virtuelle
	  comme à l'apparition de problèmes
	  ultérieurement si vous ajoutez plus de
	  mémoire à votre machine.</p><p>Et enfin, sur des systèmes importants avec de
	  multiples disques SCSI (ou de multiples disques IDE
	  fonctionnant sur différents contrôleurs), il est
	  vivement recommandé que vous configuriez un espace de
	  pagination sur chaque disque (jusqu'à quatre disques).
	  Les partitions de pagination sur les différents disques
	  devront avoir approximativement la même taille.  Le
	  noyau peut gérer des tailles arbitraires mais les
	  structures de données internes sont dimensionnées pour 4
	  fois la taille de la plus grande partition de pagination.
	  Garder la taille des partitions de pagination proche
	  permettra au noyau de répartir de manière
	  optimale l'espace de pagination entre les disques.  Ne vous
	  inquiétez pas trop si vous les surdimensionnez, l'espace de
	  pagination est un des avantages d'Unix.  Même si vous
	  n'utilisez normalement pas beaucoup de cet espace, il peut
	  vous permettre d'avoir plus temps pour récupérer
	  face à programme incontrôlable avant
	  d'être forcé à relancer la machine.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76424144"></a>12.2.1.3. Pourquoi des Partitions?</h4></div></div></div><p>Pourquoi des partitions?  Pourquoi ne pas créer une
	  seule grande partition racine?  Ainsi je n'aurais pas à
	  me soucier d'avoir sous-dimensionné certaines choses!</p><p>Pour plusieurs raisons cela n'est pas une bonne idée.
	  Tout d'abord, chaque partition a différentes
	  caractéristiques d'utilisation et les séparer autorise
	  le système de fichiers à s'optimiser lui-même
	  pour ces caractéristiques.  Par exemple, les partitions
	  racine et <code class="filename">/usr</code> sont surtout lues, et
	  rarement utilisées en écriture, alors que de nombreuses
	  opérations de lecture et écriture pourront avoir lieu
	  sur <code class="filename">/var</code> et
	  <code class="filename">/var/tmp</code>.</p><p>En partitionnant correctement votre système,
	  la fragmentation introduite sur les partitions plus petites et
	  plus chargées en écriture ne s'étendra pas sur
	  les partitions principalement utilisées en lecture.
	  De plus, avoir les partitions principalement utilisées
	  en écriture proche du bord du disque, par exemple avant la
	  grande partition au lieu qu'après dans la table des
	  partitions, augmentera les performances d'E/S sur les
	  partitions qui le demandent le plus.  Maintenant il est
	  également vrai que vous avez besoin de performances d'E/S
	  sur les grandes partitions, mais elles sont si grandes que
	  les déplacer plus vers l'extérieur du disque ne
	  donnera pas lieu à une augmentation significative des
	  performances alors que le déplacement de
	  <code class="filename">/var</code> vers le bord peut avoir un sérieux
	  impact.  Et enfin, il y a également des raisons de
	  sécurité.  Avoir une partition racine petite et
	  ordonnée qui est essentiellement en lecture seule lui
	  donne plus de chance de rester intacte après un crash
	  sévère.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="config-tuning.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-core-configuration.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre 12. Configuration et optimisation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 12.3. Configuration principale</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>