<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.3. Permissions</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="basics.html" title="Chapitre 4. Quelques bases d'UNIX" /><link rel="prev" href="consoles.html" title="4.2. Consoles virtuelles &amp; terminaux" /><link rel="next" href="dirstructure.html" title="4.4. Organisation de l'arborescence des répertoires" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.3. Permissions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="consoles.html">Précédent</a> </td><th width="60%" align="center">Chapitre 4. Quelques bases d'UNIX</th><td width="20%" align="right"> <a accesskey="n" href="dirstructure.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="permissions"></a>4.3. Permissions</h2></div></div></div><a id="idp69812816" class="indexterm"></a><p>FreeBSD, étant un descendant direct de l'<span class="trademark">UNIX</span>® BSD, est
      basé sur plusieurs concepts clés d'<span class="trademark">UNIX</span>®.  Le premier,
      et le plus prononcé, est le fait que FreeBSD est un
      système d'exploitation multi-utilisateurs.  Le système
      peut gérer plusieurs utilisateurs travaillant tous
      simultanément sur des tâches complètement
      indépendantes.  Le système est responsable du partage
      correct et de la gestion des requêtes pour les
      périphériques matériels, la mémoire,
      et le temps CPU de façon équitable entre chaque
      utilisateur.</p><p>Puisque le système est capable de supporter des utilisateurs
      multiples, tout ce que le système gère possède un
      ensemble de permissions définissant qui peut écrire, lire,
      et exécuter la ressource.  Ces permissions sont stockées
      sous forme de trois octets divisés en trois parties, une pour le
      propriétaire du fichier, une pour le groupe auquel appartient le
      fichier, et une autre pour le reste du monde.
      Cette représentation numérique fonctionne comme
      ceci:</p><a id="idp69815120" class="indexterm"></a><a id="idp69815632" class="indexterm"></a><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Valeur</th><th>Permission</th><th>Contenu du répertoire</th></tr></thead><tbody><tr><td>0</td><td>Pas d'accès en lecture, pas d'accès en
	      écriture,
	      pas d'accès en exécution</td><td><code class="literal">---</code></td></tr><tr><td>1</td><td>Pas d'accès en lecture, pas d'accès en
	      écriture, exécution</td><td><code class="literal">--x</code></td></tr><tr><td>2</td><td>Pas d'accès en lecture, écriture, pas
	      d'accès en exécution</td><td><code class="literal">-w-</code></td></tr><tr><td>3</td><td>Pas d'accès en lecture, écriture,
	      exécution</td><td><code class="literal">-wx</code></td></tr><tr><td>4</td><td>Lecture, pas d'accès en écriture, pas
	      d'accès en exécution</td><td><code class="literal">r--</code></td></tr><tr><td>5</td><td>Lecture, pas d'accès en écriture,
	      exécution</td><td><code class="literal">r-x</code></td></tr><tr><td>6</td><td>Lecture, écriture, pas d'accès en
	      exécution</td><td><code class="literal">rw-</code></td></tr><tr><td>7</td><td>Lecture, écriture, exécution</td><td><code class="literal">rwx</code></td></tr></tbody></table></div><a id="idp69837520" class="indexterm"></a><a id="idp69838416" class="indexterm"></a><p>Vous pouvez utiliser l'option <code class="option">-l</code> avec la
      commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> pour afficher le contenu du répertoire
      sous forme une longue et détaillée qui inclut une colonne
      avec des informations sur les permissions d'accès des fichiers
      pour le propriétaire, le groupe, et le reste du monde.
      Par exemple un <code class="command">ls -l</code> dans un répertoire
      quelconque devrait donner:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ls -l</code></strong>
total 530
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 myfile
-rw-r--r--  1 root  wheel     512 Sep  5 12:31 otherfile
-rw-r--r--  1 root  wheel    7680 Sep  5 12:31 email.txt
...</pre><p>Voici
      comment est divisée la première colonne de l'affichage
      généré par <code class="command">ls -l</code>:</p><pre class="screen">-rw-r--r--</pre><p>Le premier caractère (le plus à gauche) indique
      si c'est un fichier normal, un répertoire, ou
      un périphérique mode caractère,
      une socket, ou tout autre pseudo-périphérique.
      Dans ce cas, <code class="literal">-</code>
      indique un fichier normal.  Les trois caractères suivants,
      <code class="literal">rw-</code> dans cet exemple, donnent les
      permissions pour le propriétaire du fichier.  Les trois
      caractères qui suivent, <code class="literal">r--</code>, donnent les
      permissions pour le groupe auquel appartient le fichier.
      Les trois derniers caractères, <code class="literal">r--</code>,
      donnent les permissions pour le reste du
      monde. Un tiret signifie que la permission est désactivée.
      Dans le cas de ce fichier, les permissions sont telles que le
      propriétaire peut lire et écrire le fichier, le groupe
      peut lire le fichier, et le reste du monde peut seulement lire le fichier.
      D'après la table ci-dessus, les permissions pour ce fichier
      seraient <code class="literal">644</code>, où chaque chiffre
      représente les
      trois parties des permissions du fichier.</p><p>Tout cela est bien beau, mais comment le système
      contrôle les permissions sur les périphériques?
      En fait FreeBSD traite la plupart des périphériques
      sous la forme d'un fichier que les programmes peuvent ouvrir, lire,
      et écrire des données dessus comme tout autre fichier.
      Ces périphériques spéciaux sont stockés
      dans le répertoire <code class="filename">/dev</code>.</p><p>Les répertoires sont aussi traités comme des fichiers.
      Ils ont des droits en lecture, écriture et exécution.
      Le bit d'exécution pour un répertoire a une signification
      légèrement différente que pour les fichiers.
      Quand un répertoire est marqué exécutable, cela
      signifie qu'il peut être traversé, i.e. il est possible
      d'utiliser &#8220;cd&#8221; (changement de répertoire).  Ceci signifie également qu'à
      l'intérieur du répertoire il est possible d'accéder
      aux fichiers dont les noms sont connus (en fonction, bien sûr,
      des permissions sur les fichiers eux-mêmes).</p><p>En particulier, afin d'obtenir la liste du
      contenu d'un répertoire, la permission de lecture doit être
      positionnée sur le répertoire, tandis que pour effacer un
      fichier dont on connaît le nom, il est nécessaire d'avoir
      les droits d'écriture <span class="emphasis"><em>et</em></span> d'exécution
      sur le répertoire contenant le fichier.</p><p>Il y a d'autres types de permissions, mais elles sont
      principalement employées dans des circonstances
      spéciales comme les binaires &#8220;setuid&#8221; et
      les répertoires &#8220;sticky&#8221;.  Si
      vous désirez plus d'information sur les permissions de fichier et
      comment les positionner, soyez sûr de consulter la page de manuel
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp69848656"></a>4.3.1. Permissions symboliques</h3></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp69855312" class="indexterm"></a><p>Les permissions symboliques, parfois désignées
	sous le nom d'expressions symboliques, utilisent des
	caractères à la place de valeur en octal pour
	assigner les permissions aux fichiers et répertoires.
	Les expressions symboliques emploient la syntaxe: (qui)
	(action) (permissions), avec les valeurs possibles
	suivantes:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Option</th><th>Lettre</th><th>Représente</th></tr></thead><tbody><tr><td>(qui)</td><td>u</td><td>Utilisateur</td></tr><tr><td>(qui)</td><td>g</td><td>Groupe</td></tr><tr><td>(qui)</td><td>o</td><td>Autre</td></tr><tr><td>(qui)</td><td>a</td><td>Tous (<span class="quote">« <span class="quote">le monde entier</span> »</span>)</td></tr><tr><td>(action)</td><td>+</td><td>Ajouter des permissions</td></tr><tr><td>(action)</td><td>-</td><td>Retirer des permissions</td></tr><tr><td>(action)</td><td>=</td><td>Fixe les permissions de façon explicite</td></tr><tr><td>(permissions)</td><td>r</td><td>Lecture</td></tr><tr><td>(permissions)</td><td>w</td><td>Ecriture</td></tr><tr><td>(permissions)</td><td>x</td><td>Exécution</td></tr><tr><td>(permissions)</td><td>t</td><td>bit collant (sticky)</td></tr><tr><td>(permissions)</td><td>s</td><td>Exécuter avec l'ID utilisateur (UID) ou groupe (GID)</td></tr></tbody></table></div><p>Ces valeurs sont utilisées avec la commande
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> comme précédemment mais avec
      des lettres.  Par exemple, vous pourriez utiliser la commande
      suivante pour refuser l'accès au fichier
      <em class="replaceable"><code>FICHIER</code></em> à d'autres
      utilisateurs:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go= FICHIER</code></strong></pre><p>Une liste séparé par des virgules peut être
      fournie quand plus d'un changement doit être effectué
      sur un fichier.  Par exemple la commande suivante retirera
      les permissions d'écriture au groupe et au &#8220;reste du
      monde&#8221; sur le fichier <em class="replaceable"><code>FICHIER</code></em>,
      puis ajoutera la permission d'exécution pour tout le
      monde:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>chmod go-w,a+x FICHIER</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp69891792"></a>4.3.2. Indicateurs des fichiers sous FreeBSD</h3></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><p>En addition des permissions sur les fichiers
	précédemment présentées, FreeBSD
	supporte l'utilisation d'<span class="quote">« <span class="quote">indicateurs de
	fichiers</span> »</span>.  Ces indicateurs rajoutent un niveau de
	contrôle et de sécurité sur les fichiers,
	mais ne concernent pas les répertoires.</p><p>Ces indicateurs ajoutent donc un niveau de contrôle
	supplémentaire des fichiers, permettant d'assurer que
	dans certains cas même le super-utilisateur
	<code class="systemitem">root</code> ne pourra effacer ou modifier des
	fichiers.</p><p>Les indicateurs de fichiers peuvent être
	modifiés avec l'utilitaire <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a>, ce dernier
	présentant une interface simple.  Par exemple, pour
	activer l'indicateur système de suppression impossible
	sur le fichier <code class="filename">file1</code>, tapez la commande
	suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags sunlink file1</code></strong></pre><p>Et pour désactiver l'indicateur de suppression
	impossible, utilisez la commande précédente avec
	le préfixe <span class="quote">« <span class="quote">no</span> »</span> devant l'option
	<code class="option">sunlink</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chflags nosunlink file1</code></strong></pre><p>Pour afficher les indicateurs propres à ce fichier,
	utilisez la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ls&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ls</span>(1)</span></a> avec l'option
	<code class="option">-lo</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ls -lo file1
	</code></strong></pre><p>La sortie de la commande devrait ressembler
	à:</p><pre class="programlisting">-rw-r--r--  1 trhodes  trhodes  sunlnk 0 Mar  1 05:54 file1</pre><p>Plusieurs indicateurs ne peuvent être
	positionnés ou retirés que par le
	super-utilisateur <code class="systemitem">root</code>.  Dans les autres
	cas, le propriétaire du fichier peut activer ces
	indicateurs.  Pour plus d'information, la lecture des pages de
	manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chflags</span>(1)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chflags&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chflags</span>(2)</span></a> est
	recommandée à tout administrateur.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="consoles.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="dirstructure.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4.2. Consoles virtuelles &amp; terminaux </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 4.4. Organisation de l'arborescence des répertoires</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>