<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.10. Fichiers de configuration</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="config-tuning.html" title="Chapitre 12. Configuration et optimisation" /><link rel="prev" href="configtuning-virtual-hosts.html" title="12.9. Hôtes virtuels" /><link rel="next" href="configtuning-sysctl.html" title="12.11. Optimisation avec sysctl" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.10. Fichiers de configuration</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">Précédent</a> </td><th width="60%" align="center">Chapitre 12. Configuration et optimisation</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-sysctl.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-configfiles"></a>12.10. Fichiers de configuration</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76891344"></a>12.10.1. Organisation du répertoire <code class="filename">/etc</code></h3></div></div></div><p>Il existe un certain nombre de répertoires dans lesquels
	se trouvent les informations de configuration.  Ceux-ci
	incluent:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="filename">/etc</code></td><td>Information de configuration générique du
		système; les données ici sont
		spécifiques au système.</td></tr><tr><td><code class="filename">/etc/defaults</code></td><td>Version par défaut des fichiers de configuration
		du système.</td></tr><tr><td><code class="filename">/etc/mail</code></td><td>Configuration de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sendmail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sendmail</span>(8)</span></a>, et autres fichiers
		de configuration d'agent de transmission du courrier
		électronique.</td></tr><tr><td><code class="filename">/etc/ppp</code></td><td>Configuration pour les programmes PPP utilisateur
		et intégré au noyau.</td></tr><tr><td><code class="filename">/etc/namedb</code></td><td>Emplacement par défaut pour les données de
		 <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>.  Normalement
		 <code class="filename">named.conf</code> et les fichiers de zone
		 sont stockés dans ce répertoire.</td></tr><tr><td><code class="filename">/usr/local/etc</code></td><td>Fichiers de configuration pour les applications
		installées.  Peut contenir des sous-répertoires
		pour chaque application.</td></tr><tr><td><code class="filename">/usr/local/etc/rc.d</code></td><td>Procédures de lancement/d'arrêt pour les
		applications installées.</td></tr><tr><td><code class="filename">/var/db</code></td><td>Fichiers de bases de données automatiquement
		générés, spécifiques
		au système, comme la base de données
		des logiciels installés, la base de données de
		localisation des fichiers, et ainsi de suite.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76907600"></a>12.10.2. Nom d'hôtes</h3></div></div></div><a id="idp76908240" class="indexterm"></a><a id="idp76908752" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76909264"></a>12.10.2.1. <code class="filename">/etc/resolv.conf</code></h4></div></div></div><a id="idp76910032" class="indexterm"></a><p><code class="filename">/etc/resolv.conf</code> gère comment
	  le résolveur de FreeBSD accède au système
	  de nom de domaine d'Internet (DNS).</p><p>Les entrées la plus classiques du fichier
	  <code class="filename">resolv.conf</code> sont:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><code class="literal">nameserver</code></td><td>L'adresse IP du serveur de noms auquel le
		  résolveur devrait envoyer ses requêtes.  Les
		  serveurs sont sollicités dans l'ordre listé
		  avec un maximum de trois.</td></tr><tr><td><code class="literal">search</code></td><td>Liste de recherche pour la résolution de nom de
		  machine.  Ceci est normalement déterminé par le
		  domaine de l'hôte local.</td></tr><tr><td><code class="literal">domain</code></td><td>Le nom du domaine local.</td></tr></tbody></table></div><p>Un fichier <code class="filename">resolv.conf</code> typique:</p><pre class="programlisting">search example.com
nameserver 147.11.1.11
nameserver 147.11.100.30</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Seule une des options <code class="literal">search</code> et
	  <code class="literal">domain</code> devrait être
	  utilisée.</p></div><p>Si vous utilisez DHCP, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dhclient&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dhclient</span>(8)</span></a> réécrit
	  habituellement <code class="filename">resolv.conf</code> avec
	  l'information reçue du serveur DHCP.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76931024"></a>12.10.2.2. <code class="filename">/etc/hosts</code></h4></div></div></div><a id="idp76931792" class="indexterm"></a><p><code class="filename">/etc/hosts</code> est une simple base de
	  données texte, une réminiscence des débuts
	  d'Internet.  Il travaille en conjonction avec les serveurs
	  DNS et NIS pour fournir les correspondances nom vers adresse
	  IP.  Les ordinateurs locaux reliés par
	  l'intermédiaire d'un réseau local peuvent
	  être ajoutés dans ce fichier pour une résolution
	  de noms simple plutôt que de configurer un serveur
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=named&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span></a>.
	  De plus <code class="filename">/etc/hosts</code> peut être
	  utilisé pour fournir un enregistrement local de
	  correspondances de nom, réduisant ainsi le besoin
	  de requêtes vers l'extérieur pour les noms auxquels on
	  accède couramment.</p><pre class="programlisting"># $FreeBSD$
#
# Host Database
# This file should contain the addresses and aliases
# for local hosts that share this file.
# In the presence of the domain name service or NIS, this file may
# not be consulted at all; see /etc/nsswitch.conf for the resolution order.
#
#
::1                     localhost localhost.my.domain myname.my.domain
127.0.0.1               localhost localhost.my.domain myname.my.domain

#
# Imaginary network.
#10.0.0.2               myname.my.domain myname
#10.0.0.3               myfriend.my.domain myfriend
#
# According to RFC 1918, you can use the following IP networks for
# private nets which will never be connected to the Internet:
#
#       10.0.0.0        -   10.255.255.255
#       172.16.0.0      -   172.31.255.255
#       192.168.0.0     -   192.168.255.255
#
# In case you want to be able to connect to the Internet, you need
# real official assigned numbers.  PLEASE PLEASE PLEASE do not try
# to invent your own network numbers but instead get one from your
# network provider (if any) or from the Internet Registry (ftp to
# rs.internic.net, directory `/templates').
#</pre><p><code class="filename">/etc/hosts</code> suit le format simple
	  suivant:</p><pre class="programlisting">[Internet address] [official hostname] [alias1] [alias2] ...</pre><p>Par exemple:</p><pre class="programlisting">10.0.0.1 myRealHostname.example.com myRealHostname foobar1 foobar2</pre><p>Consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=hosts&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">hosts</span>(5)</span></a> pour plus
	  d'informations.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76941904"></a>12.10.3. Configuration des fichiers de trace</h3></div></div></div><a id="idp76942544" class="indexterm"></a><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76943056"></a>12.10.3.1. <code class="filename">syslog.conf</code></h4></div></div></div><a id="idp76943824" class="indexterm"></a><p><code class="filename">syslog.conf</code> est le fichier de configuration
	  du programme <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslogd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">syslogd</span>(8)</span></a>.  Il indique quel type de
	  messages <code class="command">syslog</code> sera enregistré
	  dans des fichiers de traces particuliers.</p><pre class="programlisting"># $FreeBSD$
#
#       Spaces ARE valid field separators in this file. However,
#       other *nix-like systems still insist on using tabs as field
#       separators. If you are sharing this file between systems, you
#       may want to use only tabs as field separators here.
#       Consult the syslog.conf(5) manual page.
*.err;kern.debug;auth.notice;mail.crit          /dev/console
*.notice;kern.debug;lpr.info;mail.crit;news.err /var/log/messages
security.*                                      /var/log/security
mail.info                                       /var/log/maillog
lpr.info                                        /var/log/lpd-errs
cron.*                                          /var/log/cron
*.err                                           root
*.notice;news.err                               root
*.alert                                         root
*.emerg                                         *
# uncomment this to log all writes to /dev/console to /var/log/console.log
#console.info                                   /var/log/console.log
# uncomment this to enable logging of all log messages to /var/log/all.log
#*.*                                            /var/log/all.log
# uncomment this to enable logging to a remote log host named loghost
#*.*                                            @loghost
# uncomment these if you're running inn
# news.crit                                     /var/log/news/news.crit
# news.err                                      /var/log/news/news.err
# news.notice                                   /var/log/news/news.notice
!startslip
*.*                                             /var/log/slip.log
!ppp
*.*                                             /var/log/ppp.log</pre><p>Consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog.conf&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">syslog.conf</span>(5)</span></a> pour plus
	  d'informations.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp76948048"></a>12.10.3.2. <code class="filename">newsyslog.conf</code></h4></div></div></div><a id="idp76948816" class="indexterm"></a><p><code class="filename">newsyslog.conf</code> est le fichier de
	  configuration de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a>, un programme qui est
	  normalement programmé <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a> pour s'exécuter
	  périodiquement.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> détermine quand les
	  fichiers de traces doivent être archivés
	  ou réorganisés.  <code class="filename">logfile</code> devient
	  <code class="filename">logfile.0</code>, <code class="filename">logfile.0</code>
	  devient à son tour <code class="filename">logfile.1</code>, et ainsi
	  de suite.  D'autre part, les fichiers de traces peuvent être
	  archivés dans le format <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=gzip&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">gzip</span>(1)</span></a>, ils se nommeront
	  alors: <code class="filename">logfile.0.gz</code>,
	  <code class="filename">logfile.1.gz</code>, et ainsi de suite.</p><p><code class="filename">newsyslog.conf</code> indique quels
	  fichiers de traces doivent être gérés,
	  combien doivent être conservés, et quand ils
	  doivent être modifiés.  Les fichiers de traces
	  peuvent être réorganisés et/ou archivés
	  quand ils ont soit atteint une certaine taille, soit à une
	  certaine période/date.</p><pre class="programlisting"># configuration file for newsyslog
# $FreeBSD$
#
# filename          [owner:group]    mode count size when [ZB] [/pid_file] [sig_num]
/var/log/cron                           600  3     100  *     Z
/var/log/amd.log                        644  7     100  *     Z
/var/log/kerberos.log                   644  7     100  *     Z
/var/log/lpd-errs                       644  7     100  *     Z
/var/log/maillog                        644  7     *    @T00  Z
/var/log/sendmail.st                    644  10    *    168   B
/var/log/messages                       644  5     100  *     Z
/var/log/all.log                        600  7     *    @T00  Z
/var/log/slip.log                       600  3     100  *     Z
/var/log/ppp.log                        600  3     100  *     Z
/var/log/security                       600  10    100  *     Z
/var/log/wtmp                           644  3     *    @01T05 B
/var/log/daily.log                      640  7     *    @T00  Z
/var/log/weekly.log                     640  5     1    $W6D0 Z
/var/log/monthly.log                    640  12    *    $M1D0 Z
/var/log/console.log                    640  5     100  *     Z</pre><p>Consultez la page de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=newsyslog&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">newsyslog</span>(8)</span></a> pour plus
	  d'informations.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-sysctlconf"></a>12.10.4. <code class="filename">sysctl.conf</code></h3></div></div></div><a id="idp76962896" class="indexterm"></a><a id="idp76963408" class="indexterm"></a><p><code class="filename">sysctl.conf</code> ressemble à
	<code class="filename">rc.conf</code>.  Les valeurs sont fixées sous
	la forme <code class="literal">variable=value</code>.  Les valeurs
	spécifiées sont positionnées
	après que le système soit passé
	dans le mode multi-utilisateurs.  Toutes les variables ne sont
	pas paramétrables dans ce mode.</p><p>Pour désactiver l'enregistrement des signaux fatals
	de fin de processus et empêcher les utilisateurs de voir
	les processus lancés par les autres, les variables
	suivantes peuvent être paramétrées dans
	<code class="filename">sysctl.conf</code>:</p><pre class="programlisting"># Do not log fatal signal exits (e.g. sig 11)
kern.logsigexit=0

# Prevent users from seeing information about processes that
# are being run under another UID.
security.bsd.see_other_uids=0</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-virtual-hosts.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-sysctl.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">12.9. Hôtes virtuels </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 12.11. Optimisation avec sysctl</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>