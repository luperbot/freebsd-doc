<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>31.9. IP sur liaison parallèle (PLIP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="advanced-networking.html" title="Chapitre 31. Administration réseau avancée" /><link rel="prev" href="network-natd.html" title="31.8. Translation d'adresses" /><link rel="next" href="network-ipv6.html" title="31.10. IPv6" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.9. IP sur liaison parallèle (PLIP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-natd.html">Précédent</a> </td><th width="60%" align="center">Chapitre 31. Administration réseau avancée</th><td width="20%" align="right"> <a accesskey="n" href="network-ipv6.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-plip"></a>31.9. IP sur liaison parallèle (PLIP)</h2></div></div></div><a id="idp87340112" class="indexterm"></a><a id="idp87340624" class="indexterm"></a><p>PLIP nous permet d'utiliser le protocole TCP/IP entre ports
      parallèles.  C'est utile sur des machines sans cartes
      réseaux, ou pour effectuer une installation sur
      ordinateur portable.  Dans cette section nous aborderons:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>La fabrication d'un câble parallèle
	  (&#8220;laplink&#8221;).</p></li><li class="listitem"><p>La connexion de deux ordinateurs via PLIP.</p></li></ul></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-create-parallel-cable"></a>31.9.1. Fabriquer un câble parallèle</h3></div></div></div><p>Vous pouvez acheter un câble parallèle
	auprès de la plupart des vendeurs de matériel
	informatique.  Si ce n'est pas le cas, ou désirez
	savoir comment est fait un tel câble, le tableau suivant
	montre comment en faire un à partir d'un câble
	parallèle d'imprimante.</p><div class="table"><a id="idp87345232"></a><div class="table-title">Tableau 31.1. Câblage d'un câble parallèle pour
	  réseau</div><div class="table-contents"><table summary="Câblage d'un câble parallèle pour&#10;&#9;  réseau" border="0"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th>A-name</th><th>A-End</th><th>B-End</th><th>Descr.</th><th>Post/Bit</th></tr></thead><tbody><tr><td><div class="literallayout"><p>DATA0<br />
-ERROR</p></div></td><td><div class="literallayout"><p>2<br />
15</p></div></td><td><div class="literallayout"><p>15<br />
2</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x01<br />
1/0x08</p></div></td></tr><tr><td><div class="literallayout"><p>DATA1<br />
+SLCT</p></div></td><td><div class="literallayout"><p>3<br />
13</p></div></td><td><div class="literallayout"><p>13<br />
3</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x02<br />
1/0x10</p></div></td></tr><tr><td><div class="literallayout"><p>DATA2<br />
+PE</p></div></td><td><div class="literallayout"><p>4<br />
12</p></div></td><td><div class="literallayout"><p>12<br />
4</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x04<br />
1/0x20</p></div></td></tr><tr><td><div class="literallayout"><p>DATA3<br />
-ACK</p></div></td><td><div class="literallayout"><p>5<br />
10</p></div></td><td><div class="literallayout"><p>10<br />
5</p></div></td><td>Strobe</td><td><div class="literallayout"><p>0/0x08<br />
1/0x40</p></div></td></tr><tr><td><div class="literallayout"><p>DATA4<br />
BUSY</p></div></td><td><div class="literallayout"><p>6<br />
11</p></div></td><td><div class="literallayout"><p>11<br />
6</p></div></td><td>Data</td><td><div class="literallayout"><p>0/0x10<br />
1/0x80</p></div></td></tr><tr><td>GND</td><td>18-25</td><td>18-25</td><td>GND</td><td>-</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-plip-setup"></a>31.9.2. Configurer PLIP</h3></div></div></div><p>Tout d'abord procurez-vous un câble
	&#8220;laplink&#8221;.  Vérifiez ensuite que les deux
	ordinateurs disposent d'un noyau avec le support pour le
	pilote de périphérique <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpt&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lpt</span>(4)</span></a>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>grep lp /var/run/dmesg.boot</code></strong>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port</pre><p>Le port parallèle doit fonctionner sous interruption,
	sous FreeBSD 4.X vous devriez avoir une ligne semblable
	à la ligne suivante dans le fichier de configuration du
	noyau:</p><pre class="programlisting">device ppc0 at isa? irq 7</pre><p>Sous FreeBSD 5.X, le fichier
	<code class="filename">/boot/device.hints</code> devrait contenir les
	lignes suivantes:</p><pre class="programlisting">hint.ppc.0.at="isa"
hint.ppc.0.irq="7"</pre><p>Ensuite vérifiez si le fichier de configuration du
	noyau contient une ligne <code class="literal">device plip</code>
	ou si le module <code class="filename">plip.ko</code> est chargé.
	Dans les deux cas l'interface réseau parallèle
	devrait apparaître quand vous utilisez la
	commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ifconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ifconfig</span>(8)</span></a>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0</code></strong>
plip0: flags=8810&lt;POINTOPOINT,SIMPLEX,MULTICAST&gt; mtu 1500</pre><p>Branchez le câble &#8220;laplink&#8221; sur les
	interfaces parallèles des deux ordinateurs.</p><p>Configurez les paramètres de l'interface
	réseau des deux côtés en tant que
	<code class="systemitem">root</code>.  Par exemple, si vous voulez
	connecter la machine <code class="systemitem">host1</code>
	avec la machine <code class="systemitem">host2</code>:</p><pre class="programlisting">                 host1 &lt;-----&gt; host2
IP Address    10.0.0.1      10.0.0.2</pre><p>Configurez l'interface sur <code class="systemitem">host1</code> en tapant:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0 10.0.0.1 10.0.0.2</code></strong></pre><p>Configurez l'interface sur <code class="systemitem">host2</code> en tapant:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0 10.0.0.2 10.0.0.1</code></strong></pre><p>Vous devriez avoir maintenant une connexion qui
	fonctionne.  Veuillez consulter les pages de manuel <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lp&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lp</span>(4)</span></a>
	et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lpt&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">lpt</span>(4)</span></a> pour plus de détails.</p><p>Vous devriez également ajouter les deux noms de
	machines dans le fichier
	<code class="filename">/etc/hosts</code>:</p><pre class="programlisting">127.0.0.1               localhost.my.domain localhost
10.0.0.1                host1.my.domain host1
10.0.0.2                host2.my.domain</pre><p>Pour vérifier le bon fonctionnement de la connexion,
	aller sur les deux machines et effectuez un &#8220;ping&#8221;
	vers l'autre machine.  Par exemple, sur
	<code class="systemitem">host1</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ifconfig plip0</code></strong>
plip0: flags=8851&lt;UP,POINTOPOINT,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 10.0.0.1 --&gt; 10.0.0.2 netmask 0xff000000
<code class="prompt">#</code> <strong class="userinput"><code>netstat -r</code></strong>
Routing tables

Internet:
Destination        Gateway          Flags     Refs     Use      Netif Expire
host2              host1              UH          0       0       plip0
<code class="prompt">#</code> <strong class="userinput"><code>ping -c 4 host2</code></strong>
PING host2 (10.0.0.2): 56 data bytes
64 bytes from 10.0.0.2: icmp_seq=0 ttl=255 time=2.774 ms
64 bytes from 10.0.0.2: icmp_seq=1 ttl=255 time=2.530 ms
64 bytes from 10.0.0.2: icmp_seq=2 ttl=255 time=2.556 ms
64 bytes from 10.0.0.2: icmp_seq=3 ttl=255 time=2.714 ms

--- host2 ping statistics ---
4 packets transmitted, 4 packets received, 0% packet loss
round-trip min/avg/max/stddev = 2.530/2.643/2.774/0.103 ms</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-natd.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="network-ipv6.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">31.8. Translation d'adresses </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 31.10. IPv6</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>