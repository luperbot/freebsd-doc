<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.5. Installer MATLAB®</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="linuxemu.html" title="Chapitre 11. Compatibilité binaire avec Linux" /><link rel="prev" href="linuxemu-maple.html" title="11.4. Installer Maple&#8482;" /><link rel="next" href="linuxemu-oracle.html" title="11.6. Installer Oracle®" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.5. Installer <span class="trademark">MATLAB</span>®</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-maple.html">Précédent</a> </td><th width="60%" align="center">Chapitre 11. Compatibilité binaire avec Linux</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-oracle.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-matlab"></a>11.5. Installer <span class="trademark">MATLAB</span>®</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Dan</span> <span class="surname">Pelleg</span></span>. </span></div></div></div><a id="idp75162064" class="indexterm"></a><p>Ce document décrit l'installation de la version
      Linux de <span class="application"><span class="trademark">MATLAB</span>® version 6.5</span> sur un
      système FreeBSD.  Le logiciel fonctionne plutôt
      bien, à l'exception de la <span class="application"><span class="trademark">JVM</span>&#8482;</span>,
      machine virtuelle <span class="application"><span class="trademark">Java</span>&#8482;</span> (voir la
      <a class="xref" href="linuxemu-matlab.html#matlab-jre" title="11.5.3. Lier l'environnement d'exécution Java&#8482; (&#8220;Java&#8482; Runtime Environment&#8221;)">Section 11.5.3, « Lier l'environnement d'exécution <span class="trademark">Java</span>&#8482;
	(&#8220;<span class="trademark">Java</span>&#8482; Runtime Environment&#8221;) »</a>).</p><p>La version Linux de <span class="application"><span class="trademark">MATLAB</span>®</span> peut
      être commandée directement auprès de
      The MathWorks à l'adresse <code class="uri"><a class="uri" href="http://www.mathworks.com" target="_top">http://www.mathworks.com</a></code>.  Assurez-vous d'avoir
      le fichier de licence ou les instructions pour le
      créer.  Pendant que vous y êtes, faites-leur savoir
      que vous désireriez une version FreeBSD native de leur
      logiciel.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75175760"></a>11.5.1. Installer <span class="trademark">MATLAB</span>®</h3></div></div></div><p>Pour installer <span class="application"><span class="trademark">MATLAB</span>®</span>, faites
	ce qui suit:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Insérez le CD d'installation et montez-le.
	    Ouvrez une session super-utilisateur
	    (<code class="systemitem">root</code>), comme recommandé par
	    la procédure d'installation.  Pour lancer la
	    procédure d'installation tapez:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/compat/linux/bin/sh /cdrom/install</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le programme d'installation est graphique.
	      Si vous obtenez une erreur disant que le programme
	      est incapable d'ouvrir une instance d'affichage, tapez
	      <code class="command">setenv HOME ~utilisateur</code>,
	      où <em class="replaceable"><code>utilisateur</code></em> est
	      l'utilisateur à partir duquel vous avez fait un
	      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>.</p></div></li><li class="step"><p>Quand on vous demande le répertoire racine
	    pour <span class="application"><span class="trademark">MATLAB</span>®</span>, tapez:
	    <strong class="userinput"><code>/compat/linux/usr/local/matlab</code></strong>.</p><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Pour faciliter la suite de l'installation et
	      réduire les frappes inutiles, tapez à l'invite
	      de l'interpréteur de commandes ceci:
	      <code class="command">set MATLAB=/compat/linux/usr/local/matlab</code></p></div></li><li class="step"><p>Editez le fichier de licence comme précisé
	    lors de l'obtention de la licence
	    <span class="application"><span class="trademark">MATLAB</span>®</span>.</p><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Vous pouvez préparer d'avance ce fichier
	      en utilisant votre éditeur favori, et en le copiant
	      sous le nom <code class="filename">$MATLAB/license.dat</code>
	      avant que le programme d'installation ne vous demande de
	      l'éditer.</p></div></li><li class="step"><p>Terminez le processus d'installation.</p></li></ol></div><p>A ce point, votre installation de
	<span class="application"><span class="trademark">MATLAB</span>®</span> est terminée.  Les
	étapes suivantes rajoutent le nécessaire
	pour l'intégrer à votre système
	FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75190096"></a>11.5.2. Démarrage du gestionnaire de licence</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Créez des liens symboliques pour les
	    procédures du gestionnaire de licence:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ln -s $MATLAB/etc/lmboot /usr/local/etc/lmboot_TMW</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ln -s $MATLAB/etc/lmdown /usr/local/etc/lmdown_TMW</code></strong></pre></li><li class="step"><p>Créez un fichier de démarrage nommé
	    <code class="filename">/usr/local/etc/rc.d/flexlm.sh</code>.
	    L'exemple ci-dessous est une version modifiée
	    du fichier <code class="filename">$MATLAB/etc/rc.lm.glnx86</code>
	    fourni.  Les modifications concernent l'emplacement des
	    fichiers, et le lancement du gestionnaire de licence
	    sous l'émulation Linux.</p><pre class="programlisting">#!/bin/sh
case "$1" in
  start)
        if [ -f /usr/local/etc/lmboot_TMW ]; then
              /compat/linux/bin/sh /usr/local/etc/lmboot_TMW -u <em class="replaceable"><code>utilisateur</code></em> &amp;&amp; echo 'MATLAB_lmgrd'
        fi
        ;;
  stop)
	if [ -f /usr/local/etc/lmdown_TMW ]; then
            /compat/linux/bin/sh /usr/local/etc/lmdown_TMW  &gt; /dev/null 2&gt;&amp;1
	fi
        ;;
  *)
	echo "Usage: $0 {start|stop}"
	exit 1
	;;
esac

exit 0</pre><div xmlns="" class="important"><h3 class="admontitle">Important: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le fichier doit être rendu
	      exécutable:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod +x /usr/local/etc/rc.d/flexlm.sh</code></strong></pre><p xmlns="http://www.w3.org/1999/xhtml">Vous devez remplacer
	      <em class="replaceable"><code>utilisateur</code></em> dans la
	      procédure par un nom d'utilisateur valide sur
	      votre système (et non pas
	      <code class="systemitem">root</code>).</p></div></li><li class="step"><p>Lancez le gestionnaire de licence avec la
	    commande:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>/usr/local/etc/rc.d/flexlm.sh start</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="matlab-jre"></a>11.5.3. Lier l'environnement d'exécution <span class="trademark">Java</span>&#8482;
	(&#8220;<span class="trademark">Java</span>&#8482; Runtime Environment&#8221;)</h3></div></div></div><p>Modifiez le lien vers le
	&#8220;<span class="application"><span class="trademark">Java</span>&#8482;</span> Runtime
	Environment&#8221; (JRE) pour un lien fonctionnant
	correctement sous FreeBSD:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $MATLAB/sys/java/jre/glnx86/</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>unlink jre; ln -s ./jre1.1.8 ./jre</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75209168"></a>11.5.4. Création d'une procédure de lancement
	pour <span class="trademark">MATLAB</span>®</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Placez la procédure de démarrage suivante
	    dans le répertoire
	    <code class="filename">/usr/local/bin/matlab</code>:
	  </p><pre class="programlisting">#!/bin/sh
/compat/linux/bin/sh /compat/linux/usr/local/matlab/bin/matlab "$@"</pre></li><li class="step"><p>Puis tapez la commande
	    <code class="command">chmod +x /usr/local/bin/matlab</code>.</p></li></ol></div><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">En fonction de la version
	  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a>
	  utilisée, vous pouvez rencontrer des problèmes
	  lors de l'utilisation de cette procédure.  Pour
	  éviter cela, éditez le fichier
	  <code class="filename">/compat/linux/usr/local/matlab/bin/matlab</code>,
	  et modifiez la ligne qui dit:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">if [ `expr "$lscmd" : '.*-&gt;.*'` -ne 0 ]; then</pre><p xmlns="http://www.w3.org/1999/xhtml">(dans la version 13.0.1, c'est la ligne 410) en:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">if test -L $newbase; then</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp75228496"></a>11.5.5. Créer une procédure d'arrêt pour
	<span class="trademark">MATLAB</span>®</h3></div></div></div><p>Ce qui suit est nécessaire pour corriger le fait
	que <span class="trademark">MATLAB</span>® ne peut être quitter correctement.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Créez un fichier
	    <code class="filename">$MATLAB/toolbox/local/finish.m</code>, et y
	    mettre la ligne suivante:</p><pre class="programlisting">! $MATLAB/bin/finish.sh</pre><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml"><code class="literal">$MATLAB</code> doit être
	    écrit tel quel.</p></div><div xmlns="" class="tip"><h3 class="admontitle">Astuce: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dans le même répertoire, vous
	      trouverez les fichiers
	      <code class="filename">finishsav.m</code> et
	      <code class="filename">finishdlg.m</code>, qui vous permettront
	      de sauvegarder l'environnement avant de quitter.
	      Si vous utilisez l'un d'eux, insérez la ligne
	      ci-dessus après la commande
	      <code class="literal">save</code>.</p></div></li><li class="step"><p>Créez un fichier
	    <code class="filename">$MATLAB/bin/finish.sh</code>, qui contiendra
	    ce qui suit:</p><pre class="programlisting">#!/usr/compat/linux/bin/sh
(sleep 5; killall -1 matlab_helper) &amp;
exit 0</pre></li><li class="step"><p>Rendez le fichier exécutable:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chmod +x $MATLAB/bin/finish.sh</code></strong></pre></li></ol></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="matlab-using"></a>11.5.6. Utilisation de <span class="trademark">MATLAB</span>®</h3></div></div></div><p>A ce point, vous êtes prêt à
	taper la commande <code class="command">matlab</code> et à commencer
	à l'utiliser.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-maple.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-oracle.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">11.4. Installer <span class="trademark">Maple</span>&#8482; </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 11.6. Installer <span class="trademark">Oracle</span>®</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>