<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>15.15. Comptabilité des processus</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="security.html" title="Chapitre 15. Sécurité" /><link rel="prev" href="security-advisories.html" title="15.14. Avis de sécurité de FreeBSD" /><link rel="next" href="jails.html" title="Chapitre 16. Environnements jail" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.15. Comptabilité des processus</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="security-advisories.html">Précédent</a> </td><th width="60%" align="center">Chapitre 15. Sécurité</th><td width="20%" align="right"> <a accesskey="n" href="jails.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="security-accounting"></a>15.15. Comptabilité des processus</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp79158352" class="indexterm"></a><p>La comptabilité des processus est une mesure de
      sécurité avec laquelle un administrateur peut
      suivre l'utilisation des ressources du système, leur
      répartition entre les utilisateurs, surveiller le
      système et avoir un suivi minimal des commandes
      exécutées par un utilisateur.</p><p>Ce système possède des avantages et des
      inconvénients.  Un de ses avantages est qu'une intrusion
      pourra être remontée jusqu'à son point
      d'entrée.  Un des inconvénients est la
      quantité de journaux générée par
      cette comptabilité et l'espace disque que cela peut
      demander.  Cette section guidera l'administrateur au travers des
      bases de la comptabilité des processus.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp79164112"></a>15.15.1. Activer et utiliser la comptabilité des
	processus</h3></div></div></div><p>Avant de pouvoir utiliser la comptabilité des
	processus, il faut l'activer.  Cela se fait en
	exécutant les commandes suivantes:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>touch /var/account/acct</code></strong>

<code class="prompt">#</code> <strong class="userinput"><code>accton /var/account/acct</code></strong>

<code class="prompt">#</code> <strong class="userinput"><code>echo 'accounting_enable="YES"' &gt;&gt; /etc/rc.conf</code></strong></pre><p>Une fois activée, les statistiques concernant le
	<acronym class="acronym">CPU</acronym>, les commandes, etc. commenceront
	à être comptabilisée.  Tous les journaux
	de comptabilisation des processus sont dans un format
	directement illisible pour l'utilisateur, ils pourront
	être examinés à l'aide de l'utilitaire
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sa&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sa</span>(8)</span></a>.  Si elle est utilisée sans
	paramètre, la commande <code class="command">sa</code> affichera
	les informations relatives au nombre d'appels par utilisateur,
	le temps écoulé en minutes, la durée
	totale des temps <acronym class="acronym">CPU</acronym> et utilisateur en
	minutes, le nombre moyen des opérations d'E/S,
	etc.</p><p>Pour afficher les informations sur les commandes
	utilisées, on emploiera l'utilitaire <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lastcomm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lastcomm</span>(1)</span></a>.
	La commande <code class="command">lastcomm</code> peut être
	employée pour afficher les commandes tapées par
	les utilisateurs sur des terminaux (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ttys&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ttys</span>(5)</span></a>)
	spécifiques; par exemple:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>lastcomm ls
	trhodes ttyp1</code></strong></pre><p>imprimera toute utilisation de la commande
	<code class="command">ls</code> par l'utilisateur
	<code class="systemitem">trhodes</code> sur le terminal
	<code class="literal">ttyp1</code>.</p><p>De nombreuses autres options utiles existent et sont
	détaillées dans les pages de manuel
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=lastcomm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">lastcomm</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=acct&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">acct</span>(5)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sa&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sa</span>(8)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="security-advisories.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="jails.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">15.14. Avis de sécurité de FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> Chapitre 16. Environnements jail</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>