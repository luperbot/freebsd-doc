<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>14.6. Modifier des comptes</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="users.html" title="Chapitre 14. Gestion des comptes et des utilisateurs" /><link rel="prev" href="users-user.html" title="14.5. Comptes utilisateur" /><link rel="next" href="users-limiting.html" title="14.7. Mettre en place des restrictions pour les utilisateurs" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">14.6. Modifier des comptes</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="users-user.html">Précédent</a> </td><th width="60%" align="center">Chapitre 14. Gestion des comptes et des utilisateurs</th><td width="20%" align="right"> <a accesskey="n" href="users-limiting.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="users-modifying"></a>14.6. Modifier des comptes</h2></div></div></div><a id="idp77962576" class="indexterm"></a><p>Il existe une variété de différentes
      commandes disponibles dans l'environnement <span class="trademark">UNIX</span>® pour manipuler les
      comptes utilisateur.  Les commandes les plus communes sont
      récapitulées ci-dessous, suivis par des exemples
      détaillés de leur utilisation.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Commande</th><th>Résumé</th></tr></thead><tbody><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a></td><td>L'application en ligne de commande recommandée
	      pour ajouter de nouveaux utilisateurs.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a></td><td>L'application en ligne de commande recommandée
	      pour supprimer des utilisateurs.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a></td><td>Un outil flexible pour modifier les informations de
	      la base de données utilisateur.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a></td><td>L'outil simple en ligne de commande pour changer les
	      mots de passe utilisateur.</td></tr><tr><td><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a></td><td>Un puissant et flexible outil pour modifier tous les
	      aspects des comptes utilisateurs.</td></tr></tbody></table></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-adduser"></a>14.6.1. <code class="command">adduser</code></h3></div></div></div><a id="idp77982032" class="indexterm"></a><a id="idp77983184" class="indexterm"></a><a id="idp77984080" class="indexterm"></a><a id="idp77984976" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> est un programme simple pour
	ajouter de nouveaux utilisateurs.  Il crée les entrées
	dans les fichiers système <code class="filename">passwd</code> et
	<code class="filename">group</code>.  Il crée également le
	répertoire utilisateur pour le nouvel utilisateur, y copie les
	fichiers de configuration par défaut (&#8220;dotfiles&#8221;)
	à partir de <code class="filename">/usr/share/skel</code>, et peut
	éventuellement envoyer à l'utilisateur un courrier
	électronique de bienvenue.</p><div class="example"><a id="idp77987664"></a><div class="example-title">Exemple 14.1. Ajouter un utilisateur sous FreeBSD</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>adduser</code></strong>
Username: <strong class="userinput"><code>jru</code></strong>
Full name: <strong class="userinput"><code>J. Random User</code></strong>
Uid (Leave empty for default):
Login group [jru]:
Login group is jru. Invite jru into other groups? []: <strong class="userinput"><code>wheel</code></strong>
Login class [default]:
Shell (sh csh tcsh zsh nologin) [sh]: <strong class="userinput"><code>zsh</code></strong>
Home directory [/home/jru]:
Use password-based authentication? [yes]:
Use an empty password? (yes/no) [no]:
Use a random password? (yes/no) [no]:
Enter password:
Enter password again:
Lock out the account after creation? [no]:
Username   : jru
Password   : ****
Full Name  : J. Random User
Uid        : 1001
Class      :
Groups     : jru wheel
Home       : /home/jru
Shell      : /usr/local/bin/zsh
Locked     : no
OK? (yes/no): <strong class="userinput"><code>yes</code></strong>
adduser: INFO: Successfully added (jru) to the user database.
Add another user? (yes/no): <strong class="userinput"><code>no</code></strong>
Goodbye!
<code class="prompt">#</code></pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Le mot de passe que vous tapez n'apparaît pas à
	  l'écran, et il n'y a pas non plus d'astérisques
	  affichés.  Assurez-vous de ne pas vous tromper dans
	  le mot de passe.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-rmuser"></a>14.6.2. <code class="command">rmuser</code></h3></div></div></div><a id="idp77993936" class="indexterm"></a><a id="idp77994576" class="indexterm"></a><p>Vous pouvez utiliser <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> pour
	supprimer complètement un utilisateur du système.
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> effectue les opérations
	suivantes:</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Supprime les entrées appartenant à l'utilisateur
	  de la <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=crontab&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">crontab</span>(1)</span></a> (s'il y en a).</p></li><li class="step"><p>Supprime les tâches <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=at&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">at</span>(1)</span></a> appartenant à
	    l'utilisateur.</p></li><li class="step"><p>Tue tous les processus appartenant à
	    l'utilisateur.</p></li><li class="step"><p>Supprime l'utilisateur du fichier de mots de passe
	    local.</p></li><li class="step"><p>Supprime le répertoire l'utilisateur (s'il lui
	    appartient).</p></li><li class="step"><p>Supprime les courriers électroniques en attente pour
	  l'utilisateur dans <code class="filename">/var/mail</code>.</p></li><li class="step"><p>Supprime tous les fichiers temporaires appartenant à
	    l'utilisateur des zones de stockages temporaires comme
	    <code class="filename">/tmp</code>.</p></li><li class="step"><p>Et enfin, supprime l'utilisateur de tous les groupes
	    auxquels il appartient dans <code class="filename">/etc/group</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si un groupe est vide de ce fait et que le nom du
		groupe est le même que celui de l'utilisateur,
		le groupe est supprimé; c'est la réciproque de la
		création par <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=adduser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">adduser</span>(8)</span></a> d'un groupe propre
		pour chaque utilisateur.</p></div></li></ol></div><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rmuser&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">rmuser</span>(8)</span></a> ne peut pas être
	employé pour supprimer des comptes super-utilisateur,
	car cela entraînerait presque toujours des destructions
	massives.</p><p>Par défaut, la commande travaille en mode interactif, pour
	garantir que vous soyez sûr de ce que vous
	faites.</p><div class="example"><a id="idp78018640"></a><div class="example-title">Exemple 14.2. Suppression interactive de compte avec <code class="command">rmuser</code></div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rmuser jru</code></strong>
Matching password entry:
jru:*:1001:1001::0:0:J. Random User:/home/jru:/usr/local/bin/zsh
Is this the entry you wish to remove? <strong class="userinput"><code>y</code></strong>
Remove user's home directory (/home/jru)? <strong class="userinput"><code>y</code></strong>
Updating password file, updating databases, done.
Updating group file: trusted (removing group jru -- personal group is empty) done.
Removing user's incoming mail file /var/mail/jru: done.
Removing files belonging to jru from /tmp: done.
Removing files belonging to jru from /var/tmp: done.
Removing files belonging to jru from /var/tmp/vi.recover: done.
<code class="prompt">#</code></pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-chpass"></a>14.6.3. <code class="command">chpass</code></h3></div></div></div><a id="idp78022864" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> modifie les informations de la
	base de données des utilisateurs comme les mots de passe,
	les interpréteurs de commandes, et les informations
	personnelles.</p><p>Seuls les administrateurs système, comme le
	super-utilisateur, peuvent modifier les informations concernant
	les autres utilisateurs et les mots de passe à l'aide de
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>.</p><p>Utilisé sans options, en dehors du nom facultatif de
	l'utilisateur, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a> ouvre un éditeur
	affichant les informations de l'utilisateur.  Quand
	l'utilisateur quitte l'éditeur, la base de données
	utilisateur est mise à jour avec les nouvelles
	informations.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">On vous demandera votre mot de passe
	  en quittant l'éditeur si vous n'êtes pas le
	  super-utilisateur.</p></div><div class="example"><a id="idp78027600"></a><div class="example-title">Exemple 14.3. <code class="command">chpass</code> interactif par le super-utilisateur</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Login: jru
Password: *
Uid [#]: 1001
Gid [# or name]: 1001
Change [month day year]:
Expire [month day year]:
Class:
Home directory: /home/jru
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><p>Un utilisateur ordinaire ne peut modifier qu'une partie de
	ces informations, et seulement celles qui le concernent.</p><div class="example"><a id="idp78033744"></a><div class="example-title">Exemple 14.4. <code class="command">chpass</code> interactif par un utilisateur ordinaire</div><div class="example-contents"><pre class="screen">#Changing user database information for jru.
Shell: /usr/local/bin/zsh
Full Name: J. Random User
Office Location:
Office Phone:
Home Phone:
Other information:</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml"><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chfn</span>(1)</span></a> et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chsh</span>(1)</span></a> sont
	  juste des liens vers <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>, comme le sont
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchpass</span>(1)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchfn&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchfn</span>(1)</span></a>, et
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypchsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypchsh</span>(1)</span></a>.  NIS est supporté
	  automatiquement, aussi spécifier <code class="literal">yp</code>
	  avant la commande n'est pas nécessaire.  Si cela vous
	  semble confus, ne vous inquiétez pas, NIS sera
	  abordé dans le chapitre <a class="xref" href="network-servers.html" title="Chapitre 29. Serveurs réseau">Chapitre 29, <em>Serveurs réseau</em></a>.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-passwd"></a>14.6.4. <code class="command">passwd</code></h3></div></div></div><a id="idp78042448" class="indexterm"></a><a id="idp78043088" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a> est la méthode habituelle
	pour modifier son mot de passe, ou celui d'un autre utilisateur
	si vous êtes le super-utilisateur.</p><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Pour prévenir des modifications accidentelles ou
	  non autorisées, le mot de passe original doit
	  être entré avant de pouvoir fixer un nouveau mot
	  de passe.</p></div><div class="example"><a id="idp78046032"></a><div class="example-title">Exemple 14.5. Modifier votre mot de passe</div><div class="example-contents"><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>passwd</code></strong>
Changing local password for jru.
Old password:
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><div class="example"><a id="idp78047824"></a><div class="example-title">Exemple 14.6. Modifier le mot de passe d'un autre utilisateur en tant
	  que super-utilisateur</div><div class="example-contents"><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>passwd jru</code></strong>
Changing local password for jru.
New password:
Retype new password:
passwd: updating the database...
passwd: done</pre></div></div><br class="example-break" /><div xmlns="" class="note"><h3 class="admontitle">Note: </h3><p xmlns="http://www.w3.org/1999/xhtml">Comme pour <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chpass&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chpass</span>(1)</span></a>,
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=yppasswd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">yppasswd</span>(1)</span></a> est juste un lien vers
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a>, donc NIS fonctionnera avec l'une
	  des deux commandes.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="users-pw"></a>14.6.5. <code class="command">pw</code></h3></div></div></div><a id="idp78058064" class="indexterm"></a><p><a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> est un utilitaire en ligne de commande pour
	créer, supprimer, modifier, et lister utilisateurs et groupes.
	Il fonctionne comme une interface aux fichiers d'utilisateurs et
	de groupe.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=pw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">pw</span>(8)</span></a> possède un ensemble puissant
	d'options qui le rende adapté à une utilisation
	dans des procédures, mais les nouveaux utilisateurs
	pourront le trouver plus compliqué que les autres
	commandes présentées ici.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="users-user.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="users.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="users-limiting.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">14.5. Comptes utilisateur </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 14.7. Mettre en place des restrictions pour les utilisateurs</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>