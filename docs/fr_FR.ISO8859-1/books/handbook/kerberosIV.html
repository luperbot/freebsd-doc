<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>15.7. Kerberos</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manuel FreeBSD" /><link rel="up" href="security.html" title="Chapitre 15. Sécurité" /><link rel="prev" href="tcpwrappers.html" title="15.6. L'encapsuleur TCP (« TCP Wrappers »)" /><link rel="next" href="kerberos5.html" title="15.8. Kerberos5 ** Traduction en Cours **" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.7. Kerberos</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="tcpwrappers.html">Précédent</a> </td><th width="60%" align="center">Chapitre 15. Sécurité</th><td width="20%" align="right"> <a accesskey="n" href="kerberos5.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="kerberosIV"></a>15.7. Kerberos</h2></div><div><span class="authorgroup">Contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mark</span> <span class="surname">Murray</span></span>. </span></div><div><span class="authorgroup">Basée sur une contribution de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mark</span> <span class="surname">Dapoz</span></span>. </span></div></div></div><a id="idp78559312" class="indexterm"></a><p>Kerberos est un protocole réseau supplémentaire
      qui permet aux utilisateurs de s'authentifier par
      l'intermédiaire d'un serveur sécurisé.
      Des services comme l'ouverture de session et la copie à
      distance, la copie sécurisée de fichiers entre
      systèmes et autres fonctionnalités à haut
      risque deviennent ainsi considérablement plus
      sûrs et contrôlables.</p><p>Les instructions qui suivent peuvent être
      utilisées comme guide d'installation de Kerberos dans
      la version distribuée pour FreeBSD.  Vous devriez
      cependant vous référer aux pages de manuel
      correspondantes pour avoir une description
      complète.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78560592"></a>15.7.1. Installation de Kerberos</h3></div></div></div><a id="idp78561232" class="indexterm"></a><a id="idp78561872" class="indexterm"></a><p>Kerberos est un composant optionnel de FreeBSD.  La
	manière la plus simple d'installer ce logiciel est de
	sélectionner la distribution <code class="literal">krb4</code>
	ou <code class="literal">krb5</code> dans
	<span class="application">sysinstall</span> lors de l'installation
	de FreeBSD.  Cela installera les implémentations
	&#8220;eBones&#8221; (KerberosIV) ou &#8220;Heimdal&#8221;
	(Kerberos5) de Kerberos.  Ces implémentations sont
	distribuées car elles sont développées en dehors
	des USA ou du Canada et étaient par conséquent
	disponibles aux utilisateurs hors de ces pays durant
	l'ère restrictive du contrôle des exportations de
	code de chiffrement à partir des USA.</p><p>Alternativement, l'implémentation du MIT de
	Kerberos est disponible dans le catalogue des logiciels
	portés sous
        <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/security/krb5/pkg-descr">security/krb5</a>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78565456"></a>15.7.2. Créer la base de données initiale</h3></div></div></div><p>Cela se fait uniquement sur le serveur Kerberos.
	Vérifiez tout d'abord qu'il ne traîne pas d'anciennes
	bases Kerberos.  Allez dans le répertoire
	<code class="filename">/etc/kerberosIV</code> et assurez-vous qu'il ne
	contient que les fichiers suivants:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /etc/kerberosIV</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ls</code></strong>
README		krb.conf        krb.realms</pre><p>S'il y a d'autres fichiers (comme
	<code class="filename">principal.*</code> ou
	<code class="filename">master_key</code>), utilisez alors la commande
	<code class="command">kdb_destroy</code> pour supprimer l'ancienne base de
	données Kerberos, ou si Kerberos ne tourne pas, effacez
	simplement les fichiers supplémentaires.</p><p>Vous devez maintenant éditer les fichiers
	<code class="filename">krb.conf</code> et <code class="filename">krb.realms</code>
	pour définir votre domaine Kerberos.  Dans notre cas,
	le domaine sera  <code class="literal">EXAMPLE.COM</code> et le
	serveur <code class="systemitem">grunt.example.com</code>.  Nous
	éditons ou créons le fichier
	<code class="filename">krb.conf</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat krb.conf</code></strong>
EXAMPLE.COM
EXAMPLE.COM grunt.example.com admin server
CS.BERKELEY.EDU okeeffe.berkeley.edu
ATHENA.MIT.EDU kerberos.mit.edu
ATHENA.MIT.EDU kerberos-1.mit.edu
ATHENA.MIT.EDU kerberos-2.mit.edu
ATHENA.MIT.EDU kerberos-3.mit.edu
LCS.MIT.EDU kerberos.lcs.mit.edu
TELECOM.MIT.EDU bitsy.mit.edu
ARC.NASA.GOV trident.arc.nasa.gov</pre><p>Dans notre cas les autres domaines n'ont pas besoin
	d'être mentionnés.  Ils ne sont là que pour
	montrer comment une machine peut avoir connaissance de
	plusieurs domaines.  Pour plus de simplicité, vous
	pouvez ne pas les inclure.</p><p>La première ligne indique pour quel domaine cette
	machine agit.  Les autre lignes définissent les autres
	domaines/machines.  Le premier élément sur une ligne
	est le domaine, le second le nom de la machine qui est le
	&#8220;centre de distribution de clés&#8221; de ce
	domaine.  Les mots <code class="literal">admin server</code> qui suivent
	un nom de machine signifient que la machine est aussi serveur
	d'administration de la base de données.  Pour plus
	d'explication sur cette terminologie, consultez les pages de
	manuel de Kerberos.</p><p>Nous devons maintenant ajouter <code class="systemitem">grunt.example.com</code> au domaine
	<code class="literal">EXAMPLE.COM</code> et ajouter une entrée pour
	mettre toutes les machines du domaine DNS <code class="systemitem">.example.com</code> dans le domaine
	Kerberos <code class="literal">EXAMPLE.COM</code>.  Le fichier
	<code class="filename">krb.realms</code> aura alors l'allure
	suivante:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat krb.realms</code></strong>
grunt.example.com EXAMPLE.COM
.example.com EXAMPLE.COM
.berkeley.edu CS.BERKELEY.EDU
.MIT.EDU ATHENA.MIT.EDU
.mit.edu ATHENA.MIT.EDU</pre><p>Encore une fois, les autres domaines n'ont pas besoin
	d'être mentionnés.  Ils ne sont là que pour
	montrer comment une machine peut avoir connaissance de
	plusieurs domaines.  Pour plus de simplicité, vous pouvez
	ne pas les inclure.</p><p>La première ligne assigne un système
	<span class="emphasis"><em>particulier</em></span> au domaine désigné.
	Les lignes restantes montrent comment affecter par défaut
	les systèmes d'un sous-domaine DNS particulier à un
	domaine Kerberos donné.</p><p>Nous sommes maintenant prêt pour la création
	de la base de données.  Il n'y a à le faire que
	sur le serveur Kerberos (ou Centre de Distribution de
	Clés).  Cela se fait avec la commande
	<code class="command">kdb_init</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_init</code></strong>
<code class="prompt">Realm name [default  ATHENA.MIT.EDU ]:</code> <strong class="userinput"><code>EXAMPLE.COM</code></strong>
You will be prompted for the database Master Password.
It is important that you NOT FORGET this password.

<code class="prompt">Enter Kerberos master key:</code> </pre><p>Nous devons maintenant sauvegarder la clé pour que
	les serveurs sur la machine locale puissent la lire.
	Utilisons la commande <code class="command">kstash</code> pour faire
	cela:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kstash</code></strong>

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered. BEWARE!</pre><p>Le mot de passe maître chiffré est
	sauvegardé dans
	<code class="filename">/etc/kerberosIV/master_key</code>.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78594128"></a>15.7.3. Installer les services</h3></div></div></div><p>Il faut ajouter deux entrées (&#8220;principals&#8221;)
	à la base de données pour <span class="emphasis"><em>chaque</em></span>
	système qui sera sécurisé par Kerberos.  Ce
	sont <code class="literal">kpasswd</code> et <code class="literal">rcmd</code>.
	Ces deux entrées sont définies pour chaque
	système, chacune de leurs instances se voyant
	attribuer le nom du système.</p><p>Ces &#8220;daemons&#8221;,
	<span class="application">kpasswd</span> et
	<span class="application">rcmd</span> permettent aux autres
	systèmes de changer les mots de passe Kerberos et
	d'exécuter des commandes comme <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a>, et <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rsh</span>(1)</span></a>.</p><p>Ajoutons donc maintenant ces entrées:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>passwd</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>grunt</code></strong>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal: passwd, Instance: grunt, kdc_key_ver: 1
<code class="prompt">New Password:</code>                    &lt;---- entrez RANDOM ici
Verifying password

<code class="prompt">New Password:</code> &lt;---- enter RANDOM here

<code class="prompt">Random password [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code> <strong class="userinput"><code>rcmd</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>grunt</code></strong>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code>

Principal: rcmd, Instance: grunt, kdc_key_ver: 1
<code class="prompt">New Password:</code>		&lt;---- entrez RANDOM ici
Verifying password

<code class="prompt">New Password:</code>           &lt;---- entrez RANDOM ici

<code class="prompt">Random password [y] ?</code>

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>         &lt;---- ne rien entrer ici permet de quitter le programme</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78623952"></a>15.7.4. Créer le fichier des services</h3></div></div></div><p>Il faut maintenant extraire les instances qui
	définissent les services sur chaque machine.  Pour cela
	on utilise la commande <code class="command">ext_srvtab</code>.
	Cela créera un fichier qui doit être copié
	ou déplacé <span class="emphasis"><em>par un moyen
	sûr</em></span> dans le répertoire
	<code class="filename">/etc/kerberosIV</code> de chaque client
	Kerberos.  Ce fichier doit être présent sur
	chaque serveur et client, et est crucial au bon fonctionnement
	de Kerberos.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>ext_srvtab grunt</code></strong>
<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered. BEWARE!
Generating 'grunt-new-srvtab'....</pre><p>Cette commande ne génère qu'un fichier temporaire
	qui doit être renommé en <code class="filename">srvtab</code>
	pour que tous les serveurs puissent y accéder.
	Utilisez la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mv&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">mv</span>(1)</span></a> pour l'installer sur le
	système d'origine:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv grunt-new-srvtab srvtab</code></strong></pre><p>Si le fichier est destiné à un client, et que
	le réseau n'est pas considéré comme sûr,
	alors copiez le fichier
	<code class="filename">client-new-srvtab</code>
	sur un support amovible et transportez-le par un moyen
	physiquement sûr.  Assurez-vous de le renommer en
	<code class="filename">srvtab</code> dans le répertoire
	<code class="filename">/etc/kerberosIV</code> du client, et mettez-le
	bien en mode 600:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mv grumble-new-srvtab srvtab</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 600 srvtab</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78633552"></a>15.7.5. Renseigner la base de données</h3></div></div></div><p>Nous devons maintenant créer des entrées
	utilisateurs dans la base de données.  Tout d'abord
	créons une entrée pour l'utilisateur
	<code class="systemitem">jane</code>.  Utilisez la commande
	<code class="command">kdb_edit</code> pour cela:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>jane</code></strong>
<code class="prompt">Instance:</code>

&lt;Not found&gt;, <code class="prompt">Create [y] ?</code> <strong class="userinput"><code>y</code></strong>

Principal: jane, Instance: , kdc_key_ver: 1
<code class="prompt">New Password:</code>                &lt;---- entrez un mot de passe sûr ici
Verifying password

<code class="prompt">New Password:</code>                &lt;---- réentrez le mot de passe sûr là
Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code>
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>		   &lt;---- ne rien entrer ici permet de quitter le programme</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78645456"></a>15.7.6. Tester l'ensemble</h3></div></div></div><p>Il faut tout d'abord démarrer les &#8220;daemons&#8221;
	Kerberos.  Notez que si vous avez correctement modifié
	votre fichier <code class="filename">/etc/rc.conf</code>, cela se fera
	automatiquement au redémarrage du système.  Ceci
	n'est nécessaire que sur le serveur Kerberos.  Les
	clients Kerberos récupéreront automatiquement les
	informations dont ils ont besoin via leur répertoire
	<code class="filename">/etc/kerberosIV</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kerberos &amp;</code></strong>
Kerberos server starting
Sleep forever on error
Log file is /var/log/kerberos.log
Current Kerberos master key version is 1.

Master key entered. BEWARE!

Current Kerberos master key version is 1
Local realm: EXAMPLE.COM
<code class="prompt">#</code> <strong class="userinput"><code>kadmind -n &amp;</code></strong>
KADM Server KADM0.0A initializing
Please do not use 'kill -9' to kill this job, use a
regular kill instead

Current Kerberos master key version is 1.

Master key entered.  BEWARE!</pre><p>Nous pouvons maintenant utiliser la commande
	<code class="command">kinit</code> pour obtenir un &#8220;ticket
	d'entrée&#8221; pour l'utilisateur
	<code class="systemitem">jane</code> que nous avons créé
	plus haut:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit jane</code></strong>
MIT Project Athena (grunt.example.com)
Kerberos Initialization for "jane"
<code class="prompt">Password:</code> </pre><p>Essayons de lister les informations associées
	avec la commande <code class="command">klist</code> pour voir si nous
	avons vraiment tout ce qu'il faut:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>klist</code></strong>
Ticket file:    /tmp/tkt245
Principal:      jane@EXAMPLE.COM

  Issued           Expires          Principal
Apr 30 11:23:22  Apr 30 19:23:22  krbtgt.EXAMPLE.COM@EXAMPLE.COM</pre><p>Essayons maintenant de modifier le mot de passe en
	utilisant la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=passwd&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">passwd</span>(1)</span></a> pour vérifier
	si le &#8220;daemon&#8221; <span class="application">kpasswd</span>
	est autorisé à accéder à la base
	de données Kerberos:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>passwd</code></strong>
realm EXAMPLE.COM
<code class="prompt">Old password for jane:</code>
<code class="prompt">New Password for jane:</code>
Verifying password
<code class="prompt">New Password for jane:</code>
Password changed.</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78661840"></a>15.7.7. Autoriser l'utilisation de la commande
	<code class="command">su</code></h3></div></div></div><p>Kerberos permet d'attribuer à
	<span class="emphasis"><em>chaque</em></span> utilisateur qui a besoin des droits
        du super-utilisateur son <span class="emphasis"><em>propre</em></span> mot de
	passe <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>.  Nous pouvons créer un identifiant
	qui est autorisé à utiliser <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>
	pour devenir <code class="systemitem">root</code>.  Cela se fait en
	associant une instance <code class="systemitem">root</code> un
	identificateur (&#8220;principal&#8221;) de base.  En
	utilisant la commande <code class="command">kdb_edit</code> nous pouvons
	créer l'entrée <code class="literal">jane.root</code>
	dans la base de données Kerberos:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kdb_edit</code></strong>
Opening database...

<code class="prompt">Enter Kerberos master key:</code>

Current Kerberos master key version is 1.

Master key entered.  BEWARE!
Previous or default values are in [brackets] ,
enter return to leave the same, or new value.

<code class="prompt">Principal name:</code> <strong class="userinput"><code>jane</code></strong>
<code class="prompt">Instance:</code> <strong class="userinput"><code>root</code></strong>

&lt;Not found&gt;, Create [y] ? y

Principal: jane, Instance: root, kdc_key_ver: 1
<code class="prompt">New Password:</code>                    &lt;---- entrez un mot de passe SUR ici
Verifying password

<code class="prompt">New Password:</code>    	 	 &lt;---- réentrez le mot de passe ici

Principal's new key version = 1
<code class="prompt">Expiration date (enter yyyy-mm-dd) [ 2000-01-01 ] ?</code>
<code class="prompt">Max ticket lifetime (*5 minutes) [ 255 ] ?</code> <strong class="userinput"><code>12</code></strong> &lt;--- Laissez une valeur faible!
<code class="prompt">Attributes [ 0 ] ?</code>
Edit O.K.
<code class="prompt">Principal name:</code>		         &lt;---- ne rien entrer ici permet de quitter le programme</pre><p>Vérifions maintenant les caractéristiques
	associées pour voir si cela fonctionne:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kinit jane.root</code></strong>
MIT Project Athena (grunt.example.com)
Kerberos Initialization for "jane.root"
<code class="prompt">Password:</code></pre><p>Nous devons maintenant ajouter l'utilisateur au fichier
	<code class="filename">.klogin</code> de
	<code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat /root/.klogin</code></strong>
jane.root@EXAMPLE.COM</pre><p>Essayons maintenant la commande <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a>:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>su</code></strong>
<code class="prompt">Password:</code></pre><p>et voyons quelles sont nos caractéristiques:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>klist</code></strong>
Ticket file:	/tmp/tkt_root_245
Principal:      jane.root@EXAMPLE.COM

  Issued           Expires          Principal
May  2 20:43:12  May  3 04:43:12  krbtgt.EXAMPLE.COM@EXAMPLE.COM</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78685264"></a>15.7.8. Utiliser d'autres commandes</h3></div></div></div><p>Dans l'exemple précédent, nous avons
	créé une entrée principale nommée
	<code class="literal">jane</code> avec une instance <code class="literal">root</code>.
	Cette entrée reposait sur un utilisateur ayant le même
	nom que l'entrée principale, c'est ce que fait par
	défaut Kerberos; une
	<code class="literal">&lt;entrée_principale&gt;.&lt;instance&gt;</code>
	de la forme
	<code class="literal">&lt;nom_d_utilisateur&gt;.</code><code class="systemitem">root</code>
	autorisera <code class="literal">&lt;nom_d_utilisateur&gt;.</code> à
	utiliser <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=su&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">su</span>(1)</span></a> pour devenir <code class="systemitem">root</code> si
	le fichier <code class="filename">.klogin</code> du répertoire
	personnel de l'utilisateur <code class="systemitem">root</code> est
	correctement renseigné:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cat /root/.klogin</code></strong>
jane.root@EXAMPLE.COM</pre><p>De même, si un utilisateur a dans son répertoire des
	lignes de la forme:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>cat ~/.klogin</code></strong>
jane@EXAMPLE.COM
jack@EXAMPLE.COM</pre><p>Cela permet à quiconque dans le domaine
	<code class="literal">EXAMPLE.COM</code> s'étant authentifié
	en tant que <code class="systemitem">jane</code> ou
	<code class="systemitem">jack</code> (via <code class="command">kinit</code>, voir
	plus haut) d'accéder avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a> au compte de
	<code class="systemitem">jane</code> ou à ses fichiers sur le
	système (<code class="systemitem">grunt</code>) via <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rlogin&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rlogin</span>(1)</span></a>,
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rsh&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rsh</span>(1)</span></a> ou <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=rcp&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">rcp</span>(1)</span></a>.</p><p>Par exemple, <code class="systemitem">jane</code> ouvre maintenant
	une session sur un autre système en utilisant
	Kerberos:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit</code></strong>
MIT Project Athena (grunt.example.com)
<code class="prompt">Password:</code>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin grunt</code></strong>
Last login: Mon May  1 21:14:47 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
        The Regents of the University of California.   All rights reserved.

FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</pre><p>Ou bien <code class="systemitem">jack</code> ouvre une session sur le
	compte de <code class="systemitem">jane</code> sur la même machine
	(<code class="systemitem">jane</code> ayant modifié son fichier
	<code class="filename">.klogin</code> comme décrit plus haut, et la
	personne an charge de Kerberos ayant défini une entrée
	principale <span class="emphasis"><em>jack</em></span> sans instance):</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>kinit</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>rlogin grunt -l jane</code></strong>
MIT Project Athena (grunt.example.com)
<code class="prompt">Password:</code>
Last login: Mon May  1 21:16:55 from grumble
Copyright (c) 1980, 1983, 1986, 1988, 1990, 1991, 1993, 1994
        The Regents of the University of California.   All rights reserved.
FreeBSD BUILT-19950429 (GR386) #0: Sat Apr 29 17:50:09 SAT 1995</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tcpwrappers.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="security.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="kerberos5.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">15.6. L'encapsuleur TCP (<span class="quote">« <span class="quote">TCP Wrappers</span> »</span>) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 15.8. <span class="application">Kerberos5</span> ** Traduction en Cours **</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>