<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>3.8. Sections marquées</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Introduction au Projet de Documentation de FreeBSD pour les nouveaux participants" /><link rel="up" href="sgml-primer.html" title="Chapitre 3. Introduction à SGML" /><link rel="prev" href="ch03s07.html" title="3.7. Utiliser les entités pour inclure des fichiers" /><link rel="next" href="ch03s09.html" title="3.9. Conclusion" /><link rel="copyright" href="legalnotice.html" title="Note légale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.8. Sections marquées</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s07.html">Précédent</a> </td><th width="60%" align="center">Chapitre 3. Introduction à SGML</th><td width="20%" align="right"> <a accesskey="n" href="ch03s09.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sgml-primer-marked-sections"></a>3.8. Sections marquées</h2></div></div></div><p>SGML fournit un mécanisme pour définir quelles parties d'un document
      doivent être traitées de façon particulière. On appelle cela des
      &#8220;sections marquées&#8221;.</p><div class="example"><a id="idp64544464"></a><div class="example-title">Exemple 3.14. Structure d'une section marquée</div><div class="example-contents"><pre class="programlisting">
&lt;![ <em class="replaceable"><code>MOT-CLE</code></em> [
  Contenu de la section marquée
]]&gt;</pre></div></div><br class="example-break" /><p>Comme vous pouviez vous y attendre, une section marquée est une
      fonctionnalité SGML et commence donc par <code class="literal">&lt;!</code>.</p><p>Le premier crochet ouvrant délimite la section marquée.</p><p>Le <em class="replaceable"><code>MOT-CLE</code></em> définit comment cette section
      marquée doit être traitée par l'analyseur.</p><p>Le second crochet ouvrant indique que le contenu de la section
      marquée commence là.</p><p>La section marquée se termine par deux crochets fermants, puis un
      <code class="literal">&gt;</code> pour indiquer que l'on quitte le contexte SGML
      et que l'on revient au document.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64560592"></a>3.8.1. Mots-clés pour les sections marquées</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64562512"></a>3.8.1.1. <code class="literal">CDATA</code>, <code class="literal">RCDATA</code></h4></div></div></div><p>Ces deux mots-clés définissent des sections marquées comme
          <span class="emphasis"><em>modèle de contenu</em></span> et vous permettent de
          modifier sa valeur par défaut.</p><p>Quand un analyseur SGML traite un docuemnt, il mémorise ce que
          l'on appelle le &#8220;modèle de contenu&#8221;.</p><p>En bref, le modèle de contenu décrit ce que l'analyseur doit
          s'attendre à trouver comme contenu, et ce qu'il doit en faire quand
          il le rencontre.</p><p>Les deux modèles de contenu que vous trouverez certainement les
          plus utiles sont <code class="literal">CDATA</code> et
          <code class="literal">RCDATA</code>.</p><p><code class="literal">CDATA</code> signifie
          &#8220;<span class="foreignphrase"><em class="foreignphrase">Character
          Data</em></span>&#8221; - données caractères. Si
          l'analyseur est à l'intérieur de ce modèle de contenu, il s'attend
          à trouver des caractères, et uniquement des caractères. Les
          symboles &lt; et &amp; perdent alors leur signification particulière
          et sont traités comme de simples caractères.</p><p><code class="literal">RCDATA</code> signifie &#8220;Références à des
          entités et données caractères&#8221;.  Si l'analyseur est à
          l'intérieur de ce modèle de contenu, il s'attend à trouver des
          caractères <span class="emphasis"><em>et</em></span> des entités. &lt; perd sa
          signification particulière, mais &amp; est toujours compris comme le
          début d'une entité générale.</p><p>C'est particulièrement utile si vous incluez du texte qui
          contient de nombreux caractères &lt; et &amp;. Vous pourriez bien
          sûr contrôler que dans votre texte tous les &lt; sont écrits
          &amp;lt; et tous les &amp; &amp;amp;, il peut être plus facile
          de marquer la section comme ne contenant que des
          &#8220;CDATA&#8221;. Quand SGML rencontre l'instruction
          correspondante, il ignorera les symboles &lt; et &amp; qui
          apparaîtront dans le contenu.</p><div class="example"><a id="idp64597328"></a><div class="example-title">Exemple 3.15. Utiliser une section marquée CDATA</div><div class="example-contents"><pre class="programlisting">
&lt;para&gt;Voici un exemple de la façon dont vous pourriez inclure
  un texte comportant de nombreux &amp;lt; et &amp;amp;. L'exemple
  lui-même est en HTML. Le texte qui l'encadre (&lt;para&gt; et
  &lt;programlisting&gt;) est du DocBook.&lt;/para&gt;

&lt;programlisting&gt;
  &lt;![CDATA[
    &lt;p&gt;Cet exemple vous montre quelques éléments de HTML. Comme les
      caractères &lt; et &gt; y sont si fréquemment utilisés, il est plus
      facile de marquer tout l'exemple comme CDATA plutôt que de se
      servir des entités &amp;agrave; la place de ces caractères dans tout le
      texte.&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;C'est un élément de liste&lt;/li&gt;
      &lt;li&gt;C'est un second élément de liste&lt;/li&gt;
      &lt;li&gt;C'est un troisième élément de liste&lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;C'est la fin de l'exemple.&lt;/p&gt;
  ]]&gt;
&lt;/programlisting&gt;</pre><p>Si vous consultez le source de ce document, vous verrez qu'il
            utilise constamment cette technique.</p></div></div><br class="example-break" /></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64601424"></a>3.8.1.2. <code class="literal">INCLUDE</code> et <code class="literal">IGNORE</code></h4></div></div></div><p>Si le mot-clé est <code class="literal">INCLUDE</code>, alors le contenu
          de la section marquée sera pris en compte. Si le mot-clé est
	  <code class="literal">IGNORE</code>, alors la section marquée sera ignorée. Il
	  n'apparaîtra pas dans les sorties.</p><div class="example"><a id="idp64615504"></a><div class="example-title">Exemple 3.16. Utiliser <code class="literal">INCLUDE</code> et
            <code class="literal">IGNORE</code> dans les sections marquées</div><div class="example-contents"><pre class="programlisting">
&lt;![ INCLUDE [
  Ce texte sera traité et inclus.
]]&gt;

&lt;![ IGNORE [
  Ce texte ne sera pas traité ou inclus.
]]&gt;</pre></div></div><br class="example-break" /><p>En soi, cela ne sert pas à grand-chose. Si vous vouliez
          supprimer du texte de votre document, vous auriez pu l'enlever ou le
          mettre en commentaires.</p><p>Cela devient plus utile quand vous comprenez que vous pouvez
          vous servir des <a class="link" href="ch03s06.html#sgml-primer-parameter-entities" title="3.6.2. Entités paramètres">entités paramètres</a>
          pour contrôler ces sections. Rappelez-vous que les entités
          paramètres ne peuvent être utilisées que dans un contexte SGML, et
          une section marquée <span class="emphasis"><em>est</em></span> un contexte SGML.</p><p>Si par exemple, vous générez une version imprimée et une version
          électronique de votre document, vous pourriez vouloir inclure dans
          la version électronique un contenu supplémentaire qui ne devra pas
          apparaître dans la version imprimée.</p><p>Créez une entité paramètre et donnez lui comme contenu
	  <code class="literal">INCLUDE</code>. Rédigez votre document en utilisant des
          sections marquées pour délimiter le contenu qui ne doit apparaître
          que dans la version électronique. Dans ces sections marquées,
          servez-vous de l'entité paramètre au lieu du mot-clé.</p><p>Lorsque vous voulez générer la version électronique, changez la
          valeur de l'entité paramètre en <code class="literal">IGNORE</code> et
          retraitez le document.</p><div class="example"><a id="idp64628816"></a><div class="example-title">Exemple 3.17. Utiliser une entité paramètre pour contrôler une section
	    marquée</div><div class="example-contents"><pre class="programlisting">
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % version.electronique "INCLUDE"&gt;
]]&gt;

...

&lt;![ %version.electronique [
  Ce texte ne doit apparaître que dans
  la version électronique du document.
]]&gt;</pre><p>Pour générer la version imprimée, changez la définition de
            l'entité en :</p><pre class="programlisting">
&lt;!ENTiTY % version.electronique "IGNORE"&gt;</pre><p>A la seconde passe sur le document, les sections marquées qui
            utilisent <code class="literal">%version.electronique</code> comme mot-clé
            seront ignorées.</p></div></div><br class="example-break" /></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64660176"></a>3.8.2. A faire&#8230;</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Créez un nouveau fichier, <code class="filename">section.xml</code>,
            qui contienne :</p><pre class="programlisting">
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % text.output "INCLUDE"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Exemple d'utilisation des sections marquées&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;Ce paragraphe &lt;![CDATA[contient de nombreux
      caractères &lt; (&lt; &lt; &lt; &lt; &lt;) il est donc
      plus facile de l'inclure dans une section marquée
      CDATA ]]&gt;&lt;/p&gt;

    &lt;![IGNORE[
    &lt;p&gt;Ce paragraphe n'apparaîtra jamais dans les
      sorties.&lt;/p&gt;
    ]]&gt;

    &lt;![ %sortie.texte [
    &lt;p&gt;Ce paragraphe apparaîtra peut-être dans les
      sorties.&lt;/p&gt;

    &lt;p&gt;Cela dépend de l'entité paramètre
      %sortie.texte.&lt;/p&gt;
    ]]&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Normalisez le fichier avec <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sgmlnorm&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">sgmlnorm</span>(1)</span></a> et examinez le
            résultat. Notez quels paragraphes ont été conservés et quels
            paragraphes ont été supprimés, et ce qu'est devenu le contenu des
            sections marquées CDATA.</p></li><li class="step"><p>Modifiez la définition de l'entité
            <code class="literal">sortie.texte</code> de <code class="literal">INCLUDE</code> en
	    <code class="literal">IGNORE</code>. Normalisez de nouveau le fichier et
            regardez ce qui a changé dans le résultat.</p></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s07.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="sgml-primer.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03s09.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">3.7. Utiliser les entités pour inclure des fichiers </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 3.9. Conclusion</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>