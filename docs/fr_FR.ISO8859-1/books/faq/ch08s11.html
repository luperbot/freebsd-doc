<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>8.11. Comme faire pour ajouter plus de "swap" ?</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="admin.html" title="Chapitre 8. Administration système. **Mise à jour en cours**" /><link rel="prev" href="ch08s10.html" title="8.10. Est-ce dangereux d'utiliser un disque dédié ?" /><link rel="next" href="ch08s12.html" title="8.12. J'ai des problèmes pour installer mon imprimante." /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.11. Comme faire pour ajouter plus de "swap" ?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s10.html">Précédent</a> </td><th width="60%" align="center">Chapitre 8. Administration système. **Mise à jour en cours**</th><td width="20%" align="right"> <a accesskey="n" href="ch08s12.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp67514704"></a>8.11. Comme faire pour ajouter plus de "swap" ?</h2></div></div></div><p>La meilleur façon de faire, est d'augmenter la taille de
votre partition de swap, ou de prendre cette excuse pour ajouter un
autre disque.</p><p>Ajouter du "swap" sur un autre disque permet plus d'augmenter
la rapidité que d'en ajouter sur le même disque. Par exemple, si
vous compilez des fichiers qui se trouvent sur un disque et que le "swap"
se trouve sur un autre disque, cela va beaucoup plus vite d'avoir
le "swap" et les sources sur le même disque. Ceci est
spécialement vrai pour les disques SCSI.</p><p>Les disques IDE ne permettent pas l'accès à deux disques
sur le même canal au même moment (FreeBSD ne supporte pas
le mode 4, donc toutes les entrées/sorties disques sont
``programmées''). Je vous suggère de mettre le "swap" sur un autre
disque aussi. Les disques durs sont si peu couteux, que cela ne vaut
pas le coup de tout mettre sur un.</p><p>C'est une très mauvaise idée de mettre le fichier de
"swap" sur une partition NFS, sauf si vous disposez d'un environnement
réseau extrèmement rapide, et d'un très bon serveur NFS.</p><p>Voici un exemple pour ajouter 64Mo de swap en utilisant un
fichier se nommant <code class="filename"> /usr/swap0 </code>.</p><p>Assurez vous que votre noyau est compilé avec la ligne
</p><pre class="programlisting">
pseudo-device vn 1 # #Vnode driver (turns a file into a device)
 </pre><p>Le noyau GENERIC la contient par
défaut.

</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Créez un vn-device :
</p><pre class="programlisting">
cd /dev
sh./MAKEDEV vn0
 </pre></li><li class="listitem"><p>Créez le fichier de "swap" (<code class="filename">/usr/swap0</code>).
</p><pre class="programlisting"> dd if=/dev/zero of=/usr/swap0 bs=1024k count=64 </pre></li><li class="listitem"><p>Activez le fichier de "swap" dans le fichier
<code class="filename"> /etc/rc.conf </code> </p><pre class="programlisting">
swapfile="/usr/swap0" # Set to name of swapfile if aux swapfile desired.
</pre></li><li class="listitem"><p>Rebootez la machine</p></li></ul></div><p>Pour activer le fichier de "swap" immédiatement, tapez
</p><pre class="programlisting">
vnconfig -ce /dev/vn0c /usr/swap0 swap
</pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s10.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="admin.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s12.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">8.10. Est-ce dangereux d'utiliser un disque dédié ? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 8.12. J'ai des problèmes pour installer mon imprimante.</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>