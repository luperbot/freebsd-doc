<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>8.10. Est-ce dangereux d'utiliser un disque dédié ?</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="admin.html" title="Chapitre 8. Administration système. **Mise à jour en cours**" /><link rel="prev" href="ch08s09.html" title="8.9. Comment démarrer FreeBSD et Linux depuis BootEasy ?" /><link rel="next" href="ch08s11.html" title="8.11. Comme faire pour ajouter plus de &quot;swap&quot; ?" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.10. Est-ce dangereux d'utiliser un disque dédié ?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s09.html">Précédent</a> </td><th width="60%" align="center">Chapitre 8. Administration système. **Mise à jour en cours**</th><td width="20%" align="right"> <a accesskey="n" href="ch08s11.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp67510736"></a>8.10. Est-ce dangereux d'utiliser un disque dédié ?</h2></div></div></div><p>La procédure d'installation vous permet de choisir deux
façons différentes pour partitionner vos disques. Par défaut, elle
permet de les rendre compatibles avec d'autres systèmes d'exploitation
se trouvant sur votre ordinateur en utilisant les entrées des tables
de fdisk (appelés "slices" sous FreeBSD), en faisant en sorte qu'une
"slice" FreeBSD corresponde à une partition. Vous pouvez aussi
installer un selecteur de démarrage pour choisir de démarrer sous un
autre système d'exploitation.</p><p>Comme ceci correspond à la plupart des cas de personnes
venant des PC, les personnes venant d'Unix et qui désirent mettre en
place une machine pour y faire tourner FreeBSD et juste FreeBSD,
utilisent la procédure classique d'installation d'Unix, ou Unix
utilise le disque au complet, du premier secteur au dernier. Une
véritable table pour fdisk n'est d'aucune utilité dans le vas d'une
machine utilisant FreeBSD 24h/24, 7jours sur 7, car aucun autre
système d'exploitation ne sera démarré. Donc si vous sélectionnez
``A)ll FreeBSD '' dans l'éditeur de partition du programme
d'installation et répondez ``No'' à la question qui suit, vous serez
dans ce cas. Notez que cela implique que le programme de
démarrage BSD correspond au MBR de ce disque. N'essayez pas d'en
réinstaller un sous peine de détruire le précédent.</p><p>Donc pourquoi est-ce donc ``dangereux'' ? Un disque
configuré de la sorte ne contient pas de table fdisk valides, pour la
plupart des utilitaires PC. Suivant la façon dont ils ont été conçus,
ils vous avertissent ou tout simplement ne disent rien et détruisent
le programme de démarrage BSD sans avertissement. Certains systèmes
d'exploitation très utilisés sur PC, sont connus pour agir de la
sorte (bien sûr, ils agissent de la sorte sous le couvert de système
"orienté-utilisateur"). Au moins un BIOS de chez Award, qui est par
exemple utilisé sur les HP Netserver (mais sur d'autre systèmes
aussi), est connu pour ignorer tout disque dur n'ayant pas de table
fdisk valide. Lorsque votre machine démarre il ignore tout simplement
de tels disques, tente de démarrer sur une disquette, et vous affiche
un ``Read error''. Très impressionnant, non ?. C'est ce que certains
appellent un système "orienté-utilisateur".</p><p>Les avantages de ce partitionnement sont : FreeBSD utilise
le disque au complet, il n'y a donc pas de besoin de garder quelques
'pistes' au début du disque qui ne servaient à rien sauf pour un
modèle de partitionnement vieux et simpliste qui n'a maintenant plus
aucun sens. Ces contraintes étant ce que l'on peut appeler la plus
grosse prise de tête lors de l'installation des systèmes
d'exploitations sur PS, et qui menaient le plus souvent à deux façon
complètement redondantes de stockage des informations dans les tables
fdisk. Voyez le chapitre sur <a class="link" href="missingos" target="_top"> ``Missing
Operating System''</a>. Dans le cas d'un disque ``dangereusement dédié'',
le programme de démarrage BSD commence au secteur 0, qui est le seul
secteur ne changeant de valeur C/H/S, pour les valeurs du disque du
BIOS. Vous pouvez donc, dans ce cas, interchanger des disques entre
plusieurs controleurs ou systèmes utilisant des schémas de translation
différents sans vous poser de questions.</p><p>Pour passer d'un disque ``dangereusement dédié'' à un
disque normal de PC, il y a deux solutions simples. La première est de
recouvrir le MBR d'octets vides, pour permettre de faire croire que le
disque est vierge. Pour pouvez le faire de la façon suivante:
</p><pre class="programlisting">dd if=/dev/zero of=/dev/rds0 count=15</pre><p>
Ou en utilisant une fonctionnnalité non-documentée de DOS :
</p><pre class="programlisting"> fdisk /mbr </pre><p> qui installe aussi un
nouveau MBR, en recouvrant le programme de démarrage BSD.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s09.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="admin.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s11.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">8.9. Comment démarrer FreeBSD et Linux depuis BootEasy ? </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 8.11. Comme faire pour ajouter plus de "swap" ?</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>