<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.15. Quelle géométrie dois-je utiliser pour un disque ?</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="install.html" title="Chapitre 2. Installation. **Mise à jour en cours**" /><link rel="prev" href="ch02s14.html" title="2.14. Peut-on effectuer une installation par le port parallèle (PLIP)" /><link rel="next" href="ch02s16.html" title="2.16. Y a-t-il des restrictions sur la façon de partitionner le disque ?" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.15. Quelle géométrie dois-je utiliser pour un disque ?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s14.html">Précédent</a> </td><th width="60%" align="center">Chapitre 2. Installation. **Mise à jour en cours**</th><td width="20%" align="right"> <a accesskey="n" href="ch02s16.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp64090832"></a>2.15. Quelle géométrie dois-je utiliser pour un disque ?</h2></div></div></div><p>(Par le mot "géométrie" d'un disque, nous pensons aux
nombres de cylindres, têtes et secteurs par pistes sur un disque - Nous
dirons par la suite C/H/S. C'est de cette façon que le BIOS des PC
arrive à écrire ou lire une zone du disque).</p><p>Cela peut préter à confusion pour différentes raisons.
Premièrement, la <span class="emphasis"><em>géométrie physique</em></span> d'un disque
SCSI ne veut rien dire, de la façon dont FreeBSD utilise les blocs
disques. En fait, on ne peut parler de <span class="quote">« <span class="quote">la</span> »</span> géométrie physique,
la densité des secteurs variant sur le disque -ce que les
fabricants appellent la <span class="quote">« <span class="quote">vraie</span> »</span> géométrie physique, c'est la géométrie
qu'ils ont détérminé, pour avoir le moins d'espace perdu.
Pour les disques IDE, FreeBSD voit en terme de C/H/S, mais tous les
disques récents convertissent cela en blocs eux-mêmes.</p><p>Tout cela est, en fait, la <span class="emphasis"><em>géométrie logique
</em></span>  la réponse que le BIOS reçoit lorsqu'il demande <span class="quote">« <span class="quote">quelle
est votre géométrie ?</span> »</span> et qu'il utilise pour accéder au disque. Comme
FreeBSD utilise le BIOS pour démarrer, il est très important qu'elle
soit juste. En particulier, si vous avez plus d'un système
d'exploitation sur votre disque, ils doivent être d'accord
sur la géométrie, sinon vous rencontrerez de graves problèmes
au démarrage du système.</p><p>Pour les disques SCSI, la géométrie à utiliser dépend
du support de translation étendu activé sur votre contrôleur
(ou encore appelé <span class="quote">« <span class="quote">support pour les disques DOS &gt;1Go</span> »</span> ou
similaire). S'il n'est pas activé, utilisez N cylindres, 64
têtes et 32 secteurs par pistes, ou 'N' est la capacité du disque en
Mo. Par exemple, pour un disque de 2Go vous devez utiliser 2048
cylindres, 64 têtes et 32 secteurs par piste.</p><p>Si cette option est active (c'est le cas la plupart du temps
pour permettre de passer outre certaines limitations de MSDOS) et que
le disque a une capacité de plus de 1Go, utilisez M cylindres, 63 têtes
(et *pas* 64), et 255 secteurs par piste, où M correspond à la capacité
en Mo divisé par 7.844238 (!). Donc, en prenant un disque de 2Go nous
obtenons 261 cylindres, 63 têtes et 255 secteurs par piste.</p><p>Si vous n'êtes pas sûr de point, ou si
FreeBSD n'arrive pas à détecter la géométrie correctement au moment de
l'installation, la façon la plus simple de faire, est de créer
une petite partition DOS sur le disque. La géométrie correcte sera alors
détectée (et vous pourrez toujours retirer la partition DOS dans
l'éditeur de partitions si vous ne voulez pas la garder ou conservez la
pour la programmation de cartes réseau).</p><p>Une autre solution est d'utiliser un outil disponible librement distribué avec
FreeBSD appelé <code class="filename">pfdisk.exe</code> (il se trouve dans
le répertoire <code class="filename">tools</code> du CDROM de FreeBSD ou sur
les sites ftp), qui permet de voir quelle géométrie utilisent les
autres systèmes sur ce disque. Vous pourrrez ensuite
entrer cette géométrie dans l'éditeur de partitions.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s14.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s16.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">2.14. Peut-on effectuer une installation par le port parallèle (PLIP) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 2.16. Y a-t-il des restrictions sur la façon de partitionner le disque ?</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>