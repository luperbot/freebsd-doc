<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2.27. Quelles sont les tailles limites pour les systèmes de fichiers FFS ?</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Questions Fréquemment Posées sur FreeBSD 2.X, 3.X et 4.X" /><link rel="up" href="install.html" title="Chapitre 2. Installation. **Mise à jour en cours**" /><link rel="prev" href="ch02s26.html" title="2.26. Quelles sont les limites mémoire ?" /><link rel="next" href="ch02s28.html" title="2.28. Comment puis-je mettre des fichiers de 1To sur une disquette ?" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.27. Quelles sont les tailles limites pour les systèmes de fichiers
FFS ?</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s26.html">Précédent</a> </td><th width="60%" align="center">Chapitre 2. Installation. **Mise à jour en cours**</th><td width="20%" align="right"> <a accesskey="n" href="ch02s28.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp64260944"></a>2.27. Quelles sont les tailles limites pour les systèmes de fichiers
FFS ?</h2></div></div></div><p>La taille maximum théorique d'un système de fichiers FFS est
de 8 téraoctets (2G blocs) ou de 16To avec la taille de bloc par
défaut de 8K. Il y a en pratique une limite logicielle à
1 téraoctet mais, avec quelques modifications, il est possible d'avoir
des systèmes de fichiers de 4 téraoctet (et il en existe).</p><p>La taille maximum d'un fichier FFS est d'environ 1G blocs (4To), quand
la taille de bloc est de 4K.</p><pre class="programlisting">



                         taille de fichier maximum
                 -----------------------------------------
                 2.2.7    3.0
taille de bloc   -stable  -current  marche  devrait marcher
--------------   -------  --------  ------  ---------------
4K               4T-1       4T-1    4T-1    4+T
8K               32+G       8T-1    32+G    16T-1
16K              128+G      16T-1   128+G   32T-1
32K              512+G      32T-1   512+G   64T-1
64K              2048+G     64T-1   2048+G  128T-1

	</pre><p>Quand la taille du bloc est de 4K, l'adressage du bloc par indirection triple
fonctionne et la limite devrait être définie par le plus grand
numéro de bloc qui peut être reprété avec une
indirection triple (approximativement 1K^3 + 1K^2 + 1K), mais  la limite
effective est en fait donnée par une valeur (erronée) de
1G-1 pour le nombre de blocs maximum. Cette valeur devraite être de 2G-1.
Il y a des bogues avec les blocs dont le numéro est voisin de 2G-1,
et ces blocs ne peuvent être adressés quand la taille du bloc est
de 4K. </p><p>Pour les tailles de blocs de 8K et plus, tout devrait être limité
par la valeur de 2G-1 pour les numéros de blocs, mais l'est en fait par
la valeur maximum de 1G-1, hormis sous -stable, les blocs adressés par
indirection triple ne peuvent être atteints, la limite est donc
donnée par le plus grand numéro de bloc qui peut être
adressé par une double indirection (approximativement
(taille du bloc/4)^2 + (taille du bloc/4)), et dépasser cette limite
sous -current peut poser des problèmes. Utiliser la valeur correcte
de 2G-1 blocs posent à coup sûr des problèmes.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s26.html">Précédent</a> </td><td width="20%" align="center"><a accesskey="u" href="install.html">Niveau supérieur</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s28.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">2.26. Quelles sont les limites mémoire ?  </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 2.28. Comment puis-je mettre des fichiers de 1To sur une disquette ?</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>