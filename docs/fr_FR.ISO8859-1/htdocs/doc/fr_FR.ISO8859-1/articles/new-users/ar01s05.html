<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>5. Editer des Fichiers Texte</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Pour les Nouveaux Venus à FreeBSD et Unix" /><link rel="up" href="index.html" title="Pour les Nouveaux Venus à FreeBSD et Unix" /><link rel="prev" href="ar01s04.html" title="4. Obtenir de l'Aide et de l'Information" /><link rel="next" href="ar01s06.html" title="6. Imprimer des fichiers DOS" /><link rel="copyright" href="trademarks.html" title="Note légale" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. Editer des Fichiers Texte</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s04.html">Précédent</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s06.html">Suivant</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp63956816"></a>5. Editer des Fichiers Texte</h2></div></div></div><p>Pour configurer votre système, vous devez éditer des fichiers texte. Ils
sont presque tous dans le répertoire <code class="filename">/etc</code>; vous devrez
utiliser la commande <code class="command">su</code> pour devenir root pour les
modifier. Vous pouvez vous servir de l'éditeur simple <code class="command">ee</code>,
mais à long terme, cela vaut la peine d'apprendre à utiliser
<code class="command">vi</code>. Il y a une excellente introduction à vi dans
<code class="filename">/usr/src/contrib/nvi/docs/tutorial</code> si vous l'avez
installé. Sinon vous pouvez le télécharger par ftp sur
<a class="link" href="ftp://ftp.cdrom.com" target="_top">ftp://ftp.cdrom.com</a>
dans le répertoire
<code class="filename">FreeBSD/FreeBSD-current/src/contrib/nvi/tutorial</code>.</p><p>Avant d'éditer un fichier, faites-en une copie de sauvegarde. Supposons
que vous vouliez modifier le fichier <code class="filename">/etc/rc.conf</code>. Avec
la commande <code class="command">cd /etc</code> vous allez dans le répertoire
<code class="filename">/etc</code>, puis tapez:
</p><div class="informalexample"><pre class="screen"># <strong class="userinput"><code>cp rc.conf rc.conf.orig</code></strong></pre></div><p>
pour recopier le fichier <code class="filename">rc.conf</code> dans
<code class="filename">rc.conf.orig</code>, de façon à pouvoir ensuite
recopier <code class="filename">rc.conf.orig</code> dans <span class="emphasis"><em>rc.conf</em></span> pour revenir à la version originale. Il serait
encore mieux de le déplacer (renommer) puis de faire la copie en sens inverse:
</p><div class="informalexample"><pre class="screen"># <strong class="userinput"><code>mv rc.conf rc.conf.orig</code></strong>
# <strong class="userinput"><code>cp rc.conf.orig rc.conf</code></strong></pre></div><p>
parce que la commande <code class="command">mv</code> conserve la date et le nom du
propriétaire d'origine du fichier. Vous pouvez maintenant éditer le fichier
<code class="filename">rc.conf</code>. Si vous voulez revenir à la version d'origine,
utilisez alors <strong class="userinput"><code>mv rc.conf rc.conf.myedit</code></strong>
(en supposant que vous vouliez conserver la version que vous avez modifiée)
puis:
</p><div class="informalexample"><pre class="screen"># <strong class="userinput"><code>mv rc.conf.orig rc.conf</code></strong></pre></div><p>
pour remettre l'original à sa place.</p><p>Pour éditer un fichier, tapez:
</p><div class="informalexample"><pre class="screen"># <strong class="userinput"><code>vi nom_de_fichier</code></strong></pre></div><p>
déplacez vous dans le fichier avec les touches flèches. <span class="keycap"><strong>Echap</strong></span> (la touche d'échappement) met <code class="command">vi</code> en mode commande. Voici
quelques-unes de ces commandes:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">x</code></span></dt><dd><p>efface le caractère sur lequel se trouve le curseur.</p></dd><dt><span class="term"><code class="command">dd</code></span></dt><dd><p>efface toute la ligne (même si elle dépasse la largeur de l'écran et
s'affiche sur plus d'une ligne).</p></dd><dt><span class="term"><code class="command">i</code></span></dt><dd><p>permet d'insérer du texte devant la position du curseur.</p></dd><dt><span class="term"><code class="command">a</code></span></dt><dd><p>permet d'insérer du texte après la position du curseur.</p></dd></dl></div><p>
Après avoir tapé <code class="command">i</code> ou <code class="command">a</code>,
vous pouvez insérer du texte. <code class="command">Echap</code> vous ramène en mode
commande. Vous pouvez alors taper:
</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">:w</code></span></dt><dd><p>pour enregistrer le fichier modifié sur disque et continuer à
l'éditer,</p></dd><dt><span class="term"><code class="command">:wq</code></span></dt><dd><p>pour enregistrer le fichier modifié sur disque et quitter
l'éditeur,</p></dd><dt><span class="term"><code class="command">:q!</code></span></dt><dd><p>pour quitter l'éditeur sans enregistrer vos modifications,</p></dd><dt><span class="term"><code class="command">/texte</code></span></dt><dd><p>recherche la prochaine occurrence de <em class="replaceable"><code>texte</code></em> et
y positionne le curseur; <code class="command">/Entrée</code> (la touche
Entrée) recherche ensuite la prochaine occurrence de <em class="replaceable"><code>texte</code></em>,</p></dd><dt><span class="term"><code class="command">G</code></span></dt><dd><p>va à la fin du fichier,</p></dd><dt><span class="term"><code class="command">nG</code></span></dt><dd><p>va à la <em class="replaceable"><code>n</code></em>ième ligne du fichier,</p></dd><dt><span class="term"><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>L</strong></span></span></dt><dd><p>rafraîchit l'affichage,</p></dd><dt><span class="term"><span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>b</strong></span> et <span class="keycap"><strong>Ctrl</strong></span>+<span class="keycap"><strong>f</strong></span></span></dt><dd><p>remonte ou descend d'une page, de la même façon qu'avec les utilitaires
<code class="command">more</code> et <code class="command">view</code>.</p></dd></dl></div><p>
</p><p>Entraînez-vous à utiliser <code class="command">vi</code> dans votre répertoire utilisateur
en créant un nouveau fichier avec <code class="command">vi
nom_de_fichier</code> puis ajoutez-y et effacez du texte,
enregistrez le ficher et rééditez-le. <code class="command">vi</code> peut vous réserver
des surprises parce qu'il est assez complexe, et il vous arrivera de taper
accidentellement des commandes au résultat inattendu. (Certains aiment
vraiment <code class="command">vi</code> - il est bien plus puissant qu'EDIT
de DOS - voyez par exemple la commande <code class="command">:r</code> command.) Utilisez
<span class="keycap"><strong>Echap</strong></span> une ou plusieurs fois pour être sûr que vous êtes en mode
commande quand vous êtes dans l'embarras, enregistrez régulièrement vos
modifications avec la commande <code class="command">:w</code>, et utilisez la commande
<code class="command">:q!</code> pour sortir et rééditer la dernière version enregistrée
avec <code class="command">:w</code> au besoin.</p><p>Vous pouvez maintenant <code class="command">cd</code> vers <code class="filename">/etc</code>,
<code class="command">su</code> pour devenir root, utiliser <code class="command">vi</code> pour éditer le
fichier <code class="filename">/etc/group</code>, et ajouter un utilisateur au groupe
wheel pour qu'il ait les mêmes droits que root. Ajoutez juste une virgule puis
le nom de l'utilisateur à la fin de la première ligne, appuyez sur
<span class="keycap"><strong>Echap</strong></span>, et utilisez la commande <code class="command">:wq</code> pour enregistrer
le fichier et quitter l'éditeur. La modification est aussitôt prise en compte
par le système. (vous n'avez pas mis de blanc après la virgule,
n'est-ce-pas?)</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s04.html">Précédent</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s06.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">4. Obtenir de l'Aide et de l'Information </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> 6. Imprimer des fichiers DOS</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>