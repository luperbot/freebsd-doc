<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>9. Questions Fréquemment Posées propres aux logiciels portés</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Le Guide du Nouveau &#8220;Committer&#8221;" /><link rel="up" href="index.html" title="Le Guide du Nouveau &#8220;Committer&#8221;" /><link rel="prev" href="ar01s08.html" title="8. Régles à Suivre par les Committers FreeBSD" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">9. Questions Fréquemment Posées propres aux logiciels portés</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s08.html">Précédent</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> </td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="idp64151376"></a>9. Questions Fréquemment Posées propres aux logiciels portés</h2></div></div></div><div class="qandaset"><a id="idp64161872"></a><dl><dt>9.1.  <a href="ar01s09.html#idp64162128">Importer un nouveau logiciel</a></dt><dd><dl><dt>9.1.1. <a href="ar01s09.html#idp64163664">Comment faire pour importer un nouveau logiciel ?</a></dt><dt>9.1.2. <a href="ar01s09.html#idp64173648">Y'a-t-il d'autres choses qu'il faut que je sache quand
              j'importe un nouveau logiciel ?</a></dt></dl></dd><dt>9.2.  <a href="ar01s09.html#idp64227536">Copies des archives</a></dt><dd><dl><dt>9.2.1. <a href="ar01s09.html#idp64230096">Quand avons-nous besoin qu'une opération de copie soit faite
              sur les archives ?</a></dt><dt>9.2.2. <a href="ar01s09.html#idp64247504">Quand n'avons-nous pas besoin q'une
              opération de copie soit faite sur les archives ?</a></dt><dt>9.2.3. <a href="ar01s09.html#idp64255056">Que faut-il que je fasse ?</a></dt></dl></dd><dt>9.3.  <a href="ar01s09.html#idp64274512">Gel des logiciels portés</a></dt><dd><dl><dt>9.3.1. <a href="ar01s09.html#idp64284496">Qu'est-ce qu'un « gel des logiciels
              portés » ?</a></dt><dt>9.3.2. <a href="ar01s09.html#idp64291664">Combien de temps dure ce gel ?</a></dt><dt>9.3.3. <a href="ar01s09.html#idp64296272">Qu'est-ce que cela signifie pour moi  ?</a></dt><dt>9.3.4. <a href="ar01s09.html#idp64327376">Comment suis-je averti du début du gel des
              logiciels ?</a></dt><dt>9.3.5. <a href="ar01s09.html#idp64336208">Comment suis-je averti de la fin du gel des
              logiciels ?</a></dt></dl></dd><dt>9.4.  <a href="ar01s09.html#idp64342608">Questions diverses</a></dt><dd><dl><dt>9.4.1. <a href="ar01s09.html#idp64343632">Comment sais-je si un logiciel porté compile correctement ou
              non ?</a></dt><dt>9.4.2. <a href="ar01s09.html#idp64376400">J'ai importé un nouveau logiciel. Dois-je l'ajouter au
              fichier INDEX ?</a></dt><dt>9.4.3. <a href="ar01s09.html#idp64383312">Y'a-t-il d'autres fichiers auxquels je ne dois pas
              toucher ?</a></dt></dl></dd></dl><table border="0" style="width: 100%;"><colgroup><col align="left" width="1%" /><col /></colgroup><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h4 class="title"><a id="idp64162128"></a>9.1. Importer un nouveau logiciel</h4></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>9.1.1. <a href="ar01s09.html#idp64163664">Comment faire pour importer un nouveau logiciel ?</a></dt><dt>9.1.2. <a href="ar01s09.html#idp64173648">Y'a-t-il d'autres choses qu'il faut que je sache quand
              j'importe un nouveau logiciel ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64163664"></a><a id="idp64164304"></a><p><strong>9.1.1.</strong></p></td><td align="left" valign="top"><p>Comment faire pour importer un nouveau logiciel ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Lisez s'il vous plaît d'abord la section sur la copie des
              archives.</p><p>Pour importer un nouveau logiciel, le plus facile est
              d'utiliser la procédure <code class="command">easy-import</code> sur
	      <code class="systemitem">freefall</code>. Elle vous posera quelques questions
              et importera directement le logiciel dans le répertoire que vous
              aurez indiqué. Elle a été écrite par Jörg Wunsch, envoyez-lui
              s'il vous plaît un courrier électronique si vous avez des
              questions à propos de <code class="command">easy-import</code>.</p><p>Il y a une chose qu'elle ne fera pas à votre place :
              ajouter le logiciel au <code class="filename">Makefile</code> du
              répertoire de niveau supérieur (catégorie). Il faudra le faire
              vous-même.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64173648"></a><a id="idp64173904"></a><p><strong>9.1.2.</strong></p></td><td align="left" valign="top"><p>Y'a-t-il d'autres choses qu'il faut que je sache quand
              j'importe un nouveau logiciel ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Vérifiez votre portage, pour vous assurez qu'il compile et
              que le paquetage est correctement construit. Voici ce qu'il est
              recommandé de faire :</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>make install</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make package</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make deinstall</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>pkg_add le_paquetage_que_vous_venez_de_compiler</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make deinstall</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make reinstall</code></strong>
<code class="prompt">%</code> <strong class="userinput"><code>make package</code></strong>
	    </pre><p>Le chapitre
	      <a class="link" href="../handbook/porting.html" target="_top">faire vous-même un
              portage</a> du Manuel de Référence vous donnera des
              instructions plus détaillées.</p><p>Utilisez <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=portlint&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">portlint</span>(1)</span></a> pour vérifier la syntaxe du
              portage. Il n'est pas indispensable d'éliminer la totalité des
              messages d'avertissement, mais veillez à régler les problèmes
              les plus évidents.</p><p>Si le logiciel porté a été soumis par quelqu'un qui n'a
              jamais collaboré au projet auparavant, ajoutez le nom de cette
              personne à la section <em class="citetitle">Autres
              Collaborateurs</em> du Manuel de Référence.</p><p>Fermez le PR, si le portage résulte d'un PR. Pour fermer un
              PR, il suffit d'exécuter <strong class="userinput"><code>edit-pr
              PR#</code></strong> sur
	      <code class="systemitem">freefall</code> et de modifier la valeur de la
              variable <code class="varname">state</code> de <code class="constant">open</code>
	      en <code class="constant">closed</code>. On vous demandera d'entrer un
	      commentaire, et c'est tout.</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h4 class="title"><a id="idp64227536"></a>9.2. Copies des archives</h4></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>9.2.1. <a href="ar01s09.html#idp64230096">Quand avons-nous besoin qu'une opération de copie soit faite
              sur les archives ?</a></dt><dt>9.2.2. <a href="ar01s09.html#idp64247504">Quand n'avons-nous pas besoin q'une
              opération de copie soit faite sur les archives ?</a></dt><dt>9.2.3. <a href="ar01s09.html#idp64255056">Que faut-il que je fasse ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64230096"></a><a id="idp64231120"></a><p><strong>9.2.1.</strong></p></td><td align="left" valign="top"><p>Quand avons-nous besoin qu'une opération de copie soit faite
              sur les archives ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quand vous voulez importer un logiciel en rapport avec un
              autre logiciel déjà archivé dans un autre répertoire, envoyez
              s'il vous plaît un courrier électronique au responsable des
              logiciels portés pour lui demander son avis.
	      <em class="wordasword">En rapport</em> désigne ici une version
              différente ou une version légèrement modifiée. En exemple, on
              peut citer <code class="filename">print/ghostscript*</code> (versions
	      différentes) et <code class="filename">x11-wm/windowmaker*</code>
	      (version Anglaise et version internationalisée).</p><p>Comme autre exemple, on peut citer le cas d'un logiciel porté
              déplacé d'un sous-répertoire à un autre, ou d'une modification du
              nom d'un répertoire parce que l'auteur a changé le nom de son
              logiciel, bien qu'il dérive d'un logiciel déjà importé.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64247504"></a><a id="idp64248400"></a><p><strong>9.2.2.</strong></p></td><td align="left" valign="top"><p>Quand n'avons-nous <span class="emphasis"><em>pas</em></span> besoin q'une
              opération de copie soit faite sur les archives ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quand il n'y a pas d'historique à conserver. Si un logiciel
              est importé dans une catégorie erronée et immédiatement
              déplacé, il suffit d'un simple <code class="command">cvs remove</code> de
              l'ancien suivi d'un <code class="command">cvs import</code> du
              nouveau.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64255056"></a><a id="idp64255312"></a><p><strong>9.2.3.</strong></p></td><td align="left" valign="top"><p>Que faut-il que je fasse ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Envoyez un courrier électronique au responsable des
              logiciels portés, qui fera la copie de l'ancien emplacement vers
              le nouveau. Vous en serez averti, et l'on attendra alors de vous
              que vous exécutiez les opérations suivantes :</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p><code class="command">cvs remove</code> de l'ancien logiciel (si
                  besoin est),</p></li><li class="step"><p>Correction du <code class="filename">Makefile</code> de niveau
                  supérieur (catégorie),</p></li><li class="step"><p>Mise à jour de
                  <code class="filename">CVSROOT/modules</code></p></li><li class="step"><p>Si d'autres logiciels dépendent de celui qui vient
                  d'être mis à jour, correction des lignes décrivant leurs
                  dépendances dans leurs
                  <code class="filename">Makefile</code>s,</p></li><li class="step"><p>Si le logiciel a changé de catégories, modification en
                  conséquence de la ligne <code class="varname">CATEGORIES</code> du
		  <code class="filename">Makefile</code> du logiciel.</p></li></ol></div></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h4 class="title"><a id="idp64274512"></a>9.3. Gel des logiciels portés</h4></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>9.3.1. <a href="ar01s09.html#idp64284496">Qu'est-ce qu'un « gel des logiciels
              portés » ?</a></dt><dt>9.3.2. <a href="ar01s09.html#idp64291664">Combien de temps dure ce gel ?</a></dt><dt>9.3.3. <a href="ar01s09.html#idp64296272">Qu'est-ce que cela signifie pour moi  ?</a></dt><dt>9.3.4. <a href="ar01s09.html#idp64327376">Comment suis-je averti du début du gel des
              logiciels ?</a></dt><dt>9.3.5. <a href="ar01s09.html#idp64336208">Comment suis-je averti de la fin du gel des
              logiciels ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64284496"></a><a id="idp64285136"></a><p><strong>9.3.1.</strong></p></td><td align="left" valign="top"><p>Qu'est-ce qu'un <span class="quote">« <span class="quote">gel des logiciels
              portés</span> »</span> ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Avant livraison d'une nouvelle version, il est nécessaire de
              limiter les interventions sur les archives des logiciels portés
              pendant une courte période, le temps que les paquetages et la
              version elle-même soient compilés. Cela pour garantir la
              cohérence entre les différents composants de la version, c'est
              cela que l'on appelle le <span class="quote">« <span class="quote">gel des logiciels
              portés</span> »</span>.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64291664"></a><a id="idp64292176"></a><p><strong>9.3.2.</strong></p></td><td align="left" valign="top"><p>Combien de temps dure ce gel ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Habituellement deux à trois jours.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64296272"></a><a id="idp64297168"></a><p><strong>9.3.3.</strong></p></td><td align="left" valign="top"><p>Qu'est-ce que cela signifie pour moi  ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Pendant le gel des logiciels portés, vous ne devez pas
              soumettre quoi que ce soit dans l'arborescence des logiciels
              portés, sauf autorisation explicite du responsable des
              logiciels. <span class="quote">« <span class="quote">Autorisation explicite</span> »</span> correspond ici
              à l'un des deux cas de figure suivants :</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Vous avez posé la question au responsable des logiciels,
                  et il vous a répondu : <span class="quote">« <span class="quote">Allez-y,
                  intégrez</span> »</span>.</p></li><li class="listitem"><p>Le responsable des ports vous a envoyé un courrier
                  électronique, soit directement, soit à la liste de
                  diffusion, pour signaler un problème à corriger sur le
                  logiciel.</p></li></ul></div><p>Notez bien que vous n'êtes pas implicitement autorisé à
              corriger un logiciel pendant un gel simplement parce qu'il ne
              compile plus.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64327376"></a><a id="idp64327888"></a><p><strong>9.3.4.</strong></p></td><td align="left" valign="top"><p>Comment suis-je averti du début du gel des
              logiciels ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Le responsable des logiciels portés enverra des messages
              d'avertissement sur la <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports" target="_top">liste de diffusion à propos du catalogue des logiciels portés de FreeBSD</a> et la liste de diffusion pour les <span class="foreignphrase"><em class="foreignphrase">committers</em></span> de FreeBSD pour
              annoncer la mise en oeuvre prochaine d'une nouvelle version,
              habituellement deux à trois semaines à l'avance. La date exacte
              ne sera définitivement fixée que quelques jours avant. Cela
              parce que le gel des logiciels doit être synchronisé avec la
              mise en oeuvre de la version elle-même, et que ce n'est qu'à ce
              moment-là que l'on sait exactement quand cette opération aura
              lieu.</p><p>Quand le gel commencera, il y aura bien sûr une nouvelle
              annonce sur la liste de diffusion pour les <span class="foreignphrase"><em class="foreignphrase">committers</em></span> de FreeBSD.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64336208"></a><a id="idp64336848"></a><p><strong>9.3.5.</strong></p></td><td align="left" valign="top"><p>Comment suis-je averti de la fin du gel des
              logiciels ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Quelques heures après la mise en place de la nouvelle
              version, le responsable des logiciels enverra un courrier
              électronique à la <a class="link" href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports" target="_top">liste de diffusion à propos du catalogue des logiciels portés de FreeBSD</a> et à la liste de diffusion pour les <span class="foreignphrase"><em class="foreignphrase">committers</em></span> de FreeBSD pour annoncer
              la fin du gel des logiciels. Remarquez que la finalisation de la
              version n'implique pas automatiquement la fin du gel. Nous
              devons nous assurer qu'un problème de dernière minute ne demande
              pas de reconstruction immédiate de la version.</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h4 class="title"><a id="idp64342608"></a>9.4. Questions diverses</h4></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>9.4.1. <a href="ar01s09.html#idp64343632">Comment sais-je si un logiciel porté compile correctement ou
              non ?</a></dt><dt>9.4.2. <a href="ar01s09.html#idp64376400">J'ai importé un nouveau logiciel. Dois-je l'ajouter au
              fichier INDEX ?</a></dt><dt>9.4.3. <a href="ar01s09.html#idp64383312">Y'a-t-il d'autres fichiers auxquels je ne dois pas
              toucher ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64343632"></a><a id="idp64344272"></a><p><strong>9.4.1.</strong></p></td><td align="left" valign="top"><p>Comment sais-je si un logiciel porté compile correctement ou
              non ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Commencez par consulter
	      <a class="link" href="http://bento.FreeBSD.org/~asami/errorlogs/" target="_top">http://bento.FreeBSD.org/~asami/errorlogs/</a>.
              Vous y trouverez les messages d'erreurs des dernières
              compilations des logiciels portés sous
              <code class="literal">3-stable</code> et
              <code class="literal">4-current</code>.</p><p>Néanmoins, il ne suffit pas qu'un logiciel n'y apparaisse
              pas pour pouvoir dire qu'il compile correctement. (Une de ses
              dépendances, par exemple, peut ne pas avoir compilé.) Voici les
              répertoires de <code class="systemitem">bento</code>, n'hésitez pas à aller y
              voir :</p><pre class="programlisting">
/a/asami/portbuild/3/errors        messages d'erreur de la dernière compilation de 3-stable
                    /logs          tous les messages de la dernière compilation de 3-stable
                    /packages      messages d'erreur sur les paquetages de la dernière compilation 3-stable
                    /bak/errors    messages d'erreur de la dernière compilation intégrale de 3-stable
                    /bak/logs      tous les messages de la dernière compilation de l'intégrale de 3-stable
                    /bak/packages  messages d'erreur sur les paquetages de la dernière compilation intégrale de 3-stable
                  /4/errors        messages d'erreur de la dernière compilation de 4-current
                    /logs          tous les messages de la dernière compilation de 4-current
                    /packages      messages d'erreur sur les paquetages de la dernière compilation 4-current
                    /bak/errors    messages d'erreur de la dernière compilation intégrale de 4-current
                    /bak/logs      tous les messages de la dernière compilation de l'intégrale de 4-current
                    /bak/packages  messages d'erreur sur les paquetages de la dernière compilation intégrale de 4-current
	    </pre><p>Essentiellement, si le logiciel apparaît dans
	      <code class="filename">packages</code>, ou dans
	      <code class="filename">logs</code> mais pas dans
	      <code class="filename">errors</code>, il compile correctement. (Les
	      répertoires <code class="filename">errors</code> contiennent ce que vous
              voyez sur la page Web.)</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64376400"></a><a id="idp64377168"></a><p><strong>9.4.2.</strong></p></td><td align="left" valign="top"><p>J'ai importé un nouveau logiciel. Dois-je l'ajouter au
              fichier <code class="filename">INDEX</code> ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Non. Le responsable des logiciels portés regénère
              l'<code class="filename">INDEX</code> et l'intègre régulièrement aux
              archives.</p></td></tr><tr class="question"><td align="left" valign="top"><a id="idp64383312"></a><a id="idp64384208"></a><p><strong>9.4.3.</strong></p></td><td align="left" valign="top"><p>Y'a-t-il d'autres fichiers auxquels je ne dois pas
              toucher ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Tous les fichiers immédiatement dans
              <code class="filename">ports/</code>, et tous les fichiers des
              sous-répertoires dont le nom commence par une majuscule
	      (<code class="filename">Mk</code>, <code class="filename">Tools</code>, etc.). Le
              responsable des logiciels est particulièrement susceptible pour
              ce qui touche à <code class="filename">ports/Mk/bsd.port.mk</code>, n'y
              touchez donc pas à moins que vous ne vouliez affronter son
              courroux.</p></td></tr></tbody></table></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s08.html">Précédent</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top">8. Régles à Suivre par les <span class="foreignphrase"><em class="foreignphrase">Committers</em></span>
      FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Ce document, ainsi que d'autres peut être téléchargé sur
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Pour toutes questions à propos de FreeBSD, lisez la
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> avant de contacter
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Pour les questions sur cette documentation, contactez
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>