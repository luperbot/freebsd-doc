<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>3.7. Race Conditions</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD Developers' Handbook" /><link rel="up" href="secure.html" title="章 3. Secure Programming" /><link rel="prev" href="secure-trust.html" title="3.6. Trust" /><link rel="next" href="l10n.html" title="章 4. Localization and Internationalization - L10N and I18N" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.7. Race Conditions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="secure-trust.html">前一頁</a> </td><th width="60%" align="center">章 3. Secure Programming</th><td width="20%" align="right"> <a accesskey="n" href="l10n.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="secure-race-conditions"></a>3.7. Race Conditions</h2></div></div></div><p>A race condition is anomalous behavior caused by the
      unexpected dependence on the relative timing of events.  In
      other words, a programmer incorrectly assumed that a particular
      event would always happen before another.</p><a id="idp67384144" class="indexterm"></a><a id="idp67385040" class="indexterm"></a><a id="idp67385936" class="indexterm"></a><p>Some of the common causes of race conditions are signals,
      access checks, and file opens.  Signals are asynchronous events
      by nature so special care must be taken in dealing with them.
      Checking access with <code class="function">access(2)</code> then
      <code class="function">open(2)</code> is clearly non-atomic.  Users can
      move files in between the two calls.  Instead, privileged
      applications should <code class="function">seteuid()</code> and then call
      <code class="function">open()</code> directly.  Along the same lines, an
      application should always set a proper umask before
      <code class="function">open()</code> to obviate the need for spurious
      <code class="function">chmod()</code> calls.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="secure-trust.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="secure.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="l10n.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3.6. Trust </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 章 4. Localization and Internationalization - L10N and I18N</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>