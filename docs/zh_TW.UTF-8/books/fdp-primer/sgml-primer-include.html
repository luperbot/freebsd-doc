<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>3.7. Using entities to include files</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 文件計畫入門書" /><link rel="up" href="sgml-primer.html" title="章 3. SGML Primer" /><link rel="prev" href="sgml-primer-entities.html" title="3.6. Entities" /><link rel="next" href="sgml-primer-marked-sections.html" title="3.8. Marked sections" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.7. Using entities to include files</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sgml-primer-entities.html">前一頁</a> </td><th width="60%" align="center">章 3. SGML Primer</th><td width="20%" align="right"> <a accesskey="n" href="sgml-primer-marked-sections.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sgml-primer-include"></a>3.7. Using entities to include files</h2></div></div></div><p>Entities (both <a class="link" href="sgml-primer-entities.html#sgml-primer-general-entities" title="3.6.1. General Entities">general</a> and <a class="link" href="sgml-primer-entities.html#sgml-primer-parameter-entities" title="3.6.2. Parameter entities">parameter</a>) are
      particularly useful when used to include one file inside another.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sgml-primer-include-using-gen-entities"></a>3.7.1. Using general entities to include files</h3></div></div></div><p>Suppose you have some content for an SGML book organized into
	files, one file per chapter, called
	<code class="filename">chapter1.xml</code>,
	<code class="filename">chapter2.xml</code>, and so forth, with a
	<code class="filename">book.xml</code> file that will contain these
	chapters.</p><p>In order to use the contents of these files as the values for your
	entities, you declare them with the <code class="literal">SYSTEM</code> keyword.
	This directs the SGML parser to use the contents of the named file as
	the value of the entity.</p><div class="example"><a id="idp64578640"></a><div class="example-title">範例 3.12. Using general entities to include files</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY chapter.1 SYSTEM "chapter1.xml"&gt;
&lt;!ENTITY chapter.2 SYSTEM "chapter2.xml"&gt;
&lt;!ENTITY chapter.3 SYSTEM "chapter3.xml"&gt;
]&gt;

&lt;html&gt;

  &amp;chapter.1;
  &amp;chapter.2;
  &amp;chapter.3;
&lt;/html&gt;</pre></div></div><br class="example-break" /><div xmlns="" class="warning"><h3 class="admontitle">警告: </h3><p xmlns="http://www.w3.org/1999/xhtml">When using general entities to include other files within a
	  document, the files being included
	  (<code class="filename">chapter1.xml</code>,
	  <code class="filename">chapter2.xml</code>, and so on) <span class="emphasis"><em>must
	    not</em></span> start with a DOCTYPE declaration.  This is a syntax
	  error.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64595792"></a>3.7.2. Using parameter entities to include files</h3></div></div></div><p>Recall that parameter entities can only be used inside an SGML
	context.  Why then would you want to include a file within an SGML
	context?</p><p>You can use this to ensure that you can reuse your general
	entities.</p><p>Suppose that you had many chapters in your document, and you
	reused these chapters in two different books, each book organizing the
	chapters in a different fashion.</p><p>You could list the entities at the top of each book, but this
	quickly becomes cumbersome to manage.</p><p>Instead, place the general entity definitions inside one file,
	and use a parameter entity to include that file within your
	document.</p><div class="example"><a id="idp64611024"></a><div class="example-title">範例 3.13. Using parameter entities to include files</div><div class="example-contents"><p>First, place your entity definitions in a separate file, called
	  <code class="filename">chapters.ent</code>.  This file contains the
	  following:</p><pre class="programlisting">&lt;!ENTITY chapter.1 SYSTEM "chapter1.xml"&gt;
&lt;!ENTITY chapter.2 SYSTEM "chapter2.xml"&gt;
&lt;!ENTITY chapter.3 SYSTEM "chapter3.xml"&gt;</pre><p>Now create a parameter entity to refer to the contents of the
	  file.  Then use the parameter entity to load the file into the
	  document, which will then make all the general entities available
	  for use.  Then use the general entities as before:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % chapters SYSTEM "chapters.ent"&gt;
%chapters;
]&gt;

&lt;html&gt;
  &amp;chapter.1;
  &amp;chapter.2;
  &amp;chapter.3;
&lt;/html&gt;</pre></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64618064"></a>3.7.3. For you to do…</h3></div></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64619472"></a>3.7.3.1. Use general entities to include files</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Create three files, <code class="filename">para1.xml</code>,
	      <code class="filename">para2.xml</code>, and
	      <code class="filename">para3.xml</code>.</p><p>Put content similar to the following in each file:</p><pre class="programlisting">&lt;p&gt;This is the first paragraph.&lt;/p&gt;</pre></li><li class="step"><p>Edit <code class="filename">example.xml</code> so that it looks like
	      this:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY version "1.1"&gt;
&lt;!ENTITY para1 SYSTEM "para1.xml"&gt;
&lt;!ENTITY para2 SYSTEM "para2.xml"&gt;
&lt;!ENTITY para3 SYSTEM "para3.xml"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;An example HTML file&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;The current version of this document is: &amp;version;&lt;/p&gt;

    &amp;para1;
    &amp;para2;
    &amp;para3;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Produce <code class="filename">example.html</code> by normalizing
	      <code class="filename">example.xml</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sgmlnorm -d example.xml &gt; example.html</code></strong></pre></li><li class="step"><p>Load <code class="filename">example.html</code> into your web
	      browser, and confirm that the
	      <code class="filename">paran.xml</code> files
	      have been included in <code class="filename">example.html</code>.</p></li></ol></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64667344"></a>3.7.3.2. Use parameter entities to include files</h4></div></div></div><div xmlns="" class="note"><h3 class="admontitle">注意: </h3><p xmlns="http://www.w3.org/1999/xhtml">You must have taken the previous steps first.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Edit <code class="filename">example.xml</code> so that it looks like
	      this:</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % entities SYSTEM "entities.xml"&gt; %entities;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;An example HTML file&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;The current version of this document is: &amp;version;&lt;/p&gt;

    &amp;para1;
    &amp;para2;
    &amp;para3;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Create a new file, <code class="filename">entities.xml</code>, with
	      this content:</p><pre class="programlisting">&lt;!ENTITY version "1.1"&gt;
&lt;!ENTITY para1 SYSTEM "para1.xml"&gt;
&lt;!ENTITY para2 SYSTEM "para2.xml"&gt;
&lt;!ENTITY para3 SYSTEM "para3.xml"&gt;</pre></li><li class="step"><p>Produce <code class="filename">example.html</code> by normalizing
	      <code class="filename">example.xml</code>.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sgmlnorm -d example.xml &gt; example.html</code></strong></pre></li><li class="step"><p>Load <code class="filename">example.html</code> into your web
	      browser, and confirm that the
	      <code class="filename">paran.xml</code> files
	      have been included in <code class="filename">example.html</code>.</p></li></ol></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sgml-primer-entities.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="sgml-primer.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="sgml-primer-marked-sections.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3.6. Entities </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 3.8. Marked sections</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>