<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>3.6. Entities</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 文件計畫入門書" /><link rel="up" href="sgml-primer.html" title="章 3. SGML Primer" /><link rel="prev" href="sgml-primer-comments.html" title="3.5. 註解" /><link rel="next" href="sgml-primer-include.html" title="3.7. Using entities to include files" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3.6. Entities</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sgml-primer-comments.html">前一頁</a> </td><th width="60%" align="center">章 3. SGML Primer</th><td width="20%" align="right"> <a accesskey="n" href="sgml-primer-include.html">下一頁</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="sgml-primer-entities"></a>3.6. Entities</h2></div></div></div><p>Entities are a mechanism for assigning names to chunks of content.
      As an SGML parser processes your document, any entities it finds are
      replaced by the content of the entity.</p><p>This is a good way to have re-usable, easily changeable chunks of
      content in your SGML documents.  It is also the only way to include one
      marked up file inside another using SGML.</p><p>There are two types of entities which can be used in two different
      situations; <span class="emphasis"><em>general entities</em></span> and
      <span class="emphasis"><em>parameter entities</em></span>.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sgml-primer-general-entities"></a>3.6.1. General Entities</h3></div></div></div><p>You cannot use general entities in an SGML context (although you
	define them in one).  They can only be used in your document.
	Contrast this with <a class="link" href="sgml-primer-entities.html#sgml-primer-parameter-entities" title="3.6.2. Parameter entities">parameter
	  entities</a>.</p><p>Each general entity has a name.  When you want to reference a
	general entity (and therefore include whatever text it represents in
	your document), you write
	<code class="literal">&amp;entity-name;</code>.  For
	example, suppose you had an entity called
	<code class="literal">current.version</code> which expanded to the current
	version number of your product.  You could write:</p><pre class="programlisting">&lt;para&gt;The current version of our product is
  &amp;current.version;.&lt;/para&gt;</pre><p>When the version number changes you can simply change the
	definition of the value of the general entity and reprocess your
	document.</p><p>You can also use general entities to enter characters that you
	could not otherwise include in an SGML document.  For example,
	<code class="literal">&lt;</code> and <code class="literal">&amp;</code> cannot
	normally appear in an SGML document.  When the SGML
	parser sees the <code class="literal">&lt;</code>
	symbol it assumes that a tag (either a start tag
	or an end tag) is about to appear, and when it sees the
	<code class="literal">&amp;</code> symbol
	it assumes the next text will be the name of an entity.</p><p>Fortunately, you can use the two general entities
	<code class="literal">&amp;lt;</code> and <code class="literal">&amp;amp;</code>
	whenever you need to include one or other of these.</p><p>A general entity can only be defined within an SGML context.
	Typically, this is done immediately after the DOCTYPE
	declaration.</p><div class="example"><a id="idp64471760"></a><div class="example-title">範例 3.10. Defining general entities</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY current.version    "3.0-RELEASE"&gt;
&lt;!ENTITY last.version       "2.2.7-RELEASE"&gt;
]&gt;</pre><p>Notice how the DOCTYPE declaration has been extended by adding a
	  square bracket at the end of the first line.  The two entities are
	  then defined over the next two lines, before the square bracket is
	  closed, and then the DOCTYPE declaration is closed.</p><p>The square brackets are necessary to indicate that we are
	  extending the DTD indicated by the DOCTYPE declaration.</p></div></div><br class="example-break" /></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="sgml-primer-parameter-entities"></a>3.6.2. Parameter entities</h3></div></div></div><p>Like <a class="link" href="sgml-primer-entities.html#sgml-primer-general-entities" title="3.6.1. General Entities">general
	  entities</a>, parameter entities are used to assign names to
	reusable chunks of text.  However, where as general entities can only
	be used within your document, parameter entities can only be used
	within an <a class="link" href="sgml-primer-sgml-escape.html" title="3.4. Escaping back to SGML">SGML
	  context</a>.</p><p>Parameter entities are defined in a similar way to general
	entities.  However, instead of using
	<code class="literal">&amp;entity-name;</code> to
	refer to them, use
	<code class="literal">%entity-name;</code><a href="#ftn.idp64499024" class="footnote" id="idp64499024"><sup class="footnote">[1]</sup></a>.  The definition also includes the <code class="literal">%</code>
	between the <code class="literal">ENTITY</code> keyword and the name of the
	entity.</p><div class="example"><a id="idp64507344"></a><div class="example-title">範例 3.11. Defining parameter entities</div><div class="example-contents"><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0//EN" [
&lt;!ENTITY % param.some "some"&gt;
&lt;!ENTITY % param.text "text"&gt;
&lt;!ENTITY % param.new  "%param.some more %param.text"&gt;
]&gt;</pre></div></div><br class="example-break" /><p>This may not seem particularly useful.  It will be.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp64511696"></a>3.6.3. For you to do…</h3></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Add a general entity to
	    <code class="filename">example.xml</code>.</p><pre class="programlisting">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" [
&lt;!ENTITY version "1.1"&gt;
]&gt;

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;An example HTML file&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;p&gt;This is a paragraph containing some text.&lt;/p&gt;

    &lt;p&gt;This paragraph contains some more text.&lt;/p&gt;

    &lt;p align="right"&gt;This paragraph might be right-justified.&lt;/p&gt;

    &lt;p&gt;The current version of this document is: &amp;version;&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre></li><li class="step"><p>Validate the document using <code class="command">nsgmls</code>.</p></li><li class="step"><p>Load <code class="filename">example.xml</code> into your web browser
	    (you may need to copy it to <code class="filename">example.html</code>
	    before your browser recognizes it as an HTML document).</p><p>Unless your browser is very advanced, you will not see the entity
	    reference <code class="literal">&amp;version;</code> replaced with the
	    version number.  Most web browsers have very simplistic parsers
	    which do not handle proper SGML<a href="#ftn.idp64537296" class="footnote" id="idp64537296"><sup class="footnote">[2]</sup></a>.</p></li><li class="step"><p>The solution is to <span class="emphasis"><em>normalize</em></span> your
	    document using an SGML normalizer.  The normalizer reads in valid
	    SGML and outputs equally valid SGML which has been transformed in
	    some way.  One of the ways in which the normalizer transforms the
	    SGML is to expand all the entity references in the document,
	    replacing the entities with the text that they represent.</p><p>You can use <code class="command">sgmlnorm</code> to do this.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sgmlnorm example.xml &gt; example.html</code></strong></pre><p>You should find a normalized (i.e., entity references
	    expanded) copy of your document in
	    <code class="filename">example.html</code>, ready to load into your web
	    browser.</p></li><li class="step"><p>If you look at the output from <code class="command">sgmlnorm</code>
	    you will see that it does not include a DOCTYPE declaration at
	    the start.  To include this you need to use the <code class="option">-d</code>
	    option:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>sgmlnorm -d example.xml &gt; example.html</code></strong></pre></li></ol></div></div><div class="footnotes"><br /><hr class="footnote-hr" /><div id="ftn.idp64499024" class="footnote"><p><a href="#idp64499024" class="para"><sup class="para">[1] </sup></a><span class="emphasis"><em>P</em></span>arameter entities use the
	    <span class="emphasis"><em>P</em></span>ercent symbol.</p></div><div id="ftn.idp64537296" class="footnote"><p><a href="#idp64537296" class="para"><sup class="para">[2] </sup></a>This is a shame.  Imagine all the problems and hacks (such
		as Server Side Includes) that could be avoided if they
		did.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sgml-primer-comments.html">前一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="sgml-primer.html">上一層</a></td><td width="40%" align="right"> <a accesskey="n" href="sgml-primer-include.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3.5. 註解 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 3.7. Using entities to include files</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>