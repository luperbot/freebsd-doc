<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>章 11. Using sgml-mode with Emacs</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD 文件計畫入門書" /><link rel="up" href="index.html" title="FreeBSD 文件計畫入門書" /><link rel="prev" href="writing-style-word-list.html" title="10.2. 詞彙表" /><link rel="next" href="see-also.html" title="章 12. 他山之石" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">章 11. Using <code class="literal">sgml-mode</code> with
    <span class="application">Emacs</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="writing-style-word-list.html">前一頁</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="see-also.html">下一頁</a></td></tr></table><hr /></div><div class="chapter"><div xmlns="" class="titlepage"><div><div><h1 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="psgml-mode"></a>章 11. Using <code class="literal">sgml-mode</code> with
    <span class="application">Emacs</span></h1></div></div></div><p>Recent versions of <span class="application">Emacs</span> or <span class="application">XEmacs</span> (available from the ports
    collection) contain a very useful package called PSGML. Automatically
    invoked when a file with the <code class="filename">.xml</code> extension is loaded,
    or by typing <code class="command">M-x sgml-mode</code>, it is a major mode for
    dealing with SGML files, elements and attributes.</p><p>An understanding of some of the commands provided by this mode can
    make working with SGML documents such as the Handbook much easier.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">C-c C-e</code></span></dt><dd><p>Runs <code class="literal">sgml-insert-element</code>. You will be
	  prompted for the name of the element to insert at the current point.
	  You can use the TAB key to complete the element. Elements that are
	  not valid at the current point will be disallowed.</p><p>The start and end tags for the element will be inserted. If the
	  element contains other, mandatory, elements then these will be
	  inserted as well.</p></dd><dt><span class="term"><code class="command">C-c =</code></span></dt><dd><p>Runs <code class="literal">sgml-change-element-name</code>. Place the
	  point within an element and run this command. You will be prompted
	  for the name of the element to change to. Both the start and end
	  tags of the current element will be changed to the new
	  element.</p></dd><dt><span class="term"><code class="command">C-c C-r</code></span></dt><dd><p>Runs <code class="literal">sgml-tag-region</code>. Select some text (move
	  to start of text, C-space, move to end of text, C-space) and then
	  run this command. You will be prompted for the element to use. This
	  element will then be inserted immediately before and after your
	  marked region.</p></dd><dt><span class="term"><code class="command">C-c -</code></span></dt><dd><p>Runs <code class="literal">sgml-untag-element</code>. Place the point
	  within the start or end tag of an element you want to remove, and
	  run this command. The element's start and end tags will be
	  removed.</p></dd><dt><span class="term"><code class="command">C-c C-q</code></span></dt><dd><p>Runs <code class="literal">sgml-fill-element</code>. Will recursively fill
	  (i.e., reformat) content from the current element in. The filling
	  <span class="emphasis"><em>will</em></span> affect content in which whitespace is
	  significant, such as within <code class="sgmltag-element">programlisting</code>
	  elements, so run this command with care.</p></dd><dt><span class="term"><code class="command">C-c C-a</code></span></dt><dd><p>Runs <code class="literal">sgml-edit-attributes</code>. Opens a second
	  buffer containing a list of all the attributes for the closest
	  enclosing element, and their current values. Use TAB to navigate
	  between attributes, <code class="command">C-k</code> to remove an existing
	  value and replace it with a new one, <code class="command">C-c C-c</code>
	  to close this buffer and return to the main document.</p></dd><dt><span class="term"><code class="command">C-c C-v</code></span></dt><dd><p>Runs <code class="literal">sgml-validate</code>. Prompts you to save the
	  current document (if necessary) and then runs an SGML validator. The
	  output from the validator is captured into a new buffer, and you can
	  then navigate from one troublespot to the next, fixing markup errors
	  as you go.</p></dd><dt><span class="term"><code class="command">C-c /</code></span></dt><dd><p>Runs <code class="literal">sgml-insert-end-tag</code>. Inserts the
	  end tag for the current open element.</p></dd></dl></div><p>Doubtless there are other useful functions of this mode, but those are
    the ones I use most often.</p><p>You can also use the following entries in
    <code class="filename">.emacs</code> to set proper spacing, indentation,
    and column width for working with the Documentation Project.</p><pre class="programlisting">
    (defun local-sgml-mode-hook
      (setq fill-column 70
            indent-tabs-mode nil
            next-line-add-newlines nil
            standard-indent 4
            sgml-indent-data t)
      (auto-fill-mode t)
      (setq sgml-catalog-files '("/usr/local/share/xml/catalog")))
    (add-hook 'psgml-mode-hook
      '(lambda () (local-psgml-mode-hook)))
  </pre></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="writing-style-word-list.html">前一頁</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="see-also.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">10.2. 詞彙表 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 章 12. 他山之石</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>本文及其他文件，可由此下載：
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a>。</small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>若有 FreeBSD 方面疑問，請先閱讀
    <a href="http://www.FreeBSD.org/docs.html">FreeBSD 相關文件</a>，如不能解決的話，再洽詢
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;。<br></br>
    關於本文件的問題，請洽詢
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;。</small></p></body></html>