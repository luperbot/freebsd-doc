<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>20.5. RAID3 - Striping op byte-niveau met toegewijde pariteit</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="GEOM.html" title="Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk" /><link rel="prev" href="GEOM-mirror.html" title="20.4. RAID1 - spiegelen" /><link rel="next" href="geom-ggate.html" title="20.6. GEOM Gate netwerk apparaten" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">20.5. <acronym class="acronym">RAID</acronym>3 - Striping op byte-niveau met toegewijde
      pariteit</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="GEOM-mirror.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 20. GEOM: Modulair schijftransformatie raamwerk</th><td width="20%" align="right"> <a accesskey="n" href="geom-ggate.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="GEOM-raid3"></a>20.5. <acronym class="acronym">RAID</acronym>3 - Striping op byte-niveau met toegewijde
      pariteit</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Mark</span> <span class="surname">Gladman</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Daniel</span> <span class="surname">Gerzo</span></span>. </span></div><div><span class="authorgroup">Gebaseerd op documentatie van <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span> en <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp81253712" class="indexterm"></a><a id="idp81254224" class="indexterm"></a><p><acronym class="acronym">RAID</acronym>3 is een methode om verschillende schijven te
      combineren in een enkel volume met een toegewijde schijf voor de pariteit.
      In een <acronym class="acronym">RAID</acronym>3-systeem worden de gegevens opgesplitst in
      een aantal bytes die over alle schijven in de rij worden geschreven,
      behalve naar één schijf die als een toegewijde schijf voor
      de pariteit dient.  Dit betekent dat het lezen van 1024 kB van een
      <acronym class="acronym">RAID</acronym>3-implementatie alle schijven in de rij zal
      benaderen.  De prestatie kan worden verhoogd door meerdere
      schijfcontrollers te gebruiken.  De <acronym class="acronym">RAID</acronym>3-rij biedt een
      fouttolerantie van 1 schijf, terwijl het een capaciteit van 1 - 1/n maal
      de totale capaciteit biedt van alle schijven in de rij, waarbij n het
      aantal harde schijven in de rij is.  Zulke configuraties zijn meestal
      geschikt voor het opslaan van gegevens van grotere groottes, bijvoorbeeld
      multimedia-bestanden.</p><p>Er zijn minstens 3 fysieke harde schijven nodig om een
      <acronym class="acronym">RAID</acronym>3-rij te bouwen.  Elke schijf moet van dezelfde
      grootte zijn, aangezien I/O-verzoeken worden verweven om parallel naar
      meerdere schijven te lezen of schrijven.  Bovendien moet vanwege de aard
      van <acronym class="acronym">RAID</acronym>3 het aantal schijven gelijk zijn aan 3, 5, 9,
      17, enzovoorts (dus 2^n + 1).</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp81257808"></a>20.5.1. Een toegewijde <acronym class="acronym">RAID</acronym>3-rij aanmaken.</h3></div></div></div><p>In FreeBSD is ondersteuning voor <acronym class="acronym">RAID</acronym>3
	geïmplementeerd in de <acronym class="acronym">GEOM</acronym>-klasse
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=graid3&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">graid3</span>(8)</span></a>.  Voor het aanmaken van een toegewijde
	<acronym class="acronym">RAID</acronym>3-rij op FreeBSD zijn deze stappen nodig.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Hoewel het theoretisch mogelijk is om op FreeBSD van een
	  <acronym class="acronym">RAID</acronym>3-rij op te starten, is deze configuratie
	  ongebruikelijk en niet aangeraden.</p></div><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Laad ten eerste de kernelmodule
	    <code class="filename">geom_raid3.ko</code> door de volgende opdracht uit te
	    voeren:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>graid3 load</code></strong></pre><p>Het is ook mogelijk om handmatig de module
	    <code class="filename">geom_raid3.ko</code> te laden:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>kldload geom_raid3.ko</code></strong></pre></li><li class="step"><p>Zorg ervoor dat er een geschikt aankoppelpunt bestaat of maak
	    het aan:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mkdir /multimedia/</code></strong></pre></li><li class="step"><p>Bepaal de apparaatnamen voor de schijven die aan de rij worden
	    toegevoegd en maak het nieuwe <acronym class="acronym">RAID</acronym>3-apparaat
	    aan.  Het laatst vermelde apparaat zal dienst doen als de toegewijde
	    schijf voor de pariteit.  Dit voorbeeld gebruikt drie
	    ongepartitioneerde <acronym class="acronym">ATA</acronym>-schijven:
	    <code class="filename">ada1</code> en
	    <code class="filename">ada2</code> voor
	    gegevens en <code class="filename">ada3</code>
	    voor pariteit.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>graid3 label -v gr0 /dev/ada1 /dev/ada2 /dev/ada3</code></strong>
Metadata value stored on /dev/ada1.
Metadata value stored on /dev/ada2.
Metadata value stored on /dev/ada3.
Done.</pre></li><li class="step"><p>Partitioneer het nieuw aangemaakte apparaat
	    <code class="filename">gr0</code> en zet er een UFS-bestandssysteem
	    op:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>gpart create -s GPT /dev/raid3/gr0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>gpart add -t freebsd-ufs /dev/raid3/gr0</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>newfs -j /dev/raid3/gr0p1</code></strong></pre><p>Vele getallen zullen over het scherm lopen, en na wat tijd zal
	    het proces voltooid zijn.  Het volume is aangemaakt en is klaar om
	    aangekoppeld te worden.</p></li><li class="step"><p>De laatste stap is het aankoppelen van het
	    bestandssysteem:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mount /dev/raid3/gr0p1 /multimedia/</code></strong></pre><p>De <acronym class="acronym">RAID</acronym>3-rij is nu klaar voor gebruik.</p></li></ol></div><p>Aanvullende configuratie is nodig om de bovenstaande opstelling te
	behouden tussen het opnieuw starten van het systeem.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>De module <code class="filename">geom_raid3.ko</code> moet geladen zijn
	    voordat de rij kan worden aangekoppeld.  Voeg de volgende regel toe
	    aan <code class="filename">/boot/loader.conf</code> om de kernelmodule
	    automatisch tijdens de initialisatie van het systeem te
	    laden:</p><pre class="programlisting">geom_raid3_load="YES"</pre></li><li class="step"><p>De volgende volume-informatie moet aan het bestand
	    <code class="filename">/etc/fstab</code> worden toegevoegd om het
	    bestandssysteem van de rij automatisch aan de koppelen tijdens het
	    opstarten van het systeem:</p><pre class="programlisting">/dev/raid3/gr0p1	/multimedia	ufs	rw	2	2</pre></li></ol></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="GEOM-mirror.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="GEOM.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="geom-ggate.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">20.4. RAID1 - spiegelen </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 20.6. GEOM Gate netwerk apparaten</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>