<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.8. File Transfer Protocol (FTP)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="network-servers.html" title="Hoofdstuk 29. Netwerkdiensten" /><link rel="prev" href="network-apache.html" title="29.7. Apache HTTP server" /><link rel="next" href="network-samba.html" title="29.9. Bestands- en printdiensten voor Microsoft® Windows® cliënten (Samba)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.8. File Transfer Protocol (FTP)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-apache.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 29. Netwerkdiensten</th><td width="20%" align="right"> <a accesskey="n" href="network-samba.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-ftp"></a>29.8. File Transfer Protocol (FTP)</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Murray</span> <span class="surname">Stokely</span></span>. </span></div></div></div><a id="idp87641552" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87642064"></a>29.8.1. Overzicht</h3></div></div></div><p>Het File Transfer Protocol (FTP) biedt gebruikers een
	eenvoudige manier om bestanden van en naar een <acronym class="acronym">FTP</acronym> server te
	verplaatsen.  FreeBSD bevat <acronym class="acronym">FTP</acronym>
	server software, <span class="application">ftpd</span>, in het
	basissysteem.  Hierdoor is het opzetten en beheren van een
	<acronym class="acronym">FTP</acronym> server op
	FreeBSD erg overzichtelijk.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87645136"></a>29.8.2. Instellen</h3></div></div></div><p>De belangrijkste stap bij het instellen is de beslissing
	welke accounts toegang krijgen tot de FTP server.  Een normaal
	FreeBSD systeem heeft een aantal systeemaccounts die gebruikt
	worden voor daemons, maar onbekende gebruikers mag niet
	toegestaan worden van die accounts gebruikt te maken.  In
	<code class="filename">/etc/ftpusers</code> staat een lijst met
	gebruikers die geen FTP toegang hebben.  Standaard staan daar de
	voorgenoemde accounts in, maar het is ook mogelijk om daar
	gebruikers toe te voegen die geen FTP toegang mogen hebben.</p><p>Het kan ook wenselijk zijn de FTP toegang voor sommige
	gebruikers te beperken, maar niet onmogelijk te maken.  Dit kan
	met <code class="filename">/etc/ftpchroot</code>.  In dat bestand staan
	gebruikers en groepen waarop FTP toegangsbeperkingen van
	toepassing zijn.  In <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ftpchroot&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">ftpchroot</span>(5)</span></a> staan alle details die
	hier niet beschreven zijn.</p><a id="idp87648336" class="indexterm"></a><p>Om anonieme FTP toegang voor een server in te schakelen,
	dient er een gebruiker <code class="systemitem">ftp</code> op een FreeBSD
	systeem aangemaakt te worden.  Dan kunnen gebruikers op de
	server aanmelden met de gebruikersnaam <code class="systemitem">ftp</code>
	of <code class="systemitem">anonymous</code> en met ieder wachtwoord (de
	geldende conventie schrijft voor dat dit een emailadres
	van de gebruiker is).  De FTP server roep bij een anonieme
	aanmelding <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> aan, zodat er alleen toegang is tot de
	thuismap van de gebruiker <code class="systemitem">ftp</code>.</p><p>Er zijn twee tekstbestanden waarin welkomstberichten voor de
	FTP-cliënten gezet kunnen worden.  De inhoud van
	<code class="filename">/etc/ftpwelcome</code> wordt getoond voordat
	gebruikers een aanmeldprompt zien.  Na een succesvolle
	aanmelding wordt de inhoud van
	<code class="filename">/etc/ftpmotd</code> getoond.  Het genoemde pad is
	relatief ten opzichte van de aanmeldomgeving, dus voor anonieme
	gebruikers wordt <code class="filename">~ftp/etc/ftpmotd</code>
	getoond.</p><p>Als een FTP server eenmaal correct is ingesteld, moet die
	ingeschakeld worden in <code class="filename">/etc/inetd.conf</code>.
	Daar moet het commentaarkarakter <code class="literal">#</code> voor de
	bestaande <span class="application">ftpd</span> regel verwijderd
	worden:</p><pre class="programlisting">ftp	stream	tcp	nowait	root	/usr/libexec/ftpd	ftpd -l</pre><p>Zoals is uitgelegd in <a class="xref" href="network-inetd.html#network-inetd-reread" title="Voorbeeld 29.1. Het instellingenbestand van inetd herladen">Voorbeeld 29.1, &#8220;Het instellingenbestand van <span class="application">inetd</span>
	  herladen&#8221;</a>,
	moet de configuratie van <span class="application">inetd</span> worden
	herladen nadat dit instellingenbestand is gewijzigd.  Details
	over het aanzetten van <span class="application">inetd</span> op uw
	systeem staan in <a class="xref" href="network-inetd.html#network-inetd-settings" title="29.2.2. Instellingen">Paragraaf 29.2.2, &#8220;Instellingen&#8221;</a>.</p><p>Als alternatief kan <span class="application">ftpd</span> ook
	gestart worden als een op zichzelf staande dienst.  In dat geval
	volstaat het om de juiste variabele in te stellen in
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">ftpd_enable="YES"</pre><p>Na het instellen van de bovenstaande variabele zal de op
	zichzelf staande server gestart worden nadat de computer opnieuw
	is opgestart, of het kan handmatig worden gestart door het
	volgende commando als <code class="systemitem">root</code> uit te
	voeren:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>service ftpd start</code></strong></pre><p>Nu kan aangemeld worden op de FTP-server met:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ftp localhost</code></strong></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp87671760"></a>29.8.3. Beheren</h3></div></div></div><a id="idp87672400" class="indexterm"></a><a id="idp87672912" class="indexterm"></a><p>De <span class="application">ftpd</span> daemon gebruikt
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=syslog&amp;sektion=3"><span class="citerefentry"><span class="refentrytitle">syslog</span>(3)</span></a> om berichten te loggen.  Standaard plaatst de
	systeemlogdaemon berichten over FTP in
	<code class="filename">/var/log/xferlog</code>.  De lokatie van het FTP
	logboek kan gewijzigd worden door de volgende regels in
	<code class="filename">/etc/syslog.conf</code> te wijzigen:</p><pre class="programlisting">ftp.info      /var/log/xferlog</pre><a id="idp87676752" class="indexterm"></a><p>Het is verstandig na te denken over de gevaren die op de
	loer liggen bij het draaien van een anonieme FTP server.  Dat
	geldt in het bijzonder voor het laten uploaden ven bestanden.
	Het is dan goed mogelijk dat een FTP site een forum wordt om
	commerciële software zonder licenties uit te wisselen of
	erger.  Als anonieme uploads toch nodig zijn, dan horen de
	rechten op die bestanden zo te staan dat ze niet door andere
	anonieme gebruikers gelezen kunnen worden tot er door een
	beheerder naar gekeken is.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-apache.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="network-servers.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="network-samba.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">29.7. Apache HTTP server </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 29.9. Bestands- en printdiensten voor <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®
      cliënten (Samba)</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>