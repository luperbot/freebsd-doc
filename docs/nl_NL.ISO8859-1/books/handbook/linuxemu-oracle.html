<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>11.6. Oracle® installeren</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="linuxemu.html" title="Hoofdstuk 11. Linux® binaire compatibiliteit" /><link rel="prev" href="linuxemu-matlab.html" title="11.5. MATLAB® installeren" /><link rel="next" href="linuxemu-advanced.html" title="11.7. Gevorderde onderwerpen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11.6. <span class="trademark">Oracle</span>® installeren</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 11. <span class="trademark">Linux</span>® binaire compatibiliteit</th><td width="20%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="linuxemu-oracle"></a>11.6. <span class="trademark">Oracle</span>® installeren</h2></div><div><span class="authorgroup">Bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marcel</span> <span class="surname">Moolenaar</span></span>. </span></div></div></div><a id="idp74494032" class="indexterm"></a><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74495440"></a>11.6.1. Voorwoord</h3></div></div></div><p>Hieronder wordt het installatieproces van
	<span class="application"><span class="trademark">Oracle</span>® 8.0.5</span> en
	<span class="application"><span class="trademark">Oracle</span>® 8.0.5.1 Enterprise
	  Edition</span> voor <span class="trademark">Linux</span>® op een FreeBSD-machine
	beschreven.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74498640"></a>11.6.2. De <span class="trademark">Linux</span>®-omgeving installeren</h3></div></div></div><p>Uit de Portscollectie dienen <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/linux_base/pkg-descr">emulators/linux_base</a> en <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/devel/linux_devtools/pkg-descr">devel/linux_devtools</a>
	geïnstalleerd te zijn.  Als er problemen zijn met deze
	ports, kan het zijn dat de pakketten of oudere versies uit de
	Portscollectie gebruikt moeten worden.</p><p>Om de intelligente agent te draaien, moet ook het Red Hat
	Tcl package geïnstalleerd worden:
	<code class="filename">tcl-8.0.3-20.i386.rpm</code>.  Het algemene
	commando om pakketten te installeren met de officiële
	<span class="application">RPM</span> port (<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/archivers/rpm/pkg-descr">archivers/rpm</a>) is:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>rpm -i --ignoreos --root /compat/linux --dbpath /var/lib/rpm package</code></strong></pre><p>De installatie van het <em class="replaceable"><code>package</code></em>
	hoort foutloos te verlopen.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74508496"></a>11.6.3. De <span class="trademark">Oracle</span>®-omgeving creëren</h3></div></div></div><p>Voordat <span class="application"><span class="trademark">Oracle</span>®</span>
	geïnstalleerd kan worden, moet een juiste omgeving
	opgezet worden.  Dit document beschrijft alleen welke
	<span class="emphasis"><em>speciale</em></span> dingen gedaan moeten worden om
	<span class="application"><span class="trademark">Oracle</span>®</span> voor <span class="trademark">Linux</span>® op FreeBSD te
	draaien, en niet wat beschreven staat in de
	<span class="application"><span class="trademark">Oracle</span>®</span>
	installatiehandleiding.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-kernel-tuning"></a>11.6.3.1. Kerneloptimalisatie</h4></div></div></div><a id="idp74513616" class="indexterm"></a><p>Zoals beschreven staat in de
	  <span class="application"><span class="trademark">Oracle</span>®</span> installatiehandleiding
	  moet de maximale grootte van het gedeelde geheugen ingesteld
	  worden.  Op FreeBSD moet <code class="literal">SHMMAX</code> niet gebruikt
	  worden.  <code class="literal">SHMMAX</code> wordt slechts uit
	  <code class="literal">SHMMAXPGS</code> en <code class="literal">PGSIZE</code>
	  berekend.  Daarom dient <code class="literal">SHMMAXPGS</code>
	  gedefinieerd te worden.  Alle andere opties kunnen gebruikt
	  worden zoals in de handleiding staat beschreven.
	  Bijvoorbeeld:</p><pre class="programlisting">options SHMMAXPGS=10000
options SHMMNI=100
options SHMSEG=10
options SEMMNS=200
options SEMMNI=70
options SEMMSL=61</pre><p>Deze opties kunnen naargelang het gebruik van
	  <span class="application"><span class="trademark">Oracle</span>®</span> ingesteld worden.</p><p>Ook de volgende opties dienen in het
	  kernelinstellingenbestand te staan:</p><pre class="programlisting">options SYSVSHM #SysV gedeeld geheugen
options SYSVSEM #SysV semaforen
options SYSVMSG #SysV interprocescommunicatie</pre></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-oracle-account"></a>11.6.3.2. <span class="trademark">Oracle</span>® account</h4></div></div></div><p>Creeër een <code class="systemitem">oracle</code> account op
	  dezelfde manier als elk ander account.  Het
	  <code class="systemitem">oracle</code> account is alleen bijzonder in
	  het opzicht dat het een <span class="trademark">Linux</span>® shell moet hebben.  Dat kan
	  door <code class="literal">/compat/linux/bin/bash</code> toe te voegen
	  aan <code class="filename">/etc/shells</code> en de shell voor het
	  <code class="systemitem">oracle</code> account in te stellen op
	  <code class="filename">/compat/linux/bin/bash</code>.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-environment"></a>11.6.3.3. Omgeving</h4></div></div></div><p>Naast de normale <span class="application"><span class="trademark">Oracle</span>®</span>
	  variabelen als <code class="envar">ORACLE_HOME</code> en
	  <code class="envar">ORACLE_SID</code> moeten de volgende
	  omgevingsvariabelen ingesteld worden:</p><div class="informaltable"><table border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Variabele</th><th>Waarde</th></tr></thead><tbody><tr><td><code class="envar">LD_LIBRARY_PATH</code></td><td><code class="literal">$ORACLE_HOME/lib</code></td></tr><tr><td><code class="envar">CLASSPATH</code></td><td><code class="literal">$ORACLE_HOME/jdbc/lib/classes111.zip</code></td></tr><tr><td><code class="envar">PATH</code></td><td><code class="literal">/compat/linux/bin;
/compat/linux/sbin;
/compat/linux/usr/bin;
/compat/linux/usr/sbin;
/bin;
/sbin;
/usr/bin;
/usr/sbin;
/usr/local/bin;
$ORACLE_HOME/bin</code></td></tr></tbody></table></div><p>Het is aan te raden om alle omgevingsvariabelen in
	  <code class="filename">.profile</code> in te stellen.  Een volledig
	  voorbeeld is:</p><pre class="programlisting">ORACLE_BASE=/oracle; export ORACLE_BASE
ORACLE_HOME=/oracle; export ORACLE_HOME
LD_LIBRARY_PATH=$ORACLE_HOME/lib
export LD_LIBRARY_PATH
ORACLE_SID=ORCL; export ORACLE_SID
ORACLE_TERM=386x; export ORACLE_TERM
CLASSPATH=$ORACLE_HOME/jdbc/lib/classes111.zip
export CLASSPATH
PATH=/compat/linux/bin:/compat/linux/sbin:/compat/linux/usr/bin
PATH=$PATH:/compat/linux/usr/sbin:/bin:/sbin:/usr/bin:/usr/sbin
PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin
export PATH</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74541008"></a>11.6.4. <span class="trademark">Oracle</span>® installeren</h3></div></div></div><p>Wegens een kleine inconsistentie in de <span class="trademark">Linux</span>® emulator
	moet de map <code class="filename">.oracle</code> aangemaakt worden
	in <code class="filename">/var/tmp</code> voordat het
	installatieprogramma wordt gestart.  De gebruiker
	<code class="systemitem">oracle</code> moet de eigenaar van deze map
	zijn.  Nu hoort <span class="application"><span class="trademark">Oracle</span>®</span> zonder
	problemen te installeren.  Bij problemen dienen eerst de
	<span class="application"><span class="trademark">Oracle</span>®</span> distributie en/of de
	instellingen gecontroleerd te worden!  Nadat
	<span class="application"><span class="trademark">Oracle</span>®</span> is geïnstalleerd,
	moeten de patches uit de volgende twee secties
	geïnstalleerd worden.</p><p>Een veelvoorkomend probleem is dat de adapter voor het
	TCP-protocol niet goed is geïnstalleerd.  De consequentie
	daarvan is dat er geen TCP-listeners gestart kunnen worden.  De
	volgende acties helpen om dit probleem op te lossen:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>ar r libnetwork.a ntcontab.o</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd $ORACLE_HOME/network/lib</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make -f ins_network.mk install</code></strong></pre><p>Hierna dient <code class="filename">root.sh</code> nogmaals te
	draaien!</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-root"></a>11.6.4.1. <code class="filename">root.sh</code> patchen</h4></div></div></div><p>Als <span class="application"><span class="trademark">Oracle</span>®</span>
	  geïnstalleerd wordt, worden sommige acties die als
	  <code class="systemitem">root</code> moeten worden uitgevoerd
	  geregistreerd in een shellscript met de naam
	  <code class="filename">root.sh</code>.  Dit script komt in de map
	  <code class="filename">orainst</code> te staan.  De volgende patch
	  dient uitgevoerd te worden op <code class="filename">root.sh</code> om
	  het de juiste locatie van <code class="command">chown</code> te laten
	  gebruiken of als alternatief kan het script onder een
	  originele <span class="trademark">Linux</span>® shell gedraaid worden</p><pre class="programlisting">*** orainst/root.sh.orig Tue Oct 6 21:57:33 1998
--- orainst/root.sh Mon Dec 28 15:58:53 1998
***************
*** 31,37 ****
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/bin/chown
#
# Define variables to be used in this script
--- 31,37 ----
# This is the default value for CHOWN
# It will redefined later in this script for those ports
# which have it conditionally defined in ss_install.h
! CHOWN=/usr/sbin/chown
#
# Define variables to be used in this script</pre><p>Als <span class="application"><span class="trademark">Oracle</span>®</span> niet vanaf
	  een CD-ROM wordt geïnstalleerd, kan de broncode van
	  <code class="filename">root.sh</code> aangepast worden.  Die heet
	  <code class="filename">rthd.sh</code> en staat in de map
	  <code class="filename">orainst</code> in de broncodestructuur.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="linuxemu-patch-tcl"></a>11.6.4.2. genclntsh patchen</h4></div></div></div><p>Het script <code class="command">genclntsh</code> wordt gebruikt om
	  é´n enkele gedeelde bibliotheek voor de
	  cliënt aan te maken.  Het wordt gebruikt tijdens het
	  maken van de demonstraties.  Met de volgende patch wordt de
	  definitie van <code class="envar">PATH</code> uitgecommentarieerd:</p><pre class="programlisting">*** bin/genclntsh.orig Wed Sep 30 07:37:19 1998
--- bin/genclntsh Tue Dec 22 15:36:49 1998
***************
*** 32,38 ****
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst
--- 32,38 ----
#
# Explicit path to ensure that we're using the correct commands
#PATH=/usr/bin:/usr/ccs/bin export PATH
! #PATH=/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin export PATH
#
# each product MUST provide a $PRODUCT/admin/shrept.lst</pre></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp74574672"></a>11.6.5. <span class="trademark">Oracle</span>® draaien</h3></div></div></div><p>Als de instructies worden gevolgd, draait
	<span class="application"><span class="trademark">Oracle</span>®</span> als op <span class="trademark">Linux</span>® zelf.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="linuxemu-matlab.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="linuxemu.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="linuxemu-advanced.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">11.5. <span class="trademark">MATLAB</span>® installeren </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 11.7. Gevorderde onderwerpen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>