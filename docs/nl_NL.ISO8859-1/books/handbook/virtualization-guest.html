<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>22.2. FreeBSD als een gast-besturingssysteem</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="virtualization.html" title="Hoofdstuk 22. Virtualisatie" /><link rel="prev" href="virtualization.html" title="Hoofdstuk 22. Virtualisatie" /><link rel="next" href="virtualization-host.html" title="22.3. FreeBSD als een gastheer-besturingssysteem" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">22.2. FreeBSD als een gast-besturingssysteem</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="virtualization.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 22. Virtualisatie</th><td width="20%" align="right"> <a accesskey="n" href="virtualization-host.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="virtualization-guest"></a>22.2. FreeBSD als een gast-besturingssysteem</h2></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels"></a>22.2.1. Parallels op <span class="trademark">Mac OS</span>®</h3></div></div></div><p><span class="application">Parallels Desktop</span> voor <span class="trademark">Mac OS</span>® is
	een commercieel softwareprodukt voor <span class="trademark">Intel</span>®-gebaseerde <span class="trademark">Apple</span>®
	<span class="trademark">Mac</span>® computers die <span class="trademark">Mac OS</span>® 10.4.6 of nieuwer draaien.  FreeBSD is
	een volledig ondersteund gast-besturingssysteem.  Nadat
	<span class="application">Parallels</span> is geïnstalleerd op
	<span class="trademark">Mac OS</span>® X dient de gebruiker een virtuele machine in te stellen
	en daarna het gewenste gast-besturingssysteem te installeren.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels-install"></a>22.2.1.1. FreeBSD installeren op Parallels/<span class="trademark">Mac OS</span>® X</h4></div></div></div><p>De eerste stap in het installeren van FreeBSD op <span class="trademark">Mac OS</span>® X
	  <span class="application">Parallels</span> is het aanmaken van een
	  nieuwe virtuele machine voor het installeren van FreeBSD.
	  Selecteer <span class="guimenuitem">FreeBSD</span> als het
	  <span class="guimenuitem">Guest OS Type</span> wanneer dit gevraagd
	  wordt:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd1.png" /></div><p>Kies verder een hoeveelheid aan schijf- en geheugenruimte
	  afhankelijk van de plannen voor deze virtuele instantie van
	  FreeBSD.  4GB aan schijfruimte en 512MB aan RAM werken goed voor
	  de meeste gebruikers van FreeBSD onder
	  <span class="application">Parallels</span>:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd2.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd3.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd4.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd5.png" /></div><p>Selecteer het type netwerk en een netwerkinterface:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd6.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd7.png" /></div><p>Bewaar de instellingen en sluit af:</p><div class="mediaobject"><img src="virtualization/parallels-freebsd8.png" /></div><div class="mediaobject"><img src="virtualization/parallels-freebsd9.png" /></div><p>Nadat de virtuele FreeBSD-machine is aangemaakt, dient er
	  FreeBSD op geïnstalleerd te worden.  Dit gaat het beste met
	  een officiële FreeBSD CDROM of met een ISO-beeld dat is
	  gedownload van een officiële FTP-site.  Wanneer het
	  juiste ISO-beeld op het plaatselijke <span class="trademark">Mac</span>®-bestandssysteem of
	  een CDROM in de CD-drive van de <span class="trademark">Mac</span>® aanwezig is, dient op
	  het schijfikoon in de rechteronderhoek van het FreeBSD
	  <span class="application">Parallels</span>-scherm geklikt te worden.
	  Dit zal een scherm tonen dat het mogelijk maakt om de
	  CDROM-drive in de virtuele machine te associëren met een
	  ISO-bestand op schijf of met een echte CDROM-drive.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd11.png" /></div><p>Nadat deze associatie met de CDROM-bron is gemaakt, dient
	  de virtuele FreeBSD-machine herstart te worden door op het
	  herstart-icoon te klikken.  <span class="application">Parallels
	  </span> zal herstarten met een speciale BIOS dat eerst
	  controleert of er een CDROM aanwezig is, net zoals een normale
	  BIOS zou doen.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd10.png" /></div><p>In dit geval zal het de installatiemedia van FreeBSD vinden
	  en een normale installatie gebaseerd op
	  <span class="application">sysinstall</span> beginnen zoals
	  beschreven in <a class="xref" href="install.html" title="Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder">Hoofdstuk 2, <em>FreeBSD installeren op FreeBSD 8.<em class="replaceable"><code>X</code></em> en
    eerder</em></a>.  X11 kan nu
	  geïnstalleerd, maar nog niet ingesteld, worden.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd12.png" /></div><p>Nadat de installatie is voltooid, kan naar de nieuw
	  geïnstalleerde virtuele FreeBSD-machine herstart worden.</p><div class="mediaobject"><img src="virtualization/parallels-freebsd13.png" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-parallels-configure"></a>22.2.1.2. FreeBSD instellen op <span class="trademark">Mac OS</span>® X/Parallels</h4></div></div></div><p>Nadat FreeBSD succesvol op <span class="trademark">Mac OS</span>® X met
	  <span class="application">Parallels</span> is geïnstalleerd,
	  zijn er een aantal instellingen die gewijzigd kunnen worden
	  om het systeem voor virtuele werking te optimaliseren.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>De variabelen voor de bootloader instellen</strong></p><p>De belangrijkste stap is om de tunable
	      <code class="option">kern.hz</code> te verlagen om het CPU-gebruik van FreeBSD
	      onder de <span class="application">Parallels</span>-omgeving te
	      verminderen.  Dit kan bereikt worden door de volgende
	      regel aan <code class="filename">/boot/loader.conf</code> toe te
	      voegen:</p><pre class="programlisting">kern.hz=100</pre><p>Zonder deze instelling zal een rustend FreeBSD
	      <span class="application">Parallels</span>
	      gast-besturingssysteem ongeveer 15% van de CPU van een
	      enkele <span class="trademark">iMac</span>®-processor gebruiken.  Na deze wijziging zal
	      het gebruik slechts ongeveer 5% zijn.</p></li><li class="step"><p class="title"><strong>Een nieuw instellingenbestand voor de kernel aanmaken</strong></p><p>Alle stuurprogramma's voor SCSI, FireWire, en USB
	      kunnen verwijderd worden.
	      <span class="application">Parallels</span> biedt een virtuele
	      netwerkadapter die door het stuurpogramma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a>
	      wordt gebruikt, dus kunnen alle andere netwerkapparaten
	      behalve <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ed&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ed</span>(4)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a> uit de kernel
	      verwijderd worden.</p></li><li class="step"><p class="title"><strong>Het netwerk instellen</strong></p><p>De eenvoudigste netwerkinstallatie omvat het gebruik
	      van DHCP om de virtuele machine met hetzelfde LAN te
	      verbinden als het <span class="trademark">Mac</span>®-gastheer.  Dit kan bereikt worden
	      door <code class="literal">ifconfig_ed0="DHCP"</code> aan
	      <code class="filename">/etc/rc.conf</code> toe te voegen.  Meer
	      geavanceerde netwerkinstallaties staan beschreven in
	      <a class="xref" href="advanced-networking.html" title="Hoofdstuk 31. Geavanceerde netwerken">Hoofdstuk 31, <em>Geavanceerde netwerken</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc"></a>22.2.2. Virtual PC op <span class="trademark">Windows</span>®</h3></div></div></div><p><span class="application">Virtual PC</span> voor <span class="trademark">Windows</span>® is een
	softwareprodukt van <span class="trademark">Microsoft</span>® dat gratis gedownload kan worden
	.  Zie <a class="link" href="http://www.microsoft.com/windows/downloads/virtualpc/sysreq.mspx" target="_top">systeemeisen</a>.
	Nadat <span class="application">Virtual PC</span> is
	geïnstalleerd op <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®, dient de gebruiker
	een virtuele machine in te stellen en daarna het gewenste
	gast-besturingssysteem te installeren.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc-install"></a>22.2.2.1. FreeBSD installeren op Virtual PC/<span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®</h4></div></div></div><p>De eerste stap in het installeren van FreeBSD op
	  <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®/<span class="application">Virtual PC</span> is
	  het aanmaken van een nieuwe virtuele machine voor het
	  installeren van FreeBSD.  Kies <span class="guimenuitem">Create a virtual
	    machine</span> wanneer daarom wordt gevraagd:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd1.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd2.png" /></div><p>Selecteer <span class="guimenuitem">Other</span> als het
	  <span class="guimenuitem">Operating system</span> wanneer dat
	  gevraagd wordt:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd3.png" /></div><p>Kies vervolgens een gepaste hoeveelheid aan schijf- en
	  geheugenruimte afhankelijk van de plannen voor deze virtuele
	  instantie van FreeBSD.  4GB aan schijfruimte en 512MB aan RAM
	  werken goed voor de meeste gebruikers van FreeBSD onder
	  <span class="application">Virtual PC</span>:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd4.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd5.png" /></div><p>Bewaar de instellingen en sluit ze af:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd6.png" /></div><p>Selecteer de virtuele FreeBSD-machine en klik op
	  <span class="guimenu">Settings</span>, stel daarna het type netwerk en
	  een netwerkinterface in:</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd7.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd8.png" /></div><p>Nadat de virtuele FreeBSD-machine is aangemaakt, dient FreeBSD
	  erop geïnstalleerd te worden.  Dit gaat het beste met een
	  officiële FreeBSD-CDROM of met een ISO-beeld dat van een
	  officiële FTP-site is gedownload.  Wanneer het juiste
	  ISO-beeld op het lokale bestandssysteem van <span class="trademark">Windows</span>® staat
	  of er een CDROM in de CD-drive zit, dubbelklik dan op de
	  virtuele FreeBSD-machine om op te starten.  Klik daarna op
	  <span class="guimenu">CD</span> en kies <span class="guimenu">Capture ISO Image...
	  </span> in het venster van <span class="application">Virtual PC
	  </span>.  Dit toont een scherm dat het mogelijk maakt
	  om de CDROM-drive in de virtuele machine te associëren
	  met een ISO-bestand op schijf of met een echte CDROM-drive.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd9.png" /></div><div class="mediaobject"><img src="virtualization/virtualpc-freebsd10.png" /></div><p>Start, nadat deze associatie met de CDROM-bron is gemaakt,
	  de virtuele FreeBSD-machine opnieuw op zoals gewoonlijk door op
	  <span class="guimenu">Action</span> en <span class="guimenu">Reset</span> te
	  klikken.  <span class="application">Virtual PC</span> zal herstarten
	  met een speciale BIOS dat eerst controleert of er een CDROM
	  aanwezig is, net zoals eeen normale BIOS dat zou doen.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd11.png" /></div><p>In dit geval zal het de installatiemedia van FreeBSD vinden
	  en een normale installatie gebaseerd op
	  <span class="application">sysinstall</span> beginnen zoals
	  beschreven in <a class="xref" href="install.html" title="Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder">Hoofdstuk 2, <em>FreeBSD installeren op FreeBSD 8.<em class="replaceable"><code>X</code></em> en
    eerder</em></a>.  X11 kan nu
	  geïnstalleerd, maar nog niet ingesteld, worden.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd12.png" /></div><p>Denk eraan om de CDROM of het ISO-beeld te verwijderen
	  nadat de installatie voltooid is.  Start als laatste op naar
	  de nieuw geïnstalleerde virtuele FreeBSD-machine.</p><div class="mediaobject"><img src="virtualization/virtualpc-freebsd13.png" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualpc-configure"></a>22.2.2.2. FreeBSD instellen op <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®/Virtual PC</h4></div></div></div><p>Nadat FreeBSD succesvol is geïnstalleerd op
	  <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>® met <span class="application">Virtual PC</span>
	  zijn er een aantal instellingen die aangepast kunnen worden om
	  het system te optimaliseren voor virtueel gebruik.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>De variabelen voor de bootloader instellen</strong></p><p>De belangrijkste stap is om de tunable
	      <code class="option">kern.hz</code> te verlagen om zo het CPU-gebruik van
	      FreeBSD in de omgeving van <span class="application">Virtual PC</span> te
	      verminderen.  Dit kan bereikt worden door de volgende
	      regel aan <code class="filename">/boot/loader.conf</code> toe te
	      voegen:</p><pre class="programlisting">kern.hz=100</pre><p>Zonder deze instelling zal een FreeBSD als
	      gast-besturingssysteem voor <span class="application">Virtual PC
	      </span> in rust ongeveer 40% van de CPU van een
	      computer met een enkele processor gebruiken.  Na deze
	      verandering zal het gebruik slechts rond de 3% liggen.</p></li><li class="step"><p class="title"><strong>Een nieuw instellingenbestand voor de kernel aanmaken</strong></p><p>Alle stuurprogramma's voor SCSI, FireWire, en USB
	      kunnen verwijderd worden.  <span class="application">Virtual PC
	      </span> beidt een virtuele netwerkadapter dat door
	      het stuurprogramma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=de&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">de</span>(4)</span></a> gebruikt wordt, dus kunnen
	      alle netwerkapparaten behalve <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=de&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">de</span>(4)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=miibus&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">miibus</span>(4)</span></a>
	      uit de kernel verwijderd worden.</p></li><li class="step"><p class="title"><strong>Het netwerk instellen</strong></p><p>De eenvoudigste netwerkinstallatie omvat het gebruik
	      van DHCP om de virtuele machine met het zelfde LAN te
	      verbinden als de <span class="trademark">Microsoft</span>® <span class="trademark">Windows</span>®-gastheer.  Dit kan
	      bereikt worden door <code class="literal">ifconfig_de0="DHCP"</code>
	      toe te voegen aan <code class="filename">/etc/rc.conf</code>.
	      Geavanceerdere netwerkinstallaties staan beschreven in
	      <a class="xref" href="advanced-networking.html" title="Hoofdstuk 31. Geavanceerde netwerken">Hoofdstuk 31, <em>Geavanceerde netwerken</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware"></a>22.2.3. VMware op <span class="trademark">Mac OS</span>®</h3></div></div></div><p><span class="application">VMware Fusion</span> voor <span class="trademark">Mac</span>® is een
	comercieel softwareprodukt beschikbaar voor op <span class="trademark">Intel</span>®
	gebaseeerde <span class="trademark">Mac</span>®-computers die <span class="trademark">Mac OS</span>® 10.4.9 of nieuwer
	draaien.  FreeBSD is een volledig ondersteund
	gast-besturingssysteem.  Nadat <span class="application">VMware Fusion
	</span> is geïnstalleerd op <span class="trademark">Mac OS</span>® X dient de
	gebruiker een virtuele machine in te stellen en daarna het
	gewenste gast-besturingssysteem te installeren.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware-install"></a>22.2.3.1. FreeBSD installeren op VMware/<span class="trademark">Mac OS</span>® X</h4></div></div></div><p>De eerste stap is om VMware Fusion te laden, de Virtual
	  Machine Library zal geladen worden.  Klik op "New" om de
	  VM aan te maken:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd01.png" /></div><p>Dit laadt de New Virtual Machine Assistant dat helpt om
	  de VM aan te maken, klik op Continue om verder te gaan:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd02.png" /></div><p>Selecteer <span class="guimenuitem">Other</span> als het
	  <span class="guimenuitem">Operating System</span> en
	  <span class="guimenuitem">FreeBSD</span> of <span class="guimenuitem">FreeBSD 64-bit
	  </span>, afhankelijk van de wens voor ondersteuning
	  voor 64-bit, als de <span class="guimenuitem">Version</span>
	  wanneer dat gevraagd wordt:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd03.png" /></div><p>Kies de naam van het VM-beeld en de map waarin het bewaard
	  dient te worden:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd04.png" /></div><p>Kies de grootte van de virtuele harde schijf voor de VM:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd05.png" /></div><p>Kies de manier om de VM te installeren, van een ISO-beeld
	  of van een CD:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd06.png" /></div><p>Nadat op Finish is geklikt, zal de VM opstarten:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd07.png" /></div><p>Installeer FreeBSD zoals gewoonlijk, of door de aanwijzingen
	  in <a class="xref" href="install.html" title="Hoofdstuk 2. FreeBSD installeren op FreeBSD 8.X en eerder">Hoofdstuk 2, <em>FreeBSD installeren op FreeBSD 8.<em class="replaceable"><code>X</code></em> en
    eerder</em></a> op te volgen:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd08.png" /></div><p>Nadat de installatie voltooid is kunnen de instellingen
	  van de VM aangepast worden, zoals het geheugengebruik:</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">De instellingen van de systeemhardware van de VM kunnen
	    niet veranderd worden zolang de VM draait.</p></div><div class="mediaobject"><img src="virtualization/vmware-freebsd09.png" /></div><p>Het aantal CPU's waartoe de VM toegang heeft:</p><div class="mediaobject"><img src="virtualization/vmware-freebsd10.png" /></div><p>De status van het CD-ROM-apparaat.  Gewoonlijk kan de
	  CD-ROM of het ISO-beeld van de VM worden losgekoppeld wanneer
	  het niet meer nodig is.</p><div class="mediaobject"><img src="virtualization/vmware-freebsd11.png" /></div><p>Het laatste om te veranderen is de manier waarop de VM
	  verbinding met het netwerk maakt.  Indien verbindingen naar de
	  VM van andere machines naast de gastheer gewenst zijn, dient
	  <span class="guimenuitem">Connect directly to the physical network
	  (Bridged)</span> gekozen te worden.  In andere
	  situaties is <span class="guimenuitem">Share the host's internet connection
	  (NAT)</span> te verkiezen, zodat de VM toegang kan
	  hebben tot het Internet, maar dat het netwerk geen toegang
	  heeft tot de VM.</p><div class="mediaobject"><img src="virtualization/vmware-freebsd12.png" /></div><p>Herstart de nieuw geïnstalleerde virtuele
	  FreeBSD-machine nadat alle instellingen zijn aangepast.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-vmware-configure"></a>22.2.3.2. FreeBSD instellen op <span class="trademark">Mac OS</span>® X/VMware</h4></div></div></div><p>Nadat FreeBSD succesvol is geïnstalleerd op <span class="trademark">Mac OS</span>® X
	  met <span class="application">VMware</span>, zijn er een aantal
	  instellingen die gewijzigd kunnen worden op het systeem te
	  optimaliseren voor virtueel gebruik.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p class="title"><strong>De variabelen voor de bootloader instellen</strong></p><p>De belangrijkste stap is het verlagen van de
	      tunable <code class="option">kern.hz</code> om het CPU-gebruik van
	      FreeBSD in de omgeving van <span class="application">VMware</span>
	      te verminderen.  Dit kan bereikt worden door de volgende
	      regel aan <code class="filename">/boot/loader.conf</code> toe te
	      voegen:</p><pre class="programlisting">kern.hz=100</pre><p>Zonder deze instelling gebruikt FreeBSD als <span class="application">
		VMware</span> gast-besturingssysteem ongeveer 15%
	      van de CPU van een enkele <span class="trademark">iMac</span>®-processor.  Na deze
	      verandering zal het gebruik dichter bij 5% liggen.</p></li><li class="step"><p class="title"><strong>Een nieuw instellingenbestand voor de kernel aanmaken</strong></p><p>Alle stuurprogramma's voor FireWire en USB kunnen
	      verwijderd worden.  <span class="application">VMware</span>
	      biedt een virtuele netwerkadapter dat door het
	      stuurpogramma <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=em&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">em</span>(4)</span></a> gebruikt wordt, dus alle
	      netwerkapparaten behalve <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=em&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">em</span>(4)</span></a> kunnen uit de kernel
	      verwijderd worden.</p></li><li class="step"><p class="title"><strong>Het netwerk instellen</strong></p><p>De eenvoudigste netwerkinstallatie omvat het gebruik
	      van DHCP om de virtuele machine met hetzelfde LAN te
	      verbinden als de <span class="trademark">Mac</span>®-gastheer.  Dit kan bereikt worden
	      door <code class="literal">ifconfig_em0="DHCP"</code> toe te voegen
	      aan <code class="filename">/etc/rc.conf</code>.  Geavanceerdere
	      netwerkinstallaties staan beschreven in <a class="xref" href="advanced-networking.html" title="Hoofdstuk 31. Geavanceerde netwerken">Hoofdstuk 31, <em>Geavanceerde netwerken</em></a>.</p></li></ol></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="virtualization-guest-virtualbox-guest-additions"></a>22.2.4. <span class="trademark">VirtualBox</span>&#8482; gasttoevoegingen op een FreeBSD-gast</h3></div></div></div><p>De gasttoevoegingen van <span class="application"><span class="trademark">VirtualBox</span>&#8482;</span>
	bieden ondersteuning voor:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Het delen van het prikbord</p></li><li class="listitem"><p>Integratie van de muiscursor</p></li><li class="listitem"><p>Synchronisatie met de tijd van de gastheer</p></li><li class="listitem"><p>Het schalen van vensters</p></li><li class="listitem"><p>Naadloze modus</p></li></ul></div><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">De volgende commando's worden gedraaid in de FreeBSD-gast.</p></div><p>Installeer ten eerste het pakket <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/emulators/virtualbox-ose-additions/pkg-descr">emulators/virtualbox-ose-additions</a> in de
	FreeBSD-gast.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cd /usr/ports/emulators/virtualbox-ose-additions &amp;&amp; make install clean</code></strong></pre><p>Voeg deze regels toe aan <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">vboxguest_enable="YES"
vboxservice_enable="YES"</pre><p>Als <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ntpd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ntpd</span>(8)</span></a> of <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ntpdate&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ntpdate</span>(8)</span></a> gebruikt, dient de
	synchronisatie met de tijd van de gastheer te worden
	uitgeschakeld:</p><pre class="programlisting">vboxservice_flags="--disable-timesync"</pre><p>De <code class="literal">vboxvideo_drv</code> zou herkend moeten worden door
	<code class="command">Xorg -configure</code>.  Als dit niet zo is, dient
	<code class="filename">xorg.conf</code> gewijzigd te worden voor de videokaart
	van <span class="application"><span class="trademark">VirtualBox</span>&#8482;</span>:</p><pre class="programlisting">Section "Device"
	### Available Driver options are:-
	### Values: &lt;i&gt;: integer, &lt;f&gt;: float, &lt;bool&gt;: "True"/"False",
	### &lt;string&gt;: "String", &lt;freq&gt;: "&lt;f&gt; Hz/kHz/MHz"
	### [arg]: arg optional
	Identifier "Card0"
	Driver "vboxvideo"
	VendorName "InnoTek Systemberatung GmbH"
	BoardName "VirtualBox Graphics Adapter"
	BusID "PCI:0:2:0"
EndSection</pre><p>Pas het gedeelte over de muis in <code class="filename">xorg.conf</code> aan
	om <code class="literal">vboxmouse_drv</code> te gebruiken:</p><pre class="programlisting">Section "InputDevice"
	Identifier "Mouse0"
	Driver "vboxmouse"
EndSection</pre><p>Gebruikers van <acronym class="acronym">HAL</acronym> dienen dit bestand aan te
	maken als
	<code class="filename">/usr/local/etc/hal/fdi/policy/90-vboxguest.fdi</code>
	of het te kopiëren van
	<code class="filename">/usr/local/hal/fdi/policy/10osvendor/90-vboxguest.fdi</code>:</p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!--
# Sun VirtualBox
# Hal driver description for the vboxmouse driver
# $Id$

       Copyright (C) 2008-2009 Sun Microsystems, Inc.

       This file is part of VirtualBox Open Source Edition (OSE, as
       available from http://www.virtualbox.org. This file is free software;
       you can redistribute it and/or modify it under the terms of the GNU
       General Public License (GPL) as published by the Free Software
       Foundation, in version 2 as it comes in the "COPYING" file of the
       VirtualBox OSE distribution. VirtualBox OSE is distributed in the
       hope that it will be useful, but WITHOUT ANY WARRANTY of any kind.

       Please contact Sun Microsystems, Inc., 4150 Network Circle, Santa
       Clara, CA 95054 USA or visit http://www.sun.com if you need
       additional information or have any questions.
--&gt;
&lt;deviceinfo version="0.2"&gt;
  &lt;device&gt;
    &lt;match key="info.subsystem" string="pci"&gt;
      &lt;match key="info.product" string="VirtualBox guest Service"&gt;
	&lt;append key="info.capabilities" type="strlist"&gt;input&lt;/append&gt;
	&lt;append key="info.capabilities" type="strlist"&gt;input.mouse&lt;/append&gt;
	&lt;merge key="input.x11_driver" type="string"&gt;vboxmouse&lt;/merge&gt;
	&lt;merge key="input.device" type="string"&gt;/dev/vboxguest&lt;/merge&gt;
      &lt;/match&gt;
    &lt;/match&gt;
  &lt;/device&gt;
&lt;/deviceinfo&gt;</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="virtualization.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="virtualization.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="virtualization-host.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">Hoofdstuk 22. Virtualisatie </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 22.3. FreeBSD als een gastheer-besturingssysteem</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>