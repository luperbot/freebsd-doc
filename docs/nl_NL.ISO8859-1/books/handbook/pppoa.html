<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>27.6. Gebruik maken van PPP over ATM (PPPoA)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="ppp-and-slip.html" title="Hoofdstuk 27. PPP en SLIP" /><link rel="prev" href="pppoe.html" title="27.5. PPP gebruiken over Ethernet (PPPoE)" /><link rel="next" href="slip.html" title="27.7. Gebruik maken van SLIP" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">27.6. Gebruik maken van <span class="application">PPP</span> over ATM
      (PPPoA)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoe.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 27. PPP en SLIP</th><td width="20%" align="right"> <a accesskey="n" href="slip.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pppoa"></a>27.6. Gebruik maken van <span class="application">PPP</span> over ATM
      (PPPoA)</h2></div></div></div><a id="idp85083984" class="indexterm"></a><a id="idp85085136" class="indexterm"></a><p>Het volgende beschrijft hoe PPP over ATM (PPPoA) opgezet kan
      worden.  PPPoA is een populaire keuze binnen Europese DSL
      providers.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85086672"></a>27.6.1. Gebruik maken van PPPoA met de Alcatel <span class="trademark">SpeedTouch</span>&#8482; USB</h3></div></div></div><p>PPPoA ondersteuning voor dit apparaat wordt geleverd door
	middel van een port in FreeBSD omdat de firmware wordt
	gedistribueerd onder <a class="link" href="http://www.speedtouchdsl.com/disclaimer_lx.htm" target="_top">Alcatel's
	  licentie overeenkomst</a> en mag derhalve niet vrijelijk
	verspreid worden met het basis systeem van FreeBSD.</p><p>Om de software te installeren, wordt simpelweg de <a class="link" href="ports.html" title="Hoofdstuk 5. Applicaties installeren: pakketten en ports">Ports Collectie</a> gebruikt.  Installeer de
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a> port en volg de
	instructies die meegeleverd worden.</p><p>Zoals de meeste USB apparaten moet de Alcatel <span class="trademark">SpeedTouch</span>&#8482;
	USB zijn firmware downloaden van de host computer om correct
	te kunnen werken.  Het is mogelijk om dit proces te automatiseren
	binnen FreeBSD zodat deze overdracht elke keer gebeurd als het
	apparaat in een USB poort wordt gestoken.  De volgende informatie
	kan worden toegevoegd aan het <code class="filename">/etc/usbd.conf</code>
	bestand om deze automatische overdracht in te schakelen.  Dit
	bestand moet bewerkt worden door de <code class="systemitem">root</code>
	gebruiker.</p><pre class="programlisting">device "Alcatel SpeedTouch USB"
    devname "ugen[0-9]+"
    vendor 0x06b9
    product 0x4061
    attach "/usr/local/sbin/modem_run -f /usr/local/libdata/mgmt.o"</pre><p>Om de USB daemon, <span class="application">usbd</span>, te starten
	moet de volgende regel toegevoegd worden aan
	<code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">usbd_enable="YES"</pre><p>Het is ook mogelijk om <span class="application">ppp</span> op te
	zetten om in te bellen tijdens het opstarten.  Om dit te doen
	moet de volgende regel worden toegevoegd aan
	<code class="filename">/etc/rc.conf</code>.  Voor deze procedure moet
	er ook aangelogt zijn als de <code class="systemitem">root</code>
	gebruiker.</p><pre class="programlisting">ppp_enable="YES"
ppp_mode="ddial"
ppp_profile="adsl"</pre><p>Om dit correct te laten werken moet het voorbeeld
	<code class="filename">ppp.conf</code> bestand gebruikt worden welke
	geleverd wordt door de
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a> port.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85097040"></a>27.6.2. Gebruik maken van mpd</h3></div></div></div><p>U kunt <span class="application">mpd</span> gebruiken om met een
	variateit aan diensten verbinding te maken, in het bijzonder
	PPTP diensten.  U kunt <span class="application">mpd</span> vinden in
	de Ports Collectie, <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/mpd/pkg-descr">net/mpd</a>.
	Veel ADSL-modems vereisen dat er een PPTP tunnel wordt
	gecreeërd tussen het modem en de computer, een voorbeeld
	van zo'n modem is de Alcatel <span class="trademark">SpeedTouch</span>&#8482; Home.</p><p>Eerst moet u de port installeren waarna
	<span class="application">mpd</span> geconfigureerd kan worden om
	uw eisen en provider instellingen op te geven.  De port
	plaatst een verzameling voorbeeldconfiguratiebestanden welke
	goed gedocumenteerd zijn in <code class="filename">PREFIX/etc/mpd/</code>.
	Let op dat <em class="replaceable"><code>PREFIX</code></em> betekend dat dit de
	directory is waar uw ports in worden geïnstalleerd.
	Standaard is dit <code class="filename">/usr/local/</code>.  Een complete
	handleiding om <span class="application">mpd</span> te configureren is
	beschikbaar in HTML formaat zodra de port geïnstalleerd is.
	Deze wordt geplaatst in <code class="filename">PREFIX/share/doc/mpd/</code>.
	Hieronder staat een voorbeeld configuratie om verbinding te
	maken met een ADSL dienstverlener door het gebruik van
	<span class="application">mpd</span>.  De configuratie is verspreid
	over twee bestanden, allereerst het <code class="filename">mpd.conf</code>
	bestand:</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dit voorbeeld van het bestand <code class="filename">mpd.conf</code> werkt
	  alleen met <span class="application">mpd</span> 4.X.</p></div><pre class="programlisting">default:
    load adsl

adsl:
    new -i ng0 adsl adsl
    set bundle authname <em class="replaceable"><code>gebruikersnaam</code></em> <a id="co-mpd-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set bundle password <em class="replaceable"><code>wachtwoord</code></em> <a id="co-mpd-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
    set bundle disable multilink

    set link no pap acfcomp protocomp
    set link disable chap
    set link accept chap
    set link keep-alive 30 10

    set ipcp no vjcomp
    set ipcp ranges 0.0.0.0/0 0.0.0.0/0

    set iface route default
    set iface disable on-demand
    set iface enable proxy-arp
    set iface idle 0

    open</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>De gebruikersnaam die gebruikt wordt om uzelf te
	    authenticeren aan uw provider.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het wachtwoord wat gebruikt wordt om uzelf te
	    authenticeren aan uw provider.</p></td></tr></table></div><p>Het <code class="filename">mpd.links</code> bestand bevat informatie
	over de link, of linken waarmee u verbinding wilt maken.  Een
	voorbeeld <code class="filename">mpd.links</code> wat bij bovenstaand
	voorbeeld hoort is hieronder gegeven:</p><pre class="programlisting">adsl:
    set link type pptp
    set pptp mode active
    set pptp enable originate outcall
    set pptp self <em class="replaceable"><code>10.0.0.1</code></em> <a id="co-mpd-ex-self"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
    set pptp peer <em class="replaceable"><code>10.0.0.138</code></em> <a id="co-mpd-ex-peer"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-self"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het IP-adres van uw FreeBSD computer waar vanaf
	    <span class="application">mpd</span> gebruikt wordt.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-peer"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het IP-adres van uw ADSL-modem.  Voor de Alcatel
	    <span class="trademark">SpeedTouch</span>&#8482; Home is dit adres standaard <code class="systemitem">10.0.0.138</code>.</p></td></tr></table></div><p>Het is mogelijk om de verbinding makkelijk te initialiseren
	door het volgende commando als <code class="systemitem">root</code> uit te
	voeren:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mpd -b adsl</code></strong></pre><p>U kunt de status van de verbinding zien met het volgende
	commando:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig ng0</code></strong>
ng0: flags=88d1&lt;UP,POINTOPOINT,RUNNING,NOARP,SIMPLEX,MULTICAST&gt; mtu 1500
     inet 216.136.204.117 --&gt; 204.152.186.171 netmask 0xffffffff</pre><p>Het gebruik van <span class="application">mpd</span> is de
	aangeraden manier om met een ADSL dienst te verbinden met
	FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp85123792"></a>27.6.3. Gebruik maken van pptpclient</h3></div></div></div><p>Het is ook mogelijk om FreeBSD te gebruiken om naar een
	andere PPPoA dienstenm verbinding te maken door middel van de
	<a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a> port.</p><p>Om gebruik te maken van <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a> om naar een DSL dienst
	verbinding te maken, installeert u de port of package en bewerkt
	u <code class="filename">/etc/ppp/ppp.conf</code>  U moet dit onder de
	<code class="systemitem">root</code> gebruiker doen, om beide acties uit te
	voeren.  Een voorbeeld sectie van <code class="filename">ppp.conf</code>
	is hieronder gegeven.  Voor meer informatie over
	<code class="filename">ppp.conf</code> consulteert u de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>
	handleiding.</p><pre class="programlisting">adsl:
 set log phase chat lcp ipcp ccp tun command
 set timeout 0
 enable dns
 set authname <em class="replaceable"><code>gebruikersnaam</code></em> <a id="co-pptp-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
 set authkey <em class="replaceable"><code>wachtwoord</code></em> <a id="co-pptp-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
 set ifaddr 0 0
 add default HISADDR</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>De gebruikersnaam van uw account bij uw DSL
	    provider.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Het wachtwoord voor uw account.</p></td></tr></table></div><div xmlns="" class="warning"><h3 class="admontitle">Waarschuwing: </h3><p xmlns="http://www.w3.org/1999/xhtml">Omdat u het wachtwoord van uw account in het
	  <code class="filename">ppp.conf</code> bestand in leesbare vorm moet
	  plaatsen, moet u ervoor zorgen dat niemand anders de inhoud
	  van dit bestand kan lezen.  De volgende serie van commando's
	  zorgt ervoor dat het bestand alleen leesbaar is door de
	  <code class="systemitem">root</code> gebruiker.  Raadpleeg de
	  handleidingen van <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a> en <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chown</span>(8)</span></a> voor verdere
	  informatie.</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chown root:wheel /etc/ppp/ppp.conf</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>chmod 600 /etc/ppp/ppp.conf</code></strong></pre></div><p>Dit opent een tunnel voor een PPP sessie naar uw DSL router.
	Ethernet DSL-modems hebben een voor geconfigureerd LAN IP
	adres waarmee u verbinding maakt.  In het geval van de Alcatel
	<span class="trademark">SpeedTouch</span>&#8482; home is <code class="systemitem">10.0.0.138</code>
	het adres.  Uw router documentatie vertelt u welk adres uw
	apparaat gebruikt.  Om de tunnel te openen en om een PPP sessie
	op te zetten, start u het volgende commando:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pptp address adsl</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Tip: </h3><p xmlns="http://www.w3.org/1999/xhtml">Het kan wenselijk zijn om een ampersand
	  (<span class="quote">&#8220;<span class="quote">&amp;</span>&#8221;</span>) toe te voegen aan het einde van het
	  vorige commando, omdat <span class="application">pptp</span>
	  uw prompt niet teruggeeft.</p></div><p>Er wordt een <code class="filename">tun</code> virtueel tunnel
	apparaat gecreeërd voor interactie tussen de
	<span class="application">pptp</span> en <span class="application">ppp</span>
	processen.  Zodra u terugbent op uw prompt, of als
	<span class="application">pptp</span> bevestigd dat er een verbinding
	is, kunt u de tunnel als volgend inzien:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig tun0</code></strong>
tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
        inet 216.136.204.21 --&gt; 204.152.186.171 netmask 0xffffff00
        Opened by PID 918</pre><p>Als het niet mogelijk is om verbinding te maken, controleert
	u de configuratie van uw router, welke meestal bereikbaar is
	door middel van <span class="application">telnet</span> of via een
	web browser.  Als u nog steeds geen verbinding kunt maken moet
	u de resultaten van het <code class="command">pptp</code> onderzoeken
	en de inhoud van het <span class="application">ppp</span> log
	bestand, <code class="filename">/var/log/ppp.log</code> voor meer hints
	over wat er mis kan zijn.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoe.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="slip.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">27.5. PPP gebruiken over Ethernet (PPPoE) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 27.7. Gebruik maken van SLIP</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>