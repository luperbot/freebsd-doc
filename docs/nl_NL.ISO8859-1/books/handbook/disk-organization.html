<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>4.5. Organisatie van schijven</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="basics.html" title="Hoofdstuk 4. UNIX® beginselen" /><link rel="prev" href="dirstructure.html" title="4.4. Mappenstructuur" /><link rel="next" href="mount-unmount.html" title="4.6. Het koppelen en ontkoppelen van bestandssystemen" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.5. Organisatie van schijven</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="dirstructure.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 4. <span class="trademark">UNIX</span>® beginselen</th><td width="20%" align="right"> <a accesskey="n" href="mount-unmount.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="disk-organization"></a>4.5. Organisatie van schijven</h2></div></div></div><p>De kleinste vorm van organisatie die FreeBSD gebruikt om
      bestanden te vinden is de bestandsnaam.  Bestandsnamen zijn
      hoofdlettergevoelig, wat betekent dat
      <code class="filename">readme.txt</code> en
      <code class="filename">README.TXT</code> twee verschillende bestanden
      zijn.  FreeBSD gebruikt de extensie niet (<code class="filename">.txt</code>)
      van een bestand om te bepalen of het bestand een programma, een
      document of een vorm van data is.</p><p>Bestanden worden bewaard in mappen.  Een map kan leeg zijn of
      honderden bestanden bevatten.  Een map kan ook andere mappen
      bevatten, wat het mogelijk maakt om een hiërarchie van
      mappen te maken.  Dit maakt het veel makkelijker om data te
      organiseren.</p><p>Bestanden en mappen worden aangegeven door het bestand
      of de map aan te geven, gevolgd door een voorwaardse slash,
      <code class="literal">/</code>, gevolgd door andere mapnamen die nodig
      zijn.  Als map <code class="filename">foo</code> de map
      <code class="filename">bar</code> bevat, die op zijn beurt het bestand
      <code class="filename">readme.txt</code> bevat, dan wordt de volledige
      naam of <em class="firstterm">pad</em> naar het bestand
      <code class="filename">foo/bar/readme.txt</code>.</p><p>Mappen en bestanden worden bewaard op een bestandssysteem.
      Elk bestandssysteem bevat precies één map op het
      hoogste niveau die <em class="firstterm">de rootmap</em> van het
      bestandssysteem heet.  Deze rootmap kan op zijn beurt andere
      mappen bevatten.</p><p>Tot zover is dit waarschijnlijk hetzelfde als voor elk ander
      besturingssysteem.  Er zijn een paar verschillen.  <span class="trademark">MS-DOS</span>®
      gebruikt bijvoorbeeld een <code class="literal">\</code> om bestanden en
      mappen te scheiden, terwijl <span class="trademark">Mac OS</span>® gebruik maakt van
      <code class="literal">:</code>.</p><p>FreeBSD gebruikt geen schijfletters, of andere schijfnamen in
      het pad.  FreeBSD gebruikt geen
      <code class="filename">c:/foo/bar/readme.txt</code>.</p><p>Eén bestandssysteem wordt aangewezen als
      <em class="firstterm">root</em> bestandssysteem, waar naar wordt
      verwezen met <code class="literal">/</code>.  Elk ander bestandssysteem
      wordt daarna <em class="firstterm">gekoppeld</em> onder het root
      bestandssysteem.  Hoeveel schijven er ook aan een FreeBSD systeem
      hangen, het lijkt alsof elke map zich op dezelfde schijf
      bevindt.</p><p>Stel er zijn drie bestandssystemen met de namen
      <code class="literal">A</code>,<code class="literal">B</code> en
      <code class="literal">C</code>.  Elk bestandssysteem heeft
      één root map die twee andere mappen bevat,
      <code class="literal">A1</code> en <code class="literal">A2</code> (zo ook voor de
      andere twee: <code class="literal">B1</code>, <code class="literal">B2</code>,
      <code class="literal">C1</code> en <code class="literal">C2</code>).</p><p><code class="literal">A</code> wordt het root besturingsysteem.  Met
      <code class="command">ls</code>, dat de inhoud van de map kan tonen, zijn
      de twee mappen <code class="literal">A1</code> en <code class="literal">A2</code> te
      zien.  De mappenstructuur ziet er als volgend uit:</p><div class="mediaobject"><img src="install/example-dir1.png" /></div><p>Een bestandssysteem moet gekoppeld worden in een map op een
      ander bestandssysteem.  Als nu bestandssysteem
      <code class="literal">B</code> wordt gekoppeld onder de map
      <code class="literal">A1</code> vervangt <code class="literal">B</code>
      <code class="literal">A1</code> en zien de koppelingen in
      <code class="literal">B</code> er als volgt uit:</p><div class="mediaobject"><img src="install/example-dir2.png" /></div><p>Elk bestand dat in de mappen <code class="literal">B1</code> en
      <code class="literal">B2</code> aanwezig is, kan benaderd worden met het
      pad <code class="filename">/A1/B1</code> of <code class="filename">/A1/B2</code>.
      Elk bestand dat in <code class="filename">/A1</code> stond is tijdelijk
      verborgen en komt tevoorschijn als <code class="literal">B</code>is
      <em class="firstterm">ontkoppeld</em>van A.</p><p>Als <code class="literal">B</code> gekoppeld is onder
      <code class="literal">A2</code> ziet de diagram er als volgt uit:</p><div class="mediaobject"><img src="install/example-dir3.png" /></div><p>en de paden zouden dan respectievelijk
      <code class="filename">/A2/B1</code> en <code class="filename">/A2/B2</code>
      zijn.</p><p>Bestandssystemen kunnen op elkaar worden gekoppeld.  Doorgaand
      op het vorige voorbeeld kan het bestandssysteem
      <code class="literal">C</code> gekoppeld worden bovenop de map
      <code class="literal">B1</code> in het bestandssysteem
      <code class="literal">B</code>.  Dit resulteert in:</p><div class="mediaobject"><img src="install/example-dir4.png" /></div><p>Of <code class="literal">C</code> kan direct onder het bestandssysteem
      <code class="literal">A</code> gekoppeld worden, onder de map
      <code class="literal">A1</code>:</p><div class="mediaobject"><img src="install/example-dir5.png" /></div><p>Hoewel het niet gelijk is, lijkt het op het gebruik van
      <code class="command">join</code> in <span class="trademark">MS-DOS</span>®.</p><p>Beginnende gebruikers hoeven zich hier gewoonlijk niet mee
      bezig te houden.  Normaal gesproken worden bestandssystemen
      gemaakt als FreeBSD wordt geïnstalleerd en er wordt
      besloten waar ze gekoppeld worden.  Meestal worden ze ook niet
      gewijzigd tot er een nieuwe schijf aan een systeem wordt
      toegevoegd.</p><p>Het is mogelijk om één groot root
      bestandssysteem te hebben en geen andere.  Deze benadering
      heeft voordelen en nadelen.</p><div class="itemizedlist"><div class="itemizedlist-title">Voordelen van meerdere bestandssystemen</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Verschillende bestandssystemen kunnen verschillende
	  <em class="firstterm">mount opties</em> hebben.  Met een goede
	  voorbereiding kan het root bestandssysteem bijvoorbeeld als
	  alleen-lezen gekoppeld worden, waardoor het onmogelijk wordt
	  om per ongeluk kritische bestanden te verwijderen of te
	  bewerken.  Het scheiden van andere bestandssystemen die
	  beschrijfbaar zijn door gebruikers, zoals
	  <code class="filename">/home</code> van andere bestandssystemen stelt
	  de beheerder in staat om ze <em class="firstterm">nosuid</em> te
	  koppelen.  Deze optie voorkomt dat
	  <em class="firstterm">suid</em>/<em class="firstterm">guid</em> bits
	  op uitvoerbare bestanden effectief gebruikt kunnen worden,
	  waardoor de beveiliging mogelijk beter wordt.</p></li><li class="listitem"><p>FreeBSD optimaliseert automatisch de layout van bestanden
	  op een bestandssysteem, afhankelijk van hoe het
	  bestandssysteem wordt gebruikt.  Een bestandsysteem dat veel
	  bestanden bevat waar regelmatig naar geschreven wordt, wordt
	  anders geoptimaliseerd dan een bestandssysteem dat minder
	  maar grotere bestanden bevat.  Door het gebruik van
	  één groot bestandssysteem werkt deze
	  optimalisatie niet.</p></li><li class="listitem"><p>FreeBSD's bestandssystemen zijn erg robuust als er
	  bijvoorbeeld een stroomstoring is, hoewel een stroomstoring
	  op een kritiek moment nog steeds kan leiden tot schade aan de
	  structuur van het bestandssysteem.  Door het verdelen van
	  data over meerdere bestandssystemen, is de kans groter dat
	  het systeem nog opstart, wat terugzetten van een back-up
	  makkelijker maakt als dat nodig is.</p></li></ul></div><div class="itemizedlist"><div class="itemizedlist-title">Voordeel van één bestandssysteem</div><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Bestandssystemen hebben een vaste grootte.  Als bij de
	  installatie van FreeBSD een bestandssysteem wordt gemaakt, is
	  het later mogelijk dat de partitie groter gemaakt moet
	  worden.  Dit is niet zo makkelijk zonder een back-up, het
	  opnieuw maken van het bestandssysteem met gewijzigde grootte
	  en het terugzetten van de geback-upte gegevens.</p><div xmlns="" class="important"><h3 class="admontitle">Belangrijk: </h3><p xmlns="http://www.w3.org/1999/xhtml">FreeBSD heeft <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=growfs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">growfs</span>(8)</span></a> waarmee de grootte van het
	    bestandssysteem is aan te passen terwijl het draait.</p></div></li></ul></div><p>Bestandssystemen worden opgeslagen in partities.  Dit
      betekent niet hetzelfde als de algemene betekenis van de term
      partitie (bijvoorbeeld, <span class="trademark">MS-DOS</span>® partitie), vanwege FreeBSD's <span class="trademark">UNIX</span>®
      achtergrond.  Elke partitie wordt geïdentificeerd door een
      letter van <code class="literal">a</code> tot en met <code class="literal">h</code>.
      Elke partitie kan slechts één bestandssysteem
      hebben, wat betekent dat bestandssystem vaak omschreven worden
      aan de hand van hun koppelpunt in de bestandssysteem
      hiërarchie of de letter van de partitie waar ze in
      opgeslagen zijn.</p><p>FreeBSD gebruikt ook schijfruimte voor
      <em class="firstterm">wisselbestanden</em>.  Wisselbestanden geven
      FreeBSD <em class="firstterm">virtueel geheugen</em>.  Dit geeft de
      computer de mogelijkheid om net te doen alsof er veel meer
      geheugen in de machine aanwezig is dan werkelijk het geval is.
      Als FreeBSD geen geheugen meer heeft, verplaatst het data die op dat
      moment niet gebruikt wordt naar de wisselbestanden en plaatst het
      terug als het wel nodig is (en zet iets anders in ruil daarvoor
      terug).</p><p>Aan sommige partities zijn bepaalde conventies
      gekoppeld.</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Partitie</th><th>Conventie</th></tr></thead><tbody valign="top"><tr><td valign="top"><code class="literal">a</code></td><td valign="top">Bevat meestal het root bestandssysteem</td></tr><tr><td valign="top"><code class="literal">b</code></td><td valign="top">Bevat meestal de swapruimte</td></tr><tr><td valign="top"><code class="literal">c</code></td><td valign="top">Heeft meestal dezelfde grootte als de hele harde
	      schijf.  Dit geeft hulpprogramma's de mogelijkheid
	      om op een complete schijf te werken (voor bijvoorbeeld een
	      bad block scanner) om te werken op de
	      <code class="literal">c</code> partitie.  Meest wordt hierop dan
	      ook geen bestandssysteem gecreeërd.</td></tr><tr><td valign="top"><code class="literal">d</code></td><td valign="top">Partitie <code class="literal">d</code> had vroeger een
	      speciale betekenis, maar die is verdwenen.
	      <code class="literal">d</code> zou nu kunnen werken als een normale
	      partitie.</td></tr></tbody></table></div><p>Elke partitie die een bestandssysteem bevat is opgeslagen
      in wat FreeBSD noemt een <em class="firstterm">slice</em>.  Slice is
      FreeBSD's term voor wat meeste mensen partities noemen.  Dit komt
      wederom door FreeBSD's <span class="trademark">UNIX</span>® achtergrond.  Slices zijn genummerd
      van 1 tot en met 4.</p><a id="idp69226704" class="indexterm"></a><a id="idp69227216" class="indexterm"></a><a id="idp69227728" class="indexterm"></a><p>Slicenummers volgen de apparaatnamen, voorafgegaan door een
      <code class="literal">s</code> die begint bij 1.  Dus
      <span class="quote">&#8220;<span class="quote">da0<span class="emphasis"><em>s1</em></span></span>&#8221;</span> is de eerste slice op
      de eerste SCSI drive.  Er kunnen maximaal vier fysieke slices op
      een schijf staan, maar er kunnen logische slices in fysieke
      slices van het correcte type staan.  Deze uitgebreide slices zijn
      genummerd vanaf 5.  Dus <span class="quote">&#8220;<span class="quote">ad0<span class="emphasis"><em>s5</em></span></span>&#8221;</span>
      is de eerste uitgebreide slice op de eerste IDE schijf.  Deze
      apparaten worden gebruikt door bestandssystemen waarvan verwacht
      wordt dat ze een slice in beslag nemen.</p><p>Slices, <span class="quote">&#8220;<span class="quote">gevaarlijk toegewijde</span>&#8221;</span> (dangerously
      dedicated) fysieke drivers en andere drives bevatten
      <em class="firstterm">partities</em>, die worden weergegeven door
      letters vanaf <code class="literal">a</code> tot <code class="literal">h</code>.
      Deze letter wordt achter de apparaatnaam geplakt.  Dus
      <span class="quote">&#8220;<span class="quote">da0<span class="emphasis"><em>a</em></span></span>&#8221;</span> is de a partitie op de
      eerste da drive, die <span class="quote">&#8220;<span class="quote">gevaarlijk toegewijd</span>&#8221;</span> is.
      <span class="quote">&#8220;<span class="quote">ad1s3<span class="emphasis"><em>e</em></span></span>&#8221;</span> is de vijfde partitie
      op de derde slice van de tweede IDE schijf.</p><p>Elke schijf op het systeem wordt geïdentificeerd.  Een
      schijfnaam start met een code die het type aangeeft en dan een
      nummer dat aangeeft welke schijf het is.  In tegenstelling tot
      bij slices, start het nummeren van schijven bij 0.
      Standaardcodes staan beschreven in <a class="xref" href="disk-organization.html#basics-dev-codes" title="Tabel 4.1. Schijf apparaatcodes">Tabel 4.1, &#8220;Schijf apparaatcodes&#8221;</a>.</p><p>Bij een referentie aan een partitie verwacht FreeBSD ook dat
      de slice en schijf refereert naar die partitie en als naar een
      slice wordt verwezen moet ook de schijfnaam genoemd worden.  Dit
      kan door de schijfnaam, <code class="literal">s</code>, het slice nummer
      en de partitieletter aan te geven.  Voorbeelden staan in <a class="xref" href="disk-organization.html#basics-disk-slice-part" title="Voorbeeld 4.1. Voorbeeld schijf-, slice- en partitienamen">Voorbeeld 4.1, &#8220;Voorbeeld schijf-, slice- en partitienamen&#8221;</a>.</p><p>In <a class="xref" href="disk-organization.html#basics-concept-disk-model" title="Voorbeeld 4.2. Conceptmodel van een schijf">Voorbeeld 4.2, &#8220;Conceptmodel van een schijf&#8221;</a> staat een
      conceptmodel van een schijflayout die een en ander
      verduidelijkt.</p><p>Voordat FreeBSD geïnstalleerd kan worden moeten eerst de
      schijfslices gemaakt worden en daarna moeten de partities op de
      slices voor FreeBSD gemaakt worden.  Daarna wordt op elke
      partitie het bestandssysteem (of wisselbestand) gemaakt en als
      laatste wordt besloten waar het filesysteem gekoppeld wordt.</p><div class="table"><a id="basics-dev-codes"></a><div class="table-title">Tabel 4.1. Schijf apparaatcodes</div><div class="table-contents"><table summary="Schijf apparaatcodes" width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Code</th><th>Betekenis</th></tr></thead><tbody><tr><td><code class="filename">ad</code></td><td>ATAPI (IDE) schijf</td></tr><tr><td><code class="filename">da</code></td><td>SCSI directe toegang schijf</td></tr><tr><td><code class="filename">acd</code></td><td>ATAPI (IDE) CDROM</td></tr><tr><td><code class="filename">cd</code></td><td>SCSI CDROM</td></tr><tr><td><code class="filename">fd</code></td><td>Floppydisk</td></tr></tbody></table></div></div><br class="table-break" /><div class="example"><a id="basics-disk-slice-part"></a><div class="example-title">Voorbeeld 4.1. Voorbeeld schijf-, slice- en partitienamen</div><div class="example-contents"><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Name</th><th>Betekenis</th></tr></thead><tbody><tr><td><code class="literal">ad0s1a</code></td><td>De eerste partitie (<code class="literal">a</code>) op de
		eerste slice (<code class="literal">s1</code>) op de eerste IDE
		schijf (<code class="literal">ad0</code>).</td></tr><tr><td><code class="literal">da1s2e</code></td><td>De vijfde partitie (<code class="literal">e</code>) op de
		tweede slice (<code class="literal">s1</code>) op de tweede SCSI
		schijf (<code class="literal">da1</code>).</td></tr></tbody></table></div></div></div><br class="example-break" /><div class="example"><a id="basics-concept-disk-model"></a><div class="example-title">Voorbeeld 4.2. Conceptmodel van een schijf</div><div class="example-contents"><p>Het onderstaande diagram geeft aan hoe FreeBSD de eerste IDE
	schijf in het systeem ziet.  Stel dat de schijf 4 GB groot
	is en dat deze twee 2 GB slices (<span class="trademark">MS-DOS</span>® partities)
	bevat.  De eerste slice bevat een <span class="trademark">MS-DOS</span>® schijf,
	<code class="filename">C:</code> en de tweede slice bevat een FreeBSD
	installatie.  Deze FreeBSD installatie heeft drie partities en
	een partitie met een wisselbestand.</p><p>De drie partities hebben elk een bestandssysteem.  Partitie
	<code class="literal">a</code> wordt gebruikt voor het root
	bestandssysteem, <code class="literal">e</code> voor de map
	<code class="filename">/var</code> en <code class="literal">f</code> voor de map
	<code class="filename">/usr</code>.</p><div class="mediaobject"><img src="install/disk-layout.png" /></div></div></div><br class="example-break" /></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="dirstructure.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="basics.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mount-unmount.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">4.4. Mappenstructuur </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 4.6. Het koppelen en ontkoppelen van bestandssystemen</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>