<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>12.6. cron instellen</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="config-tuning.html" title="Hoofdstuk 12. Instellingen en optimalisatie" /><link rel="prev" href="configtuning-starting-services.html" title="12.5. Diensten starten" /><link rel="next" href="configtuning-rcd.html" title="12.7. Gebruik van rc met FreeBSD" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.6. <code class="command">cron</code> instellen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 12. Instellingen en optimalisatie</th><td width="20%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="configtuning-cron"></a>12.6. <code class="command">cron</code> instellen</h2></div><div><span class="authorgroup">Geschreven door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Tom</span> <span class="surname">Rhodes</span></span>. </span></div></div></div><a id="idp74780368" class="indexterm"></a><p>Een zeer nuttig hulpprogramma in FreeBSD is <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cron&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">cron</span>(8)</span></a>.  De
      daemon <code class="command">cron</code> draait op de achtergrond en
      controleert voortdurend <code class="filename">/etc/crontab</code>.  Ook
      controleert <code class="command">cron</code> de map
      <code class="filename">/var/cron/tabs</code>, op zoek naar nieuwe
      <code class="filename">crontab</code> bestanden.  Deze
      <code class="filename">crontab</code> bestanden bevatten informatie over
      specifieke taken die <code class="command">cron</code> moet verrichten op
      gezette tijden.</p><p><code class="command">cron</code> gebruikt twee verschillende soorten
      instellingenbestanden: de systeemcrontab en gebruikerscrontabs.  Deze
      formaten verschillen alleen in het zesde en verdere velden.  In de
      systeemcrontab zal <code class="command">cron</code> het commando draaien als de
      gebruiker die in het zesde veld is opgegeven.  In een gebruikerscrontab
      draaien alle commando's onder de gebruiker die de crontab heeft
      aangemaakt, dus is het zesde veld het laatste veld; dit is een belangrijk
      beveiligingsaspect.  Het laatste veld is altijd het commando dat gedraaid
      wordt.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Gebruikerscrontabs geven individuele gebruikers de
	mogelijkheid om bepaalde terugkerende taken automatisch te laten
	uitvoeren zonder dat <code class="systemitem">root</code>-rechten noodig
	zijn.  Commando's in de crontab van een gebruiker worden
	uitgevoerd met de rechten van de eigenaar.</p><p xmlns="http://www.w3.org/1999/xhtml"><code class="systemitem">root</code> kan ook een gebruikerscrontab
	aanleggen net als elke andere gebruiker.  Dit is niet dezelfde als
	<code class="filename">/etc/crontab</code>, de systeemcrontab.  Omdat de
	systeemcrontab in de praktijk de commando's als root uitvoert, is het
	doorgaans niet nodig om een gebruikerscrontab voor
	<code class="systemitem">root</code> te maken.</p></div><p><code class="filename">/etc/crontab</code> (de systeemcrontab) ziet er
      uit als volgt:</p><pre class="programlisting"># /etc/crontab - root's crontab for FreeBSD
#
# $FreeBSD: src/etc/crontab,v 1.32 2002/11/22 16:13:39 tom Exp $
# <a id="co-comments"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
#
SHELL=/bin/sh
PATH=/etc:/bin:/sbin:/usr/bin:/usr/sbin <a id="co-env"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
HOME=/var/log
#
#
#minuut uur     mdag    maand   wdag    wie     commando <a id="co-field-descr"></a><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span>
#
#
*/5     *       *       *       *       root    /usr/libexec/atrun <a id="co-main"></a><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-comments"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Zoals in de meeste instellingenbestanden van FreeBSD zijn regels die
	   met het karakter <code class="literal">#</code> beginnen commentaar.
	  Commentaar wordt gebruikt als uitleg en geheugensteun.
	  Commentaar dient niet vermengd te worden met commando's,
	  anders wordt het commentaar opgevat als deel van het commando.
	  Blanco regels worden genegeerd.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-env"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Eerst worden omgevingsvariabelen gedefiniëerd.
	  Hoervoor wordt het is-gelijk karakter (<code class="literal">=</code>)
	  gebruikt.  In het bovenstaande voorbeeld wordt het gebruikt
	  voor de variabelen <code class="envar">SHELL</code>, <code class="envar">PATH</code>
	  en <code class="envar">HOME</code>.  Als de regel <code class="envar">SHELL</code>
	  ontbreekt, gebruikt <code class="command">cron</code> standaard
	  <code class="command">sh</code> als shell.  Voor de omgevingsvariabele
	  <code class="envar">PATH</code> bestaat geen standaardwaarde.  Als
	  <code class="envar">PATH</code> ontbreekt moeten absolute paden gebruikt
	  worden.  Als <code class="envar">HOME</code> ontbreekt, gebruikt
	  <code class="command">cron</code> de thuismap van de gebruiker die
	  <code class="command">cron</code> aanroept.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-field-descr"><span><img src="./imagelib/callouts/3.png" alt="3" border="0" /></span></a> </p></td><td valign="top" align="left"><p>In deze commentaarregel staan de zeven velden van een
	  crontabdefinitie.  Dit zijn <code class="literal">minuut</code>,
	  <code class="literal">uur</code>, <code class="literal">mdag</code>,
	  <code class="literal">maand</code>, <code class="literal">wdag</code>,
	  <code class="literal">wie</code> en <code class="literal">commando</code>.  De
	  betekenissen liggen voor de hand: <code class="literal">minuut</code>
	  is het aantal minuten van het tijdstip waarop het commando
	  moet worden uitgevoerd; <code class="literal">uur</code> geeft het uur
	  aan; <code class="literal">mdag</code> staat voor de dag van de maand;
	  <code class="literal">maand</code> staat voor het maandnummer en
	  <code class="literal">wdag</code> geeft de dag van de week aan.  Het
	  veld <code class="literal">wie</code> is bijzonder en bestaat alleen in
	  <code class="filename">/etc/crontab</code>.  Het geeft aan als welke
	  gebruiker het commando uitgevoerd moet worden.  Het laatste veld
	  bevat het uit te voeren commando.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-main"><span><img src="./imagelib/callouts/4.png" alt="4" border="0" /></span></a> </p></td><td valign="top" align="left"><p>In deze regel worden aan de hierboven besproken opties
	  waarden toegekend.  Er wordt gebruik gemaakt van
	  <code class="literal">*/5</code> en <code class="literal">*</code> karakters.
	  Deze betekenen <span class="quote">&#8220;<span class="quote">eerst-laatst</span>&#8221;</span> en kunnen gezien
	  worden als <span class="emphasis"><em>telkens</em></span>.  In deze regel staat
	  dus dat <code class="command">atrun</code> elke vijf
	  minuten moet worden uitgevoerd door <code class="systemitem">root</code>,
	  ongeacht welke dag of maand het is.  Meer informatie over
	  <code class="command">atrun</code> staat in <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atrun&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atrun</span>(8)</span></a>.</p><p>Commando's kunnen een willekeurig aantal opties of
	  argumenten meekrijgen.  Als commando's echter meerdere regels
	  nodig hebben moeten deze regels afgebroken worden met een
	  backslash <span class="quote">&#8220;<span class="quote">\</span>&#8221;</span> karakter, om aan te geven dat ze op
	  de volgende regel vervolgd worden.</p></td></tr></table></div><p>Dit is de basisopzet voor elk <code class="filename">crontab</code>
      bestand.  De enige uitzondering is de aanwezigheid van veld zes,
      waar de gebruikersnaam wordt aangegeven.  Dit veld bestaat alleen
      in de systeemversie van <code class="filename">/etc/crontab</code>.  Voor
      <code class="filename">crontab</code>-bestanden van individuele gebruikers
      moet dit veld worden weggelaten.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="configtuning-installcrontab"></a>12.6.1. Een crontab installeren</h3></div></div></div><div xmlns="" class="important"><h3 class="admontitle">Belangrijk: </h3><p xmlns="http://www.w3.org/1999/xhtml">De onderstaande procedure moet niet gebruikt worden om de
	  systeemcrontab <code class="filename">/etc/crontab</code> te wijzigen of te
	  installeren.  Er kan een gewone editor gebruikt worden.
	  <code class="command">cron</code> ziet dat het bestand veranderd is en begint
	  direct met het gebruiken van de nieuwe versie.  <a class="link" href="../../../../doc/nl_NL.ISO8859-1/books/faq/admin.html#ROOT-NOT-FOUND-CRON-ERRORS" target="_top">Deze
	    FAQ vraag</a> geeft verdere uitleg.</p></div><p>Om een nieuwe <code class="filename">crontab</code> te installeren
	moet eerst een bestand in het juiste formaat gemaakt worden en
	daarna moet het geiuml;nstalleerd worden met commando
	<code class="command">crontab</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>crontab crontabbestand</code></strong></pre><p>In dit voorbeeld is <code class="filename">crontabbestand</code> de
	naam van een eerder gemaakt
	<code class="filename">crontab</code>-bestand.</p><p>Er bestaat ook een optie om een lijst van
	geïnstalleerde <code class="filename">crontab</code>-bestanden op te
	vragen, namelijk de optie <code class="option">-l</code> van
	<code class="command">crontab</code>.</p><p>Gebruikers die hun eigen crontabbestand willen schrijven
	zonder het gebruik van een sjabloon, kunnen gebruik maken van
	<code class="command">crontab -e</code>.  Dit opent de
	<code class="envar">EDITOR</code> met een leeg bestand.  Als het bestand
	wordt opgeslagen en de editor wordt afgesloten, wordt het
	bestand automatisch als <code class="filename">crontab</code>
	geïnstalleerd.</p><p>Een gebruikers<code class="filename">crontab</code> kan verwijderd
	worden door de met <code class="command">crontab</code> de optie
	<code class="option">-r</code> te gebruiken.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configtuning-starting-services.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="config-tuning.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="configtuning-rcd.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">12.5. Diensten starten </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 12.7. Gebruik van rc met FreeBSD</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>