<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>17.10. MAC-module portacl</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="mac.html" title="Hoofdstuk 17. Verplichte Toegangscontrole (MAC)" /><link rel="prev" href="mac-ifoff.html" title="17.9. MAC-module ifoff" /><link rel="next" href="mac-partition.html" title="17.11. MAC-module partition" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">17.10. MAC-module portacl</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="mac-ifoff.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 17. Verplichte Toegangscontrole (MAC)</th><td width="20%" align="right"> <a accesskey="n" href="mac-partition.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="mac-portacl"></a>17.10. MAC-module portacl</h2></div></div></div><a id="idp78725968" class="indexterm"></a><p>Modulenaam: <code class="filename">mac_portacl.ko</code></p><p>Kernelinstelling:
      <code class="literal">MAC_PORTACL</code></p><p>Opstartoptie: <code class="literal">mac_portacl_load="YES"</code></p><p>De module <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> wordt gebruikt om het binden aan
      lokale <acronym class="acronym">TCP</acronym>- en <acronym class="acronym">UDP</acronym>-poorten
      te begrenzen door een waaier aan
      <code class="command">sysctl</code>-variabelen te gebruiken.  In essentie
      maakt <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> het mogelijk om
      niet-<code class="systemitem">root</code>-gebruikers in staat te stellen om
      aan gespecificeerde geprivilegieerde poorten te binden, dus
      poorten lager dan 1024.</p><p>Eenmaal geladen zal deze module het
      <acronym class="acronym">MAC</acronym>-beleid op alle sockets aanzetten.  De
      volgende tunables zijn beschikbaar:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="literal">security.mac.portacl.enabled</code> schakelt
	  het beleid volledig in of uit.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.port_high</code> stelt
	  het hoogste poortnummer in waarvoor <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a>
	  bescherming biedt.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.suser_exempt</code> sluit
	  de gebruiker <code class="systemitem">root</code> uit van dit beleid
	  wanneer het op een waarde anders dan nul wordt ingesteld.</p></li><li class="listitem"><p><code class="literal">security.mac.portacl.rules</code> specificeert
	  het eigenlijke beleid van mac_portacl; zie onder.</p></li></ul></div><p>Het eigenlijke beleid van <code class="literal">mac_portacl</code>,
      zoals gespecificeerd in de sysctl
      <code class="literal">security.mac.portacl.rules</code>, is een tekststring
      van de vorm: <code class="literal">regel[,regel,...]</code> met zoveel
      regels als nodig.  Elke regel heeft de vorm:
      <code class="literal">idtype:id:protocol:poort</code>.  De parameter
      <em class="parameter"><code>idtype</code></em> kan <code class="literal">uid</code> of
      <code class="literal">gid</code> zijn en wordt gebruikt om de parameter

      <em class="parameter"><code>id</code></em> als respectievelijk een gebruikers-id of
      groeps-id te interpreteren.  De parameter
      <em class="parameter"><code>protocol</code></em> wordt gebruikt om te bepalen of de
      regel op <acronym class="acronym">TCP</acronym> of <acronym class="acronym">UDP</acronym> moet
      worden toegepast door de parameter op <code class="literal">tcp</code> of
      <code class="literal">udp</code> in te stellen.  De laatste parameter
      <em class="parameter"><code>poort</code></em> is het poortnummer waaraan de
      gespecificeerde gebruiker of groep zich mag binden.</p><div xmlns="" class="note"><h3 class="admontitle">Opmerking: </h3><p xmlns="http://www.w3.org/1999/xhtml">Aangezien de regelverzameling direct door de kernel wordt
	geïnterpreteerd kunnen alleen numerieke waarden voor de
	parameters voor de gebruikers-ID, groeps-ID, en de poort
	gebruikt worden.  Voor gebruikers, groepen, en
	poortdiensten kunnen dus geen namen  gebruikt worden.</p></div><p>Standaard kunnen op <span class="trademark">UNIX</span>®-achtige systemen poorten lager dan
      1024 alleen aan geprivilegieerde processen gebonden worden, dus
      diegenen die als <code class="systemitem">root</code> draaien.  Om
      <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> toe te laten staan om ongeprivilegieerde
      processen aan poorten lager dan 1024 te laten binden moet deze
      standaard <span class="trademark">UNIX</span>®-beperking uitgezet worden.  Dit kan bereikt
      worden door de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=sysctl&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">sysctl</span>(8)</span></a>-variabelen
      <code class="literal">net.inet.ip.portange.reservedlow</code> en
      <code class="literal">net.inet.ip.portrange.reservedhigh</code> op nul te
      zetten.</p><p>Zie de onderstaande voorbeelden of bekijk de handleidingpagina
      voor <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> voor meer informatie.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp78759120"></a>17.10.1. Voorbeelden</h3></div></div></div><p>De volgende voorbeelden zouden de bovenstaande discussie wat
	moeten toelichten:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.port_high=1023</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>sysctl net.inet.ip.portrange.reservedlow=0 net.inet.ip.portrange.reservedhigh=0</code></strong></pre><p>Eerst wordt <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> ingesteld om de standaard
	geprivilegieerde poorten te dekken en worden de normale
	bindbeperkingen van <span class="trademark">UNIX</span>® uitgeschakeld.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.suser_exempt=1</code></strong></pre><p>De gebruiker <code class="systemitem">root</code> zou niet beperkt
	moeten worden door dit beleid, stel
	<code class="literal">security.mac.portacl.suser_exempt</code> dus in op
	een waarde anders dan nul.  De module <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=mac_portacl&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">mac_portacl</span>(4)</span></a> is nu
	ingesteld om zich op de zelfde manier te gedragen als
	<span class="trademark">UNIX</span>®-achtige systemen zich standaard gedragen.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.rules=uid:80:tcp:80</code></strong></pre><p>Sta de gebruiker met <acronym class="acronym">UID</acronym> 80 (normaliter
	de gebruiker <code class="systemitem">www</code>) toe om zich aan poort 80
	te binden.  Dit kan gebruikt worden om de gebruiker
	<code class="systemitem">www</code> toe te staan een webserver te draaien
	zonder ooit <code class="systemitem">root</code>-rechten te hebben.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>sysctl security.mac.portacl.rules=uid:1001:tcp:110,uid:1001:tcp:995</code></strong></pre><p>Sta de gebruiker met <acronym class="acronym">UID</acronym> 1001 om zich aan
	de <acronym class="acronym">TCP</acronym>-poorten 110 (<span class="quote">&#8220;<span class="quote">pop3</span>&#8221;</span>) en
	995 (<span class="quote">&#8220;<span class="quote">pop3s</span>&#8221;</span>) te binden.  Dit staat deze gebruiker
	toe om een server te starten die verbindingen accepteert op
	poorten 110 en 995.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="mac-ifoff.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="mac.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="mac-partition.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">17.9. MAC-module ifoff </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 17.11. MAC-module partition</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>