<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>31.12. Asynchronous Transfer Mode (ATM)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="FreeBSD handboek" /><link rel="up" href="advanced-networking.html" title="Hoofdstuk 31. Geavanceerde netwerken" /><link rel="prev" href="network-ipv6.html" title="31.11. IPv6" /><link rel="next" href="carp.html" title="31.13. Common Address Redundancy Protocol (CARP)" /><link rel="copyright" href="legalnotice.html" title="Copyright" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">31.12. Asynchronous Transfer Mode (ATM)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-ipv6.html">Terug</a> </td><th width="60%" align="center">Hoofdstuk 31. Geavanceerde netwerken</th><td width="20%" align="right"> <a accesskey="n" href="carp.html">Volgende</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-atm"></a>31.12. Asynchronous Transfer Mode (ATM)</h2></div><div><span class="authorgroup">Bijgedragen door <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Harti</span> <span class="surname">Brandt</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90675664"></a>31.12.1. Klassiek IP configureren over ATM (PVCs)</h3></div></div></div><p>Klassiek IP over ATM (<acronym class="acronym">CLIP</acronym>) is de
	eenvoudigste methode om Asynchronous Transfer Mode (ATM) met IP
	te gebruiken.  Het kan met geswitchte verbindingen (SVCs) en met
	permanente verbindingen (PVCs) gebruikt worden.  Deze sectie
	beschrijft hoe een netwerk gebaseerd op PVCs op te zetten.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp90677072"></a>31.12.1.1. Volledig geschakelde configuraties</h4></div></div></div><p>De eerste methode om een <acronym class="acronym">CLIP</acronym> met PVCs
	  op te zetten is om elke machine met elke andere machine in het
	  netwerk te verbinden via een toegewijde PVC.  Hoewel dit
	  eenvoudig te configureren is, wordt het onpraktisch voor een
	  groter aantal machines.  Dit netwerk gaat ervan uit dat er
	  vier machines in het netwerk zijn, allen verbonden met het
	  <acronym class="acronym">ATM</acronym>
	  netwerk met een
	  <acronym class="acronym">ATM</acronym>
	  adapterkaart.  De eerste stap is het plannen van de
	  IP-adressen en de
	  <acronym class="acronym">ATM</acronym>
	  verbindingen tussen de machines.  Het volgende wordt
	  gebruikt:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Host</th><th>IP-adres</th></tr></thead><tbody><tr><td><code class="systemitem">hostA</code></td><td><code class="systemitem">192.168.173.1</code></td></tr><tr><td><code class="systemitem">hostB</code></td><td><code class="systemitem">192.168.173.2</code></td></tr><tr><td><code class="systemitem">hostC</code></td><td><code class="systemitem">192.168.173.3</code></td></tr><tr><td><code class="systemitem">hostD</code></td><td><code class="systemitem">192.168.173.4</code></td></tr></tbody></table></div><p>Om een volledig geschakeld net te bouwen is er een
	  ATM-verbinding nodig tussen elk paar machines:</p><div class="informaltable"><table width="100%" border="0"><colgroup><col /><col /></colgroup><thead><tr><th>Machines</th><th>VPI.VCI koppel</th></tr></thead><tbody><tr><td><code class="systemitem">hostA</code> - <code class="systemitem">hostB</code></td><td>0.100</td></tr><tr><td><code class="systemitem">hostA</code> - <code class="systemitem">hostC</code></td><td>0.101</td></tr><tr><td><code class="systemitem">hostA</code> - <code class="systemitem">hostD</code></td><td>0.102</td></tr><tr><td><code class="systemitem">hostB</code> - <code class="systemitem">hostC</code></td><td>0.103</td></tr><tr><td><code class="systemitem">hostB</code> - <code class="systemitem">hostD</code></td><td>0.104</td></tr><tr><td><code class="systemitem">hostC</code> - <code class="systemitem">hostD</code></td><td>0.105</td></tr></tbody></table></div><p>De VPI- en VCI-waarde kunnen aan beide kanten van de
	  verbinding verschillen, maar voor de eenvoud wordt aangenomen
	  dat ze hetzelfde zijn.  Vervolgens dienen de ATM-interfaces op
	  elke host geconfigureerd te worden:</p><pre class="screen">hostA<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.1 up</code></strong>
hostB<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.2 up</code></strong>
hostC<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.3 up</code></strong>
hostD<code class="prompt">#</code> <strong class="userinput"><code>ifconfig hatm0 192.168.173.4 up</code></strong></pre><p>aannemende dat de ATM-interface op alle hosts
	  <code class="filename">hatm0</code> is.  Nu dienen de PVCs op
	  <code class="systemitem">hostA</code> geconfigureerd te worden (er wordt
	  aangenomen dat ze reeds op de ATM-switches zijn geconfigureerd,
	  raadpleeg de handleiding van de switch hoe dit te doen).</p><pre class="screen">hostA<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 100 llc/snap ubr</code></strong>
hostA<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 101 llc/snap ubr</code></strong>
hostA<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 102 llc/snap ubr</code></strong>

hostB<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 100 llc/snap ubr</code></strong>
hostB<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 103 llc/snap ubr</code></strong>
hostB<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 104 llc/snap ubr</code></strong>

hostC<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 101 llc/snap ubr</code></strong>
hostC<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 103 llc/snap ubr</code></strong>
hostC<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.4 hatm0 0 105 llc/snap ubr</code></strong>

hostD<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.1 hatm0 0 102 llc/snap ubr</code></strong>
hostD<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.2 hatm0 0 104 llc/snap ubr</code></strong>
hostD<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm add 192.168.173.3 hatm0 0 105 llc/snap ubr</code></strong></pre><p>Uiteraard kunnen ook andere verkeerscontracten dan UBR
	  worden gebruikt indien de ATM-adapter die ondersteunt.  In dit
	  geval wordt de naam van het verkeerscontract gevolgd door de
	  parameters van het verkeer.  Hulp voor het gereedschap
	  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atmconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atmconfig</span>(8)</span></a> kan verkregen worden met:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>atmconfig help natm add</code></strong></pre><p>of in de hulppagina <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atmconfig&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">atmconfig</span>(8)</span></a>.</p><p>Dezelfde configuratie kan ook bereikt worden via
	  <code class="filename">/etc/rc.conf</code>.  Voor
	  <code class="systemitem">hostA</code> wordt dit:</p><pre class="programlisting">network_interfaces="lo0 hatm0"
ifconfig_hatm0="inet 192.168.173.1 up"
natm_static_routes="hostB hostC hostD"
route_hostB="192.168.173.2 hatm0 0 100 llc/snap ubr"
route_hostC="192.168.173.3 hatm0 0 101 llc/snap ubr"
route_hostD="192.168.173.4 hatm0 0 102 llc/snap ubr"</pre><p>De huidige toestand van alle <acronym class="acronym">CLIP</acronym>
	  routes kan worden verkregen met:</p><pre class="screen">hostA<code class="prompt">#</code> <strong class="userinput"><code>atmconfig natm show</code></strong></pre></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-ipv6.html">Terug</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Omhoog</a></td><td width="40%" align="right"> <a accesskey="n" href="carp.html">Volgende</a></td></tr><tr><td width="40%" align="left" valign="top">31.11. IPv6 </td><td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td><td width="40%" align="right" valign="top"> 31.13. Common Address Redundancy Protocol (CARP)</td></tr></table></div><p xmlns="" align="center"><small>All FreeBSD documents are available for download
    at <a href="http://ftp.FreeBSD.org/pub/FreeBSD/doc/">http://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="" align="center"><small>Questions that are not answered by the
    <a href="http://www.FreeBSD.org/docs.html">documentation</a> may be
    sent to &lt;<a href="mailto:freebsd-questions@FreeBSD.org">freebsd-questions@FreeBSD.org</a>&gt;.<br />
    Send questions about this document to &lt;<a href="mailto:freebsd-doc@FreeBSD.org">freebsd-doc@FreeBSD.org</a>&gt;.</small></p></body></html>