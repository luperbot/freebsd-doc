<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>29.9. NIS/YP</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="advanced-networking.html" title="Capítulo 29. Networking avanzado" /><link rel="prev" href="network-isdn.html" title="29.8. RDSI" /><link rel="next" href="network-dhcp.html" title="29.10. DHCP" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">29.9. NIS/YP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="network-isdn.html">Anterior</a> </td><th width="60%" align="center">Capítulo 29. Networking avanzado</th><td width="20%" align="right"> <a accesskey="n" href="network-dhcp.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="network-nis"></a>29.9. NIS/YP</h2></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Bill</span> <span class="surname">Swingle</span></span>. </span></div><div><span class="authorgroup">Ampliado por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Eric</span> <span class="surname">Ogren</span></span> y <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Udo</span> <span class="surname">Erdelhoff</span></span>. </span></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83033680"></a>29.9.1. ?Qué es esto?</h3></div></div></div><a id="idp83034320" class="indexterm"></a><a id="idp83034832" class="indexterm"></a><a id="idp83035344" class="indexterm"></a><a id="idp83035856" class="indexterm"></a><a id="idp83036368" class="indexterm"></a><a id="idp83036880" class="indexterm"></a><a id="idp83037392" class="indexterm"></a><p>NIS, siglas de Network Information Services (Servicios de
        Información de Red), fué un servicio desarrollado por
        Sun Microsystems para centralizar la administración de sistemas
        <span class="trademark">UNIX</span>® (originalmente <span class="trademark">SunOS</span>&#8482;).  Actualmente se considera como un
        estándar de la industria; los principales sistemas tipo <span class="trademark">UNIX</span>®
        (<span class="trademark">Solaris</span>&#8482;, HP-UX, <span class="trademark">AIX</span>®, Linux, NetBSD, OpenBSD, FreeBSD, etc)
        implementan NIS.</p><a id="idp83044816" class="indexterm"></a><p>NIS también se conocía como el servicio de
        páginas amarillas pero debido a problemas legales debidos a
        la propiedad de marcas comerciales, Sun tuvo que cambiar el nombre.
        El antíguo término (<span class="quote">&#8220;<span class="quote">Yellow Pages</span>&#8221;</span> o yp)
	todavía se ve y se utiliza con frecuencia.</p><a id="idp83046352" class="indexterm"></a><p>Se trata de un sistema cliente servidor basado en llamadas RPC que
        permite a un grupo de máquinas que se encuentran definidas
        dentro de un dominio administrativo NIS compartir un conjunto de
        ficheros de configuración.  Esto permite al administrador de
        sistemas por un lado configurar clientes NIS de forma minimalista y
	por otro lado centralizar la gestión de los ficheros de
        configuración en una única ubicación (una sola
        máquina).</p><a id="idp83047888" class="indexterm"></a><p>Se trata de algo similar al sistema de dominio de <span class="trademark">Windows NT</span>®
        aunque la implementación interna no se puede comparar, la
        funcionalidad y el servicio obtenido son similares.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83049424"></a>29.9.2. Términos/procesos que debe usted conocer</h3></div></div></div><p>Existen varios conceptos y varios procesos de usuario que el
        usuario no versado en estos temas suele encontrarse la primera vez que
        se intenta implantar un servicio de NIS en FreeBSD, tanto si se intenta
        configurar un servidor como si se intenta configurar un cliente:</p><a id="idp83050448" class="indexterm"></a><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Term</th><th>Description</th></tr></thead><tbody><tr><td>NIS domainname</td><td>Un servidor maestro de NIS y todos sus clientes
                (incluyendo a sus servidores esclavos) poseen el mismo nombre
                dominio NIS.  Al igual que ocurre con el nombre de dominio de
                <span class="trademark">Windows NT</span>®, el nombre de dominio de NIS no tiene nada que ver
                con el nombre de dominio de DNS.</td></tr><tr><td><span class="application">portmap</span></td><td>Debe ejecutarse para que se activen las llamadas a
                procedimientos remotos (Remote Procedure Call o RPC)
		que son utilizadas por NIS.  Si
		<span class="application">portmap</span> no se está ejecutando
                no se podrá ejecutar ni clientes ni servidores de
		NIS.</td></tr><tr><td><span class="application">ypbind</span></td><td><span class="quote">&#8220;<span class="quote">Asocia</span>&#8221;</span> un cliente con un servidor NIS.
                Primeramente se lee el nombre de dominio NIS del sistema y
                utilizando RPC se conecta con el servidor.
                <span class="application">ypbind</span> es la parte central de la
                comunicación cliente servidor del sistema NIS;
                si <span class="application">ypbind</span> muere en una
                máquina cliente, dicha máquina no podrá
                acceder al servidor NIS.</td></tr><tr><td><span class="application">ypserv</span></td><td>Debe ejecutarse sólamente en los servidores NIS;
                se trata del proceso servidor de NIS.  Si <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a>
                muere, el servidor no será capaz de responder a
                peticiones NIS (no obstante, si se definen servidores NIS
                esclavos la situación puede recuperarse).  Existen
                algunas implementaciones de NIS (no es el caso de FreeBSD)
                que no intentan conectarse con otro servidor si el servidor
                con otro servidor si el servidor que se estaba
                que se estaba utilizando muere.  A menudo lo único que
		se puede hacer en estos casos es reiniciar el servidor (el
                proceso o la propia máquina) o el proceso
                <span class="application">ypbind</span> del cliente.</td></tr><tr><td><span class="application">rpc.yppasswdd</span></td><td>Otro proceso que sólo debe ejecutarse en el
                servidor maestro de NIS; se trata de un dæmon que permite
                a los clientes de NIS modificar las contraseñas de los
                usuarios.  Si no se ejecuta este dæmon los usuarios
                tendrán que entrar en el servidor maestro de NIS para
                cambiar sus contraseñas allí.</td></tr></tbody></table></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83072336"></a>29.9.3. ?Cómo funciona?</h3></div></div></div><p>Existen tres tipos de máquinas dentro del entorno
        NIS: los servidores maestros, los servidores esclavos y los clientes
        de NIS.  Los servidores actúan como repositorios centrales para
        almacenamiento de información de configuración.
        Los servidores maestros mantienen una copia maestra de dicha
        información, mientras que los servidores esclavos mantienen
        copias de la información maestra por motivos de redundancia.
        Los servidores se encargan de transmitir la información
        necesaria a los clientes a petición de estos
        últimos.</p><p>De esta forma se pueden compatir mucha información
        contenida en varios archivos.  Los ficheros <code class="filename">
	master.passwd</code>, <code class="filename">group</code> y <code class="filename">
	hosts</code> normalmente se comparten a través de NIS.
        Siempre que un proceso en un cliente necesita información que,
        en caso de no utilizar NIS, se podría recuperar de ficheros
        locales, en este caso se envía una solicitud al servidor NIS con
        el que nos encontramos asociados.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83074896"></a>29.9.3.1. Clases de máquinas</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a id="idp83108944" class="indexterm"></a><p><span class="emphasis"><em>Servidor de NIS maestro</em></span>.
              Este servidor, semejante a un controlador de dominio primario de
              <span class="trademark">Windows NT</span>® mantiene todos los archivos que utilizan los
              clientes.  Los ficheros <code class="filename">passwd</code>,
              <code class="filename">group</code> y algunos otros se encuentran
              ubicados en el servidor maestro.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Resulta posible configurar una máquina para que
              actúe como servidor NIS maestro para más de un
              dominio NIS.  No obstante esta configuración no se va a
              tratar en esta introducción, en la cual asumimos un
              entorno NIS de tamaño relativamente
              pequeño.</p></div></li><li class="listitem"><a id="idp83112912" class="indexterm"></a><p><span class="emphasis"><em>Servidores de NIS esclavos</em></span>.
              Semejantes a los controladores de backup de <span class="trademark">Windows NT</span>®,
              los servidores NIS esclavos se utilizan para proporcionar
              redundancia en entornos de trabajo donde la disponibilidad del
              servicio resulta muy importante.  Además se utilizan para
              distribuir la carga que normalmente soporta un servidor
              maestro: los clientes de NIS siempre se asocian con el servidor
              de NIS que posee mejor tiempo de respuesta, y esto
              y esto también incluye a los servidores de NIS
              esclavos.</p></li><li class="listitem"><a id="idp83115600" class="indexterm"></a><p><span class="emphasis"><em>Clientes NIS</em></span>.  Los clientes NIS, de
              forma semejante a las estaciones de trabajo de <span class="trademark">Windows NT</span>®, se
              validan contra un servidor NIS (en el caso de <span class="trademark">Windows NT</span>® se
              validan contra un controlador de dominio) para acceder al
	      sistema.</p></li></ul></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83123152"></a>29.9.4. Uso de NIS/YP</h3></div></div></div><p>Esta sección trata sobre cómo configurar y poner en
        funcionamiento un entorno de NIS sencillo.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Esta sección supone que se está utilizando
        utilizando FreeBSD 3.3 o posteriores.  Las instrucciones dadas
        aquí <span class="emphasis"><em>probablemente</em></span> funcionen
        también en cualquier versión de FreeBSD superior a la 3.0
        pero no podemos garantizar que esto sea así.</p></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83125072"></a>29.9.4.1. Planificación</h4></div></div></div><p>Vamos a suponer que somos el administrador de un pequeño
          laboratorio de una universidad.  En este laboratorio, compuesto por
          15 máquinas FreeBSD, actualmente no existe ningún punto
          de administración centralizada; cada máquina posee sus
          sus propios <code class="filename">/etc/passwd</code> y <code class="filename">
          /etc/master.passwd</code>.  Estos ficheros se encuentran
          sincronizados el uno con el otro mediante intervención
          manual; por tanto, cuando queramos añadir un usuario a
          nuestro laboratorio tendremos que ejecutar
          <code class="command">adduser</code> en todas las máquinas.
          Claramente esta situación tiene que cambiar, de tal forma que
          hemos decidido crear un dominio NIS en el laboratorio usando dos
          máquinas como servidores NIS.</p><p>La configuración de nuestro laboratorio debería ser
          algo parecido a lo  siguiente:</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Nombre de máquina</th><th>Dirección IP</th><th>Papel</th></tr></thead><tbody><tr><td><code class="systemitem">ellington</code></td><td><code class="systemitem">10.0.0.2</code></td><td>servidor NIS maestro</td></tr><tr><td><code class="systemitem">coltrane</code></td><td><code class="systemitem">10.0.0.3</code></td><td>Servidor NIS esclavo</td></tr><tr><td><code class="systemitem">basie</code></td><td><code class="systemitem">10.0.0.4</code></td><td>Estación de trabajo del profesorado</td></tr><tr><td><code class="systemitem">bird</code></td><td><code class="systemitem">10.0.0.5</code></td><td>máquina cliente</td></tr><tr><td><code class="systemitem">cli[1-11]</code></td><td><code class="systemitem">10.0.0.[6-17]</code></td><td>Resto de máquinas clientes</td></tr></tbody></table></div><p>Si se está configurando un esquema de NIS por primera vez
          es una buena idea detenerse a pensar cómo queremos implantar
          el sistema.  Existen varias decisiones que se deben tomar
          independientemente del tamaño de nuestra red.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83173840"></a>29.9.4.1.1. Elección del nombre de dominio NIS</h5></div></div></div><a id="idp83174480" class="indexterm"></a><p>Este nombre puede no ser el <span class="quote">&#8220;<span class="quote">nombre de
            dominio</span>&#8221;</span> al que estamos acostumbrados.  Resulta más
            preciso llamarlo <span class="quote">&#8220;<span class="quote">nombre de dominio NIS</span>&#8221;</span>.
            Cuando un cliente genera peticiones de NIS que llegan a todas las
            máquinas (broadcast) solicitando información se
            incluye el nombre de dominio NIS que tiene configurado.
            De esta forma, varios servidores de dominios distintos situados en
            la misma red pueden discriminar las peticiones recibidas.  Se puede
            pensar en el nombre de dominio NIS como un identificador de grupos
            de máquinas que se encuentran relacionados
            administrativamente de alguna forma.</p><p>Algunas organizaciones eligen utilizar su nombre de dominio de
            Internet como nombre de dominio NIS.  Esto no se recomienda ya que
	    puede causar confusión cuando se intentan depurar problemas
            de red.  El nombre de dominio NIS debería ser un nombre
            único dentro de nuestra red y resulta más
            útil aún si el nombre elegido puede describir de
            alguna forma al conjunto de máquinas que representa.
            Por ejemplo el departamento de arte de la empresa Acme puede
            utilizar como nombre de dominio <span class="quote">&#8220;<span class="quote">acme-art</span>&#8221;</span>.
            En nuestro ejemplo hemos utilizado el nombre
            <code class="literal">test-domain</code>.</p><a id="idp83182160" class="indexterm"></a><p>No obstante algunos sistemas operativos (de forma
            notable <span class="trademark">SunOS</span>&#8482;) utilizan como nombres de dominio nombres de
            Internet.  Si se poseen máquinas con esta
	    restricción no queda más remedio que
            <span class="emphasis"><em>utilizar</em></span> los nombres de dominio de Internet
            como nombres de dominio NIS.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83183952"></a>29.9.4.1.2. Requisitos físicos de los servidores</h5></div></div></div><p>Existen varias cosas que debemos tener en cuenta cuando se
            selecciona una máquina para actuar como servidor NIS.
            Una de las características desafortunadas del servicio de
            páginas amarillas es el alto nivel de dependencia que llegan
            a tener los clientes respecto del servidor de NIS.  Si el cliente
	    no puede contactar con el servidor NIS normalmente la
            máquina se queda en un estado totalmente inutilizable.
            La carencia de información de usuarios y grupos provoca que
            las máquinas se bloqueen.  Con esto en mente debemos
            debemos asegurarnos de escoger un servidor de NIS que no se
            reinicie de forma habitual o uno que no se utilice para
            para desarrollar.  Si se dispone de una red con poca carga
            puede resultar aceptable colocar el servidor de NIS en una
            máquina donde se ejecuten otros servicios pero en todo
            momento se debe tener presente que si por cualquier motivo el
            servidor de NIS quedara inutilizable afectaría a
            <span class="emphasis"><em>todas</em></span> las máquinas de forma
            negativa.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83185616"></a>29.9.4.2. Servidores NIS</h4></div></div></div><p>Las copias canónicas de toda la información que
          mantiene el sistema de páginas amarillas se almacenan en una
          única máquina denominada servidor maestro de NIS.
          Las bases de datos utilizadas para almacenar la información
	  se denominan mapeos NIS.  En FreeBSD estas asociaciones o mapeos se
          almacenan en el directorio <code class="filename">/var/yp/[nombrededominio]</code>
 	  donde <code class="filename">[nombrededominio]</code> es el nombre del dominio
          de NIS que el servidor gestiona.  Un único servidor NIS puede
          gestionar varios dominios al mismo tiempo de forma que resulta
          posible tener varios directorios como el anterior, uno por cada
          dominio soportado.  Cada dominio posee su conjunto de mapeos
          independiente y propio.</p><p>Los servidores maestro y esclavos manejan todas las peticiones de
          a través del dæmon <code class="command">ypserv</code>.
          <code class="command">ypserv</code> se responsabiliza de recibir
          peticiones de los clientes NIS.  Estas peticiones se traducen a una
          ruta dentro del servidor.  Esta ruta localiza un fichero de base de
          datos determinado del servidor de NIS, y finalmente <code class="command">
          ypserv</code> se encarga de transmitir la información de
          dicha base de datos de vuelta al cliente que la
          solicitó.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83188944"></a>29.9.4.2.1. Configuración de un servidor de NIS maestro</h5></div></div></div><a id="idp83189584" class="indexterm"></a><p>La configuración de un servidor de NIS maestro puede
            resultar relativamente sencilla dependiendo de las necesidades que
            se tengan.  FreeBSD viene preconfigurado por defecto con un servicio
	    NIS.  Todo lo que necesitamos es añadir la siguiente
            línea en <code class="filename">/etc/rc.conf</code> y
            FreeBSD se encarga del resto.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><pre class="programlisting">nisdomainname="test-domain"</pre><p>
                Esta línea establece el nombre de dominio NIS como
                <code class="literal">test-domain</code>, cuando se realiza la
                configuración de la red (por ejemplo, después
                de un reinicio).</p></li><li class="step"><pre class="programlisting">nis_server_enable="YES"</pre><p>
                Esta variable indica a FreeBSD que ejecute los procesos
                necesarios para actuar como un servidor de NIS la
                próxima vez que se configure el subsistema de
                red.</p></li><li class="step"><pre class="programlisting">nis_yppasswdd_enable="YES"</pre><p>
                Esto permite activar el dæmon
                <code class="command">rpc.yppasswdd</code> el cual, como se ha
                mencionado anteriormente, permite a los usuarios realizar
                cambios de contraseña desde las máquinas clientes
                de NIS.</p></li></ol></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Dependiendo de la configuración de NIS podemos
              necesitar añadir algunas entradas más.  Consulte
              la <a class="link" href="network-nis.html#network-nis-server-is-client" title="29.9.10. Servidores NIS que actúan también como clientes NIS">sección sobre
                servidores NIS que también actúan como
                clientes</a>, más adelante en el texto, para saber
              más sobre esto.</p></div><p>Una vez hecho esto todo lo que tenemos que hacer es ejecutar
            <code class="command">/etc/netstart</code> como superusuario.  Esta
            orden realiza los pasos de configuración necesarios
            utilizando los valores de las variables definidas en
            <code class="filename">/etc/rc.conf</code>.</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83206736"></a>29.9.4.2.2. Inicialización de los mapeos de NIS</h5></div></div></div><a id="idp83207376" class="indexterm"></a><p>Las <span class="emphasis"><em>asociaciones o mapeos de NIS</em></span>
            no son más que ficheros de base de datos.
            Estos ficheros se generan a partir de los ficheros de
            configuración contenidos en el directorio <code class="filename">
            etc/</code> excepto para el caso del fichero <code class="filename">
            etc/master.passwd</code>.  Esto es así por una buena
            razón ya que no suele ser buena idea propagar las
            contraseñas de <code class="systemitem">root</code> y de otras cuentas
            de administración a todos los servidores NIS del dominio.
            servidores NIS del dominio. Así, antes de inicializar los
            mapeos se debe ejecutar:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cp /etc/master.passwd /var/yp/master.passwd</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>vi master.passwd</code></strong></pre><p>Se deben borrar todas las entradas que hagan referencia a
            cuentas del sistema
            (<code class="systemitem">bin</code>, <code class="systemitem">tty</code>,
	    <code class="systemitem">kmem</code>, <code class="systemitem">games</code>,
            etc), junto con cualquier cuenta que no deseemos que se transmita
            a los clientes NIS (por ejemplo la cuenta de <code class="systemitem">
            root</code> y cualquier otra cuenta con UID 0 (el del
            superusuario)).</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Asegúrese de que
            <code class="filename">/var/yp/master.passwd</code> no se puede leer ni por
            grupos ni por el resto de usuarios (modo 600).  Utilice
            <code class="command">chmod</code> en caso de necesidad.</p></div><a id="idp83217360" class="indexterm"></a><p>Una vez hecho esto es hora de inicializar las asociaciones de
            NIS.  FreeBSD incluye un <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> denominado
            <code class="command">ypinit</code> para realizar esta tarea (consulte su
            página del manual para obtener más
            información).   Recuerde que este <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> se
            encuentra disponible en la mayoría de los sistemas <span class="trademark">UNIX</span>®,
            pero no en todos.  En sistemas Digital UNIX/Compaq Tru64 UNIX se
            denomina <code class="command">ypsetup</code>.  Debido a que se pretende
            generar asociaciones para un servidor NIS maestro vamos a
            ejecutar <code class="command">ypinit</code> con la opción
            <code class="option">-m</code>.  A modo de ejemplo, suponiendo que todos los
            pasos comentados anteriormente se han realizado con éxito,
            ejecute:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>ypinit -m test-domain</code></strong>
Server Type: MASTER Domain: test-domain
Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.
Do you want this procedure to quit on non-fatal errors? [y/n: n] <strong class="userinput"><code>n</code></strong>
Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
At this point, we have to construct a list of this domains YP servers.
rod.darktech.org is already known as master server.
Please continue to add any slave servers, one per line. When you are
done with the list, type a &lt;control D&gt;.
master server   :  ellington
next host to add:  <strong class="userinput"><code>coltrane</code></strong>
next host to add:  <strong class="userinput"><code>^D</code></strong>
The current list of NIS servers looks like this:
ellington
coltrane
Is this correct?  [y/n: y] <strong class="userinput"><code>y</code></strong>

[..salida de la generacion de mapeos..]

NIS Map update completed.
ellington has been setup as an YP master server without any errors.</pre><p><code class="command">ypinit</code> debería haber creado el
            fichero <code class="filename">/var/yp/Makefile</code> a partir de
            <code class="filename">/var/yp/Makefile.dist</code>.
            Una vez creado este archivo presupone que se está usando un
            entorno NIS con un único servidor utilizando
            sólamente máquinas FreeBSD.  Debido a que
            <code class="literal">test-domain</code> posee también un servidor
            NIS esclavo se debe editar el fichero <code class="filename">
            var/yp/Makefile</code>:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>vi
              /var/yp/Makefile</code></strong></pre><p>Se debe comentar la línea que dice:</p><pre class="programlisting">NOPUSH = "True"</pre><p>(si es que no se encuentra ya comentada).</p></div><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83232592"></a>29.9.4.2.3. Configuración de un servidor NIS
            esclavo</h5></div></div></div><a id="idp83233232" class="indexterm"></a><p>La configuración de un servidor NIS esclavo resulta ser
            incluso más sencilla que la del maestro.  Basta con entrar
            en el servidor esclavo y editar <code class="filename">/etc/rc.conf</code>
            de foma semejante a como se realizó en el apartado
            anterior.  La única diferencia consiste en que ahora debemos
            utilizar la opción <code class="option">-s</code> cuando ejecutemos
            ejecutemos <code class="command">ypinit</code>.  A continuación del
            parámetro <code class="option">-s</code> se debe especificar el nombre
	    del servidor maestro de modo que la orden tendría que ser
            algo parecido a esto:</p><pre class="screen">coltrane<code class="prompt">#</code> <strong class="userinput"><code>ypinit -s ellington test-domain</code></strong>

Server Type: SLAVE Domain: test-domain Master: ellington

Creating an YP server will require that you answer a few questions.
Questions will all be asked at the beginning of the procedure.

Do you want this procedure to quit on non-fatal errors? [y/n: n]  <strong class="userinput"><code>n</code></strong>

Ok, please remember to go back and redo manually whatever fails.
If you don't, something might not work.
There will be no further questions. The remainder of the procedure
should take a few minutes, to copy the databases from ellington.
Transferring netgroup...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byuser...
ypxfr: Exiting: Map successfully transferred
Transferring netgroup.byhost...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byuid...
ypxfr: Exiting: Map successfully transferred
Transferring passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring group.bygid...
ypxfr: Exiting: Map successfully transferred
Transferring group.byname...
ypxfr: Exiting: Map successfully transferred
Transferring services.byname...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring rpc.byname...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.byname...
ypxfr: Exiting: Map successfully transferred
Transferring master.passwd.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byname...
ypxfr: Exiting: Map successfully transferred
Transferring networks.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring netid.byname...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byaddr...
ypxfr: Exiting: Map successfully transferred
Transferring protocols.bynumber...
ypxfr: Exiting: Map successfully transferred
Transferring ypservers...
ypxfr: Exiting: Map successfully transferred
Transferring hosts.byname...
ypxfr: Exiting: Map successfully transferred

coltrane has been setup as an YP slave server without any errors.
Don't forget to update map ypservers on ellington.</pre><p>En estos momentos debemos tener un nuevo directorio llamado
	    <code class="filename">/var/yp/test-domain</code>.  Las copias de los
            mapeos del servidor maestro se almacenan en dicho directorio.
            Es nuestra responsabilidad como administradores asegurar que dichas
            copias permanecen actualizadas en todo momento.  La siguiente
            entrada en el archivo <code class="filename">/etc/crontab</code> del
            servidor esclavo se encarga de realizar esta tarea:</p><pre class="programlisting">20      *       *       *       *       root   /usr/libexec/ypxfr passwd.byname
21      *       *       *       *       root   /usr/libexec/ypxfr passwd.byuid</pre><p>Estas dos líneas obligan al servidor esclavo a
            sincronizar los mapeos con el servidor maestro.  Estas entradas no
            son obligatorias ya que el servidor maestro siempre intenta
            comunicar cualquier cambio que se produzca en sus asociaciones
            a todos los servidores esclavos ya que la información de,
            esclavos, ya que la información de, por ejemplo,
            contraseñas es de vital importancia para el funcionamiento
            de los sistemas que dependen del servidor.  No obstante es una
            buena idea obligar a que se realicen estos cambios mediante las
            entradas anteriores.  Esto resulta ser incluso más
            importante en redes de sobrecargadas donde las actualizaciones de
            asociaciones pueden algunas veces no llegar a realizarse de forma
            completa.</p><p>A continuación se ejecuta
            <code class="command">/etc/netstart</code> en el servidor esclavo de igual
            de igual forma que se hizo con el servidor maestro; esto relanza
            de nuevo el servidor de NIS.</p></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83245008"></a>29.9.4.3. Clientes NIS</h4></div></div></div><p>Un cliente de NIS establece lo que se conoce con el nombre de
          asociación (bind en inglés) con un servidor NIS
          NIS determinado utilizando el dæmon <code class="command">
	  ypbind</code>.  <code class="command">ypbind</code> comprueba el dominio
          por defecto del sistema (especificado mediante
          <code class="command">domainname</code>) y comienza a enviar peticiones
          RPC a todos los elementos de la red local (broadcast).  Estas
          peticiones especifican el nombre del dominio con el que se quiere
          establecer la asociación.  Si esta petición alcanza una
          petición alcanza un servidor NIS configurado para servir dicho
          dominio el servidor responde a la petición e
          <code class="command">ypbind</code> almacenará la dirección de
          dicho servidor.  Si existen varios servidores disponibles (un maestro
          y varios esclavos, por ejemplo), <code class="command">ypbind</code>
          utilizará la dirección del primero en responder.
          A partir de este punto el cliente dirigirá el resto de sus
          peticiones NIS directamente a la dirección IP almacenada.
          Ocasionalmente <code class="command">ypbind</code> envía un
          <span class="quote">&#8220;<span class="quote">ping</span>&#8221;</span> sobre el servidor para comprobar que en efecto
          se encuentra funcionando.  Si no se recibe contestación al
          ping dentro de un espacio de tiempo determinado
          <code class="command">ypbind</code> marca el dominio como <span class="quote">&#8220;<span class="quote">sin
          asociar</span>&#8221;</span> y comienza de nuevo a inundar la red con la esperanza
          de localizar algún otro servidor NIS.</p><div class="sect4"><div xmlns="" class="titlepage"><div><div><h5 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83249616"></a>29.9.4.3.1. Configuración de un cliente NIS</h5></div></div></div><a id="idp83250256" class="indexterm"></a><p>La configuración de un cliente FreeBSD de NIS resulta ser
            una operación extremadamente sencilla.</p><div class="procedure"><ol class="procedure" type="1"><li class="step"><p>Editar el fichero
                <code class="filename">/etc/rc.conf</code> y añadir las
                siguientes líneas para establecer el nombre de dominio
                NIS y para que se ejecute
                <code class="command">ypbind</code> al arranque de la red:</p><pre class="programlisting">nisdomainname="test-domain"
nis_client_enable="YES"</pre></li><li class="step"><p>Para importar todas las entradas de contraseñas del
                servidor de NIS hay que eliminar todas las cuentas de usuario
                de <code class="filename">/etc/master.passwd</code> y utilizar
		<code class="command">vipw</code> para añadir la siguiente
                línea al final de dicho fichero:</p><pre class="programlisting">+:::::::::</pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Esta línea permite que cualquiera abra una cuenta
                  en local, siempre que dicha cuenta se encuentre definida en
                  las asociaciones de cuentas y contraseñas del
                  servidor NIS. Existen varias formas de configurar los
                  clientes NIS modificando esta línea.  Consulte la
                  <a class="link" href="network-nis.html#network-netgroups" title="29.9.7. Uso de Netgroups">sección sobre
                    netgroups</a> que se encuentra más adelante en
		  este mismo texto.  Si quiere saber más puede consultar
                  el libro de O'Reilly <code class="literal">Managing NFS and
                    NIS</code>.</p></div><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Se debe mantener al menos una cuenta local (por ejemplo,
                  una cuenta que no se importe a través de NIS) en
                  el fichero <code class="filename">/etc/master.passwd</code> y
                  además dicha cuenta debería ser miembro del
                  grupo <code class="systemitem">wheel</code>.  Si algo va mal con el
                  procedimiento descrito esta cuenta se puede utilizar
                  para entrar en la máquina cliente de forma remota
                  para posteriormente convertirse en superusuario e intentar
                  solucionar el problema.</p></div></li><li class="step"><p>Para importar todas las entradas de grupo posibles del
                servidor NIS se debe añadir la siguiente línea
                al fichero <code class="filename">/etc/group</code>:</p><pre class="programlisting">+:*::</pre></li></ol></div><p>Después de completar estos pasos deberímos ser
	    capaces de ejecutar <code class="command">ypcat passwd</code> y ver la
	    asociación de contraseñas que se encuentra en el
            servidor de NIS</p></div></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83266256"></a>29.9.5. Seguridad en NIS</h3></div></div></div><p>En general cualquier usuario remoto puede realizar peticiones de
	RPC a <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> y recuperar los contenidos de las asociaciones
        de NIS siempre y cuando el usuario remoto conozca el nombre de
        dominio de NIS.  Para evitar este tipo de transacciones no autorizadas,
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> soporta una característica denominada
        <span class="quote">&#8220;<span class="quote">securenets</span>&#8221;</span> la cual se puede utilizar para limitar el
        acceso a un determinado conjunto de máquinas.  En el arranque
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> intenta cargar la información de
        <span class="quote">&#8220;<span class="quote">securenets</span>&#8221;</span> a partir de un fichero denominado
     	<code class="filename">/var/yp/securenets</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Esta ruta de fichero varía dependiendo del camino
          especificado con la opción <code class="option">-p</code>.  Dicho fichero
          contiene entradas compuestas de, por un lado, un rango de red y por
          otro una máscara de red, separados por espacios en blanco.
          Las líneas que comienzan por <span class="quote">&#8220;<span class="quote">#</span>&#8221;</span> se consideran
          comentarios.  A continuación se muestra un ejemplo de un
          fichero <span class="quote">&#8220;<span class="quote">securenet</span>&#8221;</span>:</p></div><pre class="programlisting"># admitir conexiones desde localhost -- obligatorio
127.0.0.1     255.255.255.255
# admitir conexiones desde cualquier host
# on the 192.168.128.0 network
192.168.128.0 255.255.255.0
# admitir conexiones desde cualquier host
# between 10.0.0.0 to 10.0.15.255
# esto incluye las maquinas en el 'testlab'
10.0.0.0      255.255.240.0</pre><p>Si <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypserv&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypserv</span>(8)</span></a> recibe una petición de una
        dirección que coincide con alguna de las reglas especificadas
        en el fichero se procesa la petición.  Si no existe ninguna
        coincidencia la petición se rechaza y se graba un mensaje de
        aviso.  Si el archivo
        <code class="filename">/var/yp/securnets</code> no existe
        <code class="command">ypserv</code> acepta conexiones de cualquier
        máquina.</p><p>El programa <code class="command">ypserv</code> también posee soporte
        para el paquete de Wietse Venema denominado <span class="application">
	tcpwrapper</span>.  Este paquete permite utilizar los ficheros
        de configuración de <span class="application">tcpwrapper</span> para
        realizar control de acceso en lugar de utilizar <code class="filename">
	var/yp/securenets</code>.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Aunque ambos mecanismos de control de acceso proporcionan un
          grado de seguridad mayor que no utilizar nada resultan vulnerables
          a ataques de <span class="quote">&#8220;<span class="quote">falsificación de IPs</span>&#8221;</span>.  El
	  cortafuegos de la red donde se implanta el servicio de NIS
          debería encargarse de bloquear el tráfico
          específico de dicho servicio.</p><p xmlns="http://www.w3.org/1999/xhtml">Los servidores que utilizan
          <code class="filename">/var/yp/securenets</code>
          pueden no prestar servicio a clientes NIS legítimos cuando se
          trabaja con implementaciones arcaicas de TCP/IP.   Algunas de estas
          implementaciones ponen a cero todos los bits de máquina
          cuando se realizan broadcast y/o pueden fallar al especificar la
          máscara de red en el mismo caso, por citar algunos
          ejemplos.  Mientras que algunos de estos problemas se pueden
	  solucionar variando la configuración del cliente en otros
          casos podemos vernos obligados a prescindir del cliente en
	  cuestión o a prescindir del fichero <code class="filename">
          var/yp/securenets</code>.</p><p xmlns="http://www.w3.org/1999/xhtml">Se desaconseja la utilización de <code class="filename">
          var/yp/securenets</code> en un sistema con una
          implementación arcaica de TCP/IP y puede suponer una
          pérdida de funcionalidad para grandes zonas de la red.</p><a xmlns="http://www.w3.org/1999/xhtml" id="idp83284176" class="indexterm"></a><p xmlns="http://www.w3.org/1999/xhtml">La utilización del paquete
          <span class="application">tcpwrapper</span> incrementa la latencia del
          servidor NIS.  El retardo adicional introducido puede ser lo
          suficientemente grande como para causar la expiración de
	  ciertos temporizadores de los programas clientes, especialmente en
          redes muy cargadas o con servidores de NIS lentos.  Si se
          experimentan estos síntomas en varias máquinas
	  clientes, puede ser conveniente convertir dichas máquinas
          en servidores NIS esclavos y obligarlas a asociarse con ellas
          mismas.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83285712"></a>29.9.6. Prohibir el acceso a determinados usuarios</h3></div></div></div><p>En nuestro laboratorio de ejemplo existe una
        máquina denominada <code class="systemitem">basie</code> que
        actúa sólo como una estación de trabajo para el
        profesorado.  No queremos sacar a esta máquina del dominio NIS
        pero nos damos cuenta de que el fichero <code class="filename">passwd</code>
        que se encuentra en el servidor de NIS posee cuentas tanto para
        profesores como para alumnos. ?Qué podemos
        hacer?.</p><p>Existe una forma de prohibir el acceso a determinados usuarios
        sobre una determinada máquina incluso aunque se encuentren dados
        de alta en la base de datos de NIS.  Para realizar esto todo lo que
        debemos hacer es añadir
        <code class="literal">-nombredeusuario</code> al final del
        fichero <code class="filename">/etc/master.passwd</code> en la máquina
        cliente donde <em class="replaceable"><code>nombredeusuario</code></em> es el nombre
        de usuario del usuario al que queremos prohibirle el acceso.
        Esto se debe realizar a poder ser mediante
        <code class="command">vipw</code> ya que <code class="command">vipw</code> realiza
        comprobaciones de seguridad sobre los cambios realizados y
        además se encarga de reconstruir la base de datos de
        contraseñas cuando se termina la edición. Por ejemplo,
        si quisiéramos prohibir el acceso al usuario <code class="systemitem">
        bill</code> a la máquina <code class="systemitem">basie</code>
        haríamos:</p><pre class="screen">basie<code class="prompt">#</code> <strong class="userinput"><code>vipw</code></strong>
<strong class="userinput"><code>[añadimos -bill al final y salimos]</code></strong>
vipw: rebuilding the database...
vipw: done

basie<code class="prompt">#</code> <strong class="userinput"><code>cat /etc/master.passwd</code></strong>

root:[password]:0:0::0:0:The super-user:/root:/bin/csh
toor:[password]:0:0::0:0:The other super-user:/root:/bin/sh
daemon:*:1:1::0:0:Owner of many system processes:/root:/sbin/nologin
operator:*:2:5::0:0:System &amp;:/:/sbin/nologin
bin:*:3:7::0:0:Binaries Commands and Source,,,:/:/sbin/nologin
tty:*:4:65533::0:0:Tty Sandbox:/:/sbin/nologin
kmem:*:5:65533::0:0:KMem Sandbox:/:/sbin/nologin
games:*:7:13::0:0:Games pseudo-user:/usr/games:/sbin/nologin
news:*:8:8::0:0:News Subsystem:/:/sbin/nologin
man:*:9:9::0:0:Mister Man Pages:/usr/share/man:/sbin/nologin
bind:*:53:53::0:0:Bind Sandbox:/:/sbin/nologin
uucp:*:66:66::0:0:UUCP pseudo-user:/var/spool/uucppublic:/usr/libexec/uucp/uucico
xten:*:67:67::0:0:X-10 daemon:/usr/local/xten:/sbin/nologin
pop:*:68:6::0:0:Post Office Owner:/nonexistent:/sbin/nologin
nobody:*:65534:65534::0:0:Unprivileged user:/nonexistent:/sbin/nologin
+:::::::::
-bill

basie<code class="prompt">#</code></pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-netgroups"></a>29.9.7. Uso de Netgroups</h3></div><div><span class="authorgroup">Escrito por <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Udo</span> <span class="surname">Erdelhoff</span></span>. </span></div></div></div><a id="idp83296080" class="indexterm"></a><p>El método descrito en la sección anterior funciona
        razonablemente bien si las reglas especiales se definen para un
        conjunto pequeño de usuarios y/o máquinas.  En dominios
        admnistrativos grandes puede que se nos <span class="emphasis"><em>olvide</em></span>
        prohibir el acceso a algún usuario en determinadas
        máquinas perdiendo de esta forma el principal beneficio de
        utilizar el servicio de páginas amarillas:<span class="emphasis"><em>
	administración centralizada</em></span>.</p><p>La solución creada por los desarrolladores de NIS se
        denomina <span class="emphasis"><em>netgroups</em></span>.  Su propósito se
        asemeja al concepto de grupos utilizado por los sistemas <span class="trademark">UNIX</span>®.  La
        diferencia principal es la carencia de un identificador
        numérico y la habilidad para definir un <span class="quote">&#8220;<span class="quote">netgroup</span>&#8221;</span>
        que incluye tanto a cuentas de usuario como a otros
        <span class="quote">&#8220;<span class="quote">netgroups</span>&#8221;</span>.</p><p>Los netgroups se desarrollaron para gestionar redes grandes y
        y complejas con cientos de usuarios y máquinas.  Por un lado
        esto es una Cosa Buena si nos encontramos en tal situación
        pero por otro lado esta complejidad añadida hace que sea casi
        imposible de explicar a través de ejemplos sencillos.  El
        ejemplo que va a utilizar en lo que queda de sección
        ilustrará este hecho.</p><p>Vamos a suponer que la exitosa introducción del servicio de
        páginas amarillas en nuestro laboratorio ha llamado la
        atención de nuestros jefes.  Nuestra siguiente tarea consiste en
        extender el dominio de NIS para que cubra otras máquinas del
        campus.  Las tablas que se muestran a continuación contienen los
        nombres de los nuevos usuarios y máquinas junto con una breve
        descripción de ellas.</p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre del Usuario/usuarios</th><th>Descripción</th></tr></thead><tbody><tr><td><code class="systemitem">alpha</code>, <code class="systemitem">beta</code></td><td>Empleados normales del departamento de IT</td></tr><tr><td><code class="systemitem">charlie</code>, <code class="systemitem">delta</code></td><td>Los nuevos aprendices del departamento de IT</td></tr><tr><td><code class="systemitem">echo</code>, <code class="systemitem">foxtrott</code>, <code class="systemitem">golf</code>, ...</td><td>Empleados normales</td></tr><tr><td><code class="systemitem">able</code>, <code class="systemitem">baker</code>, ...</td><td>Los actuales internos</td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>Nombre de la Máquina(s)</th><th>Descripción</th></tr></thead><tbody><tr><td><code class="systemitem">guerra</code>, <code class="systemitem">muerte</code>,
                <code class="systemitem">hambre</code>,
                <code class="systemitem">peste</code></td><td>Los servidores más
                importantes. Sólo los empleados de IT pueden
                entrar en estas máquinas</td></tr><tr><td><code class="systemitem">orgullo</code>, <code class="systemitem">avaricia</code>,
                <code class="systemitem">envidia</code>, <code class="systemitem">ira</code>,
                <code class="systemitem">lujuria</code>, <code class="systemitem">pereza</code></td><td>Servidores de menor importancia.  Todos los miembros del
                departamento de IT pueden entrar en ellos.</td></tr><tr><td><code class="systemitem">uno</code>, <code class="systemitem">dos</code>,
                <code class="systemitem">tres</code>, <code class="systemitem">cuatro</code>,
                ...</td><td>Estaciones de trabajo ordinarias.  Sólo los
                empleados <span class="emphasis"><em>actuales</em></span> pueden utilizar estas
                máquinas.</td></tr><tr><td><code class="systemitem">trashcan</code></td><td>Una máquina muy vieja sin ningún dato
                dato crítico.  Incluso los internos pueden utilizar
                esta máquina.</td></tr></tbody></table></div><p>Si se trata de implementar estas restricciones a nivel de usuario
        particular tendríamos que añadir una línea
        <code class="literal">-usuario</code> a cada fichero
        <code class="filename">passwd</code> del sistema para cada usuario que tuviera
        prohibido el acceso a dicho sistema.  Si nos olvidamos de una sola
        entrada podrímos tener serios problemas.  Puede ser factible
        realizar esta configuración cuando se instala el servicio pero
        no obstante el riesgo que corremos al mantener este sistema de
	restricciones en el día día es muy alto.  Después
        de todo Murphy era un optimista.</p><p>La gestión de esta situación mediante netgroups
        ofrece varias ventajas.  Cada usuario no tiene que tratarse de una
        forma individualizada; basta con añadir un usuario a uno o
        más netgroups y posteriormente permitir o prohibir el acceso
        para todos los usuarios del netgroup.  Si se añade una nueva
        máquina al servicio de NIS simplemente tendremos que definir
        restricciones de acceso para los netgroups definidos en la
        red.  Si se añade un nuevo usuario bastará con
        añadir dicho usuario a un netgroup existente. Estos cambios son
        independientes unos de otros: se acabó la necesidad de aplicar
        la frase <span class="quote">&#8220;<span class="quote">por cada combinación de usuario y máquina
          haga esto y esto</span>&#8221;</span>.  Si hemos planificado nuestro servicio de
        NIS cuidadosamente, sólo tendremos que modificar un fichero de
        configuración en un determinado servidor para permitir o denegar
        estos accesos.</p><p>El primer paso consiste en la inicialización de la
        asociación o mapeo del netgroup.  La orden de FreeBSD
       <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypinit&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypinit</span>(8)</span></a> no crea este mapeo por defecto pero una vez creado
        será tenido en cuenta por la implementación de NIS.
       Para crear una asociación vacía simplemente
        escriba:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>vi /var/yp/netgroup</code></strong></pre><p>y comienze a añadir contenido.  En nuestro ejemplo
        necesitamos al menos cuatro netgroups: empleados de IT,
         aprendices de IT, empleados normales e internos.</p><pre class="programlisting">IT_EMP  (,alpha,test-domain)    (,beta,test-domain)
IT_APP  (,charlie,test-domain)  (,delta,test-domain)
USERS   (,echo,test-domain)     (,foxtrott,test-domain) \
        (,golf,test-domain)
INTERNS (,able,test-domain)     (,baker,test-domain)</pre><p><code class="literal">IT_EMP</code>, <code class="literal">IT_APP</code> etc.
        son los nombres de los netgroups.  Cada conjunto delimitado por
        paréntesis define una o más cuentas como pertenecientes
        al netgroup.  Existen tres campos definidos dentro de dichos de dichos
        grupos:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>El nombre de las máquinas donde los siguientes items
            son aplicables.  Si no se especifica un nombre de
            máquina la entrada se aplica a todas las máquinas
            existentes.  Si se especifica una máquina determinada
            entraremos en un mundo lleno de horrores y confusiones así
            que mejor no hacerlo.</p></li><li class="listitem"><p>El nombre de la cuenta que pertenece al netgroup que estamos
            definiendo.</p></li><li class="listitem"><p>El dominio NIS donde reside la cuenta.  Se pueden importar
            cuentas de otros dominios NIS (en caso de que usted pertenezca al
            extraño grupo de personas que gestionan más de un
            dominio NIS.</p></li></ol></div><p>Cada uno de estos campos puede contener comodines.  Consulte
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=netgroup&amp;sektion=5"><span class="citerefentry"><span class="refentrytitle">netgroup</span>(5)</span></a> para obtener más detalles.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><a xmlns="http://www.w3.org/1999/xhtml" id="idp83393360" class="indexterm"></a><p xmlns="http://www.w3.org/1999/xhtml">No se deben utilizar nombres de los netgroups superiores
          a ocho caracteres, especialmente si las máquinas de nuestro
          dominio utilizan sistemas operativos variados.  Los nombres son
          sensibles a las mayúsculas/minúsculas: se recomienda
          utilizar nombres en mayúsculas para distinguirlos de los
          usuarios o máquinas.</p><p xmlns="http://www.w3.org/1999/xhtml">Algunos clientes de NIS (distintos de los clientes FreeBSD) no
          pueden gestionar netgroups con un gran número de entradas.
          Por ejemplo algunas versiones antiguas de <span class="trademark">SunOS</span>&#8482; comienzan a
          presentar problemas si un netgroup contiene más de
          <span class="emphasis"><em>quince entradas</em></span>.  Se puede solventar este
          problema creando varios sub-netgroups de como mucho quince usuarios
          y finalmente creando el verdadero netgroup compuesto por los
          sub-netgroups:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">BIGGRP1  (,joe1,domain)  (,joe2,domain)  (,joe3,domain) [...]
BIGGRP2  (,joe16,domain)  (,joe17,domain) [...]
BIGGRP3  (,joe31,domain)  (,joe32,domain)
BIGGROUP  BIGGRP1 BIGGRP2 BIGGRP3</pre><p xmlns="http://www.w3.org/1999/xhtml">Se puede repetir este proceso si se tienen que definir
          más de 225 usuarios dentro de un único netgroup.</p></div><p>La activación y distribución de nuestro nuevo mapeo
        NIS resulta sencillo:</p><pre class="screen">ellington<code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
ellington<code class="prompt">#</code> <strong class="userinput"><code>make</code></strong></pre><p>Esto genera las tres asociaciones NIS
        <code class="filename">netgroup</code>, <code class="filename">netgroup.byhost</code> y
        <code class="filename">netgroup.byuser</code>.  Utilice <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypcat&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">ypcat</span>(1)</span></a> para
        comprobar si el nuevo mapeo NIS se encuentra disponible:</p><pre class="screen">ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup</code></strong>
ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup.byhost</code></strong>
ellington<code class="prompt">%</code> <strong class="userinput"><code>ypcat -k netgroup.byuser</code></strong></pre><p>La salida de la primera orden debería parecerse a los
        contenidos del fichero
        <code class="filename">/var/yp/netgroup</code>.  La segunda orden no
        mostrará ninguna salida salvo que se hayan especificado
        netgroups específicos para máquinas.  La tercera orden
        se puede utilizar para obtener la lista de los netgroups a los que
        petenece un determinado usuario.</p><p>La configuración del cliente es bastante simple.  Para
        configurar el servidor <code class="systemitem">guerra</code> se debe ejecutar
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=vipw&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">vipw</span>(8)</span></a> y sustituír la línea</p><pre class="programlisting">+:::::::::</pre><p>por</p><pre class="programlisting">+@IT_EMP:::::::::</pre><p>Ahora sólo se importan los datos para los usuarios
        que se encuentren definidos en el netgroup
        <code class="literal">IT_EMP</code>; dichos datos se importan en la base de datos
        de contraseñas de <code class="systemitem">guerra</code> y sólo se
        permite el acceso a estos usuarios.</p><p>Por desgraciaesta información también se aplica a la
        función <code class="literal">~</code> del shell y a todas las rutinas que
        traducen nombres de usuarios con los correspondientes identificadores
        númericos de usuario (uid).  En otras palabras, la orden
        <code class="command">cd
          ~</code> no va a funcionar, <code class="command">ls
          -l</code> muestra el identificador numérico en lugar del
        nombre de usuario y <code class="command">find . -user joe
          -print</code> produce un error de <span class="errorname">
        No such user</span> (<span class="quote">&#8220;<span class="quote">Usuario desconocido</span>&#8221;</span>).  Para
        solucionar esto debemos importar todas las entradas de usuario en la
        máquina cliente NIS pero sin permitirles el acceso.</p><p>Esto se puede realizar añadiendo otra línea
        al fichero <code class="filename">/etc/master.passwd</code>.  Esta línea
        debería contener lo siguiente:</p><p><code class="literal">+:::::::::/sbin/nologin</code>, lo que significa que se
        <span class="quote">&#8220;<span class="quote">importen todas las entradas pero que se reemplace el shell por
        <code class="filename">/sbin/nologin</code></span>&#8221;</span>.  Se puede sustituir
        cualquier campo de la entrada de contraseñas especificando un
        valor concreto para dicho campo en el fichero local
        local <code class="filename">/etc/master.passwd</code>.</p><div xmlns="" class="warning"><h3 class="admontitle">Aviso: </h3><p xmlns="http://www.w3.org/1999/xhtml">Asegúrese de que la línea
        <code class="literal">+:::::::::/sbin/nologin</code> se sitúa
          después de
        <code class="literal">+@IT_EMP:::::::::</code>.  Si esto no se cumple todas las
          cuentas de usuario  importadas del servidor NIS poseerán
          <code class="filename">/sbin/nologin</code> como shell de acceso.</p></div><p>Después de este cambio si se introduce un nuevo empleado
        en el departamento de IT basta con cambiar una asociación de
        NIS.  Se podría aplicar una aproximación similar para los
        servidores menos importantes sustituyendo la cadena
        <code class="literal">+:::::::::</code> en las versiones locales del fichero
        <code class="filename">/etc/master.passwd</code> por algo parecido a
        esto:</p><pre class="programlisting">+@IT_EMP:::::::::
+@IT_APP:::::::::
+:::::::::/sbin/nologin</pre><p>Las líneas correspondientes para las estaciones de trabajo
        normales podrían ser:</p><pre class="programlisting">+@IT_EMP:::::::::
+@USERS:::::::::
+:::::::::/sbin/nologin</pre><p>Y parece que todos nuestros problemas de gestión han
        desaparecido; hasta que unas semanas más tarde se produce un
        cambio en la política de gestión: el depatamento de IT
        comienza a alquilar interinos.  Los interinos de IT pueden utilizar
        las estaciones de trabajo normales y los servidores menos importantes
        y los aprendices de IT pueden acceder a los servidores principales.
        No nos queda más remedio que añadir un nuevo netgroup
        denominado <code class="literal">IT_INTERN</code> y añadir los nuevos
        interinos de IT a este nuevo grupo y comenzar a cambiar la
        la configuración de cada máquina, una por una...
        Como dice el antiguo proverbio: <span class="quote">&#8220;<span class="quote">Errores en la
          planificación centralizada conllevan grandes quebraderos de
          de cabeza globales</span>&#8221;</span>.</p><p>La habilidad que posee NIS para crear netgroups a partir de otros
        netgroups se puede utilizar para evitar la situación
        anterior.  Una posibilidad consiste en la creación de netgroups
        basados en roles.  Por ejemplo, se podría crear un netgroup
        denominado <code class="literal">BIGSRV</code> para definir las restricciones
        de acceso para los servidores importantes, otro grupo denominado
        <code class="literal">USERBOX</code> para las estaciones de trabajo... Cada uno
        de estos netgroups podría contener los netgroups que pueden
        acceder a dichas máquinas.  Las nuevas entradas para nuestro
        mapeo NIS de netgroups sería algo así:</p><pre class="programlisting">BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP  ITINTERN
USERBOX   IT_EMP  ITINTERN USERS</pre><p>Este método de definir restricciones de acceso funciona
        razonablemente bien si podemos definir grupos de máquinas
        que posean restricciones semejantes.  Por desgracia lo normal es que
        este caso resulta ser una excepción más que una regla.
        En la mayor parte de las ocasiones necesitaremos definir restricciones
        de acceso en función de máquinas individuales.</p><p>Las definiciones de netgroups específicos para determinadas
        máquinas constituyen el segundo método que se puede
        utilizar para gestionar el cambio de política del ejemplo
        que estamos explicando.  En nuestro caso el fichero
        <code class="filename">/etc/master.passwd</code> de cada máquina
        contiene dos líneas que comienzan por
        <span class="quote">&#8220;<span class="quote">+</span>&#8221;</span>.  La primera de ellas añade un netgroup con las
        cuentas que pueden acceder a esa máquina, mientras que la
        segunda añade el resto de cuentas con shell
        el resto de cuentas con shell
        <code class="filename">/sbin/nologin</code>.  Es una buena idea utilizar la
        versión <span class="quote">&#8220;<span class="quote">todo en mayúsculas</span>&#8221;</span> del nombre de
        máquina como el nombre del netgroup.  En otras palabras, las
        líneas deberían ser como la siguiente:</p><pre class="programlisting">+@<em class="replaceable"><code>BOXNAME</code></em>:::::::::
+:::::::::/sbin/nologin</pre><p>Una vez que hemos completado esta tarea para todas las
        máquinas nunca más resultará necesario modificar
        las versiones locales de <code class="filename">/etc/master.passwd</code>.
        Los futuros cambios se pueden gestionar simplemente modificando el
        mapeo o asociación de NIS.  A continuación se muestra un
        mapeo de netgroups para el escenario que se está explicando
        junto con algunas buenas ideas:</p><pre class="programlisting"># Definimos antes que nada los grupos de usuarios
IT_EMP    (,alpha,test-domain)    (,beta,test-domain)
IT_APP    (,charlie,test-domain)  (,delta,test-domain)
DEPT1     (,echo,test-domain)     (,foxtrott,test-domain)
DEPT2     (,golf,test-domain)     (,hotel,test-domain)
DEPT3     (,india,test-domain)    (,juliet,test-domain)
ITINTERN  (,kilo,test-domain)     (,lima,test-domain)
D_INTERNS (,able,test-domain)     (,baker,test-domain)
#
# Ahora definimos unos pocos grupos basados en roles
USERS     DEPT1   DEPT2     DEPT3
BIGSRV    IT_EMP  IT_APP
SMALLSRV  IT_EMP  IT_APP    ITINTERN
USERBOX   IT_EMP  ITINTERN  USERS
#
# Y un grupo para tareas especiales
# Permitimos a echo y golf acceso a nuestra maquina-anti-virus
SECURITY  IT_EMP  (,echo,test-domain)  (,golf,test-domain)
#
# netgroups basados en maquinas
# Nuestros servidores principales
GUERRA   BIGSRV
HAMBRE   BIGSRV
# El usuario india necesita acceso a este servidor
PESTE  BIGSRV  (,india,test-domain)
#
# Este es realmente importante y necesita mas restricciones de
# acceso
MUERTE     IT_EMP
#
# La maquina-anti-virus que mencionabamos mas arriba
ONE       SECURITY
#
# Restringimos una maquina a un solo usuario
TWO       (,hotel,test-domain)
# [...otros grupos]</pre><p>Si estamos utilizando algun tipo de base de datos para gestionar
        cuentas de usuario debemos ser capaces de crear la primera parte del
        mapeo utilizando las herramientas proporcionadas por dicho sistema
        de base de datos.   De este modo los nuevos usuarios tendrán
        automáticamente derechos de acceso sobre las máquinas.
        </p><p>Una última, por precaución: puede no ser siempre
        aconsejable utilizar netgroups basados en máquinas.  Si se
        están desplegando, por ejemplo, un par de docenas o
        incluso cientos de máquinas idénticas en laboratorios
        de estudiantes, es mejor utilizar netgroups basados en roles en lugar
        de netgroups basados en máquinas individuales
        para mantener el tamaño de la asociación NIS dentro de
        unos límites razonables.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83442384"></a>29.9.8. Conceptos importantes a tener muy en cuenta</h3></div></div></div><p>Todavía quedan un par de cosas que tendremos que hacer de
        forma distinta a lo comentado hasta ahora en caso de encontrarnos
        dentro de un entorno de NIS.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Cada vez que deseemos añadir un usuario a nuestro
            laboratorio debemos añadirlo al servidor NIS maestro
            <span class="emphasis"><em>únicamente</em></span> y es tarea fundamental del
            administrador <span class="emphasis"><em>acordarse de reconstruir los mapeos
            NIS</em></span>.  Si nos olvidamos de esto el nuevo usuario
            será incapaz de acceder a ninguna máquina excepto al
            servidor NIS.  Por ejemplo, si necesitáramos
            añadir el nuevo usuario <code class="systemitem">jsmith</code> al
            laboratorio tendríamos que ejecutar lo siguiente:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pw useradd jsmith</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>cd /var/yp</code></strong>
<code class="prompt">#</code> <strong class="userinput"><code>make test-domain</code></strong></pre><p>Se puede ejecutar también <code class="command">adduser
              jsmith</code> en lugar de
            <code class="command">pw useradd jsmith</code>.</p></li><li class="listitem"><p><span class="emphasis"><em>No introduzca las cuentas de administración
            dentro de los mapeos de NIS</em></span>.  No es buena idea
            propagar cuentas y contraseñas de administración a
            máquinas donde residen usuarios que normalmente no
            deberían poder acceder a dichas cuentas.</p></li><li class="listitem"><p><span class="emphasis"><em>Mantenga el servidor maestro y esclavo de NIS
            seguros y minimize el tiempo de interrupción del
            servicio</em></span>.  Si alguien fuera capaz de comprometer la
            integridad de estas máquinas o de apagarlas los usuarios
            del dominio no podrían acceder a sus cuentas en
            ningún sistema.</p><p>Esto es la debilidad principal de cualquier sistema de
          administración centralizada.  Si no se protegen los servidores
          NIS tendremos frente a nosotros a una horda de usuarios bastante
          enfadados.</p></li></ul></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83452112"></a>29.9.9. Compatibilidad con NIS v1</h3></div></div></div><p> El servicio <span class="application">ypserv</span> de FreeBSD puede servir
        también a clientes NIS v1.  La implementación de NIS de
        FreeBSD sólo utiliza el protocolo NIS v2 aunque otras
        implementaciones incluyen soporte para el protocolo v1 por razones de
        compatibilidad con sistemas antiguos.  Los dæmones
        <span class="application">ypbind</span> suministrados con estos sistemas
        tratan de establecer una asociación con un servidor NIS
        versión 1 aunque puede que nunca la lleguen a utilizar (y
        pueden continuar realizando búsquedas mediante broadcast incluso
	cuando reciben una respuesta de un servidor versión 2).
        Tenga muy presente que mientras se soportan las llamadas normales de
	clientes v1, la versión de <span class="application">ypserv</span>
        actualmente suministrada no gestiona peticiones de transferencia de
        mapeos a través de la versión 1; en consecuencia no se
        puede utilizar como maestro o esclavo junto con servidores de NIS
        antiguos que sólo soporten el protocolo v1.  Por suerte quedan
        muy pocos servidores de este estilo en funcionamiento hoy en
	día.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="network-nis-server-is-client"></a>29.9.10. Servidores NIS que actúan también como clientes
        NIS</h3></div></div></div><p>Se debe tener cuidado cuando se ejecuta
            <span class="application">ypserv</span> en un entorno multi-servidor
            donde las máquinas servidoras actúan
            también como máquinas clientes de NIS.  Normalmente
	    es una buena idea obligar a los servidores a que se asocien con
            ellos mismos mejor que permitirles emitir peticiones de
            asociación en broadcast, lo que posiblemente
	    terminará con los servidores asociados entre sí.
            Se pueden producir extraños fallos si un servidor del que
	    dependen otros deja de funcionar.  Puede darse que los contadores
	    de todos los clientes expiren e intenten asociarse a otro
	    servidor, pero el retardo puede ser considerable y los fallos
	    todavía podrín persistir debido a que los servidores
            se asocian contínuamente los unos a los otros.</p><p>Se puede obligar a una máquina a asociarse con un
            servidor en particular ejecutando
            <code class="command">ypbind</code> con la opción
            <code class="option">-S</code>.  Si no se quiere ejecutar esto manualmente
            cada vez que se reinice el servidor NIS se puede
            puede añadir la siguiente línea al fichero
            <code class="filename">/etc/rc.conf</code>:</p><pre class="programlisting">nis_client_enable="YES"	# ejecuta tambien el soft cliente
nis_client_flags="-S <em class="replaceable"><code>NIS domain</code></em>,<em class="replaceable"><code>server</code></em>"</pre><p>Consulte <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ypbind&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ypbind</span>(8)</span></a> para obtener más información.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp83464272"></a>29.9.11. Formatos de contraseñas</h3></div></div></div><a id="idp83469136" class="indexterm"></a><p>Uno de los problemas más comunes que se encuentra la gente
            a la hora de implantar un servicio de NIS es la compatibilidad del
            formato de las contraseñas.  Si nuestro servidor de NIS
            utiliza contraseñas cifradas mediante DES sólo
            podrá aceptar clientes que utilicen DES.  Por ejemplo, si
            poseemos clientes de NIS <span class="trademark">Solaris</span>&#8482; en nuestra red casi seguro que
            necesitaremos utilizar contraseñas cifradas mediante
            DES.</p><p>Para comprobar qué formato utilizan los servidores y los
            clientes, se puede mirar en
            <code class="filename">/etc/login.conf</code>.  Si la máquina se
            configura para utilizar cifrado de contraseñas mediante
            DES, entonces la clase por defecto debe poseer una entrada como la
            siguiente:</p><pre class="programlisting">default:\
	:passwd_format=des:\
	:copyright=/etc/COPYRIGHT:\
	[Se han omitido otras entradas]</pre><p>Otros posibles valores para característica de
            <code class="literal">passwd_format</code> pueden ser
            <code class="literal">blf</code> y <code class="literal">md5</code> (para utilizar los
            algoritmos Blowfish y MD5 respectivamente).</p><p>Se debe reconstruir la base de datos de acceso siempre que se
        modifique el fichero
        <code class="filename">/etc/login.conf</code> mediante la ejecución
        de la siguiente orden como <code class="systemitem">root</code>:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>cap_mkdb /etc/login.conf</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">El formato de las contraseñas que ya se encuentran
              definidas en <code class="filename">/etc/master.passwd</code> no
              se actualizará hasta que el usuario cambie su
              contraseña, después de que se haya reconstruido la
	      base de datos de tipos de acceso.</p></div><p>A continuación para asegurarse de que las
        contraseñas se cifran con el formato seleccionado
            también debemos comprobar que la variable
            <code class="literal">crypt_default</code> dentro del fichero
            <code class="filename">/etc/auth.conf</code> da preferencia al formato de
            contraseña elegido.  Por ejemplo cuando se utilizan
            contraseñas cifradas con DES la entrada debe ser:</p><pre class="programlisting">crypt_default	=	des blf md5</pre><p>Si se realizan los pasos anteriores en cada una de las
        máquinas clientes y servidoras de nuestro entorno NIS podemos
        asegurar que todas utilizan el mismo formato de contraseña
        dentro de nuestra red.  Si se presentan problemas de validación
        con determinados usuarios en una determinada máquina cliente se
        puede empezar a investigar sobre el asunto.  Recuerde: si se quiere
        desplegar un servicio de páginas amarillas sobre un entorno de
        red heterogéneo probablemente se deba utilizar DES en todos los
        sistemas puesto que DES es el mínimo común
            denominador.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="network-isdn.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="advanced-networking.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="network-dhcp.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">29.8. RDSI </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 29.10. DHCP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>