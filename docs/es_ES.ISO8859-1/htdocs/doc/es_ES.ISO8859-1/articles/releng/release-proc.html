<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>2. Proceso de ingeniería de releases</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Proceso de generación de releases en FreeBSD" /><link rel="up" href="index.html" title="Proceso de generación de releases en FreeBSD" /><link rel="prev" href="index.html" title="Proceso de generación de releases en FreeBSD" /><link rel="next" href="release-build.html" title="3. Construcción de la Release" /><link rel="copyright" href="trademarks.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Proceso de ingeniería de releases</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="release-build.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="release-proc"></a>2. Proceso de ingeniería de releases</h2></div></div></div><p>Las nuevas release de FreeBSD se generan a partir de la rama
    -STABLE en intervalos de aproximadamente cuatro meses.  El proceso
    comienza a ejecutarse 45 días antes de la fecha de salida, cuando
    el ingeniero de releases envía un correo eletrónico a las listas
    de desarrollo de FreeBSD para recordar a los desarrolladores que
    disponen de tan solo 15 días para integrar nuevos cambios antes de
    la fase de congelación de código fuente.  Durante este periodo de
    tiempo, muchos desarrolladores realizan lo que se ha dado en llamar
    <span class="quote">&#8220;<span class="quote">barrido MFC</span>&#8221;</span>.  <acronym class="acronym">MFC</acronym>
    significa en inglés <span class="quote">&#8220;<span class="quote">Merge From CURRENT</span>&#8221;</span> (Integración
    desde CURRENT) y describe el proceso de unificación de
    los cambios aplicados en la rama de desarrollo -CURRENT a nuestra
    rama -STABLE.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63535312"></a>2.1. Revisión de Código</h3></div></div></div><p>Treinta días antes del lanzamiento de una release dada
      el repositorio de código fuente entra en una fase de <span class="quote">&#8220;<span class="quote">code
      slush</span>&#8221;</span> (<span class="quote">&#8220;<span class="quote">código aguanieve</span>&#8221;</span>, en el sentido de no
      estar aún congelado y ser por tanto ligeramente moldeable).
      Durante este período todos los commits de la rama -STABLE deben
      ser aprobados por el Grupo de ingeniería de releases  <code class="email">&lt;<a xmlns="" class="email" href="mailto:re@FreeBSD.org">re@FreeBSD.org</a>&gt;</code>.   Los cambios permitidos
      en esta fase de 15 días de duración son los siguientes:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Arreglo de bugs o errores.</p></li><li class="listitem"><p>Actualizaciones de la documentación.</p></li><li class="listitem"><p>Parches relacionados con cualquier tipo de fallo en la
	seguridad.</p></li><li class="listitem"><p>Cambios pequeños en controladores de dispositivos, tales
	como la adición de identificadores de dispositivo.</p></li><li class="listitem"><p>Cualquier cambio adicional que el equipo de ingeniería
	  de releases considere justificado, teniendo siempre en
	  cuenta el riesgo potencial que puede conllevar.</p></li></ul></div><p>Después de los primeros 15 días de código
      <span class="quote">&#8220;<span class="quote">slush</span>&#8221;</span>, se genera una <span class="emphasis"><em>release
      candidate</em></span> (candidata a release) o <span class="quote">&#8220;<span class="quote">RC</span>&#8221;</span>
      para su testeo exhaustivo
      por parte de la comunidad de usuarios y el código fuente entra
      en la fase de <span class="quote">&#8220;<span class="quote">code freeze</span>&#8221;</span> o congelamiento.  En
      este punto resulta mucho más difícil aceptar cambios a menos que
      se descubran serios fallos de seguridad o bugs importantes.
      Durante esta fase, se genera al menos una RC cada
      semana, hasta que la release final ve la luz.  Durante el
      periodo de tiempo comprendido desde el congelamiento del código
      hasta la generación de la release final, el equipo de ingeniería
      de releases se comunica constantemente con el equipo del
      <span class="quote">&#8220;<span class="quote">security officer</span>&#8221;</span>, los equipos encargados de
      mantener la documentación y los mantenedores de ports, para
      asegurarse de que los distintos componentes necesarios para
      obtener una release existosa se encuentran disponibles y listos
      para ser construidos.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63566160"></a>2.2. Lista de tareas para la release final.</h3></div></div></div><p>Cuando todos los problemas encontrados en las releases
      candidatas se han corregido, se puede comenzar con el
      procedimiento de <span class="quote">&#8220;<span class="quote">pulimiento o enbellecimiento</span>&#8221;</span> de
      la release final.</p><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63570128"></a>2.2.1. Creación de una Rama Release</h4></div></div></div><p>Como se describe en la introducción, la rama
        <code class="literal">RELENG_X_Y</code>
        es una característica relativamente nueva de nuestra
	metodología de generación de releases.  El primer paso
	para crear esta rama consiste en asegurar que el código fuente
	utilizado <span class="quote">&#8220;<span class="quote">proviene</span>&#8221;</span> de la versión más reciente de
        <code class="literal">RELENG_X</code>.</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs update -rRELENG_4 -P -d</code></strong></pre><p>El siguiente paso consiste en crear una etiqueta de rama,
        (<span class="emphasis"><em>tag</em></span>), de esta forma se pueden generar
	diferencias entre el código actual y la rama de inicio
	fácilmente, utilizando CVS:</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -rRELENG_4 RELENG_4_8_BP src</code></strong></pre><p>Y a continuación se crea la etiqueta de la rama:</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -b -rRELENG_4_8_BP RELENG_4_8 src</code></strong></pre><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml"><span class="emphasis"><em>Las etiquetas
          <code class="literal">RELENG_*</code>
	    sólo pueden ser utilizadas por los CVS-meisters y los
	    ingenieros de releases.</em></span>
	</p></div><div class="sidebar"><div xmlns="" class="titlepage"></div><p>Una <span class="quote">&#8220;<span class="quote"><span class="emphasis"><em>etiqueta o tag</em></span></span>&#8221;</span> es una
	  característica de CVS que sirve para identificar el código
	  fuente en un determinado instante del tiempo.  Mediante el etiquetado del
	  árbol, nos aseguramos de que las futuras
	  releases puedan generar diferencias con respecto al mismo
	  código fuente que se utilizó para generar las releases
	  oficiales anteriores.</p></div><div class="mediaobject" align="center"><img src="branches-head.png" align="middle" alt="Rama FreeBSD Development (Rama de Desarrollo)" /></div><div class="mediaobject" align="center"><img src="branches-releng3.png" align="middle" alt="Rama FreeBSD 3.x STABLE" /></div><div class="mediaobject" align="center"><img src="branches-releng4.png" align="middle" alt="Rama FreeBSD 4.x STABLE" /></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="versionbump"></a>2.2.2. Elevación del número de versión</h4></div></div></div><p>Antes de que la release final se puede etiquetar,
	construir y antes de que vea la luz, se deben modificar los
	siguientes ficheros de tal forma que reflejen el número de
	versión correcto:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">doc/en_US.ISO8859-1/books/handbook/mirrors/chapter.xml
          </code></p></li><li class="listitem"><p><code class="filename">doc/en_US.ISO8859-1/books/porters-handbook/book.xml
          </code></p></li><li class="listitem"><p><code class="filename">doc/share/xml/freebsd.ent</code></p></li><li class="listitem"><p><code class="filename">src/Makefile.inc1</code></p></li><li class="listitem"><p><code class="filename">src/UPDATING</code></p></li><li class="listitem"><p><code class="filename">src/gnu/usr.bin/groff/tmac/mdoc.local</code></p></li><li class="listitem"><p><code class="filename">src/release/Makefile</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/share/xml/release.dsl</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/share/examples/Makefile.relnotesng</code></p></li><li class="listitem"><p><code class="filename">src/release/doc/share/xml/release.ent</code></p></li><li class="listitem"><p><code class="filename">src/share/examples/cvsup/standard-supfile</code></p></li><li class="listitem"><p><code class="filename">src/sys/conf/newvers.sh</code></p></li><li class="listitem"><p><code class="filename">src/sys/sys/param.h</code></p></li><li class="listitem"><p><code class="filename">src/usr.sbin/pkg_install/add/main.c</code></p></li><li class="listitem"><p><code class="filename">www/en/docs.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/cgi/ports.cgi</code></p></li><li class="listitem"><p><code class="filename">ports/Tools/scripts/release/config</code></p></li></ul></div><p>El fichero <span class="quote">&#8220;<span class="quote">release notes</span>&#8221;</span> y el fichero
	<span class="quote">&#8220;<span class="quote">errata</span>&#8221;</span> también deben ajustarse de acuerdo con
	la nueva release (en la rama de la release) y deben cortarse
	adecuadamente en las ramas stable/currrent):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/relnotes/common/new.xml
          </code></p></li><li class="listitem"><p><code class="filename">src/release/doc/en_US.ISO8859-1/errata/article.xml
          </code></p></li></ul></div><p><span class="application">Sysinstall</span> debe actualizarse
	para que proporcione el número actual de ports disponibles y
	la cantidad de espacio de disco requerida para instalar dicha
	colección de ports.  Esta información se encuentra almacenada
	actualmente en el fichero
	<code class="filename">src/release/sysinstall/dist.c</code>.  </p><p>Después de construir la release se debe actualizar el
	número almacenado en los siguientes ficheros para anunciar la
	release al resto del mundo:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">www/share/xml/includes.release.xml</code></p></li><li class="listitem"><p><code class="filename">www/share/xml/includes.release.xsl</code></p></li><li class="listitem"><p><code class="filename">www/en/releases/*</code></p></li><li class="listitem"><p><code class="filename">www/en/releng/index.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/news/news.xml</code></p></li><li class="listitem"><p><code class="filename">www/en/search/web.atoz</code></p></li><li class="listitem"><p><code class="filename">src/share/misc/bsd-family-tree</code></p></li></ul></div></div><div class="sect3"><div xmlns="" class="titlepage"><div><div><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp63722192"></a>2.2.3. Creación de las etiquetas de release</h4></div></div></div><p>Cuando la release final se encuentra preparada se utiliza
	el siguiente comando para crear la etiqueta (a modo de
	ejemplo) <code class="literal">RELENG_4_8_0_RELEASE</code>.</p><pre class="screen">/usr/src<code class="prompt">#</code> <strong class="userinput"><code>cvs rtag -rRELENG_4_8 RELENG_4_8_0_RELEASE src</code></strong></pre><p>Los gestores de los proyectos de Documentación y de los
	Ports se responsabilizan del correcto etiquetado de sus
	respectivos árboles utilizando
	<code class="literal">RELEASE_4_8_0</code>.  </p><p>Ocasionalmente se puede presentar un apaño o arreglo de
	última hora justo <span class="emphasis"><em>después</em></span> de la creación
	de las etiquetas finales.  En la práctica esto no constituye un
	problema ya que <acronym class="acronym">CVS</acronym> permite cierta
	manipulación de etiquetados mediante <code class="command">cvs tag -d
	nombredeetiqueta nombredefichero </code>.  Es
	muy importante que dichos cambios de última hora se etiqueten
	adecuadamente para que pasen a formar parte de la nueva
	release.  Las releases de FreeBSD deben ser siempre
	<span class="quote">&#8220;<span class="quote">reproducibles</span>&#8221;</span>.  Los <span class="quote">&#8220;<span class="quote">hacks</span>&#8221;</span>
	locales dentro del entorno de ingeniería de releases no están
        permitidos salvo que se efectúen mediante una correcta
	manipulación y notificación.</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="release-build.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">Proceso de generación de releases en FreeBSD </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 3. Construcción de la Release</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>