<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>10. &#8220;diffs&#8221;</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Perforce en el contexto del desarrollo de FreeBSD" /><link rel="up" href="index.html" title="Perforce en el contexto del desarrollo de FreeBSD" /><link rel="prev" href="changes.html" title="9. Cambios, descripciones e historial" /><link rel="next" href="add-rm-files.html" title="11. Añadir o eliminar ficheros" /><link rel="copyright" href="trademarks.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">10. <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="changes.html">Anterior</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="add-rm-files.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="diffs"></a>10. <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span></h2></div></div></div><p>Existen dos formas de generar <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span> de ficheros en
    <span class="application">Perforce</span>,  bien entre cambios locales
    que todavía no se han entregado o bien entre dos
    árboles (o dentro de una misma rama) del
    <span class="quote">&#8220;<span class="quote">depósito</span>&#8221;</span>.  Estos <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span>
    se generan mediante órdenes distintas,
  <code class="option">diff</code> y <code class="option">diff2</code>:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="command">p4 diff</code></span></dt><dd><p>Ese comando genera un <span class="quote">&#8220;<span class="quote">diff</span>&#8221;</span> entre los cambios
	  locales y los cambios de ficheros en estado de edición.  Los
	  parámetros <code class="option">-du</code> y <code class="option">-dc</code>
	  permiten crear <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span> unificados o contextuales,
	  respectivamente. También se puede establecer la variable
	  <code class="envar">P4DIFF</code> para que apunte a un
	  <span class="quote">&#8220;<span class="quote">diff</span>&#8221;</span> local.  Le recomendamos encarecidamente
	  usar esta orden para revisar sus cambios antes de
	  aplicarlos en el servidor.</p></dd><dt><span class="term"><code class="command">p4 diff2</code></span></dt><dd><p>Esta orden crea un <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span> entre ficheros
	  dados en el <span class="quote">&#8220;<span class="quote">depósito</span>&#8221;</span>, o entre
	  ficheros especificados en una especificación de rama.  La
	  operación tiene lugar en el servidor, así que
	  la variable <code class="envar">P4DIFF</code> no surte ningún efecto,
	  aunque las opciones <code class="option">-du</code> y
	<code class="option">-dc</code> sí pueden usarse.  Las dos formas de
	esta orden son:</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>p4 diff2 -b nombrederama</code></strong></pre><p>y</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>p4 diff2 //depot/ruta1 //depot/ruta2</code></strong></pre></dd></dl></div><p>En todos los casos los <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span> se muestran en la salida
    estándar.  Por desgracia <span class="application">Perforce</span>
    usa un formato de <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span> que resulta ser ligeramente
    incompatible con las herramientas Unix estándar
    <code class="command">diff</code> y <code class="command">patch</code>.  La utilización
    de la variable <code class="envar">P4DIFF</code> para que apunte al verdadero
    <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=diff&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">diff</span>(1)</span></a> puede paliar este problema, o al menos en ciertos casos,
    puesto sólo funciona con la orden
    <code class="command">p4 diff</code>.  La salida de
    <code class="option">diff2</code> debe procesarse para que sea de alguna
    utilidad (la opción <code class="option">-u</code> de
    <code class="option">diff2</code> producirá <span class="quote">&#8220;<span class="quote">diffs</span>&#8221;</span>
    unificados que serán <span class="emphasis"><em>más o menos
    compatibles</em></span>, pero no esto no incluye ficheros
    nuevos o borrados.  Este <span class="quote">&#8220;<span class="quote">script</span>&#8221;</span> puede serle
    de utilidad para este <span class="quote">&#8220;<span class="quote">proceso necesario</span>&#8221;</span>:
    <code class="uri"><a class="uri" href="http://people.freebsd.org/~scottl/awkdiff" target="_top">http://people.freebsd.org/~scottl/awkdiff</a></code>.</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="changes.html">Anterior</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="add-rm-files.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">9. Cambios, descripciones e historial </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 11. Añadir o eliminar ficheros</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>