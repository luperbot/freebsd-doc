<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>25.5. Uso de PPP sobre ATM (PPPoA)</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="ppp-and-slip.html" title="Capítulo 25. PPP y SLIP" /><link rel="prev" href="pppoe.html" title="25.4. Uso de PPP sobre Ethernet (PPPoE)" /><link rel="next" href="slip.html" title="25.6. Uso de SLIP" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">25.5. Uso de <span class="application">PPP</span> sobre ATM (PPPoA)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="pppoe.html">Anterior</a> </td><th width="60%" align="center">Capítulo 25. PPP y SLIP</th><td width="20%" align="right"> <a accesskey="n" href="slip.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="pppoa"></a>25.5. Uso de <span class="application">PPP</span> sobre ATM (PPPoA)</h2></div></div></div><a id="idp80663120" class="indexterm"></a><a id="idp80663888" class="indexterm"></a><p>Lo siguiente describe como configurar PPP utilizando ATM, alias
      PPPoA.  PPPoA es una alternativa muy común entre proveedores de
      DSL en Europa.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80665424"></a>25.5.1. Uso de PPPoA con un Alcatel Speedtouch USB</h3></div></div></div><p>El soporte bajo FreeBSD para este dispositivo se puede encontrar
        como un port, por que el firmware es distribuido bajo <a class="link" href="http://www.alcatel.com/consumer/dsl/disclaimer_lx.htm" target="_top">
        la licencia de Alcatel</a>.</p><p>Para instalar este software, simplemente utilice la
        <a class="link" href="ports.html" title="Capítulo 4. Instalación de aplicaciones: «packages» y ports">colección de ports</a>.  Instale el
        port <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pppoa/pkg-descr">net/pppoa</a> y siga las
        instrucciones provistas por el port.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80668496"></a>25.5.2. Uso de mpd</h3></div></div></div><p>Puede usar <span class="application">mpd</span> para conectarse a una gran
         variedad de servicios, en particular servicios pptp.  Puede encontrar
         <span class="application">mpd</span> en la colección de ports, bajo
         <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/mpd/pkg-descr">net/mpd</a>.</p><p>Primero debe instalar el port, y posteriormente configurar
         <span class="application">mpd</span> para que se ajuste a sus necesidades y
         a la configuración del proveedor.  El port instala un conjunto
         de ficheros de configuración de ejemplo, que estan bien
         documentados en
         <code class="filename">PREFIX/etc/mpd/</code>. Note
         que <span class="emphasis"><em>PREFIX</em></span> se refiere al directorio donde sus
         ports son instalados, que normalmente es en
         <code class="filename">/usr/local</code>.  Una guía completa en formato
         HTML, esta disponible una vez que se ha instalado el port.  Esta se
         localiza en
         <code class="filename">PREFIX/share/mpd/</code>.
         Aqui tenemos un ejemplo simple de configuración para conectarse
         a un servicio ADSL con <span class="application">mpd</span>.  La
         configuración se divide en dos ficheros, primero tenemos el
         fichero <code class="filename">mpd.conf</code>.</p><pre class="programlisting">default:
     load adsl

 adsl:
     new -i ng0 adsl adsl
     set bundle authname <em class="replaceable"><code>usuario</code></em> <a id="co-mpd-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
     set bundle password <em class="replaceable"><code>contraseña</code></em> <a id="co-mpd-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
     set bundle disable multilink

     set link no pap actcomp protocomp
     set link disable chap
     set link accept chap
     set link keep-alive 30 10

     set ipcp no vjcomp
     set ipcp ranges 0.0.0.0/0 0.0.0.0/0

     set iface route default
     set iface disable on-demand
     set iface enable proxy-arp
     set iface idle 0

     open</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>El nombre de usuario para autentificar con su proveedor.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-mpd-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>La contraseña para autentificar con su proveedor.</p></td></tr></table></div><p>El fichero <code class="filename">mpd.links</code> contiene información
       a cerca de la, o las conecciones, que desee establecer.  Un ejemplo de
       <code class="filename">mpd.links</code> y que sea acompañante del ejemplo
       anterior, se muestra a continuación.</p><pre class="programlisting">adsl:
     set link type pptp
     set pptp mode active
     set pptp enable originate incoming outcall
     set pptp self 10.0.0.140
     set pptp peer 10.0.0.138</pre><p>La conexión es fácil de inicializarla, al ingresar los
       siguientes comandos como <code class="systemitem">root</code>.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>mpd -b</code></strong> <em class="replaceable"><code>adsl</code></em></pre><p>El estatus de la conexión la puede ver con el comando.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig ng0</code></strong>
 : flags=88d1&lt;UP,POINTOPOINT,RUNNING,NOARP,SIMPLEX,MULTICAST&gt; mtu 1500
      inet 216.136.204.117 --&gt; 204.152.186.171 netmask 0xffffffff</pre><p>Usar <span class="application">mpd</span> es la forma recomendada para
       conectarse con servicios ADSL con FreeBSD.</p></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp80692432"></a>25.5.3. Uso de pptpclient</h3></div></div></div><p>También es posible usar FreeBSD para conectarse a otros
         servicios PPPoA por medio de <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a>.</p><p>Para conectarse por medio de  <a xmlns="" class="package" href="http://www.freebsd.org/cgi/url.cgi?ports/net/pptpclient/pkg-descr">net/pptpclient</a> a un servicio DSL, instale el
         port o paquete y edite el fichero
         <code class="filename">/etc/ppp/ppp.conf</code>.  Debe ser
         <code class="systemitem">root</code> para hacer estas operaciones.  Un ejemplo de
         la sección de <code class="filename">ppp.conf</code>, se muestra a
         continuación.  Para mayor información sobre las
         opciones de <code class="filename">ppp.conf</code>, consulte la página de
         ayuda de <span class="application">ppp</span>; <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ppp&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">ppp</span>(8)</span></a>.</p><pre class="programlisting">adsl:
  set log phase chat lcp ipcp ccp tun command
  set timeout 0
  enable dns
  set authname <em class="replaceable"><code>usuario</code></em> <a id="co-pptp-ex-user"></a><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span>
  set authkey <em class="replaceable"><code>contraseña</code></em> <a id="co-pptp-ex-pass"></a><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span>
  set ifaddr 0 0
  add default HISADDR</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-user"><span><img src="./imagelib/callouts/1.png" alt="1" border="0" /></span></a> </p></td><td valign="top" align="left"><p>Nombre de usuario de la cuenta DSL.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co-pptp-ex-pass"><span><img src="./imagelib/callouts/2.png" alt="2" border="0" /></span></a> </p></td><td valign="top" align="left"><p>La contraseña de su cuenta.</p></td></tr></table></div><div xmlns="" class="warning"><h3 class="admontitle">Aviso: </h3><p xmlns="http://www.w3.org/1999/xhtml">Debido a que debe poner su contraseña en el fichero
 	    <code class="filename">ppp.conf</code> en texto plano, debe asegurarse que nadie
 	    tenga acceso de lectura a este fichero.  Los siguientes comandos se
 	    aseguran de que el fichero solo pueda se leido por
 	    <code class="systemitem">root</code>.  Ve las páginas de ayuda <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chmod&amp;sektion=1"><span class="citerefentry"><span class="refentrytitle">chmod</span>(1)</span></a>
 	    y <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chown&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chown</span>(8)</span></a> para mayor información.</p><pre xmlns="http://www.w3.org/1999/xhtml" class="screen"><code class="prompt">#</code> <strong class="userinput"><code>chown root:wheel /etc/ppp/ppp.conf</code></strong>
 <code class="prompt">#</code> <strong class="userinput"><code>chmod 600 /etc/ppp/ppp.conf</code></strong></pre></div><p>Esto abrirá una sesion por medio de PPP con su ruteador DSL.
         Los módems Ethernet DSL cuentan con una dirección IP de
         LAN preconfigurada a la cual se puede conectar.  En el caso del Alcatel
         Speedtouch, esta dirección es <code class="systemitem">10.0.0.138</code>.  La documentación de su equipo
         debe indicarle que dirección utiliza.  Para abrir el
         <span class="quote">&#8220;<span class="quote">tunel</span>&#8221;</span> e iniciar la sesión
         <span class="application">ppp</span>, ejecute el siguiente comando.</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>pptp dirección proveedor</code></strong></pre><div xmlns="" class="tip"><h3 class="admontitle">Sugerencia: </h3><p xmlns="http://www.w3.org/1999/xhtml">Puede añadir un símbolo de ampersand
 	  (<span class="quote">&#8220;<span class="quote">&amp;</span>&#8221;</span>) al final de este comando, ya que
 	  <span class="application">pptp</span> no retorna al shell por default.</p></div><p>Un dispositivo virtual <code class="filename">tun</code> será
         creado, para interactuar con los procesos de
         <span class="application">pptp</span> y <span class="application">ppp</span>.
         Una vez que regrese al shell puede examinar la conexión por
         medio del siguiente comando.</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>ifconfig tun0</code></strong>
 tun0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1500
         inet 216.136.204.21 --&gt; 204.152.186.171 netmask 0xffffff00
         Opened by PID 918</pre><p>Si no le es posible conectarse, verifique la configuración de
         su ruteador, que normalmente es accesible por medio de
 	     <span class="application">telnet</span> o de su navegador web. Si aun no puede
 	     conectarse examine la salida que da el comando
 	     <span class="application">pptp</span> y el contenido del fichero de registro
 	     (log) de <span class="application">ppp</span>;
 	     <code class="filename">/var/log/ppp.log</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pppoe.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="ppp-and-slip.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="slip.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">25.4. Uso de <span class="application">PPP</span> sobre Ethernet (PPPoE) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 25.6. Uso de SLIP</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>