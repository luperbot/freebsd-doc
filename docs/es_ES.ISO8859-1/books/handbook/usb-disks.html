<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>18.5. Dispositivos de almacenamiento USB</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="disks.html" title="Capítulo 18. Almacenamiento" /><link rel="prev" href="raid.html" title="18.4. RAID" /><link rel="next" href="creating-cds.html" title="18.6. Creación y uso de medios ópticos (CD)" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">18.5. Dispositivos de almacenamiento USB</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="raid.html">Anterior</a> </td><th width="60%" align="center">Capítulo 18. Almacenamiento</th><td width="20%" align="right"> <a accesskey="n" href="creating-cds.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="usb-disks"></a>18.5. Dispositivos de almacenamiento USB</h2></div><div><span class="authorgroup">Texto de <span xmlns="http://www.w3.org/1999/xhtml" class="author"><span class="firstname">Marc</span> <span class="surname">Fonvieille</span></span>. </span></div></div></div><a id="idp77413840" class="indexterm"></a><p>Hoy día hay una enorme cantidad de soluciones de
      almacenamiento externoque usan el bus serie universal (USB):
      discos duros, <span class="quote">&#8220;<span class="quote">mecheros</span>&#8221;</span> (o
      <span class="quote">&#8220;<span class="quote">lápices</span>&#8221;</span>) USB, grabadoras de
      CD-R, etc. FreeBSD puede usar estos dispositivos.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77420368"></a>18.5.1. Configuración</h3></div></div></div><p>El controlador de dispositivos de almacenamiento masivo
        USB, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umass&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">umass</span>(4)</span></a>, ofrece soporte para dispositivos de
        almacenamiento USB.  Si usa el kernel <code class="filename">GENERIC</code>
        no necesita cambiar nada en su configuración.  Si
        utiliza un kernel personalizado asegúrese de que su
        fichero de configuración del kernel contiene las
        siguientes líneas:</p><pre class="programlisting">device scbus
device da
device pass
device uhci
device ohci
device usb
device umass</pre><p>El controlador <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umass&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">umass</span>(4)</span></a> usa el subsistema SCSI para
        acceder a los dispositivos de almacenamiento USB y su
        dispositivo USB aparecerá en el sistema como
        dispositivo SCSI.  Dependiendo del chipset USB de su
        placa base sólamente necesitará
        <code class="literal">device uhci</code> o
        <code class="literal">device ohci</code>;  en cualquier caso tener
        los dos en el fichero de configuración del kernel
        no provocará ningún daño.  No olvide
        compilar e instalar el nuevo kernel si hizo alguna
        modificación.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">Si su dispositivo USB es una grabadora CD-R o DVD el
          controlador SCSI CD-ROM, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=cd&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">cd</span>(4)</span></a>, debe ser añadirse al
          kernel mediante la siguiente línea:</p><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting">device cd</pre><p xmlns="http://www.w3.org/1999/xhtml">Dado que la grabadora aparece como una unidad
          SCSI no tiene que usar el controlador <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=atapicam&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">atapicam</span>(4)</span></a>
          en la configuración del kernel.</p></div><p>En FreeBSD 5.X y en la rama 4.X desde FreeBSD 4.10-RELEASE
        el soporte para controladores USB 2.0 se incorpora al sistema del
        siguiente modo:</p><pre class="programlisting">device ehci</pre><p>Tenga en cuenta que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=uhci&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">uhci</span>(4)</span></a> y
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=ohci&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">ohci</span>(4)</span></a> siguen siendo necesarios si quiere disponer de
        soporte para USB 1.X.</p><div xmlns="" class="note"><h3 class="admontitle">Nota: </h3><p xmlns="http://www.w3.org/1999/xhtml">En FreeBSD 4.X, El dæmon USB (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=usbd&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">usbd</span>(8)</span></a>) debe
          ejecutarse para poder ver ciertos tipos de dispositivo USB.
          Para habilitarlo, añada
          <code class="literal">usbd_enable="YES"</code> en
          <code class="filename">/etc/rc.conf</code> y reinicie la
          máquina.</p></div></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77433168"></a>18.5.2. Prueba de la configuración</h3></div></div></div><p>La configuración está lista para probarse:
        conecte su dispositivo USB; en el búfer de mensajes del
        sistema (<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=dmesg&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">dmesg</span>(8)</span></a>), la unidad debe aparecer como algo
        similar a esto:</p><pre class="screen">umass0: USB Solid state disk, rev 1.10/1.00, addr 2
GEOM: create disk da0 dp=0xc2d74850
da0 at umass-sim0 bus 0 target 0 lun 0
da0: &lt;Generic Traveling Disk 1.11&gt; Removable Direct Access SCSI-2 device
da0: 1.000MB/s transfers
da0: 126MB (258048 512 byte sectors: 64H 32S/T 126C)</pre><p>Obviamente la marca, el nodo de dispositivo
        (<code class="filename">da0</code>) y otros detalles
        pueden diferir dependiendo de su hardware.</p><p>Ya que el dispositivo USB aparece como uno SCSI,
        puede usar <code class="command">camcontrol</code> para ver una lista
        de dispositivos USB conectados al
        sistema:</p><pre class="screen"><code class="prompt">#</code> <strong class="userinput"><code>camcontrol devlist</code></strong>
&lt;Generic Traveling Disk 1.11&gt;      at scbus0 target 0 lun 0 (da0,pass0)</pre><p>Si la unidad tiene un sistema de ficheros puede montarla.
        La <a class="xref" href="disks-adding.html" title="18.3. Añadir discos">Sección 18.3, &#8220;Añadir discos&#8221;</a> contiene información que
        le resultará muy útil para formatear y crear
        particiones en el disco USB en caso de necesitarlo.</p><p>Si desconecta el dispositivo (el disco debe desmontarse
        previamente), debería ver en el búfer de mensajes
        del sistema algo parecido a esto:</p><pre class="screen">umass0: at uhub0 port 1 (addr 2) disconnected
(da0:umass-sim0:0:0:0): lost device
(da0:umass-sim0:0:0:0): removing device entry
GEOM: destroy disk da0 dp=0xc2d74850
umass0: detached</pre></div><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="idp77443792"></a>18.5.3. Lecturas recomendadas</h3></div></div></div><p>Ademas de las secciones
        <a class="link" href="disks-adding.html" title="18.3. Añadir discos">Cómo añadir discos</a>
        y <a class="link" href="mount-unmount.html" title="3.6. Montaje y desmontaje de sistemas de ficheros">Montado y desmontado de sistemas
        ficheros</a>, consulte las siguientes páginas man:
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=umass&amp;sektion=4"><span class="citerefentry"><span class="refentrytitle">umass</span>(4)</span></a>, <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=camcontrol&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">camcontrol</span>(8)</span></a> y
        <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=usbdevs&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">usbdevs</span>(8)</span></a>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="raid.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="disks.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="creating-cds.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">18.4. RAID </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 18.6. Creación y uso de medios ópticos (CD)</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>