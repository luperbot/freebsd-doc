<?xml version="1.0" encoding="iso-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><title>15.3. Introducción</title><link rel="stylesheet" type="text/css" href="docbook.css" /><link rev="made" href="mailto:doc@FreeBSD.org" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Manual de FreeBSD" /><link rel="up" href="jails.html" title="Capítulo 15. Jaulas" /><link rel="prev" href="jails-terms.html" title="15.2. Términos relacionados con las jaulas" /><link rel="next" href="jails-build.html" title="15.4. Creación y gestión de jaulas" /><link rel="copyright" href="legalnotice.html" title="Aviso Legal" /><script xmlns="" type="text/javascript" src="/layout/js/google.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.3. Introducción</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="jails-terms.html">Anterior</a> </td><th width="60%" align="center">Capítulo 15. Jaulas</th><td width="20%" align="right"> <a accesskey="n" href="jails-build.html">Siguiente</a></td></tr></table><hr /></div><div class="sect1"><div xmlns="" class="titlepage"><div><div><h2 xmlns="http://www.w3.org/1999/xhtml" class="title" style="clear: both"><a id="jails-intro"></a>15.3. Introducción</h2></div></div></div><p>Dado lo dificil y desconcertante de la tarea de
      administrar sistemas se han ido desarrollando poderosas
      herramientas con el fin de hacer la vida del administrador
      más sencilla.  Dichas herramientas suelen facilitar
      cierto tipo de mejoras en la instalación, configuración
      o mantenimiento de los sistemas.  Una de las tareas que
      se espera que cumpla un administrador de sistemas es la
      configuración adecuada de la seguridad, de modo que
      pueda dar el servicio para el que se ha destinado sin que
      pueda verse comprometido.</p><p>Una de las herramientas disponibles para mejorar los niveles
      de seguridad de un sistema FreeBSD es el uso de
      <span class="emphasis"><em>jaulas</em></span>.  Las jaulas fueron introducidas en
      FreeBSD 4.X por Poul-Henning Kamp, pero en FreeBSD 5.X sus capacidades fueron
      aumentadas hasta hacer de ellas un subsistema poderoso y
      flexible.  Su desarrollo sigue avanzando, aumentando así su
      utilidad, rendimiento, fiabilidad y seguridad.</p><div class="sect2"><div xmlns="" class="titlepage"><div><div><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="jails-what"></a>15.3.1. Qué es una jaula</h3></div></div></div><p>Los sistemas tipo BSD disponen de <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> desde
        la época de 4.2BSD.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> permite restringir
	el directorio raiz de un conjunto de procesos, creando un
	entorno seguro y separado del resto del sistema.  Los procesos
	creados dentro de un entorno chroot no pueden acceder a ficheros
	o recursos ubicados fuera del mismo.  Por esta razón,
	si un atacante logra comprometer un servicio que se ejecuta
	en un entorno chroot no debería automáticamente
	poder acceder al resto del sistema.  <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">chroot</span>(8)</span></a> es una
	buena herramienta para tareas sencillas que no requieran
	mucha flexibilidad o características complejas o muy
	avanzadas.  Por desgracia, desde la invención de chroot
	se han ido encontrando muchas formas de saltarse las
	barreras que chroot impone y, aunque estén corregidas
	en las versiones más modernas del kernel de FreeBSD,
	era evidente que <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> no era la solución
	ideal para ejecutar servicios con seguridad.  Había
	que implementar un nuevo subsistema.</p><p>Este es uno de los principales motivos por los que
	se crearon las <span class="emphasis"><em>jaulas</em></span>.</p><p>Las jaulas llevan más allá en muchos
        sentidos el concepto tradicional de entorno
	<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a>.  En un entorno <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> tradicional los
	procesos solo ven limitada la parte del sistema de ficheros
	a la que pueden acceder.  El resto de recursos del sistema,
	es decir, el conjunto de usuarios del sistema, los procesos
	en ejecución o el subsistema de red están
	compartidos entre el sistema alojado y el servidor.  Las jaulas
	extienden este modelo virtualizando no solamente el acceso al
	sistema de ficheros, sino al conjunto de usuarios, al subsistema
	de red del kernel de FreeBSD y unas cuantas cosas más.  En la <a class="xref" href="jails-tuning.html" title="15.5. Administración y personalización a fondo">Sección 15.5, &#8220;Administración y personalización a fondo&#8221;</a> se detallan diversas opciones de
	control exhaustivo para configurar el acceso a recursos de
	un entorno enjaulado.</p><p>Una jaula se caracteriza por disponer de cuatro elementos:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Un <span class="quote">&#8220;<span class="quote">subárbol</span>&#8221;</span> de directorios:
	    el punto desde el que se entra a una jaula.  Una vez
	    dentro de la jaula un proceso no puede escapar de dicho
	    <span class="quote">&#8220;<span class="quote">subárbol</span>&#8221;</span>.  Los típicos problemas
	    de seguridad que aparecín una y otra vez en el
	    diseño del <a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=chroot&amp;sektion=2"><span class="citerefentry"><span class="refentrytitle">chroot</span>(2)</span></a> original no afectan a
	    las jaulas de FreeBSD.</p></li><li class="listitem"><p>Un nombre de máquina (<span class="quote">&#8220;<span class="quote">hostname</span>&#8221;</span>),
	    que definirá a la jaula.  Las jaulas se usan
	    principalmente para albergar servicios de red, por lo que
	    disponer de un nombre de máquina descriptivo ayuda
	    enormemente al administrador de sistemas.</p></li><li class="listitem"><p>Una dirección <acronym class="acronym">IP</acronym>: debe asignarse
	    a la jaula y no cambiarse durante el ciclo de vida de la
	    jaula.  La dirección IP de una jaula suele ser un
	    alias de un interfaz de red, aunque no es imprescindible que
	    así sea.</p></li><li class="listitem"><p>Un comando: La ruta de un ejecutable ubicado dentro de
	    la jaula.  La ruta es relativa al directorio raiz de la
	    jaula, por lo que puede ser muy diferentes según
	    el entorno.</p></li></ul></div><p>Además, las jaulas pueden tener sus propios usuarios
        e incluso su propio <code class="systemitem">root</code>.  Es obvio que
	este usuario <code class="systemitem">root</code> tiene su poder para hacer
	circunscrito a la jaula y, desde el punto de vista del servidor,
	el usuario <code class="systemitem">root</code> de la jaula no es
	omnipotente.  El usuario <code class="systemitem">root</code> de la jaula
	no puede ejecutar tareas críticas fuera de la jaula
	(<a class="citerefentry" href="http://www.FreeBSD.org/cgi/man.cgi?query=jail&amp;sektion=8"><span class="citerefentry"><span class="refentrytitle">jail</span>(8)</span></a>) a la que pertenece.  Más adelante, en
	la <a class="xref" href="jails-tuning.html" title="15.5. Administración y personalización a fondo">Sección 15.5, &#8220;Administración y personalización a fondo&#8221;</a>, se dará más
	información sobre las restricciones del usuario
	<code class="systemitem">root</code>.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="jails-terms.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="jails.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="jails-build.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">15.2. Términos relacionados con las jaulas </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 15.4. Creación y gestión de jaulas</td></tr></table></div><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Puede descargar éste y muchos otros documentos desde
    <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/">ftp://ftp.FreeBSD.org/pub/FreeBSD/doc/</a></small></p><p xmlns="http://www.w3.org/TR/xhtml1/transitional" align="center"><small>Si tiene dudas sobre FreeBSD consulte la
    <a href="http://www.FreeBSD.org/docs.html">documentación</a> antes de escribir a la lista
    &lt;<a href="mailto:questions@FreeBSD.org">questions@FreeBSD.org</a>&gt;.<br></br>
    Envíe sus preguntas sobre la documentación a
    &lt;<a href="mailto:doc@FreeBSD.org">doc@FreeBSD.org</a>&gt;.</small></p></body></html>